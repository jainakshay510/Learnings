!function(e){function t(t){for(var n,a,i=t[0],o=t[1],s=0,l=[];s<i.length;s++)a=i[s],r[a]&&l.push(r[a][0]),r[a]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n]);for(c&&c(t);l.length;)l.shift()()}var n={},r={1:0};function a(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.e=function(e){var t=[],n=r[e];if(0!==n)if(n)t.push(n[2]);else{var i=new Promise(function(t,a){n=r[e]=[t,a]});t.push(n[2]=i);var o,s=document.createElement("script");s.charset="utf-8",s.timeout=120,a.nc&&s.setAttribute("nonce",a.nc),s.src=function(e){return a.p+""+({0:"vendors~tutorials"}[e]||e)+"-"+{0:"af7133a77c58f0580082"}[e]+".js"}(e);var c=new Error;o=function(t){s.onerror=s.onload=null,clearTimeout(l);var n=r[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;c.message="Loading chunk "+e+" failed.\n("+a+": "+i+")",c.type=a,c.request=i,n[1](c)}r[e]=void 0}};var l=setTimeout(function(){o({type:"timeout",target:s})},12e4);s.onerror=s.onload=o,document.head.appendChild(s)}return Promise.all(t)},a.m=e,a.c=n,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/assets/bundles/",a.oe=function(e){throw console.error(e),e};var i=window.webpackJsonp=window.webpackJsonp||[],o=i.push.bind(i);i.push=t,i=i.slice();for(var s=0;s<i.length;s++)t(i[s]);var c=o;a(a.s=725)}([function(e,t,n){"use strict";e.exports=n(911)},function(e,t){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){"use strict";n.d(t,"k",function(){return r}),n.d(t,"l",function(){return a}),n.d(t,"g",function(){return i}),n.d(t,"b",function(){return o}),n.d(t,"i",function(){return s}),n.d(t,"j",function(){return c}),n.d(t,"e",function(){return l}),n.d(t,"c",function(){return u}),n.d(t,"d",function(){return d}),n.d(t,"h",function(){return p}),n.d(t,"a",function(){return f}),n.d(t,"f",function(){return h});var r={NOT_FOUND:"/404",ARCHIVES:"/archives",BULK_ARCHIVE:"/archives/bulk_archive",BULK_RESTORE:"/archives/bulk_restore",CONTENT:"/content",NEW_COURSE:"/courses/new",NEW_LESSON:"/lessons/new",CREATE_LESSON:"/lessons",LESSON:function(e){return"/lessons/".concat(e)},PEOPLE:"/people",USER:function(e){return"/users/".concat(e)},SETTINGS:{UPDATE_USER_SETTINGS:"/settings/update_user_settings",UPDATE_COMPANY:"/settings/update_company"},SMART_GROUPS:"/smart_groups",GRADES:{INDEX:"/grades",DISPLAY_GRADES_PENDING:"/grades/display_grades_pending"},GROUPS:"/groups",GROUP_SHOW:function(e){return"/groups/".concat(e)},NEW_GROUP:"/groups/new",NEW_USER:"/users/new",ASSETS_BLANK_SLATES:"/assets/blankslates",EVENTS:"/events",ASYNC_REPORTS_REQUEST:"/async_reports",OWNERSHIPS:"/ownerships",OWNERSHIPS_PEOPLE:"/ownerships/people",OWNERSHIP:function(e){return"/ownerships/".concat(e)},TAGGINGS:"/taggings",TAGGING:function(e){return"/taggings/".concat(e)},TAGS:"/tags",TAG_ALL_CONTENT:"/taggings/tag_all_contents",ASSIGNMENT_ASSIGN:"/assignments/assign",ASSIGNMENT_ADDED_CONTENTS_PREVIEW:function(e){return"/assignments/added_contents_preview/".concat(e)},ASSIGNMENT_BULK_REMIND:"/assignments/bulk_remind",EMAIL_PREVIEW:"/assignments/email_preview",NOTIFICATIONS_LATEST:"/notifications/latest",PATHS:"/paths",NEW_PATH:"/paths/new",PATH:function(e){return"/paths/".concat(e)},PATH_ARCHIVE:function(e){return"/paths/".concat(e,"/archive")},PATH_RESTORE:function(e){return"/paths/".concat(e,"/restore")},PATH_VIEW:function(e){return"/paths/".concat(e,"/view")},PUBLISH_PATH:function(e){return"/paths/".concat(e,"/publish")},PATH_REPORTING:{INDEX:function(e){return"/paths/".concat(e,"/reporting")},ASSIGNMENTS:function(e){return"/paths/".concat(e,"/reporting/assignment_stats")},LIBRARY:function(e){return"/paths/".concat(e,"/reporting/library_stats")},PERFORMANCE:function(e){return"/paths/".concat(e,"/reporting/performance_stats")},ANCESTORS:function(e){return"/paths/".concat(e,"/reporting/ancestors")}},PATH_ADD_CONTENT:"/paths/add_content",PATH_ADD_OWN_CONTENT:function(e){return"/paths/".concat(e,"/add_content")},ASSIGNABLES:{USER_COUNT:"/assignments/assign/users_count",CONTENT:"/assignments/contents",ASSIGNEES:"/assignments/people",GROUP_ASSIGNEES:"/assignments/people?filter[type][]=Group"},ROLES:"/roles",ROLE:function(e){return"/roles/".concat(e)},ROLE_PERMISSIONS:function(e){return"/roles/".concat(e,"/permissions")},ROLE_OWNERSHIPS:function(e){return"/roles/".concat(e,"/ownerships")},MANAGED_ROLES:{INDEX:function(e){return"roles/".concat(e,"/managed_roles")},CREATE:function(e){return"roles/".concat(e,"/managed_roles")},DELETE:function(e){return"roles/".concat(e,"/managed_roles")}},PERMISSION:function(e,t){return"/roles/".concat(e,"/permission/").concat(t)},SCORM_UPLOADED:function(e){return"/scorms/".concat(e,"/record_upload")},SCORM_STATUS:function(e){return"/scorms/".concat(e,"/upload_status")},WEB_WIDGETS:"/web_widgets",WEB_WIDGETS_FILTER:"/web_widgets/filter",RELATED_URLS:"/related_urls",RELATED_URLS_FILTER:"/related_urls/filter",RELATED_URL_MAPPING:function(e){return"/related_url_mappings/".concat(e)},RELATED_URL_MAPPINGS:"/related_url_mappings",LIBRARY_CONTENTS:"/library_contents",LIBRARY_CONTENT:function(e){return"/library_contents/".concat(e)},SAVED_ELEMENT_CONTENTS:"/saved_element_contents",COPY_SAVED_ELEMENT_CONTENT:function(e,t,n){return"/lessons/".concat(e,"/sections/").concat(t,"/saved_element_contents/").concat(n)},SAVED_ELEMENT_CONTENT:function(e){return"/saved_element_contents/".concat(e)},FEEDBACK_CRITERIA:{CRITERIA:"/criteria",CUSTOM_CRITERION:"/custom_criterion"},ASSOCIATED_IMAGES:"/associated_images",IMAGES_UPLOAD_OPTIONS:"/images/upload_options",IMAGES:"/images",IMAGES_NEW_IMAGE:"/images/new_image",IMAGE:function(e){return"/images/".concat(e)},IMAGES_DESTROY_ALL:"/images/destroy_image",LEARN:"/learn",LEARN_ASSIGNMENTS:"/learn/assignments",LEARN_SEARCH:"/learn/search",LEARN_SEARCH_TRACK:"/learn/search_events/",LEARN_TOPICS:"/learn/topics",LEARN_TOPIC:"/learn/topics/:id(\\d+)(.*)",LEARN_ASK_THE_EXPERT:"/learn/ask_the_expert",LEARN_HISTORY:"/learn/history",FEATURED_CONTENTS:"/featured_contents",FEATURED_CONTENT:function(e){return"/featured_contents/".concat(e)},VIDEO_RESPONSE_TECHNICAL_ISSUES:function(e){return"/video_response/questions/".concat(e,"/technical_issues")},CREATE_QUESTION_FIELD:function(e){return"/questions/".concat(e,"/question_fields")},QUESTIONS:{NEW_CHOICE:function(e){return"/questions/".concat(e,"/choices")},FEEDBACK:function(e){return"/questions/".concat(e,"/comments")}},INSIGHTS:{INDEX:"/insights",IN_PERSON_TRAINING:{REPORT:"/insights/in_person_training_report.csv"},RATINGS:{REPORT:"/insights/ratings_report.csv",COUNTS:"/insights/ratings_counts",HIGHEST_RATED_LESSONS:"/insights/rated_lessons/highest",LOWEST_RATED_LESSONS:"/insights/rated_lessons/lowest",SATISFACTION_OVER_TIME:"/insights/satisfaction_over_time"},OVERDUE:{REPORT:"/insights/assignments_report/incomplete.csv",ASSIGNMENTS_COUNT:"/insights/overdue_assignments_count",CONTENTS:"/insights/overdue_assignments/contents",USERS:"/insights/overdue_assignments/users",GROUPS:"/insights/overdue_assignments/groups"},LESSON_VIEWS:{COUNT:"/insights/lesson_views_count",WEEKLY_LESSON_VIEWS:"/insights/weekly_lesson_views",MOST_ACTIVE_LESSONS:"/insights/most_active_lessons"},COMPLETED_ASSIGNMENTS:{REPORT:"/insights/assignments_report/completed.csv",COUNT:"/insights/completed_assignments_count",WEEKLY_ASSIGNMENTS:"/insights/weekly_assignments"},SEARCH:{REPORT:"/insights/search_summary_report.csv",COUNT:"/insights/search_count",TOP_SEARCHES:"/insights/top_searches",TOP_NULL_SEARCHES:"/insights/top_searches_with_no_results",SEARCHES_OVER_TIME:"/insights/searches_over_time"},ACTIVE_USERS:{REPORT:"/insights/active_users_report.csv",COUNT:"/insights/active_users_count",ACTIVE_USERS_OVER_TIME:"/insights/active_users_over_time",MOST_ACTIVE_USERS:"/insights/most_active_users",MOST_ACTIVE_GROUPS:"/insights/most_active_groups",MOST_ACTIVE_NON_ADMIN:"/insights/most_active_users?exclude_roles=admin"},ALL_EVENTS_REPORT:"/insights/events_report.csv",LATEST_ACTIVITIES:"/insights/latest_activities",TAGS:{LEARNER_ACTIVITY:"/insights/learner_summary_report.csv",LESSON_ACTIVITY:"/insights/lesson_summary_report.csv",TAG_ACTIVITY:"/insights/tag_summary_report.csv"},KNOWLEDGE_CHECKS:{ATTEMPTS_REPORT:"/insights/knowledge_checks_attempts_report.csv",CORRECTNESS_REPORT:"/insights/knowledge_checks_correctness_report.csv"},PEER_FEEDBACK:{ALL_FEEDBACK:"/insights/peer_feedback_report.csv",QUESTIONS:"/insights/questions_with_peer_feedback_enabled_report.csv"},PRACTICE:{HIGHEST_RATED_FEEDBACK_CRITERIA:"/insights/practice/highest_rated_feedback_criteria",LOWEST_RATED_FEEDBACK_CRITERIA:"/insights/practice/lowest_rated_feedback_criteria",FEEDBACK_CRITERIA_RATINGS_COUNT:"/insights/practice/total_rated_feedback_criteria",REPORT:"/insights/practice/all_feedback_criteria_ratings_report.csv"},ON_DEMAND_PRACTICE:{SCENARIOS_REPORT:"/insights/on_demand_practice_scenarios_report.csv",USERS_REPORT:"/insights/on_demand_practice_users_report.csv"},SMS:{OUTBOUND_REPORT:"/insights/outbound_sms_report.csv",INBOUND_REPORT:"/insights/inbound_sms_report.csv"}},REQUEST_INFORMATION:"/information_request",IN_PERSON_TRAINING:{EVENTS:"/in_person_training/events",EVENT:function(e){return"/in_person_training/events/".concat(e)},ARCHIVE_EVENT:function(e){return"/in_person_training/events/".concat(e,"/archive")},RESTORE_EVENT:function(e){return"/in_person_training/events/".concat(e,"/restore")},EVENT_ATTENDANCES:function(e){return"/in_person_training/events/".concat(e,"/attendances")},UPDATE_EVENT_ATTENDANCES:function(e,t){return"/in_person_training/events/".concat(e,"/attendances/").concat(t)},EVENT_UNREGISTERED:function(e){return"/in_person_training/events/".concat(e,"/unregistered")},EVENTS_DASHBOARD:"/in_person_training/events_dashboard",EVENT_SESSIONS:function(e){return"/in_person_training/events/".concat(e,"/sessions")},EVENT_SESSION:function(e,t){return"/in_person_training/events/".concat(e,"/sessions/").concat(t)},SESSION_INVITATIONS:function(e,t){return"/in_person_training/events/".concat(e,"/sessions/").concat(t,"/invitations")},SESSION_ATTENDANCES:function(e){return"/in_person_training/sessions/".concat(e,"/attendances/")},SESSION_ATTENDANCE:function(e,t){return"/in_person_training/sessions/".concat(e,"/attendances/").concat(t)},NEW_EVENT:"/in_person_training/events/new",EVENT_SET_ATTENDANCE:function(e,t){return"/in_person_training/events/".concat(e,"/sessions/").concat(t,"/register")},INVITATION_PREVIEW:function(e,t){return"/in_person_training/events/".concat(e,"/sessions/").concat(t,"/invitation_preview")},ICS_LINK:function(e,t){return"/in_person_training/events/".concat(e,"/sessions/").concat(t,"/calendar.ics")},UPDATE_EMAIL:"/in_person_training/event_change_management/update_email",PEOPLE:"/in_person_training/people",EVENT_VISIBILITY_GROUPS:function(e){return"/in_person_training/events/".concat(e,"/event_visibility_groups")},EVENT_VISIBILITY_GROUP:function(e,t){return"/in_person_training/events/".concat(e,"/event_visibility_groups/").concat(t)}},ZENDESK_TICKETS:"/practice/zendesk/tickets",PRACTICE:{PEER_FEEDBACK:"/peer_feedback",PEER_FEEDBACKS:"/practice/peer_feedbacks"},PRACTICE_TAB:"/practice",LEARN_SHARED_LIBRARY_GROUPS_FOR_CONTENTS:"learn/shared_library_groups_for_contents",LEARN_UPDATE_LIBRARY_CONTENTS:"learn/update_library_contents",LEARN_SHARED_OWNERS_FOR_CONTENTS:"learn/shared_owners_for_contents",LEARN_UPDATE_OWNERS:"learn/update_owners",LEARN_SHARED_TAGS_FOR_CONTENTS:"learn/shared_tags_for_contents",LEARN_UPDATE_TAGS:"learn/update_tags",WORKSPACES:{INDEX:"/workspaces",WORKSPACE:function(e){return"/workspaces/".concat(e)}},ZIGGEO_TOKEN:{SHOW:"/ziggeo/token"},ON_DEMAND_PRACTICE:{CREATOR:{INDEX:"/practice/scenarios",SHOW:function(e,t){return"/practice/scenarios/".concat(e).concat(t?"?group_id="+t:"")},DELETE:function(e){return"/practice/scenarios/".concat(e)},CONTAINER:{ARCHIVE:function(e){return"/practice/containers/".concat(e,"/archive")},RESTORE:function(e){return"/practice/containers/".concat(e,"/restore")}},UPDATE:function(e){return"/practice/scenarios/".concat(e)},EDIT:function(e){return"/practice/scenarios/".concat(e,"/edit")},ENGAGEMENTS:{COMPLETIONS:function(e,t){return"/practice/scenarios/".concat(e,"/completions").concat(t?"?group_id="+t:"")},VIEWS:function(e,t){return"/practice/scenarios/".concat(e,"/views?group_id=").concat(t)},UNIQUE_VIEWS:function(e,t){return"/practice/scenarios/".concat(e,"/unique_views?group_id=").concat(t)}},FEEDBACK_CONTRIBUTOR_OPTIONS:{INDEX:function(e){return"/practice/scenarios/".concat(e,"/feedback_contributor_options")},AUTOCOMPLETE_FEEDBACK_CONTRIBUTOR:function(e){return"/practice/scenarios/".concat(e,"/feedback_contributor_options/autocomplete_feedback_contributor")}},FEEDBACK_CRITERIA:{INDEX:function(e){return"/practice/scenarios/".concat(e,"/feedback_criteria")}},ATTEMPTS:{INDEX:function(e,t){return"/practice/scenarios/".concat(e,"/attempts").concat(t?"?group_id="+t:"")},USER:function(e,t,n){return"/practice/scenarios/".concat(e,"/attempts/users/").concat(t)}}},LEARNING:{SCENARIOS:{FEEDBACK_CONTRIBUTOR_OPTIONS:function(e){return"/learning/practice/scenarios/".concat(e,"/feedback_contributor_options")}},ATTEMPTS:{INDEX:function(e){return"/learning/practice/scenarios/".concat(e,"/attempts")},SHOW:function(e,t){return"/learning/practice/scenarios/".concat(e,"/attempts/").concat(t)},FEEDBACK:function(e,t){return"/learning/practice/scenarios/".concat(e,"/attempts/").concat(t,"/feedback")},REQUEST_FEEDBACK:function(e,t){return"/learning/practice/scenarios/".concat(e,"/attempts/").concat(t,"/request_feedback")},ATTEMPT_FEEDBACKS:function(e,t){return"/learning/practice/scenarios/".concat(e,"/attempts/").concat(t,"/attempt_feedbacks")},SUBMIT_FEEDBACK_REQUEST:function(e,t){return"/learning/practice/scenarios/".concat(e,"/attempts/").concat(t,"/feedback_requests")},ALL:"/learning/practice/attempts",GIVE_FEEDBACK:function(e,t){return"/learning/practice/scenarios/".concat(e,"/attempts/").concat(t,"/give_feedback")}},INDEX:function(e){return"/learning/practice/scenarios?page=".concat(e)},SHOW:function(e,t){return"/learning/practice/scenarios/".concat(e).concat(t?"?tab=".concat(t):"")}},PREVIEW:{SHOW:function(e){return"/preview/practice/scenarios/".concat(e)}},CONTAINER_VISIBILITY_GROUPS:"/practice/container_visibility_groups",CONTAINER_VISIBILITY_GROUP:function(e){return"/practice/container_visibility_groups/".concat(e)}},ANALYZER_RIGHTS:{LESSONS:"/analyzer_rights_lessons",PATHS:"/analyzer_rights_paths"},TRIGGER:function(e){return"/triggers/".concat(e)},TRIGGERS:{INDEX:"/triggers",EDIT:function(e){return"/triggers/".concat(e,"/edit")}},TUTORIAL:{CHECK:"/tutorial/check",DISMISS:"/tutorial/dismiss"},NOTIFICATION_SUBSCRIPTIONS:"notification_subscriptions",NOTIFICATION_SUBSCRIPTION:function(e){return"/notification_subscriptions/".concat(e)}},a={NOTIFICATION_SUCCESS_DELAY:1500,INDEX_ROWS_PER_PAGE:[10,25,50,100]},i={ASC:"ASC",DESC:"DESC"},o={NAME:"name",TITLE:"title",LAST_MODIFIED:"last_modified_at"},s={LESSON:"Lesson",COURSE:"Course",USER:"User",GROUP:"Group",RESOURCE:"Resource",PATH:"LearningPaths::Path",WAITSTEP:"LearningPaths::WaitStep",PLACEHOLDER:"LearningPaths::Placeholder",EXTERNAL_LINK:"ExternalLink"},c={Group:"group",Course:"course","LearningPaths::Path":"path"},l=Object.freeze({LESSON:"lesson",PATH:"path",TAG:"tag",TOPIC:"topic",ELEMENT:"element",SECTION:"section"}),u={REVEAL:"Reveal",FLIPCARD:"Flipcard"},d={SET_STEP_CONNECTOR_POSITION:"path:setStepsConnectorPosition",ASSIGN_MODAL_TOGGLE:"assignModal:toggle",ASSIGNMENT_CREATED:"assignModal:assignmentCreated"},p={EDIT:"edit",VIEW:"view",REPORTING:"reporting"},f={EXPORT_ALL_PEOPLE:"export_all_people"},h={ARCHIVE:"archive",RESTORE:"restore",MASS_LEARN:"mass_learn",MASS_OWNERSHIP:"mass_ownership",MASS_TAGGING:"mass_tagging"}},function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}},function(e,t,n){var r=n(56),a=n(1);e.exports=function(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?a(e):t}},function(e,t){function n(t){return e.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(t)}e.exports=n},function(e,t,n){var r=n(949);e.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&r(e,t)}},function(e,t,n){var r=n(16).runInContext();e.exports=n(511)(r,r)},function(e,t,n){"use strict";var r=n(19),a=n.n(r),i=n(18),o=n.n(i),s=n(21),c=n.n(s),l=n(4),u=n.n(l),d=n(5),p=n.n(d),f=n(6),h=n.n(f),m=n(7),g=n.n(m),v=n(8),b=n.n(v),y=n(0),E=n.n(y),_=n(15),w=n.n(_),S=function(e){function t(){return u()(this,t),h()(this,g()(t).apply(this,arguments))}return b()(t,e),p()(t,[{key:"componentDidMount",value:function(){var e=this;this.props.stabilize&&setTimeout(function(){stabilizeSVG(e.refs.el)})}},{key:"render",value:function(){var e=this.props,t=e.customClass,n=e.name,r=(e.stabilize,c()(e,["customClass","name","stabilize"])),i=o()({},r,{name:n}),s=w()("Icon",t);return E.a.createElement("svg",a()({},i,{ref:"el",className:s}),E.a.createElement("use",{xlinkHref:"#icons-"+n}))}}]),t}(E.a.Component);S.defaultProps={stabilize:!0},t.a=S},function(e,t,n){e.exports=n(955)()},function(e,t,n){"use strict";var r=n(0),a=n(11),i=n.n(a),o=i.a.shape({trySubscribe:i.a.func.isRequired,tryUnsubscribe:i.a.func.isRequired,notifyNestedSubs:i.a.func.isRequired,isSubscribed:i.a.func.isRequired}),s=i.a.shape({subscribe:i.a.func.isRequired,dispatch:i.a.func.isRequired,getState:i.a.func.isRequired});var c=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"store",n=arguments[1]||t+"Subscription",a=function(e){function a(n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n,r));return i[t]=n.store,i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(a,e),a.prototype.getChildContext=function(){var e;return(e={})[t]=this[t],e[n]=null,e},a.prototype.render=function(){return r.Children.only(this.props.children)},a}(r.Component);return a.propTypes={store:s.isRequired,children:i.a.element.isRequired},a.childContextTypes=((e={})[t]=s.isRequired,e[n]=o,e),a}(),l=n(671),u=n.n(l),d=n(73),p=n.n(d);var f=null,h={notify:function(){}};var m=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.store=t,this.parentSub=n,this.onStateChange=r,this.unsubscribe=null,this.listeners=h}return e.prototype.addNestedSub=function(e){return this.trySubscribe(),this.listeners.subscribe(e)},e.prototype.notifyNestedSubs=function(){this.listeners.notify()},e.prototype.isSubscribed=function(){return Boolean(this.unsubscribe)},e.prototype.trySubscribe=function(){var e,t;this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.onStateChange):this.store.subscribe(this.onStateChange),this.listeners=(e=[],t=[],{clear:function(){t=f,e=f},notify:function(){for(var n=e=t,r=0;r<n.length;r++)n[r]()},get:function(){return t},subscribe:function(n){var r=!0;return t===e&&(t=e.slice()),t.push(n),function(){r&&e!==f&&(r=!1,t===e&&(t=e.slice()),t.splice(t.indexOf(n),1))}}}))},e.prototype.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=h)},e}(),g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var v=0,b={};function y(){}function E(e){var t,n,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=a.getDisplayName,c=void 0===i?function(e){return"ConnectAdvanced("+e+")"}:i,l=a.methodName,d=void 0===l?"connectAdvanced":l,f=a.renderCountProp,h=void 0===f?void 0:f,E=a.shouldHandleStateChanges,_=void 0===E||E,w=a.storeKey,S=void 0===w?"store":w,k=a.withRef,C=void 0!==k&&k,N=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(a,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef"]),O=S+"Subscription",x=v++,T=((t={})[S]=s,t[O]=o,t),R=((n={})[O]=o,n);return function(t){p()("function"==typeof t,"You must pass a component to the function returned by connect. Instead received "+JSON.stringify(t));var n=t.displayName||t.name||"Component",a=c(n),i=g({},N,{getDisplayName:c,methodName:d,renderCountProp:h,shouldHandleStateChanges:_,storeKey:S,withRef:C,displayName:a,wrappedComponentName:n,WrappedComponent:t}),o=function(n){function o(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,n.call(this,e,t));return r.version=x,r.state={},r.renderCount=0,r.store=e[S]||t[S],r.propsMode=Boolean(e[S]),r.setWrappedInstance=r.setWrappedInstance.bind(r),p()(r.store,'Could not find "'+S+'" in either the context or props of "'+a+'". Either wrap the root component in a <Provider>, or explicitly pass "'+S+'" as a prop to "'+a+'".'),r.initSelector(),r.initSubscription(),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(o,n),o.prototype.getChildContext=function(){var e,t=this.propsMode?null:this.subscription;return(e={})[O]=t||this.context[O],e},o.prototype.componentDidMount=function(){_&&(this.subscription.trySubscribe(),this.selector.run(this.props),this.selector.shouldComponentUpdate&&this.forceUpdate())},o.prototype.componentWillReceiveProps=function(e){this.selector.run(e)},o.prototype.shouldComponentUpdate=function(){return this.selector.shouldComponentUpdate},o.prototype.componentWillUnmount=function(){this.subscription&&this.subscription.tryUnsubscribe(),this.subscription=null,this.notifyNestedSubs=y,this.store=null,this.selector.run=y,this.selector.shouldComponentUpdate=!1},o.prototype.getWrappedInstance=function(){return p()(C,"To access the wrapped instance, you need to specify { withRef: true } in the options argument of the "+d+"() call."),this.wrappedInstance},o.prototype.setWrappedInstance=function(e){this.wrappedInstance=e},o.prototype.initSelector=function(){var t=e(this.store.dispatch,i);this.selector=function(e,t){var n={run:function(r){try{var a=e(t.getState(),r);(a!==n.props||n.error)&&(n.shouldComponentUpdate=!0,n.props=a,n.error=null)}catch(e){n.shouldComponentUpdate=!0,n.error=e}}};return n}(t,this.store),this.selector.run(this.props)},o.prototype.initSubscription=function(){if(_){var e=(this.propsMode?this.props:this.context)[O];this.subscription=new m(this.store,e,this.onStateChange.bind(this)),this.notifyNestedSubs=this.subscription.notifyNestedSubs.bind(this.subscription)}},o.prototype.onStateChange=function(){this.selector.run(this.props),this.selector.shouldComponentUpdate?(this.componentDidUpdate=this.notifyNestedSubsOnComponentDidUpdate,this.setState(b)):this.notifyNestedSubs()},o.prototype.notifyNestedSubsOnComponentDidUpdate=function(){this.componentDidUpdate=void 0,this.notifyNestedSubs()},o.prototype.isSubscribed=function(){return Boolean(this.subscription)&&this.subscription.isSubscribed()},o.prototype.addExtraProps=function(e){if(!(C||h||this.propsMode&&this.subscription))return e;var t=g({},e);return C&&(t.ref=this.setWrappedInstance),h&&(t[h]=this.renderCount++),this.propsMode&&this.subscription&&(t[O]=this.subscription),t},o.prototype.render=function(){var e=this.selector;if(e.shouldComponentUpdate=!1,e.error)throw e.error;return Object(r.createElement)(t,this.addExtraProps(e.props))},o}(r.Component);return o.WrappedComponent=t,o.displayName=a,o.childContextTypes=R,o.contextTypes=T,o.propTypes=T,u()(o,t)}}var _=Object.prototype.hasOwnProperty;function w(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function S(e,t){if(w(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var a=0;a<n.length;a++)if(!_.call(t,n[a])||!w(e[n[a]],t[n[a]]))return!1;return!0}var k=n(34);n(210);function C(e){return function(t,n){var r=e(t,n);function a(){return r}return a.dependsOnOwnProps=!1,a}}function N(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function O(e,t){return function(t,n){n.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=N(e);var a=r(t,n);return"function"==typeof a&&(r.mapToProps=a,r.dependsOnOwnProps=N(a),a=r(t,n)),a},r}}var x=[function(e){return"function"==typeof e?O(e):void 0},function(e){return e?void 0:C(function(e){return{dispatch:e}})},function(e){return e&&"object"==typeof e?C(function(t){return Object(k.b)(e,t)}):void 0}];var T=[function(e){return"function"==typeof e?O(e):void 0},function(e){return e?void 0:C(function(){return{}})}],R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function P(e,t,n){return R({},n,e,t)}var I=[function(e){return"function"==typeof e?function(e){return function(t,n){n.displayName;var r=n.pure,a=n.areMergedPropsEqual,i=!1,o=void 0;return function(t,n,s){var c=e(t,n,s);return i?r&&a(c,o)||(o=c):(i=!0,o=c),o}}}(e):void 0},function(e){return e?void 0:function(){return P}}];function A(e,t,n,r){return function(a,i){return n(e(a,i),t(r,i),i)}}function M(e,t,n,r,a){var i=a.areStatesEqual,o=a.areOwnPropsEqual,s=a.areStatePropsEqual,c=!1,l=void 0,u=void 0,d=void 0,p=void 0,f=void 0;function h(a,c){var h,m,g=!o(c,u),v=!i(a,l);return l=a,u=c,g&&v?(d=e(l,u),t.dependsOnOwnProps&&(p=t(r,u)),f=n(d,p,u)):g?(e.dependsOnOwnProps&&(d=e(l,u)),t.dependsOnOwnProps&&(p=t(r,u)),f=n(d,p,u)):v?(h=e(l,u),m=!s(h,d),d=h,m&&(f=n(d,p,u)),f):f}return function(a,i){return c?h(a,i):(d=e(l=a,u=i),p=t(r,u),f=n(d,p,u),c=!0,f)}}function D(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,a=t.initMergeProps,i=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),o=n(e,i),s=r(e,i),c=a(e,i);return(i.pure?M:A)(o,s,c,e,i)}var j=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function L(e,t,n){for(var r=t.length-1;r>=0;r--){var a=t[r](e);if(a)return a}return function(t,r){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function F(e,t){return e===t}var B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.connectHOC,n=void 0===t?E:t,r=e.mapStateToPropsFactories,a=void 0===r?T:r,i=e.mapDispatchToPropsFactories,o=void 0===i?x:i,s=e.mergePropsFactories,c=void 0===s?I:s,l=e.selectorFactory,u=void 0===l?D:l;return function(e,t,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=i.pure,l=void 0===s||s,d=i.areStatesEqual,p=void 0===d?F:d,f=i.areOwnPropsEqual,h=void 0===f?S:f,m=i.areStatePropsEqual,g=void 0===m?S:m,v=i.areMergedPropsEqual,b=void 0===v?S:v,y=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(i,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),E=L(e,a,"mapStateToProps"),_=L(t,o,"mapDispatchToProps"),w=L(r,c,"mergeProps");return n(u,j({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:E,initMapDispatchToProps:_,initMergeProps:w,pure:l,areStatesEqual:p,areOwnPropsEqual:h,areStatePropsEqual:g,areMergedPropsEqual:b},y))}}();n.d(t,"a",function(){return c}),n.d(t,"b",function(){return B})},function(e,n,r){"use strict";var a=r(2),i=r.n(a),o=r(22),s=r.n(o),c=r(0),l=r.n(c),u=r(15),d=r.n(u),p=r(10);var f=function(e){var t=Object(c.useReducer)(function(e){return!e},!0),n=s()(t,2),r=n[0],a=n[1],o=e.small,u=e.boldTitle,f=e.className,h=!!f,m=d()("Accordion",i()({"Accordion--small":o},f,h)),g=d()("Accordion-title",{"Accordion-boldTitle":u}),v=d()("Accordion-rotatingIcon",{"Accordion-rotatingIcon--rotated":r}),b=d()("Accordion-clickableArea",{"Accordion-clickableArea--open":r});return l.a.createElement("div",{className:m},l.a.createElement("div",{className:"Accordion-focus"},l.a.createElement("div",{className:b,onClick:a},l.a.createElement("span",{className:g},e.title),l.a.createElement("span",{className:v},l.a.createElement(p.a,{stabilize:!1,name:"triangle_down"}))),r&&e.children))},h=r(9),m=r(68),g=function(e){var t=e.onClick,n=e.url,r=e.icon,a=e.content,i=e.secondaryAction,o=e.secondaryText;return Object(m.a)(!(t&&n),"ActionList actions can't have both a url and onClick set."),l.a.createElement("li",{className:"ActionList-item"},n&&l.a.createElement("a",{href:n,className:"ActionList-itemButton"},r&&l.a.createElement(p.a,{customClass:"ActionList-itemButtonIcon",name:r}),a),t&&l.a.createElement("button",{type:"button",onClick:t,className:d()("ActionList-itemButton",{"ActionList-itemButton--withSecondary":o})},r&&l.a.createElement(p.a,{customClass:"ActionList-itemButtonIcon",name:r}),a),o&&l.a.createElement("button",{type:"button",className:"ActionList-secondaryAction u-linkBtn",onClick:i},o))},v=function(e){var t=e.items;return l.a.createElement("ul",{className:"ActionList",role:"listbox"},Object(h.compact)(t).map(function(e,t){return l.a.createElement(g,{key:e.url||t,onClick:e.onClick,url:e.url,icon:e.icon,content:e.content,secondaryAction:e.secondaryAction,secondaryText:e.secondaryText})}))},b=r(90),y=function(e){var t=e.children;return l.a.createElement("div",{className:"ButtonGroup-item"},t)},E=function(e){var t=e.alignEnd,n=e.children,r=e.className,a=!!r,o=d()("ButtonGroup",i()({"ButtonGroup--alignEnd":t},r,a)),s=c.Children.map(n,function(e,t){return l.a.createElement(y,{children:e,index:t})});return l.a.createElement("div",{className:o},s)},_=function(e){var t=e.title,n=e.children,r=e.actions,a=e.icon,i=e.className;return l.a.createElement(T,{className:d()("llui-Callout",i)},l.a.createElement(T.Content,{padding:"large",className:"d-f m-fd-c ai-fs w-fill"},l.a.createElement("div",{className:"d-f ai-c jc-sb mr-16"},a&&l.a.createElement(p.a,{customClass:"llui-Callout-icon",name:a})),l.a.createElement("div",{className:"llui-Callout-content"},l.a.createElement("header",{className:"llui-Callout-title"},l.a.createElement("h1",null,t)),l.a.createElement("section",null,n),l.a.createElement("footer",{className:"llui-Callout-footer"},r))))},w=r(19),S=r.n(w),k=r(80),C=["left","top"],N=function(e){var t=e.stacked,n=e.children,r=e.className,a=e.url,i=e.useRouter,o=e.cap,s=e.onClick,c={className:d()("Card",{"Card--stacked":t,"Card--withLeftCap":o&&o===C[0],"Card--withTopCap":o&&o===C[1],"CustomColor--borderColor":o&&C.includes(o)},r),onClick:s};return a?i?l.a.createElement(k.b,S()({to:a},c),n):l.a.createElement("a",S()({href:a},c),n):l.a.createElement("div",c,n)},O=["medium","large"],x=function(e){var t=e.children,n=e.className,r=e.padding,a=d()("Card-content",i()({},"Card-content--".concat(r,"Padding"),O.includes(r)),n);return l.a.createElement("div",{className:a},t)};N.Content=x;var T=N,R="action",P="items";r(56);var I=function(e){var t,n,r=e.title,a=e.displayCount,i=e.description,o=e.className,s=e.customCount,u=e.items,p=e.children;c.Children.forEach(p,function(e){var r;Object(c.isValidElement)(e)&&((r=e).type&&r.type.role===R?t=e:function(e){return e.type&&e.type.role===P}(e)&&(n=Object(c.cloneElement)(e,{items:u})))});var f=s||a,h=d()("ContentGroup",o);return l.a.createElement("div",{className:h},l.a.createElement("div",{className:"ContentGroup-header"},l.a.createElement("div",{className:"ContentGroup-title"},r&&l.a.createElement("span",null,r),f&&l.a.createElement("span",{className:"ContentGroup-count"},s||u.length)),t&&t,i&&l.a.createElement("div",{className:"ContentGroup-description"},i)),l.a.createElement("div",{className:"ContentGroup-contents"},n))},A=function(e){var t=e.children,n=e.icon,r=e.label,a=e.onClick,i=e.url;if(t)return t;var o=!1;n&&(o=l.a.createElement(p.a,{customClass:"ContentGroup-actionIcon",name:n}));var s={className:"ContentGroup-action u-linkBtn"};return l.a.createElement("div",{className:"ContentGroup-actionContainer"},i?l.a.createElement("a",S()({},s,{href:i}),r,o):l.a.createElement("button",S()({},s,{onClick:a,type:"button"}),r,o))};A.role=R;var M=A,D=function(e){var t=e.render,n=e.items,r=e.className;return l.a.createElement("div",{className:"ContentGroup-items ".concat(r)},n.map(t))};D.role=P;var j=D;I.Action=M,I.Items=j;var L=I,F=r(4),B=r.n(F),U=r(5),H=r.n(U),q=r(6),G=r.n(q),W=r(7),V=r.n(W),z=r(1),Y=r.n(z),Q=r(8),K=r.n(Q),X=r(35),$=r(110),Z=r(155),J=l.a.createContext({onDismiss:function(){},modalHeaderId:""}),ee=function(e){function t(){var e,n;B()(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return n=G()(this,(e=V()(t)).call.apply(e,[this].concat(a))),i()(Y()(n),"modalChildrenRef",l.a.createRef()),i()(Y()(n),"handleFocusWrap",function(e){return function(){n.modalChildrenRef.current&&(e?Object(Z.b)(n.modalChildrenRef.current):Object(Z.a)(n.modalChildrenRef.current))}}),i()(Y()(n),"dismissModal",function(e){var t=n.props,r=t.onDismiss,a=t.activatorRef;r(e),a&&a.current&&a.current.focus()}),i()(Y()(n),"handleKeyDown",function(e){27===(e.keyCode||e.which)&&n.dismissModal(e)}),n}return K()(t,e),H()(t,[{key:"componentDidMount",value:function(){this.props.shown&&document.body.classList.add("no-scroll")}},{key:"componentDidUpdate",value:function(){var e=this;this.props.shown?document.body.classList.add("no-scroll"):document.body.classList.remove("no-scroll"),setTimeout(function(){e.modalChildrenRef.current&&Object(Z.a)(e.modalChildrenRef.current)},0)}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.shown,r=Object(h.uniqueId)("modal_"),a=r+"header";return n?l.a.createElement(X.a,null,l.a.createElement($.a,{id:r,dismissCallback:this.dismissModal},l.a.createElement(J.Provider,{value:{onDismiss:this.dismissModal,modalHeaderId:a}},l.a.createElement("div",{onKeyDown:this.handleKeyDown,className:"llui-Modal-wrapper"},l.a.createElement("dialog",{open:!0,"aria-labelledby":a,"aria-modal":"true",className:"llui-Modal"},l.a.createElement("div",{tabIndex:0,"aria-hidden":"true",onFocus:this.handleFocusWrap(!0)}),l.a.createElement("div",{className:"llui-Modal-inner",ref:this.modalChildrenRef},t),l.a.createElement("div",{tabIndex:0,"aria-hidden":"true",onFocus:this.handleFocusWrap(!1)})))))):null}}]),t}(l.a.Component),te=function(e){var n=e.children,r=Object(c.useContext)(J),a=r.onDismiss,i=r.modalHeaderId;return l.a.createElement("header",{className:"llui-Modal-header"},l.a.createElement("h1",{id:i},n),l.a.createElement("button",{type:"button","aria-label":t("common.close"),className:"llui-Modal-closeButton",onClick:a},"×"))},ne=function(e){var t=e.children,n=e.className;return l.a.createElement("section",{className:d()("llui-Modal-content",i()({},n,n))},t)},re=function(e){var t=e.children;return l.a.createElement("footer",{className:"llui-Modal-footer"},t)};ee.Header=te,ee.Content=ne,ee.Footer=re;var ae=ee,ie=8,oe=function(e){function t(){var e,n;B()(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return n=G()(this,(e=V()(t)).call.apply(e,[this].concat(a))),i()(Y()(n),"state",{inPosition:!1}),i()(Y()(n),"popoverRef",Object(c.createRef)(null)),i()(Y()(n),"contentRef",Object(c.createRef)(null)),i()(Y()(n),"activatorContainerRef",Object(c.createRef)(null)),i()(Y()(n),"activatorNode",null),i()(Y()(n),"id",Object(h.uniqueId)("popover_")),i()(Y()(n),"positionElement",function(){n.activatorNode=n.activatorContainerRef.current.firstElementChild;var e=n.popoverRef.current;if(e){var t=n.props,r=t.position,a=t.align,i=n.activatorNode.getBoundingClientRect();"bottom"===r?(e.style.top="".concat(i.bottom+ie,"px"),e.style.bottom="auto"):"top"===r&&(e.style.bottom="".concat(document.body.clientHeight-i.top+ie,"px"),e.style.top="auto"),"right"===a?(e.style.right="".concat(document.body.clientWidth-i.right,"px"),e.style.left="auto"):(e.style.left="".concat(i.left,"px"),e.style.right="auto")}}),i()(Y()(n),"setAccessibilityAttributes",function(){var e=Y()(n).id;n.activatorNode&&(n.activatorNode.setAttribute("aria-controls",e),n.activatorNode.setAttribute("aria-owns",e),n.activatorNode.setAttribute("aria-haspopup","true"),n.activatorNode.setAttribute("aria-expanded",String(n.props.visible)))}),i()(Y()(n),"focusContent",function(){n.contentRef.current&&n.contentRef.current.focus()}),i()(Y()(n),"handleFocusOut",function(e){e.preventDefault(),n.props.onClose(),Object(Z.a)(n.activatorContainerRef.current)}),i()(Y()(n),"setInPosition",function(){n.setState({inPosition:!0})}),n}return K()(t,e),H()(t,[{key:"componentDidMount",value:function(){this.positionElement(),this.setInPosition(),window.addEventListener("resize",this.positionElement)}},{key:"componentDidUpdate",value:function(e){var t=this;this.props.visible&&this.props.visible!==e.visible&&setTimeout(function(){t.positionElement(),t.focusContent()},0),this.setAccessibilityAttributes()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.positionElement)}},{key:"render",value:function(){var e=this.props,t=e.activator,n=e.visible,r=e.children,a=e.align,i=e.position,o=e.animate,s=e.className,c=d()("Popover","Popover--".concat(a),"Popover--".concat(i),{"Popover--animate":o,"Popover--positioned":this.state.inPosition},s);return l.a.createElement("div",{ref:this.activatorContainerRef},l.a.Children.only(t),n&&l.a.createElement(X.a,null,l.a.createElement($.a,{role:"dialog",id:this.id,innerRef:this.popoverRef,className:c,dismissCallback:this.props.onClose},l.a.createElement("div",{tabIndex:0,onFocus:this.handleFocusOut}),l.a.createElement("div",{tabIndex:-1,ref:this.contentRef,className:"Popover-content"},r),l.a.createElement("div",{tabIndex:0,onFocus:this.handleFocusOut}))))}}]),t}(l.a.Component);i()(oe,"defaultProps",{align:"left",position:"bottom",animate:!0});var se=oe,ce=.015;function le(e,t){var n,r=function(e){for(var t=0,n=[.25,.5,.75];t<n.length;t++){var r=n[t],a=r-parseFloat(e.toFixed(2));if(Math.abs(a)<=ce)return r}return null}(e);return r?n=r:(n=Math.round(e/t)*t,e>0&&0===n&&(n=t),e<1&&n>=1-t&&(n=1-t)),n}var ue=function(e){var t=e.size,n=e.gapWidth,r=e.strokeWidth,a=e.progress,i=e.nearestNth,o=e.className,s=e.fgColor,c=e.bgColor,u=t/2,p=(t-r)/2,f=Math.PI*p*2,h=le(a,i/100),m=f-f*h,g=360*(2*Math.PI*p*h)/f,v={r:p,cx:u,cy:u,strokeWidth:r,strokeDasharray:f,fill:"transparent"},b={height:r+2,width:n,fill:"#fff",x:u-n/2,y:-1};return l.a.createElement("svg",{version:"1.1",xml:"http://www.w3.org/2000/svg",height:t,width:t,viewBox:"0 0 ".concat(t," ").concat(t),className:d()("RadialProgress",o)},l.a.createElement("circle",S()({stroke:c},v)),l.a.createElement("circle",S()({stroke:s,transform:"rotate(270 ".concat(u," ").concat(u,")"),strokeDashoffset:m},v)),l.a.createElement("rect",S()({},b,{key:"start"})),l.a.createElement("rect",S()({},b,{transform:"rotate(".concat(g," ").concat(u," ").concat(u,")")})))};ue.defaultProps={strokeWidth:4,gapWidth:2,size:18,fgColor:"#000",bgColor:"#d3d3d3",nearestNth:10};var de=ue,pe=function(e){var t,n=e.className,r=e.color,a=e.size,o=d()("Spinner",(t={},i()(t,"Spinner--".concat(r),r),i()(t,"Spinner--".concat(a),a),t),n);return l.a.createElement("div",{className:o})},fe=r(21),he=r.n(fe),me=Object(c.createContext)(),ge=function(e){var t=e.onChange,n=e.selected,r=e.children,a=e.className,i=he()(e,["onChange","selected","children","className"]);return l.a.createElement(me.Provider,{value:{selected:n,onChange:t}},l.a.createElement("div",S()({role:"tablist",className:d()("Switcher",a)},i),r))},ve=function(e){var t=e.children,n=e.className,r=e.value,a=he()(e,["children","className","value"]);return l.a.createElement(me.Consumer,null,function(e){var i=e.selected,o=e.onChange;return l.a.createElement("button",S()({},a,{role:"tab",type:"button",value:r,onClick:function(e){return i!==r&&o(r)},className:d()("Switcher-switch",i===r&&"Switcher-switch--selected",n)}),t)})},be=function(e){function t(e){var n;return B()(this,t),n=G()(this,V()(t).call(this,e)),i()(Y()(n),"handleChange",function(e){var t=e.target.value,r=n.props,a=r.confirmationText,i=r.onConfirmationChange;n.setState({confirmed:t===a}),i(t===a)}),n.state={confirmed:!1},n}return K()(t,e),H()(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.className,r=t.fullWidth,a=t.placeholder,o=t.white,s=!!a,c=!!n,u=d()("NewInput mt-8 mb-16",i()({"NewInput--fw":r,"NewInput--white":o},n,c));return l.a.createElement(l.a.Fragment,null,l.a.createElement("input",{onChange:function(t){return e.handleChange(t)},className:u,name:"confirmation",placeholder:s?a:""}),this.state.confirmed?l.a.createElement(p.a,{name:"correct",customClass:"ml-4 c-brand-gray"}):l.a.createElement(p.a,{name:"error",customClass:"ml-4 c-brand-gray"}))}}]),t}(c.Component);r.d(n,"a",function(){return f}),r.d(n,"b",function(){return v}),r.d(n,"c",function(){return b.a}),r.d(n,"d",function(){return E}),r.d(n,"e",function(){return _}),r.d(n,"f",function(){return T}),r.d(n,"g",function(){return L}),r.d(n,"h",function(){return ae}),r.d(n,"i",function(){return se}),r.d(n,"j",function(){return de}),r.d(n,"k",function(){return pe}),r.d(n,"m",function(){return ge}),r.d(n,"l",function(){return ve}),r.d(n,"n",function(){return be})},function(e,t,n){"use strict";var r=function(e,t){var n=function(e,t,n){var r={};return e.forEach(function(e){r[e]=n.concat(t,e).filter(function(e){return!!e}).join("_")}),r};return Array.isArray(t)?n(t,null,[e]):(Object.keys(t).forEach(function(r){var a=[e];Array.isArray(t[r])?t[r]=n(t[r],r,a):t[r]=a.concat(r).join("_")}),t)};n.d(t,"c",function(){return a}),n.d(t,"b",function(){return i}),n.d(t,"i",function(){return o}),n.d(t,"f",function(){return s}),n.d(t,"d",function(){return c}),n.d(t,"e",function(){return l}),n.d(t,"a",function(){return u}),n.d(t,"k",function(){return d}),n.d(t,"j",function(){return p}),n.d(t,"h",function(){return f}),n.d(t,"g",function(){return h});var a=r("DATA",["REQUEST","SUCCESS","FAILURE","GROUPS"]),i=r("BULK_ACTIONS",{LIST:["TOGGLE_ITEM","ADD_ALL","REMOVE_ALL"],SUBMIT:["REQUEST","SUCCESS","FAILURE","DONE"],MASS_ACTION:["DONE"]}),o=r("MASS_ACTIONS",{SHARED:["REQUEST","REQUEST_SUCCESS","REMOVE_ALL","UPDATED"]}),s=r("FILTER",{SORT:"SORT",UPDATE:["ALL","PAGE","QUERY","DATE","TAGS","SINGLE_TAG","CREATOR","CONTENT_TYPE","TYPE","GROUPS","ROLE","MANAGER","PER_PAGE","ACTIVE_GROUP","EDITING","WORKSPACE","MY_ORGANIZATION"],CLEAR:"CLEAR"}),c=r("DEFAULT_VIEW",["SET_VIEW_STATE"]),l=r("EDITOR",{AUTOSAVE:["REQUEST","SUCCESS","FAILURE"],TOGGLE:["DRAGGING_ELEMENT"],COMMENTARY:["SHOW","HIDE","REQUEST","REQUEST_SUCCESS","REQUEST_FAILURE","CREATE_THREAD","RESOLVE_THREAD","POST_REPLY","SET_ACTIVE_THREAD","SET_UNACTIVE_THREAD"],LESSON:["UPDATE"],SECTION:["UPDATE","CREATE","REQUEST_CREATE","DELETE","REQUEST_DELETE","EDIT","REQUEST_EDIT","UPDATE_URL","REORDER","DUPLICATE"],ELEMENT:["SET_VALIDITY","UPDATE_COMMENTS_COUNT","DELETE","REQUEST_DELETE","DELETE_CHILDREN","APPLY_CHANGES","CREATE","REORDER","DETACH_PARENT","ASSIGN_PARENT","REPLACE"]}),u=r("ASSIGN",{STEP:["SET_ACTIVE"],DATA:["RESET","REQUEST","REQUEST_SUCCESS","REQUEST_NEXT_PAGE_SUCCESS"],PARAMS:["UPDATE_QUERY","UPDATE_SORT","UPDATE_FILTER_TYPE"],ITEM:["SELECT","DESELECT","SET_ASSIGNEES_COUNT"],SCHEDULE:["UPDATE"],REVIEW:["UPDATE_EXISTING_ASSIGNMENT_OPTION","UPDATE_MESSAGE"]}),d=r("PATH_VIEWER",{REQUEST_CONTENTS:["IN_PROGRESS","ERROR","SUCCESS"]}),p=r("PATH_BUILDER",{PATH:["UPDATE","UPDATE_IN_PROGRESS","UPDATE_SUCCESS","UPDATE_FAILURE","UPDATE_FAILURE_DISMISS","RESTORE_REVISION","SAVE_REVISION","SAVE_DRAFT","PUBLISH","TOGGLE_EDITING_DESCRIPTION","TOGGLE_EDITING_ORDER_ENFORCEMENT","TOGGLE_EDITING_MODE"],UI:["TOGGLE_EDITING_BY_NAME","SET_MODE"],TAGGING:["CREATE","REMOVE","TAG_ALL_CONTENT"],OWNERSHIP:["CREATE","REMOVE","UPDATE"],RELATED_URLS:["CREATE","REMOVE"],LIBRARY_CONTENT:["CREATE","REMOVE"],CONTENT:["UPDATE","REORDER","REMOVE","ADD","PERSIST","TOGGLE_EDITING","TOGGLE_DRAGGING","LOADING_CONTENTS_REQUEST","LOADING_CONTENTS_SUCCESS"],REPORTING:["SET_GROUP","DATA_REQUEST","DATA_SUCCESS"]}),f=r("LEARN",{CONTENTS:["REQUEST","REQUEST_ERROR","RECEIVE"],SEARCH:["READY","SET_SOURCE_PAGE","RESET_SOURCE_PAGE","UPDATE_QUERY","UPDATE_FILTER","RESET_FILTERS"]}),h=r("IN_PERSON_TRAINING",{EVENTS_DASHBOARD:["DATA_REQUEST","DATA_RECEIVE"],EVENT:["UPDATE"],SESSIONS:["CREATE","REMOVE","UPDATE"],ATTENDANCES:["CREATE","REMOVE","DATA_REQUEST","DATA_RECEIVE","SET_FILTERS"],EVENT_CHANGE_MANAGEMENT:["TOGGLE_UPDATE_EMAIL","TOGGLE_CONFIRM_TRAINER_CHANGE"]});r("ROLES",{PERMISSIONS:["REQUEST","RECEIVE","GRANT","REVOKE"]})},function(e,t,n){var r;
/*!
  Copyright (c) 2016 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
/*!
  Copyright (c) 2016 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
!function(){"use strict";var n={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var i=typeof r;if("string"===i||"number"===i)e.push(r);else if(Array.isArray(r))e.push(a.apply(null,r));else if("object"===i)for(var o in r)n.call(r,o)&&r[o]&&e.push(o)}}return e.join(" ")}e.exports?e.exports=a:void 0===(r=function(){return a}.apply(t,[]))||(e.exports=r)}()},function(e,t,n){(function(e,r){var a;
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){var i,o=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",c="Expected a function",l="__lodash_hash_undefined__",u=500,d="__lodash_placeholder__",p=1,f=2,h=4,m=1,g=2,v=1,b=2,y=4,E=8,_=16,w=32,S=64,k=128,C=256,N=512,O=30,x="...",T=800,R=16,P=1,I=2,A=1/0,M=9007199254740991,D=1.7976931348623157e308,j=NaN,L=4294967295,F=L-1,B=L>>>1,U=[["ary",k],["bind",v],["bindKey",b],["curry",E],["curryRight",_],["flip",N],["partial",w],["partialRight",S],["rearg",C]],H="[object Arguments]",q="[object Array]",G="[object AsyncFunction]",W="[object Boolean]",V="[object Date]",z="[object DOMException]",Y="[object Error]",Q="[object Function]",K="[object GeneratorFunction]",X="[object Map]",$="[object Number]",Z="[object Null]",J="[object Object]",ee="[object Proxy]",te="[object RegExp]",ne="[object Set]",re="[object String]",ae="[object Symbol]",ie="[object Undefined]",oe="[object WeakMap]",se="[object WeakSet]",ce="[object ArrayBuffer]",le="[object DataView]",ue="[object Float32Array]",de="[object Float64Array]",pe="[object Int8Array]",fe="[object Int16Array]",he="[object Int32Array]",me="[object Uint8Array]",ge="[object Uint8ClampedArray]",ve="[object Uint16Array]",be="[object Uint32Array]",ye=/\b__p \+= '';/g,Ee=/\b(__p \+=) '' \+/g,_e=/(__e\(.*?\)|\b__t\)) \+\n'';/g,we=/&(?:amp|lt|gt|quot|#39);/g,Se=/[&<>"']/g,ke=RegExp(we.source),Ce=RegExp(Se.source),Ne=/<%-([\s\S]+?)%>/g,Oe=/<%([\s\S]+?)%>/g,xe=/<%=([\s\S]+?)%>/g,Te=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Re=/^\w*$/,Pe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ie=/[\\^$.*+?()[\]{}|]/g,Ae=RegExp(Ie.source),Me=/^\s+|\s+$/g,De=/^\s+/,je=/\s+$/,Le=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Fe=/\{\n\/\* \[wrapped with (.+)\] \*/,Be=/,? & /,Ue=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,He=/\\(\\)?/g,qe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ge=/\w*$/,We=/^[-+]0x[0-9a-f]+$/i,Ve=/^0b[01]+$/i,ze=/^\[object .+?Constructor\]$/,Ye=/^0o[0-7]+$/i,Qe=/^(?:0|[1-9]\d*)$/,Ke=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Xe=/($^)/,$e=/['\n\r\u2028\u2029\\]/g,Ze="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Je="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",et="[\\ud800-\\udfff]",tt="["+Je+"]",nt="["+Ze+"]",rt="\\d+",at="[\\u2700-\\u27bf]",it="[a-z\\xdf-\\xf6\\xf8-\\xff]",ot="[^\\ud800-\\udfff"+Je+rt+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",st="\\ud83c[\\udffb-\\udfff]",ct="[^\\ud800-\\udfff]",lt="(?:\\ud83c[\\udde6-\\uddff]){2}",ut="[\\ud800-\\udbff][\\udc00-\\udfff]",dt="[A-Z\\xc0-\\xd6\\xd8-\\xde]",pt="(?:"+it+"|"+ot+")",ft="(?:"+dt+"|"+ot+")",ht="(?:"+nt+"|"+st+")"+"?",mt="[\\ufe0e\\ufe0f]?"+ht+("(?:\\u200d(?:"+[ct,lt,ut].join("|")+")[\\ufe0e\\ufe0f]?"+ht+")*"),gt="(?:"+[at,lt,ut].join("|")+")"+mt,vt="(?:"+[ct+nt+"?",nt,lt,ut,et].join("|")+")",bt=RegExp("['’]","g"),yt=RegExp(nt,"g"),Et=RegExp(st+"(?="+st+")|"+vt+mt,"g"),_t=RegExp([dt+"?"+it+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[tt,dt,"$"].join("|")+")",ft+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[tt,dt+pt,"$"].join("|")+")",dt+"?"+pt+"+(?:['’](?:d|ll|m|re|s|t|ve))?",dt+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",rt,gt].join("|"),"g"),wt=RegExp("[\\u200d\\ud800-\\udfff"+Ze+"\\ufe0e\\ufe0f]"),St=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,kt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Ct=-1,Nt={};Nt[ue]=Nt[de]=Nt[pe]=Nt[fe]=Nt[he]=Nt[me]=Nt[ge]=Nt[ve]=Nt[be]=!0,Nt[H]=Nt[q]=Nt[ce]=Nt[W]=Nt[le]=Nt[V]=Nt[Y]=Nt[Q]=Nt[X]=Nt[$]=Nt[J]=Nt[te]=Nt[ne]=Nt[re]=Nt[oe]=!1;var Ot={};Ot[H]=Ot[q]=Ot[ce]=Ot[le]=Ot[W]=Ot[V]=Ot[ue]=Ot[de]=Ot[pe]=Ot[fe]=Ot[he]=Ot[X]=Ot[$]=Ot[J]=Ot[te]=Ot[ne]=Ot[re]=Ot[ae]=Ot[me]=Ot[ge]=Ot[ve]=Ot[be]=!0,Ot[Y]=Ot[Q]=Ot[oe]=!1;var xt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Tt=parseFloat,Rt=parseInt,Pt="object"==typeof e&&e&&e.Object===Object&&e,It="object"==typeof self&&self&&self.Object===Object&&self,At=Pt||It||Function("return this")(),Mt=t&&!t.nodeType&&t,Dt=Mt&&"object"==typeof r&&r&&!r.nodeType&&r,jt=Dt&&Dt.exports===Mt,Lt=jt&&Pt.process,Ft=function(){try{var e=Dt&&Dt.require&&Dt.require("util").types;return e||Lt&&Lt.binding&&Lt.binding("util")}catch(e){}}(),Bt=Ft&&Ft.isArrayBuffer,Ut=Ft&&Ft.isDate,Ht=Ft&&Ft.isMap,qt=Ft&&Ft.isRegExp,Gt=Ft&&Ft.isSet,Wt=Ft&&Ft.isTypedArray;function Vt(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function zt(e,t,n,r){for(var a=-1,i=null==e?0:e.length;++a<i;){var o=e[a];t(r,o,n(o),e)}return r}function Yt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function Qt(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function Kt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function Xt(e,t){for(var n=-1,r=null==e?0:e.length,a=0,i=[];++n<r;){var o=e[n];t(o,n,e)&&(i[a++]=o)}return i}function $t(e,t){return!!(null==e?0:e.length)&&cn(e,t,0)>-1}function Zt(e,t,n){for(var r=-1,a=null==e?0:e.length;++r<a;)if(n(t,e[r]))return!0;return!1}function Jt(e,t){for(var n=-1,r=null==e?0:e.length,a=Array(r);++n<r;)a[n]=t(e[n],n,e);return a}function en(e,t){for(var n=-1,r=t.length,a=e.length;++n<r;)e[a+n]=t[n];return e}function tn(e,t,n,r){var a=-1,i=null==e?0:e.length;for(r&&i&&(n=e[++a]);++a<i;)n=t(n,e[a],a,e);return n}function nn(e,t,n,r){var a=null==e?0:e.length;for(r&&a&&(n=e[--a]);a--;)n=t(n,e[a],a,e);return n}function rn(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var an=pn("length");function on(e,t,n){var r;return n(e,function(e,n,a){if(t(e,n,a))return r=n,!1}),r}function sn(e,t,n,r){for(var a=e.length,i=n+(r?1:-1);r?i--:++i<a;)if(t(e[i],i,e))return i;return-1}function cn(e,t,n){return t==t?function(e,t,n){var r=n-1,a=e.length;for(;++r<a;)if(e[r]===t)return r;return-1}(e,t,n):sn(e,un,n)}function ln(e,t,n,r){for(var a=n-1,i=e.length;++a<i;)if(r(e[a],t))return a;return-1}function un(e){return e!=e}function dn(e,t){var n=null==e?0:e.length;return n?mn(e,t)/n:j}function pn(e){return function(t){return null==t?i:t[e]}}function fn(e){return function(t){return null==e?i:e[t]}}function hn(e,t,n,r,a){return a(e,function(e,a,i){n=r?(r=!1,e):t(n,e,a,i)}),n}function mn(e,t){for(var n,r=-1,a=e.length;++r<a;){var o=t(e[r]);o!==i&&(n=n===i?o:n+o)}return n}function gn(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function vn(e){return function(t){return e(t)}}function bn(e,t){return Jt(t,function(t){return e[t]})}function yn(e,t){return e.has(t)}function En(e,t){for(var n=-1,r=e.length;++n<r&&cn(t,e[n],0)>-1;);return n}function _n(e,t){for(var n=e.length;n--&&cn(t,e[n],0)>-1;);return n}var wn=fn({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),Sn=fn({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function kn(e){return"\\"+xt[e]}function Cn(e){return wt.test(e)}function Nn(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}function On(e,t){return function(n){return e(t(n))}}function xn(e,t){for(var n=-1,r=e.length,a=0,i=[];++n<r;){var o=e[n];o!==t&&o!==d||(e[n]=d,i[a++]=n)}return i}function Tn(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}function Rn(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=[e,e]}),n}function Pn(e){return Cn(e)?function(e){var t=Et.lastIndex=0;for(;Et.test(e);)++t;return t}(e):an(e)}function In(e){return Cn(e)?function(e){return e.match(Et)||[]}(e):function(e){return e.split("")}(e)}var An=fn({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var Mn=function e(t){var n,r=(t=null==t?At:Mn.defaults(At.Object(),t,Mn.pick(At,kt))).Array,a=t.Date,Ze=t.Error,Je=t.Function,et=t.Math,tt=t.Object,nt=t.RegExp,rt=t.String,at=t.TypeError,it=r.prototype,ot=Je.prototype,st=tt.prototype,ct=t["__core-js_shared__"],lt=ot.toString,ut=st.hasOwnProperty,dt=0,pt=(n=/[^.]+$/.exec(ct&&ct.keys&&ct.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",ft=st.toString,ht=lt.call(tt),mt=At._,gt=nt("^"+lt.call(ut).replace(Ie,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),vt=jt?t.Buffer:i,Et=t.Symbol,wt=t.Uint8Array,xt=vt?vt.allocUnsafe:i,Pt=On(tt.getPrototypeOf,tt),It=tt.create,Mt=st.propertyIsEnumerable,Dt=it.splice,Lt=Et?Et.isConcatSpreadable:i,Ft=Et?Et.iterator:i,an=Et?Et.toStringTag:i,fn=function(){try{var e=Fi(tt,"defineProperty");return e({},"",{}),e}catch(e){}}(),Dn=t.clearTimeout!==At.clearTimeout&&t.clearTimeout,jn=a&&a.now!==At.Date.now&&a.now,Ln=t.setTimeout!==At.setTimeout&&t.setTimeout,Fn=et.ceil,Bn=et.floor,Un=tt.getOwnPropertySymbols,Hn=vt?vt.isBuffer:i,qn=t.isFinite,Gn=it.join,Wn=On(tt.keys,tt),Vn=et.max,zn=et.min,Yn=a.now,Qn=t.parseInt,Kn=et.random,Xn=it.reverse,$n=Fi(t,"DataView"),Zn=Fi(t,"Map"),Jn=Fi(t,"Promise"),er=Fi(t,"Set"),tr=Fi(t,"WeakMap"),nr=Fi(tt,"create"),rr=tr&&new tr,ar={},ir=uo($n),or=uo(Zn),sr=uo(Jn),cr=uo(er),lr=uo(tr),ur=Et?Et.prototype:i,dr=ur?ur.valueOf:i,pr=ur?ur.toString:i;function fr(e){if(xs(e)&&!vs(e)&&!(e instanceof vr)){if(e instanceof gr)return e;if(ut.call(e,"__wrapped__"))return po(e)}return new gr(e)}var hr=function(){function e(){}return function(t){if(!Os(t))return{};if(It)return It(t);e.prototype=t;var n=new e;return e.prototype=i,n}}();function mr(){}function gr(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=i}function vr(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=L,this.__views__=[]}function br(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function yr(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Er(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function _r(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Er;++t<n;)this.add(e[t])}function wr(e){var t=this.__data__=new yr(e);this.size=t.size}function Sr(e,t){var n=vs(e),r=!n&&gs(e),a=!n&&!r&&_s(e),i=!n&&!r&&!a&&js(e),o=n||r||a||i,s=o?gn(e.length,rt):[],c=s.length;for(var l in e)!t&&!ut.call(e,l)||o&&("length"==l||a&&("offset"==l||"parent"==l)||i&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||Vi(l,c))||s.push(l);return s}function kr(e){var t=e.length;return t?e[_a(0,t-1)]:i}function Cr(e,t){return so(ni(e),Mr(t,0,e.length))}function Nr(e){return so(ni(e))}function Or(e,t,n){(n===i||fs(e[t],n))&&(n!==i||t in e)||Ir(e,t,n)}function xr(e,t,n){var r=e[t];ut.call(e,t)&&fs(r,n)&&(n!==i||t in e)||Ir(e,t,n)}function Tr(e,t){for(var n=e.length;n--;)if(fs(e[n][0],t))return n;return-1}function Rr(e,t,n,r){return Br(e,function(e,a,i){t(r,e,n(e),i)}),r}function Pr(e,t){return e&&ri(t,ac(t),e)}function Ir(e,t,n){"__proto__"==t&&fn?fn(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function Ar(e,t){for(var n=-1,a=t.length,o=r(a),s=null==e;++n<a;)o[n]=s?i:Js(e,t[n]);return o}function Mr(e,t,n){return e==e&&(n!==i&&(e=e<=n?e:n),t!==i&&(e=e>=t?e:t)),e}function Dr(e,t,n,r,a,o){var s,c=t&p,l=t&f,u=t&h;if(n&&(s=a?n(e,r,a,o):n(e)),s!==i)return s;if(!Os(e))return e;var d=vs(e);if(d){if(s=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&ut.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(e),!c)return ni(e,s)}else{var m=Hi(e),g=m==Q||m==K;if(_s(e))return Xa(e,c);if(m==J||m==H||g&&!a){if(s=l||g?{}:Gi(e),!c)return l?function(e,t){return ri(e,Ui(e),t)}(e,function(e,t){return e&&ri(t,ic(t),e)}(s,e)):function(e,t){return ri(e,Bi(e),t)}(e,Pr(s,e))}else{if(!Ot[m])return a?e:{};s=function(e,t,n){var r,a=e.constructor;switch(t){case ce:return $a(e);case W:case V:return new a(+e);case le:return function(e,t){var n=t?$a(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case ue:case de:case pe:case fe:case he:case me:case ge:case ve:case be:return Za(e,n);case X:return new a;case $:case re:return new a(e);case te:return function(e){var t=new e.constructor(e.source,Ge.exec(e));return t.lastIndex=e.lastIndex,t}(e);case ne:return new a;case ae:return r=e,dr?tt(dr.call(r)):{}}}(e,m,c)}}o||(o=new wr);var v=o.get(e);if(v)return v;o.set(e,s),As(e)?e.forEach(function(r){s.add(Dr(r,t,n,r,e,o))}):Ts(e)&&e.forEach(function(r,a){s.set(a,Dr(r,t,n,a,e,o))});var b=d?i:(u?l?Pi:Ri:l?ic:ac)(e);return Yt(b||e,function(r,a){b&&(r=e[a=r]),xr(s,a,Dr(r,t,n,a,e,o))}),s}function jr(e,t,n){var r=n.length;if(null==e)return!r;for(e=tt(e);r--;){var a=n[r],o=t[a],s=e[a];if(s===i&&!(a in e)||!o(s))return!1}return!0}function Lr(e,t,n){if("function"!=typeof e)throw new at(c);return ro(function(){e.apply(i,n)},t)}function Fr(e,t,n,r){var a=-1,i=$t,s=!0,c=e.length,l=[],u=t.length;if(!c)return l;n&&(t=Jt(t,vn(n))),r?(i=Zt,s=!1):t.length>=o&&(i=yn,s=!1,t=new _r(t));e:for(;++a<c;){var d=e[a],p=null==n?d:n(d);if(d=r||0!==d?d:0,s&&p==p){for(var f=u;f--;)if(t[f]===p)continue e;l.push(d)}else i(t,p,r)||l.push(d)}return l}fr.templateSettings={escape:Ne,evaluate:Oe,interpolate:xe,variable:"",imports:{_:fr}},fr.prototype=mr.prototype,fr.prototype.constructor=fr,gr.prototype=hr(mr.prototype),gr.prototype.constructor=gr,vr.prototype=hr(mr.prototype),vr.prototype.constructor=vr,br.prototype.clear=function(){this.__data__=nr?nr(null):{},this.size=0},br.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},br.prototype.get=function(e){var t=this.__data__;if(nr){var n=t[e];return n===l?i:n}return ut.call(t,e)?t[e]:i},br.prototype.has=function(e){var t=this.__data__;return nr?t[e]!==i:ut.call(t,e)},br.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=nr&&t===i?l:t,this},yr.prototype.clear=function(){this.__data__=[],this.size=0},yr.prototype.delete=function(e){var t=this.__data__,n=Tr(t,e);return!(n<0||(n==t.length-1?t.pop():Dt.call(t,n,1),--this.size,0))},yr.prototype.get=function(e){var t=this.__data__,n=Tr(t,e);return n<0?i:t[n][1]},yr.prototype.has=function(e){return Tr(this.__data__,e)>-1},yr.prototype.set=function(e,t){var n=this.__data__,r=Tr(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Er.prototype.clear=function(){this.size=0,this.__data__={hash:new br,map:new(Zn||yr),string:new br}},Er.prototype.delete=function(e){var t=ji(this,e).delete(e);return this.size-=t?1:0,t},Er.prototype.get=function(e){return ji(this,e).get(e)},Er.prototype.has=function(e){return ji(this,e).has(e)},Er.prototype.set=function(e,t){var n=ji(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},_r.prototype.add=_r.prototype.push=function(e){return this.__data__.set(e,l),this},_r.prototype.has=function(e){return this.__data__.has(e)},wr.prototype.clear=function(){this.__data__=new yr,this.size=0},wr.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},wr.prototype.get=function(e){return this.__data__.get(e)},wr.prototype.has=function(e){return this.__data__.has(e)},wr.prototype.set=function(e,t){var n=this.__data__;if(n instanceof yr){var r=n.__data__;if(!Zn||r.length<o-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Er(r)}return n.set(e,t),this.size=n.size,this};var Br=oi(Yr),Ur=oi(Qr,!0);function Hr(e,t){var n=!0;return Br(e,function(e,r,a){return n=!!t(e,r,a)}),n}function qr(e,t,n){for(var r=-1,a=e.length;++r<a;){var o=e[r],s=t(o);if(null!=s&&(c===i?s==s&&!Ds(s):n(s,c)))var c=s,l=o}return l}function Gr(e,t){var n=[];return Br(e,function(e,r,a){t(e,r,a)&&n.push(e)}),n}function Wr(e,t,n,r,a){var i=-1,o=e.length;for(n||(n=Wi),a||(a=[]);++i<o;){var s=e[i];t>0&&n(s)?t>1?Wr(s,t-1,n,r,a):en(a,s):r||(a[a.length]=s)}return a}var Vr=si(),zr=si(!0);function Yr(e,t){return e&&Vr(e,t,ac)}function Qr(e,t){return e&&zr(e,t,ac)}function Kr(e,t){return Xt(t,function(t){return ks(e[t])})}function Xr(e,t){for(var n=0,r=(t=za(t,e)).length;null!=e&&n<r;)e=e[lo(t[n++])];return n&&n==r?e:i}function $r(e,t,n){var r=t(e);return vs(e)?r:en(r,n(e))}function Zr(e){return null==e?e===i?ie:Z:an&&an in tt(e)?function(e){var t=ut.call(e,an),n=e[an];try{e[an]=i;var r=!0}catch(e){}var a=ft.call(e);return r&&(t?e[an]=n:delete e[an]),a}(e):function(e){return ft.call(e)}(e)}function Jr(e,t){return e>t}function ea(e,t){return null!=e&&ut.call(e,t)}function ta(e,t){return null!=e&&t in tt(e)}function na(e,t,n){for(var a=n?Zt:$t,o=e[0].length,s=e.length,c=s,l=r(s),u=1/0,d=[];c--;){var p=e[c];c&&t&&(p=Jt(p,vn(t))),u=zn(p.length,u),l[c]=!n&&(t||o>=120&&p.length>=120)?new _r(c&&p):i}p=e[0];var f=-1,h=l[0];e:for(;++f<o&&d.length<u;){var m=p[f],g=t?t(m):m;if(m=n||0!==m?m:0,!(h?yn(h,g):a(d,g,n))){for(c=s;--c;){var v=l[c];if(!(v?yn(v,g):a(e[c],g,n)))continue e}h&&h.push(g),d.push(m)}}return d}function ra(e,t,n){var r=null==(e=eo(e,t=za(t,e)))?e:e[lo(So(t))];return null==r?i:Vt(r,e,n)}function aa(e){return xs(e)&&Zr(e)==H}function ia(e,t,n,r,a){return e===t||(null==e||null==t||!xs(e)&&!xs(t)?e!=e&&t!=t:function(e,t,n,r,a,o){var s=vs(e),c=vs(t),l=s?q:Hi(e),u=c?q:Hi(t),d=(l=l==H?J:l)==J,p=(u=u==H?J:u)==J,f=l==u;if(f&&_s(e)){if(!_s(t))return!1;s=!0,d=!1}if(f&&!d)return o||(o=new wr),s||js(e)?xi(e,t,n,r,a,o):function(e,t,n,r,a,i,o){switch(n){case le:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case ce:return!(e.byteLength!=t.byteLength||!i(new wt(e),new wt(t)));case W:case V:case $:return fs(+e,+t);case Y:return e.name==t.name&&e.message==t.message;case te:case re:return e==t+"";case X:var s=Nn;case ne:var c=r&m;if(s||(s=Tn),e.size!=t.size&&!c)return!1;var l=o.get(e);if(l)return l==t;r|=g,o.set(e,t);var u=xi(s(e),s(t),r,a,i,o);return o.delete(e),u;case ae:if(dr)return dr.call(e)==dr.call(t)}return!1}(e,t,l,n,r,a,o);if(!(n&m)){var h=d&&ut.call(e,"__wrapped__"),v=p&&ut.call(t,"__wrapped__");if(h||v){var b=h?e.value():e,y=v?t.value():t;return o||(o=new wr),a(b,y,n,r,o)}}return!!f&&(o||(o=new wr),function(e,t,n,r,a,o){var s=n&m,c=Ri(e),l=c.length,u=Ri(t).length;if(l!=u&&!s)return!1;for(var d=l;d--;){var p=c[d];if(!(s?p in t:ut.call(t,p)))return!1}var f=o.get(e);if(f&&o.get(t))return f==t;var h=!0;o.set(e,t),o.set(t,e);for(var g=s;++d<l;){p=c[d];var v=e[p],b=t[p];if(r)var y=s?r(b,v,p,t,e,o):r(v,b,p,e,t,o);if(!(y===i?v===b||a(v,b,n,r,o):y)){h=!1;break}g||(g="constructor"==p)}if(h&&!g){var E=e.constructor,_=t.constructor;E!=_&&"constructor"in e&&"constructor"in t&&!("function"==typeof E&&E instanceof E&&"function"==typeof _&&_ instanceof _)&&(h=!1)}return o.delete(e),o.delete(t),h}(e,t,n,r,a,o))}(e,t,n,r,ia,a))}function oa(e,t,n,r){var a=n.length,o=a,s=!r;if(null==e)return!o;for(e=tt(e);a--;){var c=n[a];if(s&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++a<o;){var l=(c=n[a])[0],u=e[l],d=c[1];if(s&&c[2]){if(u===i&&!(l in e))return!1}else{var p=new wr;if(r)var f=r(u,d,l,e,t,p);if(!(f===i?ia(d,u,m|g,r,p):f))return!1}}return!0}function sa(e){return!(!Os(e)||(t=e,pt&&pt in t))&&(ks(e)?gt:ze).test(uo(e));var t}function ca(e){return"function"==typeof e?e:null==e?Rc:"object"==typeof e?vs(e)?ha(e[0],e[1]):fa(e):Bc(e)}function la(e){if(!Xi(e))return Wn(e);var t=[];for(var n in tt(e))ut.call(e,n)&&"constructor"!=n&&t.push(n);return t}function ua(e){if(!Os(e))return function(e){var t=[];if(null!=e)for(var n in tt(e))t.push(n);return t}(e);var t=Xi(e),n=[];for(var r in e)("constructor"!=r||!t&&ut.call(e,r))&&n.push(r);return n}function da(e,t){return e<t}function pa(e,t){var n=-1,a=ys(e)?r(e.length):[];return Br(e,function(e,r,i){a[++n]=t(e,r,i)}),a}function fa(e){var t=Li(e);return 1==t.length&&t[0][2]?Zi(t[0][0],t[0][1]):function(n){return n===e||oa(n,e,t)}}function ha(e,t){return Yi(e)&&$i(t)?Zi(lo(e),t):function(n){var r=Js(n,e);return r===i&&r===t?ec(n,e):ia(t,r,m|g)}}function ma(e,t,n,r,a){e!==t&&Vr(t,function(o,s){if(a||(a=new wr),Os(o))!function(e,t,n,r,a,o,s){var c=to(e,n),l=to(t,n),u=s.get(l);if(u)Or(e,n,u);else{var d=o?o(c,l,n+"",e,t,s):i,p=d===i;if(p){var f=vs(l),h=!f&&_s(l),m=!f&&!h&&js(l);d=l,f||h||m?vs(c)?d=c:Es(c)?d=ni(c):h?(p=!1,d=Xa(l,!0)):m?(p=!1,d=Za(l,!0)):d=[]:Ps(l)||gs(l)?(d=c,gs(c)?d=Ws(c):Os(c)&&!ks(c)||(d=Gi(l))):p=!1}p&&(s.set(l,d),a(d,l,r,o,s),s.delete(l)),Or(e,n,d)}}(e,t,s,n,ma,r,a);else{var c=r?r(to(e,s),o,s+"",e,t,a):i;c===i&&(c=o),Or(e,s,c)}},ic)}function ga(e,t){var n=e.length;if(n)return Vi(t+=t<0?n:0,n)?e[t]:i}function va(e,t,n){var r=-1;return t=Jt(t.length?t:[Rc],vn(Di())),function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(pa(e,function(e,n,a){return{criteria:Jt(t,function(t){return t(e)}),index:++r,value:e}}),function(e,t){return function(e,t,n){for(var r=-1,a=e.criteria,i=t.criteria,o=a.length,s=n.length;++r<o;){var c=Ja(a[r],i[r]);if(c){if(r>=s)return c;var l=n[r];return c*("desc"==l?-1:1)}}return e.index-t.index}(e,t,n)})}function ba(e,t,n){for(var r=-1,a=t.length,i={};++r<a;){var o=t[r],s=Xr(e,o);n(s,o)&&Na(i,za(o,e),s)}return i}function ya(e,t,n,r){var a=r?ln:cn,i=-1,o=t.length,s=e;for(e===t&&(t=ni(t)),n&&(s=Jt(e,vn(n)));++i<o;)for(var c=0,l=t[i],u=n?n(l):l;(c=a(s,u,c,r))>-1;)s!==e&&Dt.call(s,c,1),Dt.call(e,c,1);return e}function Ea(e,t){for(var n=e?t.length:0,r=n-1;n--;){var a=t[n];if(n==r||a!==i){var i=a;Vi(a)?Dt.call(e,a,1):Fa(e,a)}}return e}function _a(e,t){return e+Bn(Kn()*(t-e+1))}function wa(e,t){var n="";if(!e||t<1||t>M)return n;do{t%2&&(n+=e),(t=Bn(t/2))&&(e+=e)}while(t);return n}function Sa(e,t){return ao(Ji(e,t,Rc),e+"")}function ka(e){return kr(fc(e))}function Ca(e,t){var n=fc(e);return so(n,Mr(t,0,n.length))}function Na(e,t,n,r){if(!Os(e))return e;for(var a=-1,o=(t=za(t,e)).length,s=o-1,c=e;null!=c&&++a<o;){var l=lo(t[a]),u=n;if(a!=s){var d=c[l];(u=r?r(d,l,c):i)===i&&(u=Os(d)?d:Vi(t[a+1])?[]:{})}xr(c,l,u),c=c[l]}return e}var Oa=rr?function(e,t){return rr.set(e,t),e}:Rc,xa=fn?function(e,t){return fn(e,"toString",{configurable:!0,enumerable:!1,value:Oc(t),writable:!0})}:Rc;function Ta(e){return so(fc(e))}function Ra(e,t,n){var a=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=r(i);++a<i;)o[a]=e[a+t];return o}function Pa(e,t){var n;return Br(e,function(e,r,a){return!(n=t(e,r,a))}),!!n}function Ia(e,t,n){var r=0,a=null==e?r:e.length;if("number"==typeof t&&t==t&&a<=B){for(;r<a;){var i=r+a>>>1,o=e[i];null!==o&&!Ds(o)&&(n?o<=t:o<t)?r=i+1:a=i}return a}return Aa(e,t,Rc,n)}function Aa(e,t,n,r){t=n(t);for(var a=0,o=null==e?0:e.length,s=t!=t,c=null===t,l=Ds(t),u=t===i;a<o;){var d=Bn((a+o)/2),p=n(e[d]),f=p!==i,h=null===p,m=p==p,g=Ds(p);if(s)var v=r||m;else v=u?m&&(r||f):c?m&&f&&(r||!h):l?m&&f&&!h&&(r||!g):!h&&!g&&(r?p<=t:p<t);v?a=d+1:o=d}return zn(o,F)}function Ma(e,t){for(var n=-1,r=e.length,a=0,i=[];++n<r;){var o=e[n],s=t?t(o):o;if(!n||!fs(s,c)){var c=s;i[a++]=0===o?0:o}}return i}function Da(e){return"number"==typeof e?e:Ds(e)?j:+e}function ja(e){if("string"==typeof e)return e;if(vs(e))return Jt(e,ja)+"";if(Ds(e))return pr?pr.call(e):"";var t=e+"";return"0"==t&&1/e==-A?"-0":t}function La(e,t,n){var r=-1,a=$t,i=e.length,s=!0,c=[],l=c;if(n)s=!1,a=Zt;else if(i>=o){var u=t?null:wi(e);if(u)return Tn(u);s=!1,a=yn,l=new _r}else l=t?[]:c;e:for(;++r<i;){var d=e[r],p=t?t(d):d;if(d=n||0!==d?d:0,s&&p==p){for(var f=l.length;f--;)if(l[f]===p)continue e;t&&l.push(p),c.push(d)}else a(l,p,n)||(l!==c&&l.push(p),c.push(d))}return c}function Fa(e,t){return null==(e=eo(e,t=za(t,e)))||delete e[lo(So(t))]}function Ba(e,t,n,r){return Na(e,t,n(Xr(e,t)),r)}function Ua(e,t,n,r){for(var a=e.length,i=r?a:-1;(r?i--:++i<a)&&t(e[i],i,e););return n?Ra(e,r?0:i,r?i+1:a):Ra(e,r?i+1:0,r?a:i)}function Ha(e,t){var n=e;return n instanceof vr&&(n=n.value()),tn(t,function(e,t){return t.func.apply(t.thisArg,en([e],t.args))},n)}function qa(e,t,n){var a=e.length;if(a<2)return a?La(e[0]):[];for(var i=-1,o=r(a);++i<a;)for(var s=e[i],c=-1;++c<a;)c!=i&&(o[i]=Fr(o[i]||s,e[c],t,n));return La(Wr(o,1),t,n)}function Ga(e,t,n){for(var r=-1,a=e.length,o=t.length,s={};++r<a;){var c=r<o?t[r]:i;n(s,e[r],c)}return s}function Wa(e){return Es(e)?e:[]}function Va(e){return"function"==typeof e?e:Rc}function za(e,t){return vs(e)?e:Yi(e,t)?[e]:co(Vs(e))}var Ya=Sa;function Qa(e,t,n){var r=e.length;return n=n===i?r:n,!t&&n>=r?e:Ra(e,t,n)}var Ka=Dn||function(e){return At.clearTimeout(e)};function Xa(e,t){if(t)return e.slice();var n=e.length,r=xt?xt(n):new e.constructor(n);return e.copy(r),r}function $a(e){var t=new e.constructor(e.byteLength);return new wt(t).set(new wt(e)),t}function Za(e,t){var n=t?$a(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Ja(e,t){if(e!==t){var n=e!==i,r=null===e,a=e==e,o=Ds(e),s=t!==i,c=null===t,l=t==t,u=Ds(t);if(!c&&!u&&!o&&e>t||o&&s&&l&&!c&&!u||r&&s&&l||!n&&l||!a)return 1;if(!r&&!o&&!u&&e<t||u&&n&&a&&!r&&!o||c&&n&&a||!s&&a||!l)return-1}return 0}function ei(e,t,n,a){for(var i=-1,o=e.length,s=n.length,c=-1,l=t.length,u=Vn(o-s,0),d=r(l+u),p=!a;++c<l;)d[c]=t[c];for(;++i<s;)(p||i<o)&&(d[n[i]]=e[i]);for(;u--;)d[c++]=e[i++];return d}function ti(e,t,n,a){for(var i=-1,o=e.length,s=-1,c=n.length,l=-1,u=t.length,d=Vn(o-c,0),p=r(d+u),f=!a;++i<d;)p[i]=e[i];for(var h=i;++l<u;)p[h+l]=t[l];for(;++s<c;)(f||i<o)&&(p[h+n[s]]=e[i++]);return p}function ni(e,t){var n=-1,a=e.length;for(t||(t=r(a));++n<a;)t[n]=e[n];return t}function ri(e,t,n,r){var a=!n;n||(n={});for(var o=-1,s=t.length;++o<s;){var c=t[o],l=r?r(n[c],e[c],c,n,e):i;l===i&&(l=e[c]),a?Ir(n,c,l):xr(n,c,l)}return n}function ai(e,t){return function(n,r){var a=vs(n)?zt:Rr,i=t?t():{};return a(n,e,Di(r,2),i)}}function ii(e){return Sa(function(t,n){var r=-1,a=n.length,o=a>1?n[a-1]:i,s=a>2?n[2]:i;for(o=e.length>3&&"function"==typeof o?(a--,o):i,s&&zi(n[0],n[1],s)&&(o=a<3?i:o,a=1),t=tt(t);++r<a;){var c=n[r];c&&e(t,c,r,o)}return t})}function oi(e,t){return function(n,r){if(null==n)return n;if(!ys(n))return e(n,r);for(var a=n.length,i=t?a:-1,o=tt(n);(t?i--:++i<a)&&!1!==r(o[i],i,o););return n}}function si(e){return function(t,n,r){for(var a=-1,i=tt(t),o=r(t),s=o.length;s--;){var c=o[e?s:++a];if(!1===n(i[c],c,i))break}return t}}function ci(e){return function(t){var n=Cn(t=Vs(t))?In(t):i,r=n?n[0]:t.charAt(0),a=n?Qa(n,1).join(""):t.slice(1);return r[e]()+a}}function li(e){return function(t){return tn(kc(gc(t).replace(bt,"")),e,"")}}function ui(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=hr(e.prototype),r=e.apply(n,t);return Os(r)?r:n}}function di(e){return function(t,n,r){var a=tt(t);if(!ys(t)){var o=Di(n,3);t=ac(t),n=function(e){return o(a[e],e,a)}}var s=e(t,n,r);return s>-1?a[o?t[s]:s]:i}}function pi(e){return Ti(function(t){var n=t.length,r=n,a=gr.prototype.thru;for(e&&t.reverse();r--;){var o=t[r];if("function"!=typeof o)throw new at(c);if(a&&!s&&"wrapper"==Ai(o))var s=new gr([],!0)}for(r=s?r:n;++r<n;){var l=Ai(o=t[r]),u="wrapper"==l?Ii(o):i;s=u&&Qi(u[0])&&u[1]==(k|E|w|C)&&!u[4].length&&1==u[9]?s[Ai(u[0])].apply(s,u[3]):1==o.length&&Qi(o)?s[l]():s.thru(o)}return function(){var e=arguments,r=e[0];if(s&&1==e.length&&vs(r))return s.plant(r).value();for(var a=0,i=n?t[a].apply(this,e):r;++a<n;)i=t[a].call(this,i);return i}})}function fi(e,t,n,a,o,s,c,l,u,d){var p=t&k,f=t&v,h=t&b,m=t&(E|_),g=t&N,y=h?i:ui(e);return function v(){for(var b=arguments.length,E=r(b),_=b;_--;)E[_]=arguments[_];if(m)var w=Mi(v),S=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}(E,w);if(a&&(E=ei(E,a,o,m)),s&&(E=ti(E,s,c,m)),b-=S,m&&b<d){var k=xn(E,w);return Ei(e,t,fi,v.placeholder,n,E,k,l,u,d-b)}var C=f?n:this,N=h?C[e]:e;return b=E.length,l?E=function(e,t){for(var n=e.length,r=zn(t.length,n),a=ni(e);r--;){var o=t[r];e[r]=Vi(o,n)?a[o]:i}return e}(E,l):g&&b>1&&E.reverse(),p&&u<b&&(E.length=u),this&&this!==At&&this instanceof v&&(N=y||ui(N)),N.apply(C,E)}}function hi(e,t){return function(n,r){return function(e,t,n,r){return Yr(e,function(e,a,i){t(r,n(e),a,i)}),r}(n,e,t(r),{})}}function mi(e,t){return function(n,r){var a;if(n===i&&r===i)return t;if(n!==i&&(a=n),r!==i){if(a===i)return r;"string"==typeof n||"string"==typeof r?(n=ja(n),r=ja(r)):(n=Da(n),r=Da(r)),a=e(n,r)}return a}}function gi(e){return Ti(function(t){return t=Jt(t,vn(Di())),Sa(function(n){var r=this;return e(t,function(e){return Vt(e,r,n)})})})}function vi(e,t){var n=(t=t===i?" ":ja(t)).length;if(n<2)return n?wa(t,e):t;var r=wa(t,Fn(e/Pn(t)));return Cn(t)?Qa(In(r),0,e).join(""):r.slice(0,e)}function bi(e){return function(t,n,a){return a&&"number"!=typeof a&&zi(t,n,a)&&(n=a=i),t=Us(t),n===i?(n=t,t=0):n=Us(n),function(e,t,n,a){for(var i=-1,o=Vn(Fn((t-e)/(n||1)),0),s=r(o);o--;)s[a?o:++i]=e,e+=n;return s}(t,n,a=a===i?t<n?1:-1:Us(a),e)}}function yi(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=Gs(t),n=Gs(n)),e(t,n)}}function Ei(e,t,n,r,a,o,s,c,l,u){var d=t&E;t|=d?w:S,(t&=~(d?S:w))&y||(t&=~(v|b));var p=[e,t,a,d?o:i,d?s:i,d?i:o,d?i:s,c,l,u],f=n.apply(i,p);return Qi(e)&&no(f,p),f.placeholder=r,io(f,e,t)}function _i(e){var t=et[e];return function(e,n){if(e=Gs(e),(n=null==n?0:zn(Hs(n),292))&&qn(e)){var r=(Vs(e)+"e").split("e");return+((r=(Vs(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var wi=er&&1/Tn(new er([,-0]))[1]==A?function(e){return new er(e)}:Dc;function Si(e){return function(t){var n=Hi(t);return n==X?Nn(t):n==ne?Rn(t):function(e,t){return Jt(t,function(t){return[t,e[t]]})}(t,e(t))}}function ki(e,t,n,a,o,s,l,u){var p=t&b;if(!p&&"function"!=typeof e)throw new at(c);var f=a?a.length:0;if(f||(t&=~(w|S),a=o=i),l=l===i?l:Vn(Hs(l),0),u=u===i?u:Hs(u),f-=o?o.length:0,t&S){var h=a,m=o;a=o=i}var g=p?i:Ii(e),N=[e,t,n,a,o,h,m,s,l,u];if(g&&function(e,t){var n=e[1],r=t[1],a=n|r,i=a<(v|b|k),o=r==k&&n==E||r==k&&n==C&&e[7].length<=t[8]||r==(k|C)&&t[7].length<=t[8]&&n==E;if(!i&&!o)return e;r&v&&(e[2]=t[2],a|=n&v?0:y);var s=t[3];if(s){var c=e[3];e[3]=c?ei(c,s,t[4]):s,e[4]=c?xn(e[3],d):t[4]}(s=t[5])&&(c=e[5],e[5]=c?ti(c,s,t[6]):s,e[6]=c?xn(e[5],d):t[6]),(s=t[7])&&(e[7]=s),r&k&&(e[8]=null==e[8]?t[8]:zn(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=a}(N,g),e=N[0],t=N[1],n=N[2],a=N[3],o=N[4],!(u=N[9]=N[9]===i?p?0:e.length:Vn(N[9]-f,0))&&t&(E|_)&&(t&=~(E|_)),t&&t!=v)O=t==E||t==_?function(e,t,n){var a=ui(e);return function o(){for(var s=arguments.length,c=r(s),l=s,u=Mi(o);l--;)c[l]=arguments[l];var d=s<3&&c[0]!==u&&c[s-1]!==u?[]:xn(c,u);return(s-=d.length)<n?Ei(e,t,fi,o.placeholder,i,c,d,i,i,n-s):Vt(this&&this!==At&&this instanceof o?a:e,this,c)}}(e,t,u):t!=w&&t!=(v|w)||o.length?fi.apply(i,N):function(e,t,n,a){var i=t&v,o=ui(e);return function t(){for(var s=-1,c=arguments.length,l=-1,u=a.length,d=r(u+c),p=this&&this!==At&&this instanceof t?o:e;++l<u;)d[l]=a[l];for(;c--;)d[l++]=arguments[++s];return Vt(p,i?n:this,d)}}(e,t,n,a);else var O=function(e,t,n){var r=t&v,a=ui(e);return function t(){return(this&&this!==At&&this instanceof t?a:e).apply(r?n:this,arguments)}}(e,t,n);return io((g?Oa:no)(O,N),e,t)}function Ci(e,t,n,r){return e===i||fs(e,st[n])&&!ut.call(r,n)?t:e}function Ni(e,t,n,r,a,o){return Os(e)&&Os(t)&&(o.set(t,e),ma(e,t,i,Ni,o),o.delete(t)),e}function Oi(e){return Ps(e)?i:e}function xi(e,t,n,r,a,o){var s=n&m,c=e.length,l=t.length;if(c!=l&&!(s&&l>c))return!1;var u=o.get(e);if(u&&o.get(t))return u==t;var d=-1,p=!0,f=n&g?new _r:i;for(o.set(e,t),o.set(t,e);++d<c;){var h=e[d],v=t[d];if(r)var b=s?r(v,h,d,t,e,o):r(h,v,d,e,t,o);if(b!==i){if(b)continue;p=!1;break}if(f){if(!rn(t,function(e,t){if(!yn(f,t)&&(h===e||a(h,e,n,r,o)))return f.push(t)})){p=!1;break}}else if(h!==v&&!a(h,v,n,r,o)){p=!1;break}}return o.delete(e),o.delete(t),p}function Ti(e){return ao(Ji(e,i,bo),e+"")}function Ri(e){return $r(e,ac,Bi)}function Pi(e){return $r(e,ic,Ui)}var Ii=rr?function(e){return rr.get(e)}:Dc;function Ai(e){for(var t=e.name+"",n=ar[t],r=ut.call(ar,t)?n.length:0;r--;){var a=n[r],i=a.func;if(null==i||i==e)return a.name}return t}function Mi(e){return(ut.call(fr,"placeholder")?fr:e).placeholder}function Di(){var e=fr.iteratee||Pc;return e=e===Pc?ca:e,arguments.length?e(arguments[0],arguments[1]):e}function ji(e,t){var n,r,a=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?a["string"==typeof t?"string":"hash"]:a.map}function Li(e){for(var t=ac(e),n=t.length;n--;){var r=t[n],a=e[r];t[n]=[r,a,$i(a)]}return t}function Fi(e,t){var n=function(e,t){return null==e?i:e[t]}(e,t);return sa(n)?n:i}var Bi=Un?function(e){return null==e?[]:(e=tt(e),Xt(Un(e),function(t){return Mt.call(e,t)}))}:qc,Ui=Un?function(e){for(var t=[];e;)en(t,Bi(e)),e=Pt(e);return t}:qc,Hi=Zr;function qi(e,t,n){for(var r=-1,a=(t=za(t,e)).length,i=!1;++r<a;){var o=lo(t[r]);if(!(i=null!=e&&n(e,o)))break;e=e[o]}return i||++r!=a?i:!!(a=null==e?0:e.length)&&Ns(a)&&Vi(o,a)&&(vs(e)||gs(e))}function Gi(e){return"function"!=typeof e.constructor||Xi(e)?{}:hr(Pt(e))}function Wi(e){return vs(e)||gs(e)||!!(Lt&&e&&e[Lt])}function Vi(e,t){var n=typeof e;return!!(t=null==t?M:t)&&("number"==n||"symbol"!=n&&Qe.test(e))&&e>-1&&e%1==0&&e<t}function zi(e,t,n){if(!Os(n))return!1;var r=typeof t;return!!("number"==r?ys(n)&&Vi(t,n.length):"string"==r&&t in n)&&fs(n[t],e)}function Yi(e,t){if(vs(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Ds(e))||Re.test(e)||!Te.test(e)||null!=t&&e in tt(t)}function Qi(e){var t=Ai(e),n=fr[t];if("function"!=typeof n||!(t in vr.prototype))return!1;if(e===n)return!0;var r=Ii(n);return!!r&&e===r[0]}($n&&Hi(new $n(new ArrayBuffer(1)))!=le||Zn&&Hi(new Zn)!=X||Jn&&"[object Promise]"!=Hi(Jn.resolve())||er&&Hi(new er)!=ne||tr&&Hi(new tr)!=oe)&&(Hi=function(e){var t=Zr(e),n=t==J?e.constructor:i,r=n?uo(n):"";if(r)switch(r){case ir:return le;case or:return X;case sr:return"[object Promise]";case cr:return ne;case lr:return oe}return t});var Ki=ct?ks:Gc;function Xi(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||st)}function $i(e){return e==e&&!Os(e)}function Zi(e,t){return function(n){return null!=n&&n[e]===t&&(t!==i||e in tt(n))}}function Ji(e,t,n){return t=Vn(t===i?e.length-1:t,0),function(){for(var a=arguments,i=-1,o=Vn(a.length-t,0),s=r(o);++i<o;)s[i]=a[t+i];i=-1;for(var c=r(t+1);++i<t;)c[i]=a[i];return c[t]=n(s),Vt(e,this,c)}}function eo(e,t){return t.length<2?e:Xr(e,Ra(t,0,-1))}function to(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var no=oo(Oa),ro=Ln||function(e,t){return At.setTimeout(e,t)},ao=oo(xa);function io(e,t,n){var r=t+"";return ao(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(Le,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return Yt(U,function(n){var r="_."+n[0];t&n[1]&&!$t(e,r)&&e.push(r)}),e.sort()}(function(e){var t=e.match(Fe);return t?t[1].split(Be):[]}(r),n)))}function oo(e){var t=0,n=0;return function(){var r=Yn(),a=R-(r-n);if(n=r,a>0){if(++t>=T)return arguments[0]}else t=0;return e.apply(i,arguments)}}function so(e,t){var n=-1,r=e.length,a=r-1;for(t=t===i?r:t;++n<t;){var o=_a(n,a),s=e[o];e[o]=e[n],e[n]=s}return e.length=t,e}var co=function(e){var t=ss(e,function(e){return n.size===u&&n.clear(),e}),n=t.cache;return t}(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Pe,function(e,n,r,a){t.push(r?a.replace(He,"$1"):n||e)}),t});function lo(e){if("string"==typeof e||Ds(e))return e;var t=e+"";return"0"==t&&1/e==-A?"-0":t}function uo(e){if(null!=e){try{return lt.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function po(e){if(e instanceof vr)return e.clone();var t=new gr(e.__wrapped__,e.__chain__);return t.__actions__=ni(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var fo=Sa(function(e,t){return Es(e)?Fr(e,Wr(t,1,Es,!0)):[]}),ho=Sa(function(e,t){var n=So(t);return Es(n)&&(n=i),Es(e)?Fr(e,Wr(t,1,Es,!0),Di(n,2)):[]}),mo=Sa(function(e,t){var n=So(t);return Es(n)&&(n=i),Es(e)?Fr(e,Wr(t,1,Es,!0),i,n):[]});function go(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var a=null==n?0:Hs(n);return a<0&&(a=Vn(r+a,0)),sn(e,Di(t,3),a)}function vo(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var a=r-1;return n!==i&&(a=Hs(n),a=n<0?Vn(r+a,0):zn(a,r-1)),sn(e,Di(t,3),a,!0)}function bo(e){return null!=e&&e.length?Wr(e,1):[]}function yo(e){return e&&e.length?e[0]:i}var Eo=Sa(function(e){var t=Jt(e,Wa);return t.length&&t[0]===e[0]?na(t):[]}),_o=Sa(function(e){var t=So(e),n=Jt(e,Wa);return t===So(n)?t=i:n.pop(),n.length&&n[0]===e[0]?na(n,Di(t,2)):[]}),wo=Sa(function(e){var t=So(e),n=Jt(e,Wa);return(t="function"==typeof t?t:i)&&n.pop(),n.length&&n[0]===e[0]?na(n,i,t):[]});function So(e){var t=null==e?0:e.length;return t?e[t-1]:i}var ko=Sa(Co);function Co(e,t){return e&&e.length&&t&&t.length?ya(e,t):e}var No=Ti(function(e,t){var n=null==e?0:e.length,r=Ar(e,t);return Ea(e,Jt(t,function(e){return Vi(e,n)?+e:e}).sort(Ja)),r});function Oo(e){return null==e?e:Xn.call(e)}var xo=Sa(function(e){return La(Wr(e,1,Es,!0))}),To=Sa(function(e){var t=So(e);return Es(t)&&(t=i),La(Wr(e,1,Es,!0),Di(t,2))}),Ro=Sa(function(e){var t=So(e);return t="function"==typeof t?t:i,La(Wr(e,1,Es,!0),i,t)});function Po(e){if(!e||!e.length)return[];var t=0;return e=Xt(e,function(e){if(Es(e))return t=Vn(e.length,t),!0}),gn(t,function(t){return Jt(e,pn(t))})}function Io(e,t){if(!e||!e.length)return[];var n=Po(e);return null==t?n:Jt(n,function(e){return Vt(t,i,e)})}var Ao=Sa(function(e,t){return Es(e)?Fr(e,t):[]}),Mo=Sa(function(e){return qa(Xt(e,Es))}),Do=Sa(function(e){var t=So(e);return Es(t)&&(t=i),qa(Xt(e,Es),Di(t,2))}),jo=Sa(function(e){var t=So(e);return t="function"==typeof t?t:i,qa(Xt(e,Es),i,t)}),Lo=Sa(Po);var Fo=Sa(function(e){var t=e.length,n=t>1?e[t-1]:i;return n="function"==typeof n?(e.pop(),n):i,Io(e,n)});function Bo(e){var t=fr(e);return t.__chain__=!0,t}function Uo(e,t){return t(e)}var Ho=Ti(function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,a=function(t){return Ar(t,e)};return!(t>1||this.__actions__.length)&&r instanceof vr&&Vi(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:Uo,args:[a],thisArg:i}),new gr(r,this.__chain__).thru(function(e){return t&&!e.length&&e.push(i),e})):this.thru(a)});var qo=ai(function(e,t,n){ut.call(e,n)?++e[n]:Ir(e,n,1)});var Go=di(go),Wo=di(vo);function Vo(e,t){return(vs(e)?Yt:Br)(e,Di(t,3))}function zo(e,t){return(vs(e)?Qt:Ur)(e,Di(t,3))}var Yo=ai(function(e,t,n){ut.call(e,n)?e[n].push(t):Ir(e,n,[t])});var Qo=Sa(function(e,t,n){var a=-1,i="function"==typeof t,o=ys(e)?r(e.length):[];return Br(e,function(e){o[++a]=i?Vt(t,e,n):ra(e,t,n)}),o}),Ko=ai(function(e,t,n){Ir(e,n,t)});function Xo(e,t){return(vs(e)?Jt:pa)(e,Di(t,3))}var $o=ai(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]});var Zo=Sa(function(e,t){if(null==e)return[];var n=t.length;return n>1&&zi(e,t[0],t[1])?t=[]:n>2&&zi(t[0],t[1],t[2])&&(t=[t[0]]),va(e,Wr(t,1),[])}),Jo=jn||function(){return At.Date.now()};function es(e,t,n){return t=n?i:t,t=e&&null==t?e.length:t,ki(e,k,i,i,i,i,t)}function ts(e,t){var n;if("function"!=typeof t)throw new at(c);return e=Hs(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=i),n}}var ns=Sa(function(e,t,n){var r=v;if(n.length){var a=xn(n,Mi(ns));r|=w}return ki(e,r,t,n,a)}),rs=Sa(function(e,t,n){var r=v|b;if(n.length){var a=xn(n,Mi(rs));r|=w}return ki(t,r,e,n,a)});function as(e,t,n){var r,a,o,s,l,u,d=0,p=!1,f=!1,h=!0;if("function"!=typeof e)throw new at(c);function m(t){var n=r,o=a;return r=a=i,d=t,s=e.apply(o,n)}function g(e){var n=e-u;return u===i||n>=t||n<0||f&&e-d>=o}function v(){var e=Jo();if(g(e))return b(e);l=ro(v,function(e){var n=t-(e-u);return f?zn(n,o-(e-d)):n}(e))}function b(e){return l=i,h&&r?m(e):(r=a=i,s)}function y(){var e=Jo(),n=g(e);if(r=arguments,a=this,u=e,n){if(l===i)return function(e){return d=e,l=ro(v,t),p?m(e):s}(u);if(f)return Ka(l),l=ro(v,t),m(u)}return l===i&&(l=ro(v,t)),s}return t=Gs(t)||0,Os(n)&&(p=!!n.leading,o=(f="maxWait"in n)?Vn(Gs(n.maxWait)||0,t):o,h="trailing"in n?!!n.trailing:h),y.cancel=function(){l!==i&&Ka(l),d=0,r=u=a=l=i},y.flush=function(){return l===i?s:b(Jo())},y}var is=Sa(function(e,t){return Lr(e,1,t)}),os=Sa(function(e,t,n){return Lr(e,Gs(t)||0,n)});function ss(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new at(c);var n=function(){var r=arguments,a=t?t.apply(this,r):r[0],i=n.cache;if(i.has(a))return i.get(a);var o=e.apply(this,r);return n.cache=i.set(a,o)||i,o};return n.cache=new(ss.Cache||Er),n}function cs(e){if("function"!=typeof e)throw new at(c);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}ss.Cache=Er;var ls=Ya(function(e,t){var n=(t=1==t.length&&vs(t[0])?Jt(t[0],vn(Di())):Jt(Wr(t,1),vn(Di()))).length;return Sa(function(r){for(var a=-1,i=zn(r.length,n);++a<i;)r[a]=t[a].call(this,r[a]);return Vt(e,this,r)})}),us=Sa(function(e,t){var n=xn(t,Mi(us));return ki(e,w,i,t,n)}),ds=Sa(function(e,t){var n=xn(t,Mi(ds));return ki(e,S,i,t,n)}),ps=Ti(function(e,t){return ki(e,C,i,i,i,t)});function fs(e,t){return e===t||e!=e&&t!=t}var hs=yi(Jr),ms=yi(function(e,t){return e>=t}),gs=aa(function(){return arguments}())?aa:function(e){return xs(e)&&ut.call(e,"callee")&&!Mt.call(e,"callee")},vs=r.isArray,bs=Bt?vn(Bt):function(e){return xs(e)&&Zr(e)==ce};function ys(e){return null!=e&&Ns(e.length)&&!ks(e)}function Es(e){return xs(e)&&ys(e)}var _s=Hn||Gc,ws=Ut?vn(Ut):function(e){return xs(e)&&Zr(e)==V};function Ss(e){if(!xs(e))return!1;var t=Zr(e);return t==Y||t==z||"string"==typeof e.message&&"string"==typeof e.name&&!Ps(e)}function ks(e){if(!Os(e))return!1;var t=Zr(e);return t==Q||t==K||t==G||t==ee}function Cs(e){return"number"==typeof e&&e==Hs(e)}function Ns(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=M}function Os(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function xs(e){return null!=e&&"object"==typeof e}var Ts=Ht?vn(Ht):function(e){return xs(e)&&Hi(e)==X};function Rs(e){return"number"==typeof e||xs(e)&&Zr(e)==$}function Ps(e){if(!xs(e)||Zr(e)!=J)return!1;var t=Pt(e);if(null===t)return!0;var n=ut.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&lt.call(n)==ht}var Is=qt?vn(qt):function(e){return xs(e)&&Zr(e)==te};var As=Gt?vn(Gt):function(e){return xs(e)&&Hi(e)==ne};function Ms(e){return"string"==typeof e||!vs(e)&&xs(e)&&Zr(e)==re}function Ds(e){return"symbol"==typeof e||xs(e)&&Zr(e)==ae}var js=Wt?vn(Wt):function(e){return xs(e)&&Ns(e.length)&&!!Nt[Zr(e)]};var Ls=yi(da),Fs=yi(function(e,t){return e<=t});function Bs(e){if(!e)return[];if(ys(e))return Ms(e)?In(e):ni(e);if(Ft&&e[Ft])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Ft]());var t=Hi(e);return(t==X?Nn:t==ne?Tn:fc)(e)}function Us(e){return e?(e=Gs(e))===A||e===-A?(e<0?-1:1)*D:e==e?e:0:0===e?e:0}function Hs(e){var t=Us(e),n=t%1;return t==t?n?t-n:t:0}function qs(e){return e?Mr(Hs(e),0,L):0}function Gs(e){if("number"==typeof e)return e;if(Ds(e))return j;if(Os(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Os(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(Me,"");var n=Ve.test(e);return n||Ye.test(e)?Rt(e.slice(2),n?2:8):We.test(e)?j:+e}function Ws(e){return ri(e,ic(e))}function Vs(e){return null==e?"":ja(e)}var zs=ii(function(e,t){if(Xi(t)||ys(t))ri(t,ac(t),e);else for(var n in t)ut.call(t,n)&&xr(e,n,t[n])}),Ys=ii(function(e,t){ri(t,ic(t),e)}),Qs=ii(function(e,t,n,r){ri(t,ic(t),e,r)}),Ks=ii(function(e,t,n,r){ri(t,ac(t),e,r)}),Xs=Ti(Ar);var $s=Sa(function(e,t){e=tt(e);var n=-1,r=t.length,a=r>2?t[2]:i;for(a&&zi(t[0],t[1],a)&&(r=1);++n<r;)for(var o=t[n],s=ic(o),c=-1,l=s.length;++c<l;){var u=s[c],d=e[u];(d===i||fs(d,st[u])&&!ut.call(e,u))&&(e[u]=o[u])}return e}),Zs=Sa(function(e){return e.push(i,Ni),Vt(sc,i,e)});function Js(e,t,n){var r=null==e?i:Xr(e,t);return r===i?n:r}function ec(e,t){return null!=e&&qi(e,t,ta)}var tc=hi(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=ft.call(t)),e[t]=n},Oc(Rc)),nc=hi(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=ft.call(t)),ut.call(e,t)?e[t].push(n):e[t]=[n]},Di),rc=Sa(ra);function ac(e){return ys(e)?Sr(e):la(e)}function ic(e){return ys(e)?Sr(e,!0):ua(e)}var oc=ii(function(e,t,n){ma(e,t,n)}),sc=ii(function(e,t,n,r){ma(e,t,n,r)}),cc=Ti(function(e,t){var n={};if(null==e)return n;var r=!1;t=Jt(t,function(t){return t=za(t,e),r||(r=t.length>1),t}),ri(e,Pi(e),n),r&&(n=Dr(n,p|f|h,Oi));for(var a=t.length;a--;)Fa(n,t[a]);return n});var lc=Ti(function(e,t){return null==e?{}:function(e,t){return ba(e,t,function(t,n){return ec(e,n)})}(e,t)});function uc(e,t){if(null==e)return{};var n=Jt(Pi(e),function(e){return[e]});return t=Di(t),ba(e,n,function(e,n){return t(e,n[0])})}var dc=Si(ac),pc=Si(ic);function fc(e){return null==e?[]:bn(e,ac(e))}var hc=li(function(e,t,n){return t=t.toLowerCase(),e+(n?mc(t):t)});function mc(e){return Sc(Vs(e).toLowerCase())}function gc(e){return(e=Vs(e))&&e.replace(Ke,wn).replace(yt,"")}var vc=li(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),bc=li(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),yc=ci("toLowerCase");var Ec=li(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()});var _c=li(function(e,t,n){return e+(n?" ":"")+Sc(t)});var wc=li(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),Sc=ci("toUpperCase");function kc(e,t,n){return e=Vs(e),(t=n?i:t)===i?function(e){return St.test(e)}(e)?function(e){return e.match(_t)||[]}(e):function(e){return e.match(Ue)||[]}(e):e.match(t)||[]}var Cc=Sa(function(e,t){try{return Vt(e,i,t)}catch(e){return Ss(e)?e:new Ze(e)}}),Nc=Ti(function(e,t){return Yt(t,function(t){t=lo(t),Ir(e,t,ns(e[t],e))}),e});function Oc(e){return function(){return e}}var xc=pi(),Tc=pi(!0);function Rc(e){return e}function Pc(e){return ca("function"==typeof e?e:Dr(e,p))}var Ic=Sa(function(e,t){return function(n){return ra(n,e,t)}}),Ac=Sa(function(e,t){return function(n){return ra(e,n,t)}});function Mc(e,t,n){var r=ac(t),a=Kr(t,r);null!=n||Os(t)&&(a.length||!r.length)||(n=t,t=e,e=this,a=Kr(t,ac(t)));var i=!(Os(n)&&"chain"in n&&!n.chain),o=ks(e);return Yt(a,function(n){var r=t[n];e[n]=r,o&&(e.prototype[n]=function(){var t=this.__chain__;if(i||t){var n=e(this.__wrapped__);return(n.__actions__=ni(this.__actions__)).push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,en([this.value()],arguments))})}),e}function Dc(){}var jc=gi(Jt),Lc=gi(Kt),Fc=gi(rn);function Bc(e){return Yi(e)?pn(lo(e)):function(e){return function(t){return Xr(t,e)}}(e)}var Uc=bi(),Hc=bi(!0);function qc(){return[]}function Gc(){return!1}var Wc=mi(function(e,t){return e+t},0),Vc=_i("ceil"),zc=mi(function(e,t){return e/t},1),Yc=_i("floor");var Qc,Kc=mi(function(e,t){return e*t},1),Xc=_i("round"),$c=mi(function(e,t){return e-t},0);return fr.after=function(e,t){if("function"!=typeof t)throw new at(c);return e=Hs(e),function(){if(--e<1)return t.apply(this,arguments)}},fr.ary=es,fr.assign=zs,fr.assignIn=Ys,fr.assignInWith=Qs,fr.assignWith=Ks,fr.at=Xs,fr.before=ts,fr.bind=ns,fr.bindAll=Nc,fr.bindKey=rs,fr.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return vs(e)?e:[e]},fr.chain=Bo,fr.chunk=function(e,t,n){t=(n?zi(e,t,n):t===i)?1:Vn(Hs(t),0);var a=null==e?0:e.length;if(!a||t<1)return[];for(var o=0,s=0,c=r(Fn(a/t));o<a;)c[s++]=Ra(e,o,o+=t);return c},fr.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,a=[];++t<n;){var i=e[t];i&&(a[r++]=i)}return a},fr.concat=function(){var e=arguments.length;if(!e)return[];for(var t=r(e-1),n=arguments[0],a=e;a--;)t[a-1]=arguments[a];return en(vs(n)?ni(n):[n],Wr(t,1))},fr.cond=function(e){var t=null==e?0:e.length,n=Di();return e=t?Jt(e,function(e){if("function"!=typeof e[1])throw new at(c);return[n(e[0]),e[1]]}):[],Sa(function(n){for(var r=-1;++r<t;){var a=e[r];if(Vt(a[0],this,n))return Vt(a[1],this,n)}})},fr.conforms=function(e){return function(e){var t=ac(e);return function(n){return jr(n,e,t)}}(Dr(e,p))},fr.constant=Oc,fr.countBy=qo,fr.create=function(e,t){var n=hr(e);return null==t?n:Pr(n,t)},fr.curry=function e(t,n,r){var a=ki(t,E,i,i,i,i,i,n=r?i:n);return a.placeholder=e.placeholder,a},fr.curryRight=function e(t,n,r){var a=ki(t,_,i,i,i,i,i,n=r?i:n);return a.placeholder=e.placeholder,a},fr.debounce=as,fr.defaults=$s,fr.defaultsDeep=Zs,fr.defer=is,fr.delay=os,fr.difference=fo,fr.differenceBy=ho,fr.differenceWith=mo,fr.drop=function(e,t,n){var r=null==e?0:e.length;return r?Ra(e,(t=n||t===i?1:Hs(t))<0?0:t,r):[]},fr.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?Ra(e,0,(t=r-(t=n||t===i?1:Hs(t)))<0?0:t):[]},fr.dropRightWhile=function(e,t){return e&&e.length?Ua(e,Di(t,3),!0,!0):[]},fr.dropWhile=function(e,t){return e&&e.length?Ua(e,Di(t,3),!0):[]},fr.fill=function(e,t,n,r){var a=null==e?0:e.length;return a?(n&&"number"!=typeof n&&zi(e,t,n)&&(n=0,r=a),function(e,t,n,r){var a=e.length;for((n=Hs(n))<0&&(n=-n>a?0:a+n),(r=r===i||r>a?a:Hs(r))<0&&(r+=a),r=n>r?0:qs(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},fr.filter=function(e,t){return(vs(e)?Xt:Gr)(e,Di(t,3))},fr.flatMap=function(e,t){return Wr(Xo(e,t),1)},fr.flatMapDeep=function(e,t){return Wr(Xo(e,t),A)},fr.flatMapDepth=function(e,t,n){return n=n===i?1:Hs(n),Wr(Xo(e,t),n)},fr.flatten=bo,fr.flattenDeep=function(e){return null!=e&&e.length?Wr(e,A):[]},fr.flattenDepth=function(e,t){return null!=e&&e.length?Wr(e,t=t===i?1:Hs(t)):[]},fr.flip=function(e){return ki(e,N)},fr.flow=xc,fr.flowRight=Tc,fr.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var a=e[t];r[a[0]]=a[1]}return r},fr.functions=function(e){return null==e?[]:Kr(e,ac(e))},fr.functionsIn=function(e){return null==e?[]:Kr(e,ic(e))},fr.groupBy=Yo,fr.initial=function(e){return null!=e&&e.length?Ra(e,0,-1):[]},fr.intersection=Eo,fr.intersectionBy=_o,fr.intersectionWith=wo,fr.invert=tc,fr.invertBy=nc,fr.invokeMap=Qo,fr.iteratee=Pc,fr.keyBy=Ko,fr.keys=ac,fr.keysIn=ic,fr.map=Xo,fr.mapKeys=function(e,t){var n={};return t=Di(t,3),Yr(e,function(e,r,a){Ir(n,t(e,r,a),e)}),n},fr.mapValues=function(e,t){var n={};return t=Di(t,3),Yr(e,function(e,r,a){Ir(n,r,t(e,r,a))}),n},fr.matches=function(e){return fa(Dr(e,p))},fr.matchesProperty=function(e,t){return ha(e,Dr(t,p))},fr.memoize=ss,fr.merge=oc,fr.mergeWith=sc,fr.method=Ic,fr.methodOf=Ac,fr.mixin=Mc,fr.negate=cs,fr.nthArg=function(e){return e=Hs(e),Sa(function(t){return ga(t,e)})},fr.omit=cc,fr.omitBy=function(e,t){return uc(e,cs(Di(t)))},fr.once=function(e){return ts(2,e)},fr.orderBy=function(e,t,n,r){return null==e?[]:(vs(t)||(t=null==t?[]:[t]),vs(n=r?i:n)||(n=null==n?[]:[n]),va(e,t,n))},fr.over=jc,fr.overArgs=ls,fr.overEvery=Lc,fr.overSome=Fc,fr.partial=us,fr.partialRight=ds,fr.partition=$o,fr.pick=lc,fr.pickBy=uc,fr.property=Bc,fr.propertyOf=function(e){return function(t){return null==e?i:Xr(e,t)}},fr.pull=ko,fr.pullAll=Co,fr.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?ya(e,t,Di(n,2)):e},fr.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?ya(e,t,i,n):e},fr.pullAt=No,fr.range=Uc,fr.rangeRight=Hc,fr.rearg=ps,fr.reject=function(e,t){return(vs(e)?Xt:Gr)(e,cs(Di(t,3)))},fr.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,a=[],i=e.length;for(t=Di(t,3);++r<i;){var o=e[r];t(o,r,e)&&(n.push(o),a.push(r))}return Ea(e,a),n},fr.rest=function(e,t){if("function"!=typeof e)throw new at(c);return Sa(e,t=t===i?t:Hs(t))},fr.reverse=Oo,fr.sampleSize=function(e,t,n){return t=(n?zi(e,t,n):t===i)?1:Hs(t),(vs(e)?Cr:Ca)(e,t)},fr.set=function(e,t,n){return null==e?e:Na(e,t,n)},fr.setWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:Na(e,t,n,r)},fr.shuffle=function(e){return(vs(e)?Nr:Ta)(e)},fr.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&zi(e,t,n)?(t=0,n=r):(t=null==t?0:Hs(t),n=n===i?r:Hs(n)),Ra(e,t,n)):[]},fr.sortBy=Zo,fr.sortedUniq=function(e){return e&&e.length?Ma(e):[]},fr.sortedUniqBy=function(e,t){return e&&e.length?Ma(e,Di(t,2)):[]},fr.split=function(e,t,n){return n&&"number"!=typeof n&&zi(e,t,n)&&(t=n=i),(n=n===i?L:n>>>0)?(e=Vs(e))&&("string"==typeof t||null!=t&&!Is(t))&&!(t=ja(t))&&Cn(e)?Qa(In(e),0,n):e.split(t,n):[]},fr.spread=function(e,t){if("function"!=typeof e)throw new at(c);return t=null==t?0:Vn(Hs(t),0),Sa(function(n){var r=n[t],a=Qa(n,0,t);return r&&en(a,r),Vt(e,this,a)})},fr.tail=function(e){var t=null==e?0:e.length;return t?Ra(e,1,t):[]},fr.take=function(e,t,n){return e&&e.length?Ra(e,0,(t=n||t===i?1:Hs(t))<0?0:t):[]},fr.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?Ra(e,(t=r-(t=n||t===i?1:Hs(t)))<0?0:t,r):[]},fr.takeRightWhile=function(e,t){return e&&e.length?Ua(e,Di(t,3),!1,!0):[]},fr.takeWhile=function(e,t){return e&&e.length?Ua(e,Di(t,3)):[]},fr.tap=function(e,t){return t(e),e},fr.throttle=function(e,t,n){var r=!0,a=!0;if("function"!=typeof e)throw new at(c);return Os(n)&&(r="leading"in n?!!n.leading:r,a="trailing"in n?!!n.trailing:a),as(e,t,{leading:r,maxWait:t,trailing:a})},fr.thru=Uo,fr.toArray=Bs,fr.toPairs=dc,fr.toPairsIn=pc,fr.toPath=function(e){return vs(e)?Jt(e,lo):Ds(e)?[e]:ni(co(Vs(e)))},fr.toPlainObject=Ws,fr.transform=function(e,t,n){var r=vs(e),a=r||_s(e)||js(e);if(t=Di(t,4),null==n){var i=e&&e.constructor;n=a?r?new i:[]:Os(e)&&ks(i)?hr(Pt(e)):{}}return(a?Yt:Yr)(e,function(e,r,a){return t(n,e,r,a)}),n},fr.unary=function(e){return es(e,1)},fr.union=xo,fr.unionBy=To,fr.unionWith=Ro,fr.uniq=function(e){return e&&e.length?La(e):[]},fr.uniqBy=function(e,t){return e&&e.length?La(e,Di(t,2)):[]},fr.uniqWith=function(e,t){return t="function"==typeof t?t:i,e&&e.length?La(e,i,t):[]},fr.unset=function(e,t){return null==e||Fa(e,t)},fr.unzip=Po,fr.unzipWith=Io,fr.update=function(e,t,n){return null==e?e:Ba(e,t,Va(n))},fr.updateWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:Ba(e,t,Va(n),r)},fr.values=fc,fr.valuesIn=function(e){return null==e?[]:bn(e,ic(e))},fr.without=Ao,fr.words=kc,fr.wrap=function(e,t){return us(Va(t),e)},fr.xor=Mo,fr.xorBy=Do,fr.xorWith=jo,fr.zip=Lo,fr.zipObject=function(e,t){return Ga(e||[],t||[],xr)},fr.zipObjectDeep=function(e,t){return Ga(e||[],t||[],Na)},fr.zipWith=Fo,fr.entries=dc,fr.entriesIn=pc,fr.extend=Ys,fr.extendWith=Qs,Mc(fr,fr),fr.add=Wc,fr.attempt=Cc,fr.camelCase=hc,fr.capitalize=mc,fr.ceil=Vc,fr.clamp=function(e,t,n){return n===i&&(n=t,t=i),n!==i&&(n=(n=Gs(n))==n?n:0),t!==i&&(t=(t=Gs(t))==t?t:0),Mr(Gs(e),t,n)},fr.clone=function(e){return Dr(e,h)},fr.cloneDeep=function(e){return Dr(e,p|h)},fr.cloneDeepWith=function(e,t){return Dr(e,p|h,t="function"==typeof t?t:i)},fr.cloneWith=function(e,t){return Dr(e,h,t="function"==typeof t?t:i)},fr.conformsTo=function(e,t){return null==t||jr(e,t,ac(t))},fr.deburr=gc,fr.defaultTo=function(e,t){return null==e||e!=e?t:e},fr.divide=zc,fr.endsWith=function(e,t,n){e=Vs(e),t=ja(t);var r=e.length,a=n=n===i?r:Mr(Hs(n),0,r);return(n-=t.length)>=0&&e.slice(n,a)==t},fr.eq=fs,fr.escape=function(e){return(e=Vs(e))&&Ce.test(e)?e.replace(Se,Sn):e},fr.escapeRegExp=function(e){return(e=Vs(e))&&Ae.test(e)?e.replace(Ie,"\\$&"):e},fr.every=function(e,t,n){var r=vs(e)?Kt:Hr;return n&&zi(e,t,n)&&(t=i),r(e,Di(t,3))},fr.find=Go,fr.findIndex=go,fr.findKey=function(e,t){return on(e,Di(t,3),Yr)},fr.findLast=Wo,fr.findLastIndex=vo,fr.findLastKey=function(e,t){return on(e,Di(t,3),Qr)},fr.floor=Yc,fr.forEach=Vo,fr.forEachRight=zo,fr.forIn=function(e,t){return null==e?e:Vr(e,Di(t,3),ic)},fr.forInRight=function(e,t){return null==e?e:zr(e,Di(t,3),ic)},fr.forOwn=function(e,t){return e&&Yr(e,Di(t,3))},fr.forOwnRight=function(e,t){return e&&Qr(e,Di(t,3))},fr.get=Js,fr.gt=hs,fr.gte=ms,fr.has=function(e,t){return null!=e&&qi(e,t,ea)},fr.hasIn=ec,fr.head=yo,fr.identity=Rc,fr.includes=function(e,t,n,r){e=ys(e)?e:fc(e),n=n&&!r?Hs(n):0;var a=e.length;return n<0&&(n=Vn(a+n,0)),Ms(e)?n<=a&&e.indexOf(t,n)>-1:!!a&&cn(e,t,n)>-1},fr.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var a=null==n?0:Hs(n);return a<0&&(a=Vn(r+a,0)),cn(e,t,a)},fr.inRange=function(e,t,n){return t=Us(t),n===i?(n=t,t=0):n=Us(n),function(e,t,n){return e>=zn(t,n)&&e<Vn(t,n)}(e=Gs(e),t,n)},fr.invoke=rc,fr.isArguments=gs,fr.isArray=vs,fr.isArrayBuffer=bs,fr.isArrayLike=ys,fr.isArrayLikeObject=Es,fr.isBoolean=function(e){return!0===e||!1===e||xs(e)&&Zr(e)==W},fr.isBuffer=_s,fr.isDate=ws,fr.isElement=function(e){return xs(e)&&1===e.nodeType&&!Ps(e)},fr.isEmpty=function(e){if(null==e)return!0;if(ys(e)&&(vs(e)||"string"==typeof e||"function"==typeof e.splice||_s(e)||js(e)||gs(e)))return!e.length;var t=Hi(e);if(t==X||t==ne)return!e.size;if(Xi(e))return!la(e).length;for(var n in e)if(ut.call(e,n))return!1;return!0},fr.isEqual=function(e,t){return ia(e,t)},fr.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:i)?n(e,t):i;return r===i?ia(e,t,i,n):!!r},fr.isError=Ss,fr.isFinite=function(e){return"number"==typeof e&&qn(e)},fr.isFunction=ks,fr.isInteger=Cs,fr.isLength=Ns,fr.isMap=Ts,fr.isMatch=function(e,t){return e===t||oa(e,t,Li(t))},fr.isMatchWith=function(e,t,n){return n="function"==typeof n?n:i,oa(e,t,Li(t),n)},fr.isNaN=function(e){return Rs(e)&&e!=+e},fr.isNative=function(e){if(Ki(e))throw new Ze(s);return sa(e)},fr.isNil=function(e){return null==e},fr.isNull=function(e){return null===e},fr.isNumber=Rs,fr.isObject=Os,fr.isObjectLike=xs,fr.isPlainObject=Ps,fr.isRegExp=Is,fr.isSafeInteger=function(e){return Cs(e)&&e>=-M&&e<=M},fr.isSet=As,fr.isString=Ms,fr.isSymbol=Ds,fr.isTypedArray=js,fr.isUndefined=function(e){return e===i},fr.isWeakMap=function(e){return xs(e)&&Hi(e)==oe},fr.isWeakSet=function(e){return xs(e)&&Zr(e)==se},fr.join=function(e,t){return null==e?"":Gn.call(e,t)},fr.kebabCase=vc,fr.last=So,fr.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var a=r;return n!==i&&(a=(a=Hs(n))<0?Vn(r+a,0):zn(a,r-1)),t==t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,a):sn(e,un,a,!0)},fr.lowerCase=bc,fr.lowerFirst=yc,fr.lt=Ls,fr.lte=Fs,fr.max=function(e){return e&&e.length?qr(e,Rc,Jr):i},fr.maxBy=function(e,t){return e&&e.length?qr(e,Di(t,2),Jr):i},fr.mean=function(e){return dn(e,Rc)},fr.meanBy=function(e,t){return dn(e,Di(t,2))},fr.min=function(e){return e&&e.length?qr(e,Rc,da):i},fr.minBy=function(e,t){return e&&e.length?qr(e,Di(t,2),da):i},fr.stubArray=qc,fr.stubFalse=Gc,fr.stubObject=function(){return{}},fr.stubString=function(){return""},fr.stubTrue=function(){return!0},fr.multiply=Kc,fr.nth=function(e,t){return e&&e.length?ga(e,Hs(t)):i},fr.noConflict=function(){return At._===this&&(At._=mt),this},fr.noop=Dc,fr.now=Jo,fr.pad=function(e,t,n){e=Vs(e);var r=(t=Hs(t))?Pn(e):0;if(!t||r>=t)return e;var a=(t-r)/2;return vi(Bn(a),n)+e+vi(Fn(a),n)},fr.padEnd=function(e,t,n){e=Vs(e);var r=(t=Hs(t))?Pn(e):0;return t&&r<t?e+vi(t-r,n):e},fr.padStart=function(e,t,n){e=Vs(e);var r=(t=Hs(t))?Pn(e):0;return t&&r<t?vi(t-r,n)+e:e},fr.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),Qn(Vs(e).replace(De,""),t||0)},fr.random=function(e,t,n){if(n&&"boolean"!=typeof n&&zi(e,t,n)&&(t=n=i),n===i&&("boolean"==typeof t?(n=t,t=i):"boolean"==typeof e&&(n=e,e=i)),e===i&&t===i?(e=0,t=1):(e=Us(e),t===i?(t=e,e=0):t=Us(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var a=Kn();return zn(e+a*(t-e+Tt("1e-"+((a+"").length-1))),t)}return _a(e,t)},fr.reduce=function(e,t,n){var r=vs(e)?tn:hn,a=arguments.length<3;return r(e,Di(t,4),n,a,Br)},fr.reduceRight=function(e,t,n){var r=vs(e)?nn:hn,a=arguments.length<3;return r(e,Di(t,4),n,a,Ur)},fr.repeat=function(e,t,n){return t=(n?zi(e,t,n):t===i)?1:Hs(t),wa(Vs(e),t)},fr.replace=function(){var e=arguments,t=Vs(e[0]);return e.length<3?t:t.replace(e[1],e[2])},fr.result=function(e,t,n){var r=-1,a=(t=za(t,e)).length;for(a||(a=1,e=i);++r<a;){var o=null==e?i:e[lo(t[r])];o===i&&(r=a,o=n),e=ks(o)?o.call(e):o}return e},fr.round=Xc,fr.runInContext=e,fr.sample=function(e){return(vs(e)?kr:ka)(e)},fr.size=function(e){if(null==e)return 0;if(ys(e))return Ms(e)?Pn(e):e.length;var t=Hi(e);return t==X||t==ne?e.size:la(e).length},fr.snakeCase=Ec,fr.some=function(e,t,n){var r=vs(e)?rn:Pa;return n&&zi(e,t,n)&&(t=i),r(e,Di(t,3))},fr.sortedIndex=function(e,t){return Ia(e,t)},fr.sortedIndexBy=function(e,t,n){return Aa(e,t,Di(n,2))},fr.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=Ia(e,t);if(r<n&&fs(e[r],t))return r}return-1},fr.sortedLastIndex=function(e,t){return Ia(e,t,!0)},fr.sortedLastIndexBy=function(e,t,n){return Aa(e,t,Di(n,2),!0)},fr.sortedLastIndexOf=function(e,t){if(null!=e&&e.length){var n=Ia(e,t,!0)-1;if(fs(e[n],t))return n}return-1},fr.startCase=_c,fr.startsWith=function(e,t,n){return e=Vs(e),n=null==n?0:Mr(Hs(n),0,e.length),t=ja(t),e.slice(n,n+t.length)==t},fr.subtract=$c,fr.sum=function(e){return e&&e.length?mn(e,Rc):0},fr.sumBy=function(e,t){return e&&e.length?mn(e,Di(t,2)):0},fr.template=function(e,t,n){var r=fr.templateSettings;n&&zi(e,t,n)&&(t=i),e=Vs(e),t=Qs({},t,r,Ci);var a,o,s=Qs({},t.imports,r.imports,Ci),c=ac(s),l=bn(s,c),u=0,d=t.interpolate||Xe,p="__p += '",f=nt((t.escape||Xe).source+"|"+d.source+"|"+(d===xe?qe:Xe).source+"|"+(t.evaluate||Xe).source+"|$","g"),h="//# sourceURL="+(ut.call(t,"sourceURL")?(t.sourceURL+"").replace(/[\r\n]/g," "):"lodash.templateSources["+ ++Ct+"]")+"\n";e.replace(f,function(t,n,r,i,s,c){return r||(r=i),p+=e.slice(u,c).replace($e,kn),n&&(a=!0,p+="' +\n__e("+n+") +\n'"),s&&(o=!0,p+="';\n"+s+";\n__p += '"),r&&(p+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),u=c+t.length,t}),p+="';\n";var m=ut.call(t,"variable")&&t.variable;m||(p="with (obj) {\n"+p+"\n}\n"),p=(o?p.replace(ye,""):p).replace(Ee,"$1").replace(_e,"$1;"),p="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(a?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var g=Cc(function(){return Je(c,h+"return "+p).apply(i,l)});if(g.source=p,Ss(g))throw g;return g},fr.times=function(e,t){if((e=Hs(e))<1||e>M)return[];var n=L,r=zn(e,L);t=Di(t),e-=L;for(var a=gn(r,t);++n<e;)t(n);return a},fr.toFinite=Us,fr.toInteger=Hs,fr.toLength=qs,fr.toLower=function(e){return Vs(e).toLowerCase()},fr.toNumber=Gs,fr.toSafeInteger=function(e){return e?Mr(Hs(e),-M,M):0===e?e:0},fr.toString=Vs,fr.toUpper=function(e){return Vs(e).toUpperCase()},fr.trim=function(e,t,n){if((e=Vs(e))&&(n||t===i))return e.replace(Me,"");if(!e||!(t=ja(t)))return e;var r=In(e),a=In(t);return Qa(r,En(r,a),_n(r,a)+1).join("")},fr.trimEnd=function(e,t,n){if((e=Vs(e))&&(n||t===i))return e.replace(je,"");if(!e||!(t=ja(t)))return e;var r=In(e);return Qa(r,0,_n(r,In(t))+1).join("")},fr.trimStart=function(e,t,n){if((e=Vs(e))&&(n||t===i))return e.replace(De,"");if(!e||!(t=ja(t)))return e;var r=In(e);return Qa(r,En(r,In(t))).join("")},fr.truncate=function(e,t){var n=O,r=x;if(Os(t)){var a="separator"in t?t.separator:a;n="length"in t?Hs(t.length):n,r="omission"in t?ja(t.omission):r}var o=(e=Vs(e)).length;if(Cn(e)){var s=In(e);o=s.length}if(n>=o)return e;var c=n-Pn(r);if(c<1)return r;var l=s?Qa(s,0,c).join(""):e.slice(0,c);if(a===i)return l+r;if(s&&(c+=l.length-c),Is(a)){if(e.slice(c).search(a)){var u,d=l;for(a.global||(a=nt(a.source,Vs(Ge.exec(a))+"g")),a.lastIndex=0;u=a.exec(d);)var p=u.index;l=l.slice(0,p===i?c:p)}}else if(e.indexOf(ja(a),c)!=c){var f=l.lastIndexOf(a);f>-1&&(l=l.slice(0,f))}return l+r},fr.unescape=function(e){return(e=Vs(e))&&ke.test(e)?e.replace(we,An):e},fr.uniqueId=function(e){var t=++dt;return Vs(e)+t},fr.upperCase=wc,fr.upperFirst=Sc,fr.each=Vo,fr.eachRight=zo,fr.first=yo,Mc(fr,(Qc={},Yr(fr,function(e,t){ut.call(fr.prototype,t)||(Qc[t]=e)}),Qc),{chain:!1}),fr.VERSION="4.17.13",Yt(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){fr[e].placeholder=fr}),Yt(["drop","take"],function(e,t){vr.prototype[e]=function(n){n=n===i?1:Vn(Hs(n),0);var r=this.__filtered__&&!t?new vr(this):this.clone();return r.__filtered__?r.__takeCount__=zn(n,r.__takeCount__):r.__views__.push({size:zn(n,L),type:e+(r.__dir__<0?"Right":"")}),r},vr.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}}),Yt(["filter","map","takeWhile"],function(e,t){var n=t+1,r=n==P||3==n;vr.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:Di(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}}),Yt(["head","last"],function(e,t){var n="take"+(t?"Right":"");vr.prototype[e]=function(){return this[n](1).value()[0]}}),Yt(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");vr.prototype[e]=function(){return this.__filtered__?new vr(this):this[n](1)}}),vr.prototype.compact=function(){return this.filter(Rc)},vr.prototype.find=function(e){return this.filter(e).head()},vr.prototype.findLast=function(e){return this.reverse().find(e)},vr.prototype.invokeMap=Sa(function(e,t){return"function"==typeof e?new vr(this):this.map(function(n){return ra(n,e,t)})}),vr.prototype.reject=function(e){return this.filter(cs(Di(e)))},vr.prototype.slice=function(e,t){e=Hs(e);var n=this;return n.__filtered__&&(e>0||t<0)?new vr(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==i&&(n=(t=Hs(t))<0?n.dropRight(-t):n.take(t-e)),n)},vr.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},vr.prototype.toArray=function(){return this.take(L)},Yr(vr.prototype,function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),a=fr[r?"take"+("last"==t?"Right":""):t],o=r||/^find/.test(t);a&&(fr.prototype[t]=function(){var t=this.__wrapped__,s=r?[1]:arguments,c=t instanceof vr,l=s[0],u=c||vs(t),d=function(e){var t=a.apply(fr,en([e],s));return r&&p?t[0]:t};u&&n&&"function"==typeof l&&1!=l.length&&(c=u=!1);var p=this.__chain__,f=!!this.__actions__.length,h=o&&!p,m=c&&!f;if(!o&&u){t=m?t:new vr(this);var g=e.apply(t,s);return g.__actions__.push({func:Uo,args:[d],thisArg:i}),new gr(g,p)}return h&&m?e.apply(this,s):(g=this.thru(d),h?r?g.value()[0]:g.value():g)})}),Yt(["pop","push","shift","sort","splice","unshift"],function(e){var t=it[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);fr.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var a=this.value();return t.apply(vs(a)?a:[],e)}return this[n](function(n){return t.apply(vs(n)?n:[],e)})}}),Yr(vr.prototype,function(e,t){var n=fr[t];if(n){var r=n.name+"";ut.call(ar,r)||(ar[r]=[]),ar[r].push({name:t,func:n})}}),ar[fi(i,b).name]=[{name:"wrapper",func:i}],vr.prototype.clone=function(){var e=new vr(this.__wrapped__);return e.__actions__=ni(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=ni(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=ni(this.__views__),e},vr.prototype.reverse=function(){if(this.__filtered__){var e=new vr(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},vr.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=vs(e),r=t<0,a=n?e.length:0,i=function(e,t,n){for(var r=-1,a=n.length;++r<a;){var i=n[r],o=i.size;switch(i.type){case"drop":e+=o;break;case"dropRight":t-=o;break;case"take":t=zn(t,e+o);break;case"takeRight":e=Vn(e,t-o)}}return{start:e,end:t}}(0,a,this.__views__),o=i.start,s=i.end,c=s-o,l=r?s:o-1,u=this.__iteratees__,d=u.length,p=0,f=zn(c,this.__takeCount__);if(!n||!r&&a==c&&f==c)return Ha(e,this.__actions__);var h=[];e:for(;c--&&p<f;){for(var m=-1,g=e[l+=t];++m<d;){var v=u[m],b=v.iteratee,y=v.type,E=b(g);if(y==I)g=E;else if(!E){if(y==P)continue e;break e}}h[p++]=g}return h},fr.prototype.at=Ho,fr.prototype.chain=function(){return Bo(this)},fr.prototype.commit=function(){return new gr(this.value(),this.__chain__)},fr.prototype.next=function(){this.__values__===i&&(this.__values__=Bs(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?i:this.__values__[this.__index__++]}},fr.prototype.plant=function(e){for(var t,n=this;n instanceof mr;){var r=po(n);r.__index__=0,r.__values__=i,t?a.__wrapped__=r:t=r;var a=r;n=n.__wrapped__}return a.__wrapped__=e,t},fr.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof vr){var t=e;return this.__actions__.length&&(t=new vr(this)),(t=t.reverse()).__actions__.push({func:Uo,args:[Oo],thisArg:i}),new gr(t,this.__chain__)}return this.thru(Oo)},fr.prototype.toJSON=fr.prototype.valueOf=fr.prototype.value=function(){return Ha(this.__wrapped__,this.__actions__)},fr.prototype.first=fr.prototype.head,Ft&&(fr.prototype[Ft]=function(){return this}),fr}();At._=Mn,(a=function(){return Mn}.call(t,n,t,r))===i||(r.exports=a)}).call(this)}).call(this,n(43),n(144)(e))},function(e,t,n){"use strict";var r=n(18),a=n.n(r),i=(n(56),{dataType:"json"});var o=function(e){return function(t,n,r){var o={GET:{cache:!1},GET_SCRIPT:{dataType:"script"},POST_JSON:{contentType:"application/json",data:JSON.stringify(n)},PUT_JSON:{contentType:"application/json",data:JSON.stringify(n)}},s=e.match(/([a-z]+)(_.+)?/i)[1],c=a()({url:t,data:n,type:s},o[e],r);return function e(t){if("function"!=typeof t.catch){t.catch=t.fail.bind(t);var n=t.then.bind(t);t.then=function(){return e(n.apply(void 0,arguments))}}return t}($.ajax(a()({},i,c)))}};t.a={get:o("GET"),getScript:o("GET_SCRIPT"),post:o("POST"),postJSON:o("POST_JSON"),delete:o("DELETE"),put:o("PUT"),putJSON:o("PUT_JSON")}},function(e,t,n){var r=n(2);e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},a=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),a.forEach(function(t){r(e,t,n[t])})}return e}},function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n.apply(this,arguments)}e.exports=n},function(e,t,n){"use strict";n.d(t,"b",function(){return E}),n.d(t,"x",function(){return w}),n.d(t,"y",function(){return S}),n.d(t,"p",function(){return k}),n.d(t,"m",function(){return C}),n.d(t,"s",function(){return N}),n.d(t,"r",function(){return O}),n.d(t,"l",function(){return x}),n.d(t,"t",function(){return T}),n.d(t,"v",function(){return R}),n.d(t,"u",function(){return P}),n.d(t,"h",function(){return I}),n.d(t,"n",function(){return A}),n.d(t,"q",function(){return M}),n.d(t,"c",function(){return D}),n.d(t,"f",function(){return j}),n.d(t,"a",function(){return L}),n.d(t,"g",function(){return F}),n.d(t,"o",function(){return B}),n.d(t,"w",function(){return U}),n.d(t,"e",function(){return H}),n.d(t,"j",function(){return q}),n.d(t,"i",function(){return G}),n.d(t,"k",function(){return W}),n.d(t,"d",function(){return V});var r=n(24),a=n.n(r),i=n(23),o=n(16),s=function(e){return e.data},c=function(e){return e.bulk},l=function(e){return e.filter},u=function(e){return e.data.meta.tags},d=function(e){return e.data.meta.groups},p=function(e){return e.data.meta.roles},f=function(e){return e.data.meta.currentUser},h=function(e){return e.data.meta.features},m=function(e){return e.data.meta.permissions},g=function(e,t){return t},v=function(e,t){return t},b=function(e,t){return t},y=function(e,t){return t},E=function(){return Object(i.createSelector)([u,v],function(e,t){return t.map(function(t){return _.extend({},e[t],{id:t})})})},w=function(){return Object(i.createSelector)([d,function(e,t){return t}],function(e,t){return t.map(function(t){return _.extend({},e[t],{id:t})})})},S=function(){return Object(i.createSelector)([p,function(e,t){return t}],function(e,t){return e.filter(function(e){return e.id===t})[0]})},k=Object(i.createSelector)([s,function(e,t){return t||o.identity}],function(e,t){return e.content.reduce(function(e,n,r){return t(n)?[].concat(a()(e),[r]):e},[])}),C=function(){return Object(i.createSelector)([c,b],function(e,t){var n=e.selected;return _.includes(n,t)})},N=Object(i.createSelector)([s,c],function(e,t){var n=e.content,r=e.contentType;return t.selected.map(function(e){return{id:n[e].id,type:n[e].type||r}})}),O=Object(i.createSelector)([N],function(e){return e.length}),x=Object(i.createSelector)([O],function(e){return!!e}),T=Object(i.createSelector)([x,c,s],function(e,t,n){return!e||t.inProgress||n.isFetching}),R=Object(i.createSelector)([x,l],function(e,t){return e||t.isActive}),P=Object(i.createSelector)([f,s],function(e,t){return"user"!==t.contentType&&(void 0!==e.canArchiveContent&&!e.canArchiveContent)}),I=Object(i.createSelector)([c,s],function(e,t){return[e.success,t.success].some(function(e){return!1===e})}),A=Object(i.createSelector)([c,s],function(e,t){return[t.isFetching||e.inProgress,!e.inProgress&&e.done].some(function(e){return!!e})}),M=Object(i.createSelector)([s,c],function(e,t){var n=e.content;return t.selected.map(function(e){return n[e]}).filter(function(e){return!e.archivable})}),D=Object(i.createSelector)([s,c],function(e,t){var n=e.content;return t.selected.map(function(e){return n[e]}).filter(function(e){return e.expertCount>0})}),j=Object(i.createSelector)([M,f],function(e,t){var n=t.id;return _.includes(e.map(function(e){return e.id}),n)}),L=Object(i.createSelector)([m],function(e){return e.editGroups}),F=Object(i.createSelector)([m,h],function(e,t){return e.editAllGroups&&t.smartGroups}),B=function(){return Object(i.createSelector)([l,y],function(e,t){return e.sort.column===t})},U=function(){return Object(i.createSelector)([l,B()],function(e,t){var n=e.sort;return n.direction&&t?n.direction:"asc"})},H=Object(i.createSelector)([l,B()],function(e,t){var n=e.sort;return t&&"asc"===n.direction?"desc":"asc"}),q=Object(i.createSelector)([function(e){return e.meta.features},g],function(e,t){return Object(o.get)(e,t,!1)}),G=Object(i.createSelector)([h,g],function(e,t){return Object(o.get)(e,t,!1)}),W=Object(i.createSelector)([m,function(e,t){return t}],function(e,t){return Object(o.get)(e,t,!1)}),V=Object(i.createSelector)([function(e){return e.meta.tokens}],function(e){return e})},function(e,t,n){var r=n(953);e.exports=function(e,t){if(null==e)return{};var n,a,i=r(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}},function(e,t,n){var r=n(950),a=n(951),i=n(952);e.exports=function(e,t){return r(e)||a(e,t)||i()}},function(e,t,n){"use strict";function r(e,t){return e===t}function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r,n=null,a=null;return function(){return function(e,t,n){if(null===t||null===n||t.length!==n.length)return!1;for(var r=t.length,a=0;a<r;a++)if(!e(t[a],n[a]))return!1;return!0}(t,n,arguments)||(a=e.apply(null,arguments)),n=arguments,a}}function i(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return function(){for(var t=arguments.length,r=Array(t),i=0;i<t;i++)r[i]=arguments[i];var o=0,s=r.pop(),c=function(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every(function(e){return"function"==typeof e})){var n=t.map(function(e){return typeof e}).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+n+"]")}return t}(r),l=e.apply(void 0,[function(){return o++,s.apply(null,arguments)}].concat(n)),u=a(function(){for(var e=[],t=c.length,n=0;n<t;n++)e.push(c[n].apply(null,arguments));return l.apply(null,e)});return u.resultFunc=s,u.recomputations=function(){return o},u.resetRecomputations=function(){return o=0},u}}t.__esModule=!0,t.defaultMemoize=a,t.createSelectorCreator=i,t.createStructuredSelector=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o;if("object"!=typeof e)throw new Error("createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);var n=Object.keys(e);return t(n.map(function(t){return e[t]}),function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce(function(e,t,r){return e[n[r]]=t,e},{})})};var o=t.createSelector=i(a)},function(e,t,n){var r=n(960),a=n(961),i=n(962);e.exports=function(e){return r(e)||a(e)||i()}},function(e,t,n){(function(e){e.exports=function(){"use strict";var t,n;function r(){return t.apply(null,arguments)}function a(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function i(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function o(e){return void 0===e}function s(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function c(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function l(e,t){var n,r=[];for(n=0;n<e.length;++n)r.push(t(e[n],n));return r}function u(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function d(e,t){for(var n in t)u(t,n)&&(e[n]=t[n]);return u(t,"toString")&&(e.toString=t.toString),u(t,"valueOf")&&(e.valueOf=t.valueOf),e}function p(e,t,n,r){return xt(e,t,n,r,!0).utc()}function f(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function h(e){if(null==e._isValid){var t=f(e),r=n.call(t.parsedDateParts,function(e){return null!=e}),a=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&r);if(e._strict&&(a=a&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return a;e._isValid=a}return e._isValid}function m(e){var t=p(NaN);return null!=e?d(f(t),e):f(t).userInvalidated=!0,t}n=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),n=t.length>>>0,r=0;r<n;r++)if(r in t&&e.call(this,t[r],r,t))return!0;return!1};var g=r.momentProperties=[];function v(e,t){var n,r,a;if(o(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),o(t._i)||(e._i=t._i),o(t._f)||(e._f=t._f),o(t._l)||(e._l=t._l),o(t._strict)||(e._strict=t._strict),o(t._tzm)||(e._tzm=t._tzm),o(t._isUTC)||(e._isUTC=t._isUTC),o(t._offset)||(e._offset=t._offset),o(t._pf)||(e._pf=f(t)),o(t._locale)||(e._locale=t._locale),g.length>0)for(n=0;n<g.length;n++)r=g[n],o(a=t[r])||(e[r]=a);return e}var b=!1;function y(e){v(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===b&&(b=!0,r.updateOffset(this),b=!1)}function E(e){return e instanceof y||null!=e&&null!=e._isAMomentObject}function _(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function w(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=_(t)),n}function S(e,t,n){var r,a=Math.min(e.length,t.length),i=Math.abs(e.length-t.length),o=0;for(r=0;r<a;r++)(n&&e[r]!==t[r]||!n&&w(e[r])!==w(t[r]))&&o++;return o+i}function k(e){!1===r.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function C(e,t){var n=!0;return d(function(){if(null!=r.deprecationHandler&&r.deprecationHandler(null,e),n){for(var a,i=[],o=0;o<arguments.length;o++){if(a="","object"==typeof arguments[o]){for(var s in a+="\n["+o+"] ",arguments[0])a+=s+": "+arguments[0][s]+", ";a=a.slice(0,-2)}else a=arguments[o];i.push(a)}k(e+"\nArguments: "+Array.prototype.slice.call(i).join("")+"\n"+(new Error).stack),n=!1}return t.apply(this,arguments)},t)}var N,O={};function x(e,t){null!=r.deprecationHandler&&r.deprecationHandler(e,t),O[e]||(k(t),O[e]=!0)}function T(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function R(e,t){var n,r=d({},e);for(n in t)u(t,n)&&(i(e[n])&&i(t[n])?(r[n]={},d(r[n],e[n]),d(r[n],t[n])):null!=t[n]?r[n]=t[n]:delete r[n]);for(n in e)u(e,n)&&!u(t,n)&&i(e[n])&&(r[n]=d({},r[n]));return r}function P(e){null!=e&&this.set(e)}r.suppressDeprecationWarnings=!1,r.deprecationHandler=null,N=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)u(e,t)&&n.push(t);return n};var I={};function A(e,t){var n=e.toLowerCase();I[n]=I[n+"s"]=I[t]=e}function M(e){return"string"==typeof e?I[e]||I[e.toLowerCase()]:void 0}function D(e){var t,n,r={};for(n in e)u(e,n)&&(t=M(n))&&(r[t]=e[n]);return r}var j={};function L(e,t){j[e]=t}function F(e,t,n){var r=""+Math.abs(e),a=t-r.length,i=e>=0;return(i?n?"+":"":"-")+Math.pow(10,Math.max(0,a)).toString().substr(1)+r}var B=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,U=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,H={},q={};function G(e,t,n,r){var a=r;"string"==typeof r&&(a=function(){return this[r]()}),e&&(q[e]=a),t&&(q[t[0]]=function(){return F(a.apply(this,arguments),t[1],t[2])}),n&&(q[n]=function(){return this.localeData().ordinal(a.apply(this,arguments),e)})}function W(e,t){return e.isValid()?(t=V(t,e.localeData()),H[t]=H[t]||function(e){var t,n,r,a=e.match(B);for(t=0,n=a.length;t<n;t++)q[a[t]]?a[t]=q[a[t]]:a[t]=(r=a[t]).match(/\[[\s\S]/)?r.replace(/^\[|\]$/g,""):r.replace(/\\/g,"");return function(t){var r,i="";for(r=0;r<n;r++)i+=T(a[r])?a[r].call(t,e):a[r];return i}}(t),H[t](e)):e.localeData().invalidDate()}function V(e,t){var n=5;function r(e){return t.longDateFormat(e)||e}for(U.lastIndex=0;n>=0&&U.test(e);)e=e.replace(U,r),U.lastIndex=0,n-=1;return e}var z=/\d/,Y=/\d\d/,Q=/\d{3}/,K=/\d{4}/,X=/[+-]?\d{6}/,$=/\d\d?/,Z=/\d\d\d\d?/,J=/\d\d\d\d\d\d?/,ee=/\d{1,3}/,te=/\d{1,4}/,ne=/[+-]?\d{1,6}/,re=/\d+/,ae=/[+-]?\d+/,ie=/Z|[+-]\d\d:?\d\d/gi,oe=/Z|[+-]\d\d(?::?\d\d)?/gi,se=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,ce={};function le(e,t,n){ce[e]=T(t)?t:function(e,r){return e&&n?n:t}}function ue(e,t){return u(ce,e)?ce[e](t._strict,t._locale):new RegExp(de(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,r,a){return t||n||r||a})))}function de(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var pe={};function fe(e,t){var n,r=t;for("string"==typeof e&&(e=[e]),s(t)&&(r=function(e,n){n[t]=w(e)}),n=0;n<e.length;n++)pe[e[n]]=r}function he(e,t){fe(e,function(e,n,r,a){r._w=r._w||{},t(e,r._w,r,a)})}function me(e,t,n){null!=t&&u(pe,e)&&pe[e](t,n._a,n,e)}var ge=0,ve=1,be=2,ye=3,Ee=4,_e=5,we=6,Se=7,ke=8;function Ce(e){return Ne(e)?366:365}function Ne(e){return e%4==0&&e%100!=0||e%400==0}G("Y",0,0,function(){var e=this.year();return e<=9999?""+e:"+"+e}),G(0,["YY",2],0,function(){return this.year()%100}),G(0,["YYYY",4],0,"year"),G(0,["YYYYY",5],0,"year"),G(0,["YYYYYY",6,!0],0,"year"),A("year","y"),L("year",1),le("Y",ae),le("YY",$,Y),le("YYYY",te,K),le("YYYYY",ne,X),le("YYYYYY",ne,X),fe(["YYYYY","YYYYYY"],ge),fe("YYYY",function(e,t){t[ge]=2===e.length?r.parseTwoDigitYear(e):w(e)}),fe("YY",function(e,t){t[ge]=r.parseTwoDigitYear(e)}),fe("Y",function(e,t){t[ge]=parseInt(e,10)}),r.parseTwoDigitYear=function(e){return w(e)+(w(e)>68?1900:2e3)};var Oe,xe=Te("FullYear",!0);function Te(e,t){return function(n){return null!=n?(Pe(this,e,n),r.updateOffset(this,t),this):Re(this,e)}}function Re(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function Pe(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&Ne(e.year())&&1===e.month()&&29===e.date()?e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),Ie(n,e.month())):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function Ie(e,t){if(isNaN(e)||isNaN(t))return NaN;var n,r=(t%(n=12)+n)%n;return e+=(t-r)/12,1===r?Ne(e)?29:28:31-r%7%2}Oe=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},G("M",["MM",2],"Mo",function(){return this.month()+1}),G("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),G("MMMM",0,0,function(e){return this.localeData().months(this,e)}),A("month","M"),L("month",8),le("M",$),le("MM",$,Y),le("MMM",function(e,t){return t.monthsShortRegex(e)}),le("MMMM",function(e,t){return t.monthsRegex(e)}),fe(["M","MM"],function(e,t){t[ve]=w(e)-1}),fe(["MMM","MMMM"],function(e,t,n,r){var a=n._locale.monthsParse(e,r,n._strict);null!=a?t[ve]=a:f(n).invalidMonth=e});var Ae=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Me="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),De="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function je(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=w(t);else if(!s(t=e.localeData().monthsParse(t)))return e;return n=Math.min(e.date(),Ie(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function Le(e){return null!=e?(je(this,e),r.updateOffset(this,!0),this):Re(this,"Month")}var Fe=se,Be=se;function Ue(){function e(e,t){return t.length-e.length}var t,n,r=[],a=[],i=[];for(t=0;t<12;t++)n=p([2e3,t]),r.push(this.monthsShort(n,"")),a.push(this.months(n,"")),i.push(this.months(n,"")),i.push(this.monthsShort(n,""));for(r.sort(e),a.sort(e),i.sort(e),t=0;t<12;t++)r[t]=de(r[t]),a[t]=de(a[t]);for(t=0;t<24;t++)i[t]=de(i[t]);this._monthsRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function He(e){var t=new Date(Date.UTC.apply(null,arguments));return e<100&&e>=0&&isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e),t}function qe(e,t,n){var r=7+t-n,a=(7+He(e,0,r).getUTCDay()-t)%7;return-a+r-1}function Ge(e,t,n,r,a){var i,o,s=(7+n-r)%7,c=qe(e,r,a),l=1+7*(t-1)+s+c;return l<=0?o=Ce(i=e-1)+l:l>Ce(e)?(i=e+1,o=l-Ce(e)):(i=e,o=l),{year:i,dayOfYear:o}}function We(e,t,n){var r,a,i=qe(e.year(),t,n),o=Math.floor((e.dayOfYear()-i-1)/7)+1;return o<1?(a=e.year()-1,r=o+Ve(a,t,n)):o>Ve(e.year(),t,n)?(r=o-Ve(e.year(),t,n),a=e.year()+1):(a=e.year(),r=o),{week:r,year:a}}function Ve(e,t,n){var r=qe(e,t,n),a=qe(e+1,t,n);return(Ce(e)-r+a)/7}G("w",["ww",2],"wo","week"),G("W",["WW",2],"Wo","isoWeek"),A("week","w"),A("isoWeek","W"),L("week",5),L("isoWeek",5),le("w",$),le("ww",$,Y),le("W",$),le("WW",$,Y),he(["w","ww","W","WW"],function(e,t,n,r){t[r.substr(0,1)]=w(e)}),G("d",0,"do","day"),G("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),G("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),G("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),G("e",0,0,"weekday"),G("E",0,0,"isoWeekday"),A("day","d"),A("weekday","e"),A("isoWeekday","E"),L("day",11),L("weekday",11),L("isoWeekday",11),le("d",$),le("e",$),le("E",$),le("dd",function(e,t){return t.weekdaysMinRegex(e)}),le("ddd",function(e,t){return t.weekdaysShortRegex(e)}),le("dddd",function(e,t){return t.weekdaysRegex(e)}),he(["dd","ddd","dddd"],function(e,t,n,r){var a=n._locale.weekdaysParse(e,r,n._strict);null!=a?t.d=a:f(n).invalidWeekday=e}),he(["d","e","E"],function(e,t,n,r){t[r]=w(e)});var ze="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ye="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Qe="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Ke=se,Xe=se,$e=se;function Ze(){function e(e,t){return t.length-e.length}var t,n,r,a,i,o=[],s=[],c=[],l=[];for(t=0;t<7;t++)n=p([2e3,1]).day(t),r=this.weekdaysMin(n,""),a=this.weekdaysShort(n,""),i=this.weekdays(n,""),o.push(r),s.push(a),c.push(i),l.push(r),l.push(a),l.push(i);for(o.sort(e),s.sort(e),c.sort(e),l.sort(e),t=0;t<7;t++)s[t]=de(s[t]),c[t]=de(c[t]),l[t]=de(l[t]);this._weekdaysRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+o.join("|")+")","i")}function Je(){return this.hours()%12||12}function et(e,t){G(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function tt(e,t){return t._meridiemParse}G("H",["HH",2],0,"hour"),G("h",["hh",2],0,Je),G("k",["kk",2],0,function(){return this.hours()||24}),G("hmm",0,0,function(){return""+Je.apply(this)+F(this.minutes(),2)}),G("hmmss",0,0,function(){return""+Je.apply(this)+F(this.minutes(),2)+F(this.seconds(),2)}),G("Hmm",0,0,function(){return""+this.hours()+F(this.minutes(),2)}),G("Hmmss",0,0,function(){return""+this.hours()+F(this.minutes(),2)+F(this.seconds(),2)}),et("a",!0),et("A",!1),A("hour","h"),L("hour",13),le("a",tt),le("A",tt),le("H",$),le("h",$),le("k",$),le("HH",$,Y),le("hh",$,Y),le("kk",$,Y),le("hmm",Z),le("hmmss",J),le("Hmm",Z),le("Hmmss",J),fe(["H","HH"],ye),fe(["k","kk"],function(e,t,n){var r=w(e);t[ye]=24===r?0:r}),fe(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),fe(["h","hh"],function(e,t,n){t[ye]=w(e),f(n).bigHour=!0}),fe("hmm",function(e,t,n){var r=e.length-2;t[ye]=w(e.substr(0,r)),t[Ee]=w(e.substr(r)),f(n).bigHour=!0}),fe("hmmss",function(e,t,n){var r=e.length-4,a=e.length-2;t[ye]=w(e.substr(0,r)),t[Ee]=w(e.substr(r,2)),t[_e]=w(e.substr(a)),f(n).bigHour=!0}),fe("Hmm",function(e,t,n){var r=e.length-2;t[ye]=w(e.substr(0,r)),t[Ee]=w(e.substr(r))}),fe("Hmmss",function(e,t,n){var r=e.length-4,a=e.length-2;t[ye]=w(e.substr(0,r)),t[Ee]=w(e.substr(r,2)),t[_e]=w(e.substr(a))});var nt,rt=Te("Hours",!0),at={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Me,monthsShort:De,week:{dow:0,doy:6},weekdays:ze,weekdaysMin:Qe,weekdaysShort:Ye,meridiemParse:/[ap]\.?m?\.?/i},it={},ot={};function st(e){return e?e.toLowerCase().replace("_","-"):e}function ct(t){var n=null;if(!it[t]&&void 0!==e&&e&&e.exports)try{n=nt._abbr,!function(){var e=new Error("Cannot find module 'undefined'");throw e.code="MODULE_NOT_FOUND",e}(),lt(n)}catch(e){}return it[t]}function lt(e,t){var n;return e&&((n=o(t)?dt(e):ut(e,t))?nt=n:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),nt._abbr}function ut(e,t){if(null!==t){var n,r=at;if(t.abbr=e,null!=it[e])x("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=it[e]._config;else if(null!=t.parentLocale)if(null!=it[t.parentLocale])r=it[t.parentLocale]._config;else{if(null==(n=ct(t.parentLocale)))return ot[t.parentLocale]||(ot[t.parentLocale]=[]),ot[t.parentLocale].push({name:e,config:t}),null;r=n._config}return it[e]=new P(R(r,t)),ot[e]&&ot[e].forEach(function(e){ut(e.name,e.config)}),lt(e),it[e]}return delete it[e],null}function dt(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return nt;if(!a(e)){if(t=ct(e))return t;e=[e]}return function(e){for(var t,n,r,a,i=0;i<e.length;){for(a=st(e[i]).split("-"),t=a.length,n=(n=st(e[i+1]))?n.split("-"):null;t>0;){if(r=ct(a.slice(0,t).join("-")))return r;if(n&&n.length>=t&&S(a,n,!0)>=t-1)break;t--}i++}return nt}(e)}function pt(e){var t,n=e._a;return n&&-2===f(e).overflow&&(t=n[ve]<0||n[ve]>11?ve:n[be]<1||n[be]>Ie(n[ge],n[ve])?be:n[ye]<0||n[ye]>24||24===n[ye]&&(0!==n[Ee]||0!==n[_e]||0!==n[we])?ye:n[Ee]<0||n[Ee]>59?Ee:n[_e]<0||n[_e]>59?_e:n[we]<0||n[we]>999?we:-1,f(e)._overflowDayOfYear&&(t<ge||t>be)&&(t=be),f(e)._overflowWeeks&&-1===t&&(t=Se),f(e)._overflowWeekday&&-1===t&&(t=ke),f(e).overflow=t),e}function ft(e,t,n){return null!=e?e:null!=t?t:n}function ht(e){var t,n,a,i,o,s=[];if(!e._d){for(a=function(e){var t=new Date(r.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}(e),e._w&&null==e._a[be]&&null==e._a[ve]&&function(e){var t,n,r,a,i,o,s,c;if(null!=(t=e._w).GG||null!=t.W||null!=t.E)i=1,o=4,n=ft(t.GG,e._a[ge],We(Tt(),1,4).year),r=ft(t.W,1),((a=ft(t.E,1))<1||a>7)&&(c=!0);else{i=e._locale._week.dow,o=e._locale._week.doy;var l=We(Tt(),i,o);n=ft(t.gg,e._a[ge],l.year),r=ft(t.w,l.week),null!=t.d?((a=t.d)<0||a>6)&&(c=!0):null!=t.e?(a=t.e+i,(t.e<0||t.e>6)&&(c=!0)):a=i}r<1||r>Ve(n,i,o)?f(e)._overflowWeeks=!0:null!=c?f(e)._overflowWeekday=!0:(s=Ge(n,r,a,i,o),e._a[ge]=s.year,e._dayOfYear=s.dayOfYear)}(e),null!=e._dayOfYear&&(o=ft(e._a[ge],a[ge]),(e._dayOfYear>Ce(o)||0===e._dayOfYear)&&(f(e)._overflowDayOfYear=!0),n=He(o,0,e._dayOfYear),e._a[ve]=n.getUTCMonth(),e._a[be]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=s[t]=a[t];for(;t<7;t++)e._a[t]=s[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[ye]&&0===e._a[Ee]&&0===e._a[_e]&&0===e._a[we]&&(e._nextDay=!0,e._a[ye]=0),e._d=(e._useUTC?He:function(e,t,n,r,a,i,o){var s=new Date(e,t,n,r,a,i,o);return e<100&&e>=0&&isFinite(s.getFullYear())&&s.setFullYear(e),s}).apply(null,s),i=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[ye]=24),e._w&&void 0!==e._w.d&&e._w.d!==i&&(f(e).weekdayMismatch=!0)}}var mt=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,gt=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,vt=/Z|[+-]\d\d(?::?\d\d)?/,bt=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],yt=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Et=/^\/?Date\((\-?\d+)/i;function _t(e){var t,n,r,a,i,o,s=e._i,c=mt.exec(s)||gt.exec(s);if(c){for(f(e).iso=!0,t=0,n=bt.length;t<n;t++)if(bt[t][1].exec(c[1])){a=bt[t][0],r=!1!==bt[t][2];break}if(null==a)return void(e._isValid=!1);if(c[3]){for(t=0,n=yt.length;t<n;t++)if(yt[t][1].exec(c[3])){i=(c[2]||" ")+yt[t][0];break}if(null==i)return void(e._isValid=!1)}if(!r&&null!=i)return void(e._isValid=!1);if(c[4]){if(!vt.exec(c[4]))return void(e._isValid=!1);o="Z"}e._f=a+(i||"")+(o||""),Nt(e)}else e._isValid=!1}var wt=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;function St(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}var kt={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Ct(e){var t,n,r,a,i,o,s,c=wt.exec(e._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim());if(c){var l=(t=c[4],n=c[3],r=c[2],a=c[5],i=c[6],o=c[7],s=[St(t),De.indexOf(n),parseInt(r,10),parseInt(a,10),parseInt(i,10)],o&&s.push(parseInt(o,10)),s);if(!function(e,t,n){if(e){var r=Ye.indexOf(e),a=new Date(t[0],t[1],t[2]).getDay();if(r!==a)return f(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}(c[1],l,e))return;e._a=l,e._tzm=function(e,t,n){if(e)return kt[e];if(t)return 0;var r=parseInt(n,10),a=r%100,i=(r-a)/100;return 60*i+a}(c[8],c[9],c[10]),e._d=He.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),f(e).rfc2822=!0}else e._isValid=!1}function Nt(e){if(e._f!==r.ISO_8601)if(e._f!==r.RFC_2822){e._a=[],f(e).empty=!0;var t,n,a,i,o,s=""+e._i,c=s.length,l=0;for(a=V(e._f,e._locale).match(B)||[],t=0;t<a.length;t++)i=a[t],(n=(s.match(ue(i,e))||[])[0])&&((o=s.substr(0,s.indexOf(n))).length>0&&f(e).unusedInput.push(o),s=s.slice(s.indexOf(n)+n.length),l+=n.length),q[i]?(n?f(e).empty=!1:f(e).unusedTokens.push(i),me(i,n,e)):e._strict&&!n&&f(e).unusedTokens.push(i);f(e).charsLeftOver=c-l,s.length>0&&f(e).unusedInput.push(s),e._a[ye]<=12&&!0===f(e).bigHour&&e._a[ye]>0&&(f(e).bigHour=void 0),f(e).parsedDateParts=e._a.slice(0),f(e).meridiem=e._meridiem,e._a[ye]=function(e,t,n){var r;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?((r=e.isPM(n))&&t<12&&(t+=12),r||12!==t||(t=0),t):t}(e._locale,e._a[ye],e._meridiem),ht(e),pt(e)}else Ct(e);else _t(e)}function Ot(e){var t=e._i,n=e._f;return e._locale=e._locale||dt(e._l),null===t||void 0===n&&""===t?m({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),E(t)?new y(pt(t)):(c(t)?e._d=t:a(n)?function(e){var t,n,r,a,i;if(0===e._f.length)return f(e).invalidFormat=!0,void(e._d=new Date(NaN));for(a=0;a<e._f.length;a++)i=0,t=v({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[a],Nt(t),h(t)&&(i+=f(t).charsLeftOver,i+=10*f(t).unusedTokens.length,f(t).score=i,(null==r||i<r)&&(r=i,n=t));d(e,n||t)}(e):n?Nt(e):function(e){var t=e._i;o(t)?e._d=new Date(r.now()):c(t)?e._d=new Date(t.valueOf()):"string"==typeof t?function(e){var t=Et.exec(e._i);null===t?(_t(e),!1===e._isValid&&(delete e._isValid,Ct(e),!1===e._isValid&&(delete e._isValid,r.createFromInputFallback(e)))):e._d=new Date(+t[1])}(e):a(t)?(e._a=l(t.slice(0),function(e){return parseInt(e,10)}),ht(e)):i(t)?function(e){if(!e._d){var t=D(e._i);e._a=l([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),ht(e)}}(e):s(t)?e._d=new Date(t):r.createFromInputFallback(e)}(e),h(e)||(e._d=null),e))}function xt(e,t,n,r,o){var s,c={};return!0!==n&&!1!==n||(r=n,n=void 0),(i(e)&&function(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0}(e)||a(e)&&0===e.length)&&(e=void 0),c._isAMomentObject=!0,c._useUTC=c._isUTC=o,c._l=n,c._i=e,c._f=t,c._strict=r,(s=new y(pt(Ot(c))))._nextDay&&(s.add(1,"d"),s._nextDay=void 0),s}function Tt(e,t,n,r){return xt(e,t,n,r,!1)}r.createFromInputFallback=C("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),r.ISO_8601=function(){},r.RFC_2822=function(){};var Rt=C("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Tt.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:m()}),Pt=C("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Tt.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:m()});function It(e,t){var n,r;if(1===t.length&&a(t[0])&&(t=t[0]),!t.length)return Tt();for(n=t[0],r=1;r<t.length;++r)t[r].isValid()&&!t[r][e](n)||(n=t[r]);return n}var At=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Mt(e){var t=D(e),n=t.year||0,r=t.quarter||0,a=t.month||0,i=t.week||0,o=t.day||0,s=t.hour||0,c=t.minute||0,l=t.second||0,u=t.millisecond||0;this._isValid=function(e){for(var t in e)if(-1===Oe.call(At,t)||null!=e[t]&&isNaN(e[t]))return!1;for(var n=!1,r=0;r<At.length;++r)if(e[At[r]]){if(n)return!1;parseFloat(e[At[r]])!==w(e[At[r]])&&(n=!0)}return!0}(t),this._milliseconds=+u+1e3*l+6e4*c+1e3*s*60*60,this._days=+o+7*i,this._months=+a+3*r+12*n,this._data={},this._locale=dt(),this._bubble()}function Dt(e){return e instanceof Mt}function jt(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function Lt(e,t){G(e,0,0,function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+F(~~(e/60),2)+t+F(~~e%60,2)})}Lt("Z",":"),Lt("ZZ",""),le("Z",oe),le("ZZ",oe),fe(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Bt(oe,e)});var Ft=/([\+\-]|\d\d)/gi;function Bt(e,t){var n=(t||"").match(e);if(null===n)return null;var r=n[n.length-1]||[],a=(r+"").match(Ft)||["-",0,0],i=60*a[1]+w(a[2]);return 0===i?0:"+"===a[0]?i:-i}function Ut(e,t){var n,a;return t._isUTC?(n=t.clone(),a=(E(e)||c(e)?e.valueOf():Tt(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+a),r.updateOffset(n,!1),n):Tt(e).local()}function Ht(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function qt(){return!!this.isValid()&&this._isUTC&&0===this._offset}r.updateOffset=function(){};var Gt=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Wt=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Vt(e,t){var n,r,a,i,o,c,l=e,d=null;return Dt(e)?l={ms:e._milliseconds,d:e._days,M:e._months}:s(e)?(l={},t?l[t]=e:l.milliseconds=e):(d=Gt.exec(e))?(n="-"===d[1]?-1:1,l={y:0,d:w(d[be])*n,h:w(d[ye])*n,m:w(d[Ee])*n,s:w(d[_e])*n,ms:w(jt(1e3*d[we]))*n}):(d=Wt.exec(e))?(n="-"===d[1]?-1:(d[1],1),l={y:zt(d[2],n),M:zt(d[3],n),w:zt(d[4],n),d:zt(d[5],n),h:zt(d[6],n),m:zt(d[7],n),s:zt(d[8],n)}):null==l?l={}:"object"==typeof l&&("from"in l||"to"in l)&&(i=Tt(l.from),o=Tt(l.to),a=i.isValid()&&o.isValid()?(o=Ut(o,i),i.isBefore(o)?c=Yt(i,o):((c=Yt(o,i)).milliseconds=-c.milliseconds,c.months=-c.months),c):{milliseconds:0,months:0},(l={}).ms=a.milliseconds,l.M=a.months),r=new Mt(l),Dt(e)&&u(e,"_locale")&&(r._locale=e._locale),r}function zt(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Yt(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Qt(e,t){return function(n,r){var a;return null===r||isNaN(+r)||(x(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),a=n,n=r,r=a),Kt(this,Vt(n="string"==typeof n?+n:n,r),e),this}}function Kt(e,t,n,a){var i=t._milliseconds,o=jt(t._days),s=jt(t._months);e.isValid()&&(a=null==a||a,s&&je(e,Re(e,"Month")+s*n),o&&Pe(e,"Date",Re(e,"Date")+o*n),i&&e._d.setTime(e._d.valueOf()+i*n),a&&r.updateOffset(e,o||s))}Vt.fn=Mt.prototype,Vt.invalid=function(){return Vt(NaN)};var Xt=Qt(1,"add"),$t=Qt(-1,"subtract");function Zt(e,t){var n,r,a=12*(t.year()-e.year())+(t.month()-e.month()),i=e.clone().add(a,"months");return t-i<0?(n=e.clone().add(a-1,"months"),r=(t-i)/(i-n)):(n=e.clone().add(a+1,"months"),r=(t-i)/(n-i)),-(a+r)||0}function Jt(e){var t;return void 0===e?this._locale._abbr:(null!=(t=dt(e))&&(this._locale=t),this)}r.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",r.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var en=C("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});function tn(){return this._locale}function nn(e,t){G(0,[e,e.length],0,t)}function rn(e,t,n,r,a){var i;return null==e?We(this,r,a).year:(i=Ve(e,r,a),t>i&&(t=i),function(e,t,n,r,a){var i=Ge(e,t,n,r,a),o=He(i.year,0,i.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}.call(this,e,t,n,r,a))}G(0,["gg",2],0,function(){return this.weekYear()%100}),G(0,["GG",2],0,function(){return this.isoWeekYear()%100}),nn("gggg","weekYear"),nn("ggggg","weekYear"),nn("GGGG","isoWeekYear"),nn("GGGGG","isoWeekYear"),A("weekYear","gg"),A("isoWeekYear","GG"),L("weekYear",1),L("isoWeekYear",1),le("G",ae),le("g",ae),le("GG",$,Y),le("gg",$,Y),le("GGGG",te,K),le("gggg",te,K),le("GGGGG",ne,X),le("ggggg",ne,X),he(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,r){t[r.substr(0,2)]=w(e)}),he(["gg","GG"],function(e,t,n,a){t[a]=r.parseTwoDigitYear(e)}),G("Q",0,"Qo","quarter"),A("quarter","Q"),L("quarter",7),le("Q",z),fe("Q",function(e,t){t[ve]=3*(w(e)-1)}),G("D",["DD",2],"Do","date"),A("date","D"),L("date",9),le("D",$),le("DD",$,Y),le("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),fe(["D","DD"],be),fe("Do",function(e,t){t[be]=w(e.match($)[0])});var an=Te("Date",!0);G("DDD",["DDDD",3],"DDDo","dayOfYear"),A("dayOfYear","DDD"),L("dayOfYear",4),le("DDD",ee),le("DDDD",Q),fe(["DDD","DDDD"],function(e,t,n){n._dayOfYear=w(e)}),G("m",["mm",2],0,"minute"),A("minute","m"),L("minute",14),le("m",$),le("mm",$,Y),fe(["m","mm"],Ee);var on=Te("Minutes",!1);G("s",["ss",2],0,"second"),A("second","s"),L("second",15),le("s",$),le("ss",$,Y),fe(["s","ss"],_e);var sn,cn=Te("Seconds",!1);for(G("S",0,0,function(){return~~(this.millisecond()/100)}),G(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),G(0,["SSS",3],0,"millisecond"),G(0,["SSSS",4],0,function(){return 10*this.millisecond()}),G(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),G(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),G(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),G(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),G(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),A("millisecond","ms"),L("millisecond",16),le("S",ee,z),le("SS",ee,Y),le("SSS",ee,Q),sn="SSSS";sn.length<=9;sn+="S")le(sn,re);function ln(e,t){t[we]=w(1e3*("0."+e))}for(sn="S";sn.length<=9;sn+="S")fe(sn,ln);var un=Te("Milliseconds",!1);G("z",0,0,"zoneAbbr"),G("zz",0,0,"zoneName");var dn=y.prototype;function pn(e){return e}dn.add=Xt,dn.calendar=function(e,t){var n=e||Tt(),a=Ut(n,this).startOf("day"),i=r.calendarFormat(this,a)||"sameElse",o=t&&(T(t[i])?t[i].call(this,n):t[i]);return this.format(o||this.localeData().calendar(i,this,Tt(n)))},dn.clone=function(){return new y(this)},dn.diff=function(e,t,n){var r,a,i;if(!this.isValid())return NaN;if(!(r=Ut(e,this)).isValid())return NaN;switch(a=6e4*(r.utcOffset()-this.utcOffset()),t=M(t)){case"year":i=Zt(this,r)/12;break;case"month":i=Zt(this,r);break;case"quarter":i=Zt(this,r)/3;break;case"second":i=(this-r)/1e3;break;case"minute":i=(this-r)/6e4;break;case"hour":i=(this-r)/36e5;break;case"day":i=(this-r-a)/864e5;break;case"week":i=(this-r-a)/6048e5;break;default:i=this-r}return n?i:_(i)},dn.endOf=function(e){return void 0===(e=M(e))||"millisecond"===e?this:("date"===e&&(e="day"),this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms"))},dn.format=function(e){e||(e=this.isUtc()?r.defaultFormatUtc:r.defaultFormat);var t=W(this,e);return this.localeData().postformat(t)},dn.from=function(e,t){return this.isValid()&&(E(e)&&e.isValid()||Tt(e).isValid())?Vt({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},dn.fromNow=function(e){return this.from(Tt(),e)},dn.to=function(e,t){return this.isValid()&&(E(e)&&e.isValid()||Tt(e).isValid())?Vt({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},dn.toNow=function(e){return this.to(Tt(),e)},dn.get=function(e){return T(this[e=M(e)])?this[e]():this},dn.invalidAt=function(){return f(this).overflow},dn.isAfter=function(e,t){var n=E(e)?e:Tt(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=M(o(t)?"millisecond":t))?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())},dn.isBefore=function(e,t){var n=E(e)?e:Tt(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=M(o(t)?"millisecond":t))?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())},dn.isBetween=function(e,t,n,r){return("("===(r=r||"()")[0]?this.isAfter(e,n):!this.isBefore(e,n))&&(")"===r[1]?this.isBefore(t,n):!this.isAfter(t,n))},dn.isSame=function(e,t){var n,r=E(e)?e:Tt(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=M(t||"millisecond"))?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))},dn.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},dn.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},dn.isValid=function(){return h(this)},dn.lang=en,dn.locale=Jt,dn.localeData=tn,dn.max=Pt,dn.min=Rt,dn.parsingFlags=function(){return d({},f(this))},dn.set=function(e,t){if("object"==typeof e)for(var n=function(e){var t=[];for(var n in e)t.push({unit:n,priority:j[n]});return t.sort(function(e,t){return e.priority-t.priority}),t}(e=D(e)),r=0;r<n.length;r++)this[n[r].unit](e[n[r].unit]);else if(T(this[e=M(e)]))return this[e](t);return this},dn.startOf=function(e){switch(e=M(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this},dn.subtract=$t,dn.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},dn.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},dn.toDate=function(){return new Date(this.valueOf())},dn.toISOString=function(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?W(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):T(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",W(n,"Z")):W(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},dn.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="";this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",t="Z");var n="["+e+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",a=t+'[")]';return this.format(n+r+"-MM-DD[T]HH:mm:ss.SSS"+a)},dn.toJSON=function(){return this.isValid()?this.toISOString():null},dn.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},dn.unix=function(){return Math.floor(this.valueOf()/1e3)},dn.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},dn.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},dn.year=xe,dn.isLeapYear=function(){return Ne(this.year())},dn.weekYear=function(e){return rn.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},dn.isoWeekYear=function(e){return rn.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},dn.quarter=dn.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},dn.month=Le,dn.daysInMonth=function(){return Ie(this.year(),this.month())},dn.week=dn.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},dn.isoWeek=dn.isoWeeks=function(e){var t=We(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},dn.weeksInYear=function(){var e=this.localeData()._week;return Ve(this.year(),e.dow,e.doy)},dn.isoWeeksInYear=function(){return Ve(this.year(),1,4)},dn.date=an,dn.day=dn.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=function(e,t){return"string"!=typeof e?e:isNaN(e)?"number"==typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}(e,this.localeData()),this.add(e-t,"d")):t},dn.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},dn.isoWeekday=function(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=function(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7},dn.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},dn.hour=dn.hours=rt,dn.minute=dn.minutes=on,dn.second=dn.seconds=cn,dn.millisecond=dn.milliseconds=un,dn.utcOffset=function(e,t,n){var a,i=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(null===(e=Bt(oe,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(a=Ht(this)),this._offset=e,this._isUTC=!0,null!=a&&this.add(a,"m"),i!==e&&(!t||this._changeInProgress?Kt(this,Vt(e-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,r.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?i:Ht(this)},dn.utc=function(e){return this.utcOffset(0,e)},dn.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Ht(this),"m")),this},dn.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=Bt(ie,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this},dn.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?Tt(e).utcOffset():0,(this.utcOffset()-e)%60==0)},dn.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},dn.isLocal=function(){return!!this.isValid()&&!this._isUTC},dn.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},dn.isUtc=qt,dn.isUTC=qt,dn.zoneAbbr=function(){return this._isUTC?"UTC":""},dn.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},dn.dates=C("dates accessor is deprecated. Use date instead.",an),dn.months=C("months accessor is deprecated. Use month instead",Le),dn.years=C("years accessor is deprecated. Use year instead",xe),dn.zone=C("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}),dn.isDSTShifted=C("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!o(this._isDSTShifted))return this._isDSTShifted;var e={};if(v(e,this),(e=Ot(e))._a){var t=e._isUTC?p(e._a):Tt(e._a);this._isDSTShifted=this.isValid()&&S(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted});var fn=P.prototype;function hn(e,t,n,r){var a=dt(),i=p().set(r,t);return a[n](i,e)}function mn(e,t,n){if(s(e)&&(t=e,e=void 0),e=e||"",null!=t)return hn(e,t,n,"month");var r,a=[];for(r=0;r<12;r++)a[r]=hn(e,r,n,"month");return a}function gn(e,t,n,r){"boolean"==typeof e?(s(t)&&(n=t,t=void 0),t=t||""):(n=t=e,e=!1,s(t)&&(n=t,t=void 0),t=t||"");var a,i=dt(),o=e?i._week.dow:0;if(null!=n)return hn(t,(n+o)%7,r,"day");var c=[];for(a=0;a<7;a++)c[a]=hn(t,(a+o)%7,r,"day");return c}fn.calendar=function(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return T(r)?r.call(t,n):r},fn.longDateFormat=function(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])},fn.invalidDate=function(){return this._invalidDate},fn.ordinal=function(e){return this._ordinal.replace("%d",e)},fn.preparse=pn,fn.postformat=pn,fn.relativeTime=function(e,t,n,r){var a=this._relativeTime[n];return T(a)?a(e,t,n,r):a.replace(/%d/i,e)},fn.pastFuture=function(e,t){var n=this._relativeTime[e>0?"future":"past"];return T(n)?n(t):n.replace(/%s/i,t)},fn.set=function(e){var t,n;for(n in e)T(t=e[n])?this[n]=t:this["_"+n]=t;this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},fn.months=function(e,t){return e?a(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||Ae).test(t)?"format":"standalone"][e.month()]:a(this._months)?this._months:this._months.standalone},fn.monthsShort=function(e,t){return e?a(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[Ae.test(t)?"format":"standalone"][e.month()]:a(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},fn.monthsParse=function(e,t,n){var r,a,i;if(this._monthsParseExact)return function(e,t,n){var r,a,i,o=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)i=p([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(i,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(i,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(a=Oe.call(this._shortMonthsParse,o))?a:null:-1!==(a=Oe.call(this._longMonthsParse,o))?a:null:"MMM"===t?-1!==(a=Oe.call(this._shortMonthsParse,o))?a:-1!==(a=Oe.call(this._longMonthsParse,o))?a:null:-1!==(a=Oe.call(this._longMonthsParse,o))?a:-1!==(a=Oe.call(this._shortMonthsParse,o))?a:null}.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(a=p([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(a,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(a,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(i="^"+this.months(a,"")+"|^"+this.monthsShort(a,""),this._monthsParse[r]=new RegExp(i.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}},fn.monthsRegex=function(e){return this._monthsParseExact?(u(this,"_monthsRegex")||Ue.call(this),e?this._monthsStrictRegex:this._monthsRegex):(u(this,"_monthsRegex")||(this._monthsRegex=Be),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},fn.monthsShortRegex=function(e){return this._monthsParseExact?(u(this,"_monthsRegex")||Ue.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(u(this,"_monthsShortRegex")||(this._monthsShortRegex=Fe),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},fn.week=function(e){return We(e,this._week.dow,this._week.doy).week},fn.firstDayOfYear=function(){return this._week.doy},fn.firstDayOfWeek=function(){return this._week.dow},fn.weekdays=function(e,t){return e?a(this._weekdays)?this._weekdays[e.day()]:this._weekdays[this._weekdays.isFormat.test(t)?"format":"standalone"][e.day()]:a(this._weekdays)?this._weekdays:this._weekdays.standalone},fn.weekdaysMin=function(e){return e?this._weekdaysMin[e.day()]:this._weekdaysMin},fn.weekdaysShort=function(e){return e?this._weekdaysShort[e.day()]:this._weekdaysShort},fn.weekdaysParse=function(e,t,n){var r,a,i;if(this._weekdaysParseExact)return function(e,t,n){var r,a,i,o=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)i=p([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(i,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(i,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(i,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(a=Oe.call(this._weekdaysParse,o))?a:null:"ddd"===t?-1!==(a=Oe.call(this._shortWeekdaysParse,o))?a:null:-1!==(a=Oe.call(this._minWeekdaysParse,o))?a:null:"dddd"===t?-1!==(a=Oe.call(this._weekdaysParse,o))?a:-1!==(a=Oe.call(this._shortWeekdaysParse,o))?a:-1!==(a=Oe.call(this._minWeekdaysParse,o))?a:null:"ddd"===t?-1!==(a=Oe.call(this._shortWeekdaysParse,o))?a:-1!==(a=Oe.call(this._weekdaysParse,o))?a:-1!==(a=Oe.call(this._minWeekdaysParse,o))?a:null:-1!==(a=Oe.call(this._minWeekdaysParse,o))?a:-1!==(a=Oe.call(this._weekdaysParse,o))?a:-1!==(a=Oe.call(this._shortWeekdaysParse,o))?a:null}.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(a=p([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(a,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(a,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(a,"").replace(".",".?")+"$","i")),this._weekdaysParse[r]||(i="^"+this.weekdays(a,"")+"|^"+this.weekdaysShort(a,"")+"|^"+this.weekdaysMin(a,""),this._weekdaysParse[r]=new RegExp(i.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;if(n&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(n&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}},fn.weekdaysRegex=function(e){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||Ze.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(u(this,"_weekdaysRegex")||(this._weekdaysRegex=Ke),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},fn.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||Ze.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(u(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Xe),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},fn.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||Ze.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(u(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=$e),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},fn.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},fn.meridiem=function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},lt("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=1===w(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}}),r.lang=C("moment.lang is deprecated. Use moment.locale instead.",lt),r.langData=C("moment.langData is deprecated. Use moment.localeData instead.",dt);var vn=Math.abs;function bn(e,t,n,r){var a=Vt(t,n);return e._milliseconds+=r*a._milliseconds,e._days+=r*a._days,e._months+=r*a._months,e._bubble()}function yn(e){return e<0?Math.floor(e):Math.ceil(e)}function En(e){return 4800*e/146097}function _n(e){return 146097*e/4800}function wn(e){return function(){return this.as(e)}}var Sn=wn("ms"),kn=wn("s"),Cn=wn("m"),Nn=wn("h"),On=wn("d"),xn=wn("w"),Tn=wn("M"),Rn=wn("y");function Pn(e){return function(){return this.isValid()?this._data[e]:NaN}}var In=Pn("milliseconds"),An=Pn("seconds"),Mn=Pn("minutes"),Dn=Pn("hours"),jn=Pn("days"),Ln=Pn("months"),Fn=Pn("years"),Bn=Math.round,Un={ss:44,s:45,m:45,h:22,d:26,M:11},Hn=Math.abs;function qn(e){return(e>0)-(e<0)||+e}function Gn(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n=Hn(this._milliseconds)/1e3,r=Hn(this._days),a=Hn(this._months);e=_(n/60),t=_(e/60),n%=60,e%=60;var i=_(a/12),o=a%=12,s=r,c=t,l=e,u=n?n.toFixed(3).replace(/\.?0+$/,""):"",d=this.asSeconds();if(!d)return"P0D";var p=d<0?"-":"",f=qn(this._months)!==qn(d)?"-":"",h=qn(this._days)!==qn(d)?"-":"",m=qn(this._milliseconds)!==qn(d)?"-":"";return p+"P"+(i?f+i+"Y":"")+(o?f+o+"M":"")+(s?h+s+"D":"")+(c||l||u?"T":"")+(c?m+c+"H":"")+(l?m+l+"M":"")+(u?m+u+"S":"")}var Wn=Mt.prototype;return Wn.isValid=function(){return this._isValid},Wn.abs=function(){var e=this._data;return this._milliseconds=vn(this._milliseconds),this._days=vn(this._days),this._months=vn(this._months),e.milliseconds=vn(e.milliseconds),e.seconds=vn(e.seconds),e.minutes=vn(e.minutes),e.hours=vn(e.hours),e.months=vn(e.months),e.years=vn(e.years),this},Wn.add=function(e,t){return bn(this,e,t,1)},Wn.subtract=function(e,t){return bn(this,e,t,-1)},Wn.as=function(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if("month"===(e=M(e))||"year"===e)return t=this._days+r/864e5,n=this._months+En(t),"month"===e?n:n/12;switch(t=this._days+Math.round(_n(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}},Wn.asMilliseconds=Sn,Wn.asSeconds=kn,Wn.asMinutes=Cn,Wn.asHours=Nn,Wn.asDays=On,Wn.asWeeks=xn,Wn.asMonths=Tn,Wn.asYears=Rn,Wn.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*w(this._months/12):NaN},Wn._bubble=function(){var e,t,n,r,a,i=this._milliseconds,o=this._days,s=this._months,c=this._data;return i>=0&&o>=0&&s>=0||i<=0&&o<=0&&s<=0||(i+=864e5*yn(_n(s)+o),o=0,s=0),c.milliseconds=i%1e3,e=_(i/1e3),c.seconds=e%60,t=_(e/60),c.minutes=t%60,n=_(t/60),c.hours=n%24,o+=_(n/24),a=_(En(o)),s+=a,o-=yn(_n(a)),r=_(s/12),s%=12,c.days=o,c.months=s,c.years=r,this},Wn.clone=function(){return Vt(this)},Wn.get=function(e){return e=M(e),this.isValid()?this[e+"s"]():NaN},Wn.milliseconds=In,Wn.seconds=An,Wn.minutes=Mn,Wn.hours=Dn,Wn.days=jn,Wn.weeks=function(){return _(this.days()/7)},Wn.months=Ln,Wn.years=Fn,Wn.humanize=function(e){if(!this.isValid())return this.localeData().invalidDate();var t=this.localeData(),n=function(e,t,n){var r=Vt(e).abs(),a=Bn(r.as("s")),i=Bn(r.as("m")),o=Bn(r.as("h")),s=Bn(r.as("d")),c=Bn(r.as("M")),l=Bn(r.as("y")),u=a<=Un.ss&&["s",a]||a<Un.s&&["ss",a]||i<=1&&["m"]||i<Un.m&&["mm",i]||o<=1&&["h"]||o<Un.h&&["hh",o]||s<=1&&["d"]||s<Un.d&&["dd",s]||c<=1&&["M"]||c<Un.M&&["MM",c]||l<=1&&["y"]||["yy",l];return u[2]=t,u[3]=+e>0,u[4]=n,function(e,t,n,r,a){return a.relativeTime(t||1,!!n,e,r)}.apply(null,u)}(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)},Wn.toISOString=Gn,Wn.toString=Gn,Wn.toJSON=Gn,Wn.locale=Jt,Wn.localeData=tn,Wn.toIsoString=C("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Gn),Wn.lang=en,G("X",0,0,"unix"),G("x",0,0,"valueOf"),le("x",ae),le("X",/[+-]?\d+(\.\d{1,3})?/),fe("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),fe("x",function(e,t,n){n._d=new Date(w(e))}),r.version="2.21.0",t=Tt,r.fn=dn,r.min=function(){return It("isBefore",[].slice.call(arguments,0))},r.max=function(){return It("isAfter",[].slice.call(arguments,0))},r.now=function(){return Date.now?Date.now():+new Date},r.utc=p,r.unix=function(e){return Tt(1e3*e)},r.months=function(e,t){return mn(e,t,"months")},r.isDate=c,r.locale=lt,r.invalid=m,r.duration=Vt,r.isMoment=E,r.weekdays=function(e,t,n){return gn(e,t,n,"weekdays")},r.parseZone=function(){return Tt.apply(null,arguments).parseZone()},r.localeData=dt,r.isDuration=Dt,r.monthsShort=function(e,t){return mn(e,t,"monthsShort")},r.weekdaysMin=function(e,t,n){return gn(e,t,n,"weekdaysMin")},r.defineLocale=ut,r.updateLocale=function(e,t){if(null!=t){var n,r,a=at;null!=(r=ct(e))&&(a=r._config),t=R(a,t),(n=new P(t)).parentLocale=it[e],it[e]=n,lt(e)}else null!=it[e]&&(null!=it[e].parentLocale?it[e]=it[e].parentLocale:null!=it[e]&&delete it[e]);return it[e]},r.locales=function(){return N(it)},r.weekdaysShort=function(e,t,n){return gn(e,t,n,"weekdaysShort")},r.normalizeUnits=M,r.relativeTimeRounding=function(e){return void 0===e?Bn:"function"==typeof e&&(Bn=e,!0)},r.relativeTimeThreshold=function(e,t){return void 0!==Un[e]&&(void 0===t?Un[e]:(Un[e]=t,"s"===e&&(Un.ss=t-1),!0))},r.calendarFormat=function(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"},r.prototype=dn,r.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"YYYY-[W]WW",MONTH:"YYYY-MM"},r}()}).call(this,n(144)(e))},function(e,t,n){var r=n(44),a=n(141),i=n(102),o=n(97),s=n(123),c=function(e,t,n){var l,u,d,p,f=e&c.F,h=e&c.G,m=e&c.S,g=e&c.P,v=e&c.B,b=h?r:m?r[t]||(r[t]={}):(r[t]||{}).prototype,y=h?a:a[t]||(a[t]={}),E=y.prototype||(y.prototype={});for(l in h&&(n=t),n)d=((u=!f&&b&&void 0!==b[l])?b:n)[l],p=v&&u?s(d,r):g&&"function"==typeof d?s(Function.call,d):d,b&&o(b,l,d,e&c.U),y[l]!=d&&i(y,l,p),g&&E[l]!=d&&(E[l]=d)};r.core=a,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,e.exports=c},function(e,t,n){"use strict";n.d(t,"e",function(){return v}),n.d(t,"m",function(){return b}),n.d(t,"p",function(){return y}),n.d(t,"d",function(){return E}),n.d(t,"l",function(){return _}),n.d(t,"o",function(){return S}),n.d(t,"s",function(){return O}),n.d(t,"f",function(){return x}),n.d(t,"g",function(){return P}),n.d(t,"b",function(){return I}),n.d(t,"a",function(){return A}),n.d(t,"j",function(){return M}),n.d(t,"t",function(){return D}),n.d(t,"n",function(){return j}),n.d(t,"c",function(){return L}),n.d(t,"u",function(){return F}),n.d(t,"k",function(){return B}),n.d(t,"h",function(){return U}),n.d(t,"q",function(){return q}),n.d(t,"r",function(){return G}),n.d(t,"i",function(){return W});var r=n(18),a=n.n(r),i=n(23),o=n(9),s=n(3),c=n(29),l=n(37),u=function(e){return e.editingContent},d=function(e){return e.contents},p=function(e){return e.relatedUrls},f=function(e,t){return t},h=function(e){return e.mode},m=function(e){return e.loadingContent},g=function(e){return e.type!==s.i.WAITSTEP};var v=Object(i.createSelector)(o.identity,function(e){var t,n=Object(o.pick)(["title","contents"],e);return a()({},n,{contents:(t=n.contents,t.map(Object(o.pick)(["id","type","position","title","dueIn","description","effect","condition","amount","unit","pathContentId"])))})}),b=function(){return Object(i.createSelector)([u,f],function(e,t){var n=t.id,r=t.type;return!!Object(o.find)({id:n,type:r})(e)})},y=function(){return Object(i.createSelector)([m,f],function(e,t){var n=t.id,r=t.type;return e.includes("".concat(r,".").concat(n))})},E=function(){return Object(i.createSelector)([d,u,f],function(e,t,n){var r=n.id,a=n.type,i=Object(o.find)({id:r,type:a})(t);return i?i.view||"editing":"normal"})},_=Object(i.createSelector)(o.identity,function(e){return!!Object(o.get)("archivedAt.date")(e)}),w=Object(i.createSelector)(function(e){return e.publishedAt},function(e){return!!Object(o.get)("date",e)}),S=function(){return Object(i.createSelector)([o.identity,f],function(e,t){var n=e.contents,r=t.id,a=t.type;return Object(o.get)("justAdded",Object(o.find)({id:r,type:a},n))})},k=Object(i.createSelector)(o.identity,function(e){var t=e.contents;return Object(o.reject)({type:s.i.WAITSTEP})(t)}),C=Object(i.createSelector)(o.identity,function(e){var t=e.contents;return Object(o.filter)({type:s.i.PLACEHOLDER})(t)}),N=Object(o.flow)(Object(l.a)("contents"),Object(o.reject)({type:s.i.WAITSTEP}),Object(o.get)("length"));var O=Object(i.createSelector)([k],function(e){return N(e)}),x=function(){return Object(i.createSelector)([k,f],function(e,t){var n=t.id,r=t.type,a=Object(o.findIndex)({id:n,type:r},e);return a+function(e,t){return Object(o.filter)({type:s.i.PATH},e.slice(0,t)).reduce(function(e,t){return e+(N(t.contents)-1)},0)}(e,a)+1})},T=Object(i.createSelector)(o.identity,function(e){var t=e.contents;return Object(o.findIndex)(g)(t)}),R=Object(i.createSelector)(o.identity,function(e){var t=e.contents;return Object(o.findLastIndex)(g)(t)}),P=function(){return Object(i.createSelector)([o.identity,f,T,R],function(e,t,n,r){var a=e.contents,i=t.id,c=t.type,l=Object(o.findIndex)({id:i,type:c})(a);return c===s.i.WAITSTEP?l>r||l<n:l===r})},I=Object(i.createSelector)([v,C,k,_],function(e,t,n,r){var a=e.title,i=function(e){return{value:!1,reason:e}},s=["Paths that contain Placeholder Steps cannot be published","Paths without any Steps cannot be published","Paths without a name cannot be published","Archived Paths cannot be published"];return Object(o.isEmpty)(t)?Object(o.isEmpty)(n)?i(s[1]):Object(o.isEmpty)(a)?i(s[2]):r?i(s[3]):{value:!0,reason:null}:i(s[0])}),A=Object(i.createSelector)([_],function(e){return e?{value:!1,reason:"Archived Paths cannot be edited"}:{value:!0,reason:null}}),M=Object(i.createSelector)([o.identity,v,u,k],function(e,t,n,r){var a=e.lastRevision,i=e.publishedAt,s=!!Object(o.get)("date",i),c=function(e){return{value:!1,reason:e}},l=["Give this Path a name before ".concat(s?"updating":"saving"),"There are no ".concat(s?"updates to make":"changes to save"),"Finish editing all steps before ".concat(s?"updating":"saving"),"Published Paths must have at least one step"];return s&&Object(o.isEmpty)(r)?c(l[3]):Object(o.isEmpty)(t.title)?c(l[0]):Object(o.isEmpty)(n)?Object(o.isEqual)(a,t)?c(l[1]):{value:!0,reason:null}:c(l[2])}),D=function(){return Object(i.createSelector)([o.identity,f],function(e,t){var n=e.contents,r=e.mode,a=t.index,i=["Wait Steps at the beginning of a Path are ignored.","Wait Steps at the end of a Path are ignored.","Wait Steps immediately following another Wait Step are ignored."],c=function(e){return{invalid:!0,message:i[e]}};if(0===a)return c(0);if(r!==s.h.EDIT&&Object(o.isEmpty)(n.slice(a+1).filter(g)))return c(1);var l=n[a-1];return l&&l.type.match(/waitstep/i)?c(2):{invalid:!1}})},j=Object(i.createSelector)([function(e){return e.ui},f],function(e,t){return Object(o.get)("editing".concat(Object(c.a)(t)),e)}),L=Object(i.createSelector)(p,function(e){return e.filter(function(e){var t=e.relatedUrl;return Object(o.isNull)(t.name)&&Object(o.isString)(t.url)})}),F=Object(i.createSelector)(p,function(e){return e.filter(function(e){var t=e.relatedUrl;return Object(o.isNull)(t.url)&&Object(o.isString)(t.name)})}),B=Object(i.createSelector)([function(e){return e.libraryContents},f],function(e,t){return e.some(function(e){return e.group.id===t.id})}),U=Object(i.createSelector)(p,function(e){return!Object(o.isEmpty)(e)}),H=function(e){return Object(i.createSelector)(h,function(t){return t===e})},q={isEdit:H(s.h.EDIT),isView:H(s.h.VIEW),isReporting:H(s.h.REPORTING)},G=Object(i.createSelector)([w,h],function(e,t){return[e,[s.h.VIEW,s.h.REPORTING].includes(t)].every(Boolean)}),W=Object(i.createSelector)([function(e){return e.reporting},f],function(e,t){return Object(o.getOr)(!1,"permissions.".concat(t),e)})},function(e,t,n){"use strict";n.d(t,"a",function(){return u}),n.d(t,"b",function(){return d});var r=n(0),a=n.n(r),i=n(15),o=n.n(i),s=n(39),c=n(35),l=n(10),u=function(e){var t=e.children;return a.a.createElement("div",{className:"AlertBox-heading"},t)},d=function(e){var t=e.children;return a.a.createElement("div",{className:"AlertBox-subheading"},t)};t.c=function(e){var t=e.children,n=e.onDismiss,r=e.wide,i=e.styleName,u=e.className;return a.a.createElement(c.a,null,a.a.createElement(s.a,{className:"AlertBox AlertBox-background ".concat(i||u),onEscape:n},a.a.createElement("div",{className:o()("AlertBox-container",{"AlertBox-container--wide":r})},t,n&&a.a.createElement("div",{className:"AlertBox-dismissButton",onClick:n},a.a.createElement(l.a,{name:"error"})))))}},function(e,t,n){"use strict";n.d(t,"d",function(){return h}),n.d(t,"e",function(){return m}),n.d(t,"g",function(){return g}),n.d(t,"a",function(){return v}),n.d(t,"h",function(){return b}),n.d(t,"c",function(){return y}),n.d(t,"b",function(){return E}),n.d(t,"f",function(){return _});var r=n(56),a=n.n(r),i=n(9),o=n(68),s=" ",c=",",l=/^(?:https?:\/\/)[\w-]+(?:\.[\w.-]+)+[\w-._~:\/?#[\]@!$&'()*+,;=.]+$/,u=/^\s+/gm,d=/^\t+/gm,p="&nbsp;",f="<br />";function h(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t+"s";return 0===(e=parseInt(e,10))?n:e>1?n:t}function m(){return"".concat(arguments.length<=0?void 0:arguments[0]," ").concat(h.apply(void 0,arguments))}function g(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"and",r=e.length;if(1===r)return e[0];if(2===r){var a=t?s+n+s:c+s;return e[0]+a+e[1]}return e.reduce(function(e,a,i){return e.concat(i===r-1?"".concat(t?n+s:"").concat(a):a+c+s)},"")}function v(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e.slice(0,1).toUpperCase()+(t?e.slice(1).toLowerCase():e.slice(1))}function b(e){return e.replace(/([A-Z]+)/g,function(e){return"_"+e.toLowerCase()})}function y(e){return l.test(e)}function E(e){return e?e.replace(/\n/g,f):null}function _(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return Object(o.a)("string"==typeof e,'Expected value to be of type "string" but instead received '+'"'.concat(a()(e),'"')),Object(o.a)("number"==typeof t,'Expected tabSize to be of type "number" but instead received '+'"'.concat(a()(t),'"')),e.trim().replace(d,function(e){return e.replace(/./g,Object(i.repeat)(t,p))}).replace(u,function(e){return e.replace(/./g,p)}).replace(/\n/g,f)}},function(e,t,n){"use strict";t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]).reduce(function(t,n){return t.concat("".concat(e,"--").concat(n))},[e]).join(" ")}},function(e,t,n){var r;
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/
!function(){"use strict";var n={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var i=typeof r;if("string"===i||"number"===i)e.push(r);else if(Array.isArray(r)&&r.length){var o=a.apply(null,r);o&&e.push(o)}else if("object"===i)for(var s in r)n.call(r,s)&&r[s]&&e.push(s)}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):void 0===(r=function(){return a}.apply(t,[]))||(e.exports=r)}()},function(e,t,n){e.exports=n(1059)()},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(19),a=n.n(r),i=n(21),o=n.n(i),s=n(0),c=n.n(s),l=function(e){var t=e.children,n=e.className,r=void 0===n?"":n,i=o()(e,["children","className"]);return c.a.createElement("div",a()({className:"PathBuilderSidebar-sectionHeader ".concat(r)},i),t)};t.b=function(e){var t=e.children,n=e.className,r=void 0===n?"":n;return c.a.createElement("div",{className:"PathBuilderSidebar-section "+r},t)}},function(e,t,n){"use strict";var r=n(210),a=n(315),i={INIT:"@@redux/INIT"};function o(e,t,n){var s;if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(o)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var c=e,l=t,u=[],d=u,p=!1;function f(){d===u&&(d=u.slice())}function h(){return l}function m(e){if("function"!=typeof e)throw new Error("Expected listener to be a function.");var t=!0;return f(),d.push(e),function(){if(t){t=!1,f();var n=d.indexOf(e);d.splice(n,1)}}}function g(e){if(!Object(r.a)(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(p)throw new Error("Reducers may not dispatch actions.");try{p=!0,l=c(l,e)}finally{p=!1}for(var t=u=d,n=0;n<t.length;n++){(0,t[n])()}return e}return g({type:i.INIT}),(s={dispatch:g,subscribe:m,getState:h,replaceReducer:function(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");c=e,g({type:i.INIT})}})[a.default]=function(){var e,t=m;return(e={subscribe:function(e){if("object"!=typeof e)throw new TypeError("Expected the observer to be an object.");function n(){e.next&&e.next(h())}return n(),{unsubscribe:t(n)}}})[a.default]=function(){return this},e},s}function s(e,t){var n=t&&t.type;return"Given action "+(n&&'"'+n.toString()+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function c(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var a=t[r];0,"function"==typeof e[a]&&(n[a]=e[a])}var o=Object.keys(n);var c=void 0;try{!function(e){Object.keys(e).forEach(function(t){var n=e[t];if(void 0===n(void 0,{type:i.INIT}))throw new Error('Reducer "'+t+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if(void 0===n(void 0,{type:"@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".")}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+i.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')})}(n)}catch(e){c=e}return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];if(c)throw c;for(var r=!1,a={},i=0;i<o.length;i++){var l=o[i],u=n[l],d=e[l],p=u(d,t);if(void 0===p){var f=s(l,t);throw new Error(f)}a[l]=p,r=r||p!==d}return r?a:e}}function l(e,t){return function(){return t(e.apply(void 0,arguments))}}function u(e,t){if("function"==typeof e)return l(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var n=Object.keys(e),r={},a=0;a<n.length;a++){var i=n[a],o=e[i];"function"==typeof o&&(r[i]=l(o,t))}return r}function d(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce(function(e,t){return function(){return e(t.apply(void 0,arguments))}})}var p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function f(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(n,r,a){var i,o=e(n,r,a),s=o.dispatch,c={getState:o.getState,dispatch:function(e){return s(e)}};return i=t.map(function(e){return e(c)}),s=d.apply(void 0,i)(o.dispatch),p({},o,{dispatch:s})}}}n.d(t,"e",function(){return o}),n.d(t,"c",function(){return c}),n.d(t,"b",function(){return u}),n.d(t,"a",function(){return f}),n.d(t,"d",function(){return d})},function(e,t,n){"use strict";var r=n(0),a=n.n(r),i=n(4),o=n.n(i),s=n(5),c=n.n(s),l=n(6),u=n.n(l),d=n(7),p=n.n(d),f=n(8),h=n.n(f),m=n(76),g=n.n(m),v=function(e){function t(){return o()(this,t),u()(this,p()(t).apply(this,arguments))}return h()(t,e),c()(t,[{key:"componentDidMount",value:function(){this.layer=document.createElement("div"),document.body.appendChild(this.layer),this.renderLayer()}},{key:"componentDidUpdate",value:function(){this.renderLayer()}},{key:"componentWillUnmount",value:function(){g.a.unmountComponentAtNode(this.layer),document.body.removeChild(this.layer)}},{key:"renderLayer",value:function(){g.a.render(this.props.children,this.layer)}},{key:"render",value:function(){return!1}}]),t}(a.a.Component);var b={legacy:v,portal:function(e){var t=e.children,n=Object(r.useMemo)(function(){var e=document.createElement("div");return document.body.appendChild(e),e},[]);return Object(r.useEffect)(function(){return function(){return document.body.removeChild(n)}},[n]),Object(m.createPortal)(t,n)}};t.a=function(e){var t=e.children,n=e.type,r=b[n]||v;return a.a.createElement(r,null,t)}},function(e,t,n){"use strict";n.r(t),n.d(t,"updatePath",function(){return i}),n.d(t,"updateRequestInProgress",function(){return o}),n.d(t,"updateRequestSuccess",function(){return s}),n.d(t,"updateRequestFailure",function(){return c}),n.d(t,"dismissUpdateRequestFailure",function(){return l}),n.d(t,"publishPath",function(){return u}),n.d(t,"toggleEditingDescription",function(){return d}),n.d(t,"toggleEditingOrderEnforcement",function(){return p}),n.d(t,"saveRevision",function(){return f}),n.d(t,"restoreRevision",function(){return h}),n.d(t,"updateContent",function(){return m}),n.d(t,"reorderContent",function(){return g}),n.d(t,"removeContent",function(){return v}),n.d(t,"addContent",function(){return b}),n.d(t,"toggleEditing",function(){return y}),n.d(t,"persistContent",function(){return E}),n.d(t,"toggleEditingMode",function(){return _}),n.d(t,"toggleDraggingContent",function(){return w}),n.d(t,"toggleEditingUIElementByName",function(){return S}),n.d(t,"setMode",function(){return k}),n.d(t,"requestReportingData",function(){return C}),n.d(t,"requestReportingDataSuccess",function(){return N}),n.d(t,"loadingContent",function(){return O}),n.d(t,"loadingContentSuccess",function(){return x});var r=n(9),a=n(14),i=function(e){return{type:a.j.PATH.UPDATE,changes:e}},o=function(){return{type:a.j.PATH.UPDATE_IN_PROGRESS}},s=function(){return{type:a.j.PATH.UPDATE_SUCCESS}},c=function(){return{type:a.j.PATH.UPDATE_FAILURE}},l=function(){return{type:a.j.PATH.UPDATE_FAILURE_DISMISS}},u=function(e,t){return{type:a.j.PATH.PUBLISH,user:e,date:t}},d=function(){return{type:a.j.PATH.TOGGLE_EDITING_DESCRIPTION}},p=function(){return{type:a.j.PATH.TOGGLE_EDITING_ORDER_ENFORCEMENT}},f=function(){return{type:a.j.PATH.SAVE_REVISION}},h=function(){return{type:a.j.PATH.RESTORE_REVISION}},m=function(e,t,n){return{type:a.j.CONTENT.UPDATE,id:e,contentType:t,changes:n}},g=function(e,t){return{type:a.j.CONTENT.REORDER,position:e,newPosition:t}},v=function(e,t){return{type:a.j.CONTENT.REMOVE,contentType:t,id:e}},b=function(e,t){return{type:a.j.CONTENT.ADD,id:Object(r.uniqueId)("tmp#"),justAdded:!0,contentType:e,position:t}},y=function(e,t,n){return{type:a.j.CONTENT.TOGGLE_EDITING,contentType:t,id:e,view:n}},E=function(e,t){return{type:a.j.CONTENT.PERSIST,contentType:t,id:e}},_=function(){return{type:a.j.PATH.TOGGLE_EDITING_MODE}},w=function(){return{type:a.j.CONTENT.TOGGLE_DRAGGING}},S=function(e){return{type:a.j.UI.TOGGLE_EDITING_BY_NAME,name:e}},k=function(e){return{type:a.j.UI.SET_MODE,mode:e}},C=function(){return{type:a.j.REPORTING.DATA_REQUEST}},N=function(e){return{type:a.j.REPORTING.DATA_SUCCESS,data:e}},O=function(e,t){return{type:a.j.CONTENT.LOADING_CONTENTS_REQUEST,id:e,contentType:t}},x=function(e,t){return{type:a.j.CONTENT.LOADING_CONTENTS_SUCCESS,id:e,contentType:t}}},function(e,t,n){"use strict";n.d(t,"c",function(){return o}),n.d(t,"e",function(){return s}),n.d(t,"i",function(){return c}),n.d(t,"g",function(){return l}),n.d(t,"h",function(){return u}),n.d(t,"d",function(){return d}),n.d(t,"j",function(){return p}),n.d(t,"f",function(){return f}),n.d(t,"a",function(){return h}),n.d(t,"b",function(){return m});var r=n(24),a=n.n(r),i=n(9),o=i.map.convert({cap:!1}),s=function(e,t){return t?Object(i.reject)({id:e,type:t}):Object(i.reject)({id:e})},c=Object(i.sortBy)("position"),l=o(function(e,t){return Object(i.set)("position",t+1,e)}),u=Object(i.flow)(c,l),d=function(e,t){return Object(i.flow)(s(e,t),l)},p=(Object(i.map)("id"),function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];e=a()(e);var o=Object(i.findIndex)(t)(e),s=r?i.merge:i.assign;return e.splice(o,1,s(e[o])(n)),e}),f=function(e,t){return function(n){var r=a()(n);return r.splice(t-1,0,r.splice(e-1,1)[0]),l(r)}},h=function(e){return function(t){var n=Object(i.flatMap)(function(t){return t[e]?n(t[e]):t});return n(t)}},m=function(e,t){return e&&Object.prototype.hasOwnProperty.call(e,t)}},function(e,t,n){"use strict";n.d(t,"d",function(){return g}),n.d(t,"i",function(){return E}),n.d(t,"f",function(){return _}),n.d(t,"a",function(){return w}),n.d(t,"c",function(){return S}),n.d(t,"j",function(){return k}),n.d(t,"b",function(){return C}),n.d(t,"e",function(){return N}),n.d(t,"g",function(){return O});var r=n(21),a=n.n(r),i=n(18),o=n.n(i),s=n(9),c=n(17),l=n(96),u=n(3),d=n(36),p=n(151),f=n(27);function h(e){var t=e.id,n=e.title;Object(p.c)({id:t,type:u.i.PATH,title:n})}function m(e){var t=window.location.pathname;t=t.replace(l.a.PATH_MODES_TRAILING_URL,""),t+="/"+e,window.history.replaceState({},null,t)}function g(e){return m(e),d.setMode(e)}function v(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return s.flow.apply(void 0,t)(e)}}function b(e){return e.reduce(function(t,n,r){if(n.type===u.i.WAITSTEP){var a={contents:e,mode:u.h.VIEW};if(Object(f.t)()(a,o()({},n,{index:r})).invalid)return t}return t.concat(n)},[])}function y(e){return e.map(function(e){return Object(s.isString)(e.id)&&e.id.match(/tmp/)&&delete e.id,e})}function E(e){return function(t){return new Promise(function(n){t(d.updatePath(e)),n()})}}function _(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).updateUrl,t=void 0===e||e;return function(e,n){t&&m(n().pathBuilder.mode===u.h.EDIT?u.h.VIEW:u.h.EDIT);return e(d.toggleEditingMode())}}function w(){return function(e,t){return new Promise(function(n,r){var a=t().pathBuilder.id;e(d.updateRequestInProgress()),c.a.put(u.k.PUBLISH_PATH(a)).then(function(t){e(d.updateRequestSuccess()),e(d.updatePath(t)),h({id:a,title:t.title}),n()}).fail(function(){e(d.updateRequestFailure()),r()})})}}function S(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,n){return new Promise(function(r){var i=n().pathBuilder,o=Object(f.e)(i),l=!i.id;Object.assign(o,{contents:v(b,y)(o.contents)}),l&&Object.assign(o,{description:i.description,enforcedOrder:i.enforcedOrder,workspace_id:i.workspace.id}),Object(s.isEmpty)(e.merge)||Object.assign(o,e.merge),o.title=o.title.trim(),t(d.updateRequestInProgress());var p=c.a.putJSON,m=c.a.postJSON,g=l?m:p,E=l?u.k.PATHS:"".concat(u.k.PATHS,"/").concat(i.id);g.call(c.a,E,o).then(function(e){var n=e.success,o=a()(e,["success"]);n&&(t(d.updatePath(o)),t(function(e,t){var n=t().pathBuilder,r=Object(f.e)(n);e(d.saveRevision(r))}),l&&window.history.replaceState({},null,"/paths/".concat(o.id,"/view")),i.mode===u.h.EDIT&&t(_({updateUrl:!l})),Object(s.isEmpty)(o.publishedAt)||i.lastRevision.title===o.title||h({id:o.id,title:o.title}));t(d.updateRequestSuccess()),r(o)}).fail(function(){t(d.updateRequestFailure())})})}}function k(e){return function(t,n){var r=n().pathBuilder.id;c.a.put(u.k.PATH(r),{public:e}).then(function(e){var n=Object(s.pick)(["public","urls"],e);t(E(n))})}}function C(){return function(e){e(d.restoreRevision()),e(_())}}function N(){return d.toggleEditingDescription()}function O(){return d.toggleEditingOrderEnforcement()}n.d(t,"h",function(){return d.toggleEditingUIElementByName})},function(e,t,n){"use strict";var r=n(19),a=n.n(r),i=n(21),o=n.n(i),s=n(4),c=n.n(s),l=n(5),u=n.n(l),d=n(6),p=n.n(d),f=n(7),h=n.n(f),m=n(1),g=n.n(m),v=n(8),b=n.n(v),y=n(2),E=n.n(y),_=n(0),w=n.n(_),S=n(155),k=function(e){function t(e){var n;return c()(this,t),n=p()(this,h()(t).call(this,e)),E()(g()(n),"modalContainerRef",Object(_.createRef)()),n.handleEscapeKey=n.handleEscapeKey.bind(g()(n)),n}return b()(t,e),u()(t,[{key:"componentDidMount",value:function(){window.addEventListener("keyup",this.handleEscapeKey),document.body.style.overflow="hidden",this.modalContainerRef.current&&Object(S.a)(this.modalContainerRef.current)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keyup",this.handleEscapeKey),document.body.style.overflow="visible"}},{key:"handleEscapeKey",value:function(e){var t=e.keyCode||e.which;this.props.onEscape&&27===t&&this.props.onEscape()}},{key:"render",value:function(){var e=this.props,t=(e.onEscape,o()(e,["onEscape"]));return w.a.createElement("div",a()({},t,{ref:this.modalContainerRef}))}}]),t}(w.a.Component);t.a=k},function(e,t,n){"use strict";n.d(t,"a",function(){return u}),n.d(t,"b",function(){return p}),n.d(t,"c",function(){return f});var r=n(24),a=n.n(r),i=n(16),o=n(29),s=encodeURIComponent,c=function(e,t){return e.replace(t,"")};function l(e){return e.split("?")[1]||""}function u(e,t){if(URLSearchParams)return new URLSearchParams(l(e)).get(t);t=t.replace(/[[]/,"\\[").replace(/[\]]/,"\\]");var n=new RegExp("[\\?&]"+t+"=([^&#]*)").exec(e);return null===n?"":decodeURIComponent(n[1].replace(/\+/g," "))}function d(e,t){var n=c(e,/(\/|\?.+)$/),r=c(t,/^\?/);return[].concat(a()(l(e).split("&")),a()(r.split("&"))).filter(i.identity).forEach(function(e){n=function(e,t,n){var r=new RegExp("([?&])"+t+"=.*?(&|$)","i"),a=e.includes("?")?"&":"?";return e.match(r)?e.replace(r,"$1"+t+"="+n+"$2"):e+a+t+"="+n}.apply(void 0,[n].concat(a()(e.split("="))))}),n}function p(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.replaceState,a=void 0!==r&&r,l=n.merge,u=void 0!==l&&l,p=Object(i.isString)(t)?t:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=[];return Object(i.forEach)(e,function(e,n){t.push(s(Object(o.h)(n))+"="+s(e))}),t.join("&")}(t),f=u?d(e,p):function(e,t){return d(c(e,/(\/|\?.+)$/),t)}(e,p);return a?window.history.replaceState({},null,f):f}function f(e){p(window.location.pathname,e,{replaceState:!0})}},function(e,t,n){e.exports=n(488)},function(e,t,n){"use strict";var r=n(0),a=n.n(r);t.a=function(e){var t=e.speed,n=void 0===t?300:t,r=e.opacity,i=void 0===r?.4:r,o=e.loading,s=void 0!==o&&o,c=e.children,l="opacity ".concat(n,"ms ease"),u={WebkitTransition:l,transition:l,opacity:s?i:1};return a.a.createElement("div",{style:u,className:"LoadableState"},c)}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){"use strict";var r=n(313),a=n(77),i=n(241),o=(n(0),n(314));n.d(t,"d",function(){return r.a}),n.d(t,"a",function(){return a.a}),n.d(t,"b",function(){return i.a}),n.d(t,"c",function(){return o.a})},function(e,t,n){"use strict";n.d(t,"e",function(){return c}),n.d(t,"c",function(){return l}),n.d(t,"b",function(){return u}),n.d(t,"f",function(){return d}),n.d(t,"a",function(){return p}),n.d(t,"d",function(){return f});var r=n(23),a=n(9),i=function(e){return e.currentSection},o=function(e,t){return t},s=function(e,t){return t},c=function(){return Object(r.createSelector)([i,o],function(e,t){return e.id===t})},l=Object(r.createSelector)([function(e){return e.sections},o],function(e,t){return Object(a.find)({id:t},e)}),u=Object(r.createSelector)([i,o],function(e,t){var n=e.elements;return Object(a.find)({id:t},n)}),d=Object(r.createSelector)([i],function(e){var t=e.elements;return!t&&Object(a.isEmpty)(t)}),p=function(){return Object(r.createSelector)([i,s],function(e,t){var n=e.elements;return Object(a.filter)({parent_id:t},n)})},f=Object(r.createSelector)([i,s],function(e,t){var n=e.elements;return Object(a.flow)(Object(a.filter)({parent_id:t}),Object(a.negate)(a.isEmpty))(n)})},function(e,t,n){var r=n(45);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t,n){"use strict";n.d(t,"b",function(){return N});var r=n(18),a=n.n(r),i=n(4),o=n.n(i),s=n(5),c=n.n(s),l=n(6),u=n.n(l),d=n(7),p=n.n(d),f=n(1),h=n.n(f),m=n(8),g=n.n(m),v=n(2),b=n.n(v),y=n(0),E=n.n(y),_=n(445),w=n.n(_),S=n(15),k=n.n(S),C=function(e){function t(){var e,n;o()(this,t);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return n=u()(this,(e=p()(t)).call.apply(e,[this].concat(a))),b()(h()(n),"state",{visible:!1}),b()(h()(n),"handleMouseDown",n.props.hideOnMouseUp?n.handleMouseOut:w.a),b()(h()(n),"handleMouseOver",function(){n.setState({visible:!0})}),b()(h()(n),"handleMouseOut",function(){n.setState({visible:!1})}),n}return g()(t,e),c()(t,[{key:"render",value:function(){if(!this.props.text)return y.Children.only(this.props.children);var e=k()("ButtonWithTooltip",{"ButtonWithTooltip--manual":!0,"ButtonWithTooltip--alignEnd":"end"===this.props.align,"ButtonWithTooltip--alignStart":"start"===this.props.align,"d-ib":this.props.inline}),t=k()("ButtonWithTooltip-text",b()({"ButtonWithTooltip-text--visible":this.state.visible},this.props.className,this.props.className));return E.a.createElement("div",{className:e,onMouseOver:this.handleMouseOver,onMouseOut:this.handleMouseOut,onMouseDown:this.handleMouseDown},this.props.children,E.a.createElement("div",{className:t},this.props.text))}}]),t}(y.PureComponent);function N(e){return function(t){return Object(y.createElement)(C,a()({},e,{children:t}))}}b()(C,"defaultProps",{hideOnMouseUp:!1,inline:!1}),t.a=C},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(526);Object.defineProperty(t,"DragDropContext",{enumerable:!0,get:function(){return c(r).default}});var a=n(1042);Object.defineProperty(t,"DragDropContextProvider",{enumerable:!0,get:function(){return c(a).default}});var i=n(1043);Object.defineProperty(t,"DragLayer",{enumerable:!0,get:function(){return c(i).default}});var o=n(1044);Object.defineProperty(t,"DragSource",{enumerable:!0,get:function(){return c(o).default}});var s=n(1054);function c(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"DropTarget",{enumerable:!0,get:function(){return c(s).default}})},function(e,t,n){var r=n(1330),a=n(616);e.exports=function(e,t){return null!=e&&a(e,t,r)}},function(e,t,n){"use strict";n.d(t,"c",function(){return m}),n.d(t,"b",function(){return g}),n.d(t,"a",function(){return v}),n.d(t,"f",function(){return b}),n.d(t,"e",function(){return y});var r=n(21),a=n.n(r),i=n(18),o=n.n(i),s=n(320),c=n.n(s),l=n(14),u=n(17),d=n(47),p=n(64),f=function(e){return{type:l.e.SECTION.EDIT,payload:e}},h=function(e){return{type:l.e.SECTION.UPDATE_URL,url:e}},m=function(){return{type:l.e.AUTOSAVE.SUCCESS}},g=function(){return{type:l.e.AUTOSAVE.REQUEST}},v=function(){return NProgress.done(),{type:l.e.AUTOSAVE.FAILURE}},b=function(e,t){return{type:l.e.SECTION.REORDER,ownIndex:e,overIndex:t}},y=function(e,t){return e(v())},E={};E.requestUpdate=function(e,t){return function(n,r){return new Promise(function(a,i){var s=Object(d.c)(r().editor,e).update_path;n(g()),u.a.put(s,t).done(function(r){n(m()),n(function(e,t){return o()({type:l.e.SECTION.UPDATE,id:e},t)}(e,t)),a(r)}).fail(function(e){n(v()),i(e)})})}},E.requestDuplicate=function(e){return function(t,n){return new Promise(function(r,a){NProgress.start();var i=Object(d.c)(n().editor,e).update_path+"/duplicate";t(g()),u.a.post(i).done(function(e){var n;t(m()),t((n=e,{type:l.e.SECTION.DUPLICATE,payload:n})),r(e),NProgress.done()}).fail(function(e){t(v()),a(e)})})}},E.fetchElements=function(e){return function(t,n){return new Promise(function(r,i){NProgress.start();var o=n().editor,s=o.commentary,c=a()(o,["commentary"]),h=Object(d.c)(c,e);if(h){var m=h.view_path;t(function(e){return{type:l.e.SECTION.REQUEST_EDIT,id:e}}()),u.a.get(m).done(function(e){s.visible&&t(Object(p.c)()),r(f(e)),NProgress.done()}).fail(function(e){return y(i,e)})}else NProgress.done()})}},E.requestNew=function(){return function(e,t){return new Promise(function(n,r){NProgress.start(),e({type:l.e.SECTION.REQUEST_CREATE}),e(g());var a=t().editor,i=a.new_section_path,o=a.commentary;u.a.post(i).done(function(t){var r;o.visible&&e(Object(p.c)()),e((r=t,{type:l.e.SECTION.CREATE,payload:r})),n(f(t)),e(m()),NProgress.done()}).fail(function(e){return y(r,e)})})}},E.requestDelete=function(e){return function(t,n){return new Promise(function(r,a){var i=Object(d.c)(n().editor,e).delete_path;NProgress.start(),t(function(e){return{type:l.e.SECTION.REQUEST_DELETE,id:e}}(e)),t(g()),u.a.delete(i).done(function(n){r(function(e){return{type:l.e.SECTION.DELETE,id:e}}(e)),t(m()),NProgress.done()}).fail(function(e){return y(a,e)})})}},E.create=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function(t,n){return t(E.requestNew()).then(function(n){e&&t(n),t(h(n.payload.view_path_html))}).catch(t)}},E.edit=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return function(n,r){return n(E.fetchElements(e)).then(function(a){n(a);var i=Object(d.c)(r().editor,e).view_path_html;t&&n(h(i)),$("html, body").animate({scrollTop:"0"},300)}).catch(n)}},E.update=function(e,t){return function(n,r){return n(E.requestUpdate(e,t))}},E.duplicate=function(e){return function(t,n){return t(E.requestDuplicate(e))}},E.delete=function(e){return function(t,n){var r=n().editor,a=r.sections,i=r.currentSection;if(a.length>1&&i.id===e){var o=c()(a,{id:e}),s=a[o+1]||a[o-1];return Promise.all([t(E.fetchElements(s.id)),t(E.requestDelete(e))]).then(function(e){e.forEach(t),t(h(s.view_path_html))}).catch(t)}return t(E.requestDelete(e)).then(t).catch(t)}},t.d=E},function(e,t,n){"use strict";n.d(t,"a",function(){return d}),n.d(t,"j",function(){return p}),n.d(t,"e",function(){return f}),n.d(t,"f",function(){return h}),n.d(t,"i",function(){return m}),n.d(t,"d",function(){return g}),n.d(t,"b",function(){return v}),n.d(t,"g",function(){return b}),n.d(t,"h",function(){return y}),n.d(t,"c",function(){return _});var r=n(18),a=n.n(r),i=n(9),o=n(174),s=n(17),c=n(3),l=n(36),u=n(38);function d(e,t){return function(n,r){r().pathBuilder.mode!==c.h.EDIT&&n(Object(u.f)()),n(l.addContent(e,t))}}function p(e,t,n){return function(r){n.id&&n.id!==e&&(n.dueIn=null,n.description=Object(o.a)(n.description,null),n.enforcedOrder=Object(o.a)(n.enforcedOrder,!1)),r(l.updateContent(e,t,n))}}function f(e,t){return function(n){n(l.removeContent(e,t))}}function h(e,t){return function(n){n(l.reorderContent(e,t))}}function m(e,t,n){return function(r){r(l.toggleEditing(e,t,n))}}function g(e,t){return function(n){n(l.persistContent(e,t))}}function v(e,t,n){return function(r){var a=[e,t];r(l.toggleEditing.apply(l,a)),n&&r(l.removeContent.apply(l,a))}}function b(e,t,n){return l.updateContent(e,t,a()({},n,n.type.match(/course|path/i)&&{lessons:n.lessons?n.lessons:[]},{description:n.description?n.description:""}))}function y(){return l.toggleDraggingContent()}var E=function(e){return s.a.get(c.k.PATH_VIEW(e))};function _(e,t){if(t===c.i.PATH)return function(e,t){return function(n,r){n(l.loadingContent(e,t)),E(e).then(function(r){var a=Object(i.pick)(["description","contents","enforcedOrder","urls"],r);n(p(e,t,a)),n(l.loadingContentSuccess(e,t))})}}(e,t)}},function(e,t,n){var r=n(139),a=n(1149),i=n(1170),o=n(191),s=n(190),c=n(1174),l=n(577),u=n(410),d=l(function(e,t){var n={};if(null==e)return n;var l=!1;t=r(t,function(t){return t=o(t,e),l||(l=t.length>1),t}),s(e,u(e),n),l&&(n=a(n,7,c));for(var d=t.length;d--;)i(n,t[d]);return n});e.exports=d},function(e,t){function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(t){return"function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?e.exports=r=function(e){return n(e)}:e.exports=r=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":n(e)},r(t)}e.exports=r},function(e,t,n){"use strict";var r=n(21),a=n.n(r),i=n(56),o=n.n(i),s=n(2),c=n.n(s),l=n(41),u=n.n(l),d=n(69),p=n.n(d),f=n(18),h=n.n(f),m=n(16),g=n(14),v=n(17),b=n(682),y=n(47),E=n(205),_=n(53),w=n(3),S=n(114),k=n(64),C=function(e,t){return{type:g.e.ELEMENT.REORDER,position:e,newPosition:t}},N=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return h()({type:g.e.ELEMENT.APPLY_CHANGES,id:e},t,{mergeChanges:n})},O=function(e,t){return{type:g.e.ELEMENT.CREATE,position:e,payload:t}},x=function(e,t){return{type:g.e.ELEMENT.REPLACE,element:t}},T={};T.requestDelete=function(e){return function(t,n){return new Promise(function(r,a){var i=n().editor,o=Object(y.b)(i,e).delete_path;t(Object(_.b)()),NProgress.start(),v.a.delete(o).done(function(n){var a;Object(y.d)(i,e)&&t((a=e,{type:g.e.ELEMENT.DELETE_CHILDREN,id:a})),t(Object(_.c)()),r(function(e){return{type:g.e.ELEMENT.DELETE,id:e}}(e)),NProgress.done()}).fail(function(e){Object(_.e)(a,e),t(Object(_.a)())})})}},T.delete=function(e){return function(t,n){var r=n().editor,a=r.currentSection.elements,i=r.commentary,o=i.visible&&i.elementId===e,s=a.length>1;if(o&&s){var c=Object(m.findIndex)(a,{id:e}),l=a[c+1]||a[c-1];return t(T.requestDelete(e)).then(function(e){t(e),t(Object(k.b)(l.id))}).catch(t)}return o&&!s?t(T.requestDelete(e)).then(function(e){t(e),t(Object(k.c)())}):t(T.requestDelete(e)).then(t).catch(t)}},T.requestUpdate=function(e,t,n){var r=n.json;return function(n,a){return new Promise(function(i,o){var s=Object(y.b)(a().editor,e).update_path;n(Object(_.b)()),(r?v.a.putJSON:v.a.put)(s,t).done(function(t){Object(m.has)(t,"metadata.valid")&&n(function(e,t){return{type:g.e.ELEMENT.SET_VALIDITY,id:e,valid:t}}(e,t.metadata.valid)),n(Object(_.c)()),i(t.metadata)}).fail(function(e){return Object(_.e)(o,e)})})}},T.update=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{json:!1};return function(r,a){return r(T.requestUpdate(e,t,n)).catch(r)}},T.updateCriteria=function(e,t){return function(n,r){var a=t.map(function(e){return e.id}),i=0===a.length?"_destroy":a;n(T.update(e,{criteria:i})),n(N(e,{criteria:t},!1))}},T.copy=function(e,t){return function(n){return new Promise(function(n,r){NProgress.start(),v.a.post(t,e).done(function(e){NProgress.done(),n(e)}).fail(function(e){NProgress.done(),r(e)})})}},T.applyChanges=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(r,a){return r(N(e,t,n.mergeChanges))}},T.uploadImageRequest=function(e,t){return function(n,r){return new Promise(function(n,a){var i=Object(y.b)(r().editor,e).update_path;NProgress.start();var o=new FormData;o.append("image",t),v.a.put(i,o,{processData:!1,contentType:!1}).done(function(t){NProgress.done(),n(N(e,{url:t.metadata.url}))}).fail(function(e){return Object(_.e)(a,e)})})}},T.getConvertedDocumentUrl=function(e,t){return function(n){n(N(e,{status:"converting"}));var r=setInterval(function(){v.a.get("/documents/".concat(t,"/conversion_status")).then(function(t){var a=t.url;a&&(n(N(e,{url:a,status:null})),window.clearInterval(r))}).fail(function(t){var a=t.responseJSON.error;n(N(e,{status:"error",errorMessage:a})),window.clearInterval(r)})},5e3)}},T.uploadDocument=function(e,t){return function(n,r){return Object(b.a)(t).then(function(r){n(r?N(e,{url:r}):T.getConvertedDocumentUrl(e,t))}).catch(function(t){var r=t.responseJSON.error;n(N(e,{status:"error",errorMessage:r}))})}},T.uploadImage=function(e,t){return function(n,r){return n(T.uploadImageRequest(e,t)).then(n).catch(n)}},T.convertPhoto=function(e,t){return function(){var n=p()(u.a.mark(function n(r,a){var i,o,s,c,l;return u.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,S.b(t);case 2:return i=n.sent,o=Object(y.b)(a().editor,e),s=o.convert_path,n.next=6,v.a.postJSON(s,{filestack_image:i});case 6:c=n.sent,l=c.element,r(x(0,l));case 9:case"end":return n.stop()}},n)}));return function(e,t){return n.apply(this,arguments)}}()},T.handleImageChange=function(e,t,n){return function(r,a){return new Promise(function(i,s){r(N(e,{uploadInProgress:!0}));var l=Object(y.b)(a().editor,e).type,u="content"===n?"content_image":"alt_content_image",d=function(e){switch(l){case"lesson_content_image":return{image:e.image};default:return{content_image:e.content_image,alt_content_image:e.alt_content_image}}};if(t instanceof File){var p=Object(y.b)(a().editor,e).update_path;S.b(t).then(function(t){var a={filestack_image:t,image_type:n};return v.a.put(p,a).then(function(t){r(N(e,h()({},d(t.metadata),{uploadInProgress:!1}))),i()})}).catch(s)}else null===t?r(T.update(e,c()({},u,null),{json:!0})).then(function(t){r(N(e,h()({},d(t),{uploadInProgress:!1}))),i()}).catch(s):"object"===o()(t)?r(T.update(e,{image_id:t.id,image_type:n})).then(function(t){r(N(e,h()({},d(t),{uploadInProgress:!1}))),i()}).catch(s):(r(N(e,{uploadInProgress:!1})),s(new Error("Unknow image type")))})}},T.create=function(e,t,n){return function(r,a){var i=a().editor.currentSection.create_element_path;NProgress.start(),r(Object(_.b)()),v.a.post(i,{content_type:e,position:t,parent_id:n}).then(function(e){NProgress.done(),r(O(t,e)),r(Object(_.c)())}).fail(function(){NProgress.done(),r(Object(_.a)()),alert("There was a problem creating the element. Please try again.")})}},T.orderElement=function(e,t,n){return function(r){r(C(t,n)),r(T.update(e,{position:n}))}},T.detachParent=function(e,t){return function(n,r){var a=r().editor,i=Object(y.b)(a,e),o=i.position,s=i.parent_id,c=Object(y.b)(a,s).content.options.required,l=T.update(e,{position:t,parent_id:null,required:c});n(N(e,{options:{required:c}})),n(function(e){return{type:g.e.ELEMENT.DETACH_PARENT,id:e}}(e)),n(C(o,t)),n(l)}},T.assignParent=function(e,t){return function(n,r){var i=r().editor,o=Object(y.b)(i,e).position,s=Object(y.b)(i,t),c=s.position,l=o<c?c:c+1,u=a()(s,["position"]).content.options.required,d=T.update(e,{parent_id:t,position:l,required:u});n(N(e,{options:{required:u}})),n(function(e,t){return{type:g.e.ELEMENT.ASSIGN_PARENT,id:e,parentId:t}}(e,t)),n(C(o,l)),n(d)}},T.updateCommentsCount=function(){return function(e,t){var n=t().editor.commentary,r=n.elementId,i=a()(n,["elementId"]);e({type:g.e.ELEMENT.UPDATE_COMMENTS_COUNT,id:r,count:Object(E.a)(i)})}},T.toggleDragging=function(){return function(e){e({type:g.e.TOGGLE.DRAGGING_ELEMENT})}},T.addSavedContentToLesson=function(e,t,n,r){return function(a){var i=w.k.COPY_SAVED_ELEMENT_CONTENT(e,t,n);return new Promise(function(e,t){NProgress.start(),v.a.post(i,{position:r}).done(function(t){NProgress.done(),t.forEach(function(e){return a(O(r,e))}),e(t)}).fail(function(e){NProgress.done(),t(e)})})}},T.createZendeskTicket=function(e,t,n){return function(r,a){var i=a().editor.currentSection.create_element_path;return new Promise(function(a,o){NProgress.start(),v.a.post(i,{content_type:e,position:t,zendesk_ticket_id:n}).then(function(e){NProgress.done(),r(O(t,e)),a(e)}).fail(function(){alert("There was a problem creating the element. Please try again.")})})}},t.a=T},function(e,t,n){"use strict";(function(e){var r=n(19),a=n.n(r),i=n(21),o=n.n(i),s=n(4),c=n.n(s),l=n(5),u=n.n(l),d=n(6),p=n.n(d),f=n(7),h=n.n(f),m=n(1),g=n.n(m),v=n(8),b=n.n(v),y=n(2),E=n.n(y),_=n(0),w=n.n(_),S=n(9),k=n(15),C=n.n(k),N=function(t){function n(e){var t;return c()(this,n),(t=p()(this,h()(n).call(this,e))).state={},t.handleChange=t.handleChange.bind(g()(t)),t.handlePaste=t.handlePaste.bind(g()(t)),t.handleKeyDown=t.handleKeyDown.bind(g()(t)),t.debouncedOnChange=e.disabled?S.identity:Object(S.debounce)(e.wait)(e.onChange),t}return b()(n,t),u()(n,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.value,n=this.textarea.value;this.props.controlled&&n!==t&&(this.textarea.value=t)}},{key:"componentDidMount",value:function(){e.autosize(this.textarea)}},{key:"handleKeyDown",value:function(e){var t=this;this.props.singleLine&&13===e.keyCode&&(e.preventDefault(),this.setState({shake:!0}),setTimeout(function(){t.setState({shake:!1})},500))}},{key:"handlePaste",value:function(t){var n=this;this.props.singleLine&&(t.persist(),requestAnimationFrame(function(){n.textarea.value=t.target.value.replace(/[\r\n|\n|\s]+/g," "),e.autosize.update(n.textarea),n.setState({value:t.target.value.replace(/[\r\n|\n|\s]+/g," ")},n.handleChange)}))}},{key:"handleChange",value:function(){(this.props.wait?this.debouncedOnChange:this.props.onChange).call(this,this.textarea.value)}},{key:"render",value:function(){var e=this,t=C()(this.props.className,{Animated:!0,"Animated--shake":this.state.shake}),n=this.props,r=(n.singleLine,n.controlled,n.value),i=(n.wait,n.maxLength),s=o()(n,["singleLine","controlled","value","wait","maxLength"]);return w.a.createElement("textarea",a()({},s,{rows:1,ref:function(t){e.textarea=t},className:t,defaultValue:r,onChange:this.handleChange,onKeyDown:this.handleKeyDown,onPaste:this.handlePaste,maxLength:i}))}}]),n}(_.Component);E()(N,"defaultProps",{wait:300,value:"",controlled:!1,onChange:S.identity}),t.a=N}).call(this,n(43))},function(e,t,n){var r=n(242)("wks"),a=n(158),i=n(44).Symbol,o="function"==typeof i;(e.exports=function(e){return r[e]||(r[e]=o&&i[e]||(o?i:a)("Symbol."+e))}).store=r},function(e,t){var n=Array.isArray;e.exports=n},function(e,t,n){e.exports=!n(50)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n(31),i=(r=a)&&r.__esModule?r:{default:r};t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ais";return function(){for(var n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];var o=r.filter(function(e){return e||""===e}).map(function(n){var r=t+"-"+e;return n?r+"-"+n:r});return(0,i.default)(o)}}},function(e,t,n){"use strict";var r=n(2),a=n.n(r),i=n(0),o=n.n(i),s=n(15),c=n.n(s),l=function(e){var t=e.maxHeight,n=e.hidden,r=e.dark,i=e.className,s=e.children,l={maxHeight:t?"".concat(t,"px"):void 0},u=c()("ScrollableContainer",a()({"ScrollableContainer--dark":r,"ScrollableContainer--hidden":n},i,!!i));return o.a.createElement("div",{style:l,className:u,children:s})};l.defaultProps={maxHeight:200,dark:!0,hidden:!1},t.a=l},function(e,t,n){"use strict";var r=n(14),a=n(17);var i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"html, body",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:500;$(document).ready(function(){$(t).animate({scrollTop:$(e).offset().top},n)})};function o(e){setTimeout(function(){var t;"function"==typeof Event?t=new Event(e):(t=document.createEvent("Event")).initEvent(e,!0,!0),window.dispatchEvent(t)})}var s=n(47),c=n(57);n.d(t,"g",function(){return p}),n.d(t,"h",function(){return f}),n.d(t,"b",function(){return h}),n.d(t,"e",function(){return m}),n.d(t,"i",function(){return g}),n.d(t,"a",function(){return v}),n.d(t,"c",function(){return b}),n.d(t,"f",function(){return y}),n.d(t,"d",function(){return E});var l=r.e.COMMENTARY,u=function(){return{type:l.SHOW}},d=function(){return{type:l.HIDE}},p=function(e){return{type:l.SET_ACTIVE_THREAD,id:e}},f=function(e){return{type:l.SET_UNACTIVE_THREAD,id:e}},h=function(e){return function(t,n){return new Promise(function(r,i){t(function(e){return{type:l.REQUEST,id:e}}(e));var o=Object(s.b)(n().editor,e).commentary_path;a.a.get(o).then(function(e){t(function(e){return{type:l.REQUEST_SUCCESS,payload:e}}(e)),r(e)}).fail(function(e){t({type:l.REQUEST_FAILURE}),i(e)})})}},m=function(){return function(e,t){var n=t().editor.commentary.elementId;e(h(n))}},g=function(e){return function(t,n){var r=n().editor.commentary,a=r.visible,i=r.elementId===e;a&&i?t(d()):a&&!i?t(h(e)):(t(u()),t(h(e))),o("resize")}},v=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return function(r,a){return new Promise(function(o,s){a().editor.commentary.visible||r(u()),r(h(e)).then(function(){t&&r(p(t)),n&&(i("#element-".concat(e)),i("#thread-".concat(t),".Commentary .ScrollableContainer")),o()})})}},b=function(){return function(e,t){e(d()),o("resize")}},y=function(e){return function(t,n){return new Promise(function(r,i){var o=n().editor.commentary.threads[e].updatePath;a.a.put(o,{status:"resolved"}).then(function(n){t(function(e){return{type:l.RESOLVE_THREAD,id:e}}(e)),t(c.a.updateCommentsCount()),r(n)}).fail(i)})}},E=function(e){var t=e.body,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(e,r){return new Promise(function(i,o){var s=r().editor.commentary.addCommentPath;n?a.a.post(s,{body:t,thread_id:n}).then(function(t){e(function(e,t){return{type:l.POST_REPLY,threadId:t,comment:e}}(t,n)),e(c.a.updateCommentsCount()),i(t)}).fail(o):a.a.post(s,{body:t,thread_id:n}).then(function(t){e(function(e){return{type:l.CREATE_THREAD,thread:e}}(t)),e(c.a.updateCommentsCount()),i(t)}).fail(o)})}}},function(e,t,n){var r=n(48),a=n(460),i=n(122),o=Object.defineProperty;t.f=n(61)?Object.defineProperty:function(e,t,n){if(r(e),t=i(t,!0),r(n),a)try{return o(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){var r=n(134),a=Math.min;e.exports=function(e){return e>0?a(r(e),9007199254740991):0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=d(n(199)),a=d(n(52)),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.default=function(e){if(!e.displayName)throw new Error("`createConnector` requires you to provide a `displayName` property.");var t=(0,a.default)(e,"refine"),n=(0,a.default)(e,"searchForFacetValues"),d=(0,a.default)(e,"getSearchParameters"),p=(0,a.default)(e,"getMetadata"),f=(0,a.default)(e,"transitionState"),h=(0,a.default)(e,"cleanUp"),m=d||p||f;return function(a){var g,v,b;return v=g=function(s){function c(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,e,t));b.call(n);var r=t.ais,a=r.store,o=r.widgetsManager;return n.state={props:n.getProvidedProps(i({},e,{canRender:!1})),canRender:!1},n.unsubscribe=a.subscribe(function(){n.state.canRender&&n.setState({props:n.getProvidedProps(i({},n.props,{canRender:n.state.canRender}))})}),m&&(n.unregisterWidget=o.registerWidget(n)),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(c,s),o(c,[{key:"getMetadata",value:function(t){return p?e.getMetadata.call(this,this.props,t):{}}},{key:"getSearchParameters",value:function(t){return d?e.getSearchParameters.call(this,t,this.props,this.context.ais.store.getState().widgets):null}},{key:"transitionState",value:function(t,n){return f?e.transitionState.call(this,this.props,t,n):n}},{key:"componentDidMount",value:function(){this.setState({canRender:!0})}},{key:"componentWillMount",value:function(){e.getSearchParameters&&this.context.ais.onSearchParameters(e.getSearchParameters,this.context,this.props)}},{key:"componentWillReceiveProps",value:function(t){(0,r.default)(this.props,t)||(this.setState({props:this.getProvidedProps(t)}),m&&(this.context.ais.widgetsManager.update(),e.transitionState&&this.context.ais.onSearchStateChange(e.transitionState.call(this,t,this.context.ais.store.getState().widgets,this.context.ais.store.getState().widgets))))}},{key:"componentWillUnmount",value:function(){if(this.unsubscribe(),m&&(this.unregisterWidget(),h)){var t=e.cleanUp.call(this,this.props,this.context.ais.store.getState().widgets);this.context.ais.store.setState(i({},this.context.ais.store.getState(),{widgets:t})),this.context.ais.onSearchStateChange((0,u.removeEmptyKey)(t))}}},{key:"shouldComponentUpdate",value:function(e,t){var n=(0,u.shallowEqual)(this.props,e);return null===this.state.props||null===t.props?this.state.props!==t.props||!n:!n||!(0,u.shallowEqual)(this.state.props,t.props)}},{key:"render",value:function(){if(null===this.state.props)return null;var e=t?{refine:this.refine,createURL:this.createURL}:{},r=n?{searchForItems:this.searchForFacetValues}:{};return l.default.createElement(a,i({},this.props,this.state.props,e,r))}}]),c}(c.Component),g.displayName=e.displayName+"("+(0,u.getDisplayName)(a)+")",g.defaultClassNames=a.defaultClassNames,g.propTypes=e.propTypes,g.defaultProps=e.defaultProps,g.contextTypes={ais:s.default.object.isRequired,multiIndexContext:s.default.object},b=function(){var t=this;this.getProvidedProps=function(n){var r=t.context.ais.store,a=r.getState(),i=a.results,o=a.searching,s=a.error,c=a.widgets,l=a.metadata,u=a.resultsFacetValues,d=a.searchingForFacetValues,p=a.isSearchStalled,f={results:i,searching:o,error:s,searchingForFacetValues:d,isSearchStalled:p};return e.getProvidedProps.call(t,n,c,f,l,u)},this.refine=function(){for(var n,r=arguments.length,a=Array(r),i=0;i<r;i++)a[i]=arguments[i];t.context.ais.onInternalStateUpdate((n=e.refine).call.apply(n,[t,t.props,t.context.ais.store.getState().widgets].concat(a)))},this.searchForFacetValues=function(){for(var n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];t.context.ais.onSearchForFacetValues(e.searchForFacetValues.apply(e,[t.props,t.context.ais.store.getState().widgets].concat(r)))},this.createURL=function(){for(var n,r=arguments.length,a=Array(r),i=0;i<r;i++)a[i]=arguments[i];return t.context.ais.createHrefForState((n=e.refine).call.apply(n,[t,t.props,t.context.ais.store.getState().widgets].concat(a)))},this.cleanUp=function(){for(var n,r=arguments.length,a=Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=e.cleanUp).call.apply(n,[t].concat(a))}},v}};var s=d(n(11)),c=n(0),l=d(c),u=n(198);function d(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";t.a=function(e,t){if(!e)throw new Error(t)}},function(e,t){function n(e,t,n,r,a,i,o){try{var s=e[i](o),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(r,a)}e.exports=function(e){return function(){var t=this,r=arguments;return new Promise(function(a,i){var o=e.apply(t,r);function s(e){n(o,a,i,s,c,"next",e)}function c(e){n(o,a,i,s,c,"throw",e)}s(void 0)})}}},function(e,t,n){"use strict";var r=n(2),a=n.n(r),i=n(0),o=n.n(i),s=n(15),c=n.n(s),l=n(35),u=n(110),d=n(39),p=n(10),f=function(e){if(!e.show)return!1;var t,n,r,i,s=c()("Modal",{"Modal--danger":"confirm:error"===e.type});return o.a.createElement(d.a,{onEscape:e.dismissCallback},o.a.createElement(l.a,null,o.a.createElement("div",{className:s,key:"modal"},o.a.createElement(u.a,{styleName:"Modal-container",dismissCallback:e.dismissCallback},e.title&&o.a.createElement("div",{className:"Modal-header"},o.a.createElement("div",{className:"Modal-title",children:e.title}),o.a.createElement("button",{type:"button",className:"Modal-closeIcon u-resetBtn",onClick:e.dismissCallback},o.a.createElement(p.a,{name:"remove"}))),"confirm"===(i=e.type)||"confirm:error"===i?(n=c()("NewButton",{"NewButton--white":!0,"NewButton--small":!0,"NewButton--center":!0,"Modal-button":!0}),r=c()("Modal-body",(t={},a()(t,e.className,!!e.className),a()(t,"Modal-body--center",e.center),t)),o.a.createElement("div",{className:r},e.children,o.a.createElement("div",{className:"Modal-message"},e.message),e.confirmButtonText&&o.a.createElement("button",{type:"submit",className:n,onClick:e.onConfirm},e.confirmButtonText),e.cancelButtonText&&o.a.createElement("button",{type:"button",className:n,onClick:e.onCancel},e.cancelButtonText))):o.a.createElement("div",{className:"Modal-body",children:e.children})),o.a.createElement("div",{className:"Modal-background"}))))};f.defaultProps={dismissCallback:function(){}},t.a=f},function(e,n,r){"use strict";var a=r(21),i=r.n(a),o=r(19),s=r.n(o),c=r(4),l=r.n(c),u=r(5),d=r.n(u),p=r(6),f=r.n(p),h=r(7),m=r.n(h),g=r(1),v=r.n(g),b=r(8),y=r.n(b),E=r(2),_=r.n(E),w=r(0),S=r.n(w),k=r(12),C=r(34),N=r(15),O=r.n(N),x=r(16),T=r(57),R=r(64),P=r(20),I=r(47),A=r(70),M=r(35),D=r(39),j=r(10),L=function(e){function t(e){var n;return l()(this,t),(n=f()(this,m()(t).call(this,e))).initialState={title:"",description:"",error:!1},n.state=n.initialState,n.onSave=n.onSave.bind(v()(n)),n.handleTitleChange=n.handleTitleChange.bind(v()(n)),n.handleDescriptionChange=n.handleDescriptionChange.bind(v()(n)),n}return y()(t,e),d()(t,[{key:"onSave",value:function(){var e=this,t={title:this.state.title,description:this.state.description};this.props.onSave(t,this.props.savePath).then(function(t){e.props.showSavedContentNotification(t),e.props.dismissCallback()}).catch(function(){e.handleError.bind(e)})}},{key:"handleTitleChange",value:function(e){this.setState({title:e.target.value})}},{key:"handleDescriptionChange",value:function(e){this.setState({description:e.target.value})}},{key:"handleError",value:function(){this.setState({error:!0})}},{key:"renderBody",value:function(){var e=this.props.i18n,t=e.overview,n=e.title,r=e.placeholder,a=e.button,i=e.error,o=O()("NewButton",{"NewButton--small":!0,"NewButton--center":!0,"NewButton--blue":!0,"Modal-button":!0,"SaveContentModal-button":!0,"NewButton--disabled":this.state.disabled});return S.a.createElement("div",{className:"SaveContentModal-body"},S.a.createElement("div",{className:"SaveContentModal-directions"},S.a.createElement("div",{className:"SaveContentModal-header"},n.header),S.a.createElement("div",{className:"SaveContentModal-description"},t)),S.a.createElement("div",{className:"SaveContentModal-input"},S.a.createElement("div",{className:"SaveContentModal-titleInput"},n.name,S.a.createElement("input",{className:"NewInput NewInput--white NewInput--fw mt-8",type:"text",onChange:this.handleTitleChange,placeholder:r.name})),S.a.createElement("div",{className:"SaveContentModal-descriptionInput"},n.description,S.a.createElement("textarea",{className:"NewInput NewInput--white NewInput--fw mt-8",onChange:this.handleDescriptionChange,placeholder:r.description}))),this.state.error&&S.a.createElement("div",{className:"ErrorContainer SaveContentModal-errorMessage p-4 mb-16"},i.on_save),S.a.createElement("div",{className:"SaveContentModal--actions d-f ai-c jc-e"},a.cancel&&S.a.createElement("a",{type:"cancel",onClick:this.props.onCancel},a.cancel),a.save&&S.a.createElement("button",{type:"submit",className:o,onClick:this.onSave,disabled:!this.state.title},a.save)))}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.show||this.setState(this.initialState)}},{key:"render",value:function(){return!!this.props.show&&S.a.createElement(D.a,{onEscape:this.props.dismissCallback,className:"SaveContentModal"},S.a.createElement(M.a,null,S.a.createElement("div",{className:"Modal",key:"modal"},S.a.createElement("div",{className:"Modal-container SaveContentModal-container"},S.a.createElement("div",{className:"ModalTakeover-closeButton",onClick:this.props.dismissCallback},S.a.createElement(j.a,{name:"remove"})),this.renderBody()),S.a.createElement("div",{className:"Modal-background"}))))}}]),t}(w.Component),F=Object(k.b)(function(e){return{i18n:e.editor.i18n.savedContent}})(L),B=r(9),U=r(37),H=function(e){var t,n=e.icon,r=e.tooltip,a=(e.tooltipStyle,e.connectDragSource),o=e.count,c=e.labelForId,l=i()(e,["icon","tooltip","tooltipStyle","connectDragSource","count","labelForId"]),u=a?"div":"button";r&&(t=r.length>30?{title:r,"data-toggle":"tooltip",className:"EditorElement-controlButton"}:{"data-tooltip":r,className:"EditorElement-controlButton ButtonWithTooltip"});var d=S.a.createElement(u,s()({},l,t),!!c&&S.a.createElement("label",{htmlFor:c},S.a.createElement(j.a,{name:n})),!c&&S.a.createElement(j.a,{name:n}),!!o&&S.a.createElement("div",{className:"EditorElement-controlButtonCount",children:o>=100?"99+":o}));return a?a(d,{dropEffect:"move",effectAllowed:"move"}):d},q=Object(U.c)(function(e,t){return S.a.createElement(H,s()({},e,{key:t}))}),G=function(e){e.id;var t=e.controls;return S.a.createElement("div",{className:"EditorElement-controls"},q(Object(B.omitBy)(B.isEmpty,t)))},W=r(51),V=r(78),z={beginDrag:function(e,t,n){var r=e.position,a=e.parent_id,o=e.type,s=e.content;return i()(e,["position","parent_id","type","content"]).toggleDragging(),{position:r,parent_id:a,type:o,content:s}},endDrag:function(e,t,n){e.toggleDragging();var r=t.getDropResult();if(!t.didDrop())return!1;r.parentId?e.assignParent(r.parentId):r.detached?r.detached&&e.detachParent(r.newPosition):e.order(r.newPosition)}},Y=Object(W.DragSource)(V.a.ELEMENT,z,function(e,t){return{connectDragSource:e.dragSource(),connectDragPreview:e.dragPreview(),isDragging:t.isDragging()}}),Q=function(e){function t(){return l()(this,t),f()(this,m()(t).apply(this,arguments))}return y()(t,e),d()(t,[{key:"render",value:function(){var e=this.props.content,t=Object(x.truncate)(e.title,{length:50});return S.a.createElement("div",{className:"NotificationContainer NotificationContainer--secondary NotificationContainer--success SaveContentModal-success bdrs-2 mb-8"},S.a.createElement("div",{className:"NotificationContainer-left mt-0"},S.a.createElement("span",{className:"NotificationContainer-icon"},S.a.createElement(j.a,{name:"info"})),S.a.createElement("span",{className:"NotificationContainer-message"},e.message,S.a.createElement("b",null,t))),S.a.createElement("div",{className:"NotificationContainer-right mt-0"},S.a.createElement("button",{type:"button",className:"NotificationContainer-dismissButton",onClick:this.props.dismissCallback},"Dismiss")))}}]),t}(w.Component);n.a=function(e){var n=function(n){function a(e){var t;return l()(this,a),(t=f()(this,m()(a).call(this,e))).state={wide:e.content.wide},t.titles={chat:"Chat Reply",email_composition:"Email Composition",email_reply:"Email Reply",flipcard:"Flipcard",free_response:"Free Response Question",knowledge_check:"Knowledge Check",multiple_choice:"Multiple Choice Question",multiple_select:"Multiple Select Question",question_bank:"Randomized Questions",reveal:"Reveal",screen_recording:"Screen Recording",survey:"Survey",ticket_handling:"Ticket Handling",video_response:"Video Response",webcam_recording:"Webcam Recording",audio_recording:"Audio Recording",written_response:"Written Response",zendesk_ticket_handling:"Zendesk Ticket Handling",media_recording:"Media Recording"},t.closeDeleteConfirmation=t.closeDeleteConfirmation.bind(v()(t)),t.closeCopyModal=t.closeCopyModal.bind(v()(t)),t.handleClick=t.handleClick.bind(v()(t)),t.toggleWideMode=t.toggleWideMode.bind(v()(t)),t.showSavedContentNotification=t.showSavedContentNotification.bind(v()(t)),t.hideSavedContentNotification=t.hideSavedContentNotification.bind(v()(t)),t}return y()(a,n),d()(a,[{key:"componentDidMount",value:function(){this.setDragPreview(),document.addEventListener("click",this.handleClick)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.handleClick)}},{key:"handleClick",value:function(e){var t=e.target,n=this.props,r=n.isCommenting,a=n.active,i=this.contentContainer;if(!i.contains(t)&&t!==i)return!1;var o=$(t).closest(".EditorElement-container").hasClass("EditorElement-container--active");r&&!o&&!a&&this.props.fetchCommentary()}},{key:"setDragPreview",value:function(){var e=this.props.connectDragPreview,t=new Image;t.src=r(447),t.onload=function(){return e(t,{anchorX:1,anchorY:0})}}},{key:"toggleWideMode",value:function(){var e=this;this.setState(function(e){return{wide:!e.wide}},function(){e.props.handleUpdate({wide:e.state.wide}),e.props.applyChanges({wide:e.state.wide})})}},{key:"closeDeleteConfirmation",value:function(){this.setState({showConfirmModal:!1})}},{key:"showDeleteConfimation",value:function(){this.setState({showConfirmModal:!0})}},{key:"showCopyModal",value:function(){this.setState({showCopyModal:!0})}},{key:"closeCopyModal",value:function(){this.setState({showCopyModal:!1})}},{key:"showSavedContentNotification",value:function(e){this.setState({savedContentNotification:e})}},{key:"hideSavedContentNotification",value:function(){this.setState({savedContentNotification:null})}},{key:"render",value:function(){var t=this,n=this.props,r=n.id,a=n.position,i=n.type,o=n.handleDelete,c=n.handleUpdate,l=n.isDragging,u={handleUpdate:c,handleDelete:o},d=O()("EditorElement",_()({"EditorElement--invalid ":!this.isValid},"EditorElement--".concat(i),!0)),p=O()("EditorElement-container",{"EditorElement-container--wide":this.state.wide,"EditorElement-container--active":this.props.active,dragging:this.props.isDragging}),f={opacity:l?.5:1};return S.a.createElement("div",{id:"element-".concat(r),className:d,style:f,key:"".concat(r,":").concat(a)},S.a.createElement(A.a,this.deleteModalConfig),S.a.createElement(F,this.copyModalConfig),S.a.createElement("div",{className:p},this.state.savedContentNotification&&S.a.createElement(Q,{content:this.state.savedContentNotification,dismissCallback:this.hideSavedContentNotification}),S.a.createElement(G,{controls:this.controls}),S.a.createElement("div",{ref:function(e){t.contentContainer=e}},S.a.createElement(e,s()({},this.props,u,{title:this.title})))))}},{key:"type",get:function(){var e=this.props,t=e.type,n=e.content;return"question"===t?n.question_type:t}},{key:"title",get:function(){return this.props.content.zendesk?this.titles.zendesk_ticket_handling:this.titles[this.type]}},{key:"isValid",get:function(){return Object(x.get)(this.props,"content.valid",!0)}},{key:"controlsConfig",get:function(){var e=this.props,n=e.type,r=e.content,o=e.features,s=i()(e,["type","content","features"]),c=this.state;return{reorder:{test:s.reordable,order:1,draggable:!0,tooltip:"Move",icon:"reorder",connectDragSource:s.connectDragSource},clear:{test:"lesson_content_image"===n&&!!r.image,order:2,icon:"refresh",tooltip:s.replace_image_text,disabled:r.uploadInProgress,onClick:function(){return s.handleImageChange(null)}},replace:{test:"photo"===n&&!!r.url,order:2,icon:"refresh",tooltip:s.replace_image_text,labelForId:"edit_image_".concat(s.id)},delete:{order:3,icon:"delete",tooltip:"Delete",onClick:this.showDeleteConfimation.bind(this)},wide:{test:Object(x.has)(r,"wide"),order:4,icon:c.wide?"shrink":"wide",onClick:this.toggleWideMode,tooltip:c.wide?"Disable Wideview":"Enable Wideview"},comment:{test:o.lessonCollaboration,order:5,icon:"comment",tooltip:this.commentTooltip,onClick:s.toggleCommentary,count:s.comments_count},copy:{test:"photo"===n?!o.imageLibraryLessonElement:!a.elementLibraryExcludeTypes.has(n),order:6,icon:"save_to_library",tooltip:t("saved_content.library.element.add"),onClick:this.showCopyModal.bind(this)}}}},{key:"controls",get:function(){var e=this.controlsConfig;return Object.keys(e).forEach(function(t){if(Object(x.has)(e[t],"test")){if(!e[t].test)return void delete e[t];delete e[t].test}if("function"==typeof e[t].onClick){var n=e[t].onClick;e[t].onClick=function(e){e&&(e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()),n()}}}),Object(x.orderBy)(e,"order")}},{key:"deleteModalConfig",get:function(){return{type:"confirm",show:this.state.showConfirmModal,title:"Delete Element",message:"Are you sure you want to delete this element?",confirmButtonText:"Yes, delete",cancelButtonText:"Cancel",onConfirm:this.props.handleDelete,onCancel:this.closeDeleteConfirmation,dismissCallback:this.closeDeleteConfirmation}}},{key:"copyModalConfig",get:function(){return{show:this.state.showCopyModal,dismissCallback:this.closeCopyModal,onSave:this.props.handleCopy,savePath:this.props.save_path,onCancel:this.closeCopyModal,showSavedContentNotification:this.showSavedContentNotification}}},{key:"commentTooltip",get:function(){var e=this.props,t=e.comments_count;return e.active?"Hide comments":t?"Show comments":"Add comment"}}]),a}(w.Component);_()(n,"defaultProps",{reordable:!0}),_()(n,"elementLibraryExcludeTypes",new Set(["lesson_content_image"]));return Object(C.d)(Object(k.b)(function(){var e=Object(I.a)();return function(t,n){var r=n.id,a=function(e){return Object(P.j)(t,e)};return{replace_image_text:t.editor.i18n.replace_image,isCommenting:t.editor.commentary.visible,active:t.editor.commentary.elementId===r,tokens:Object(P.d)(t),success:t.editor.success,children:e(t.editor,r),features:{uploadVideo:a("upload_video"),lessonCollaboration:a("lesson_collaboration"),imageLibraryLessonElement:a("image_library")&&a("image_library_lesson_element"),recordInLessonEditor:a("recording_in_lesson_editor"),recordingWithWistia:a("recording_with_wistia_in_editor"),draftMode:a("lesson_draft_mode")}}}},function(e,t){var n=t.id,r=t.position;return{handleDelete:function(){e(T.a.delete(n))},handleUpdate:function(t){return e(T.a.update(n,t))},uploadImage:function(t){e(T.a.uploadImage(n,t))},handleImageChange:function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"content";return e(T.a.handleImageChange(n,t,r))},convertPhoto:function(t){return e(T.a.convertPhoto(n,t))},uploadDocument:function(t){e(T.a.uploadDocument(n,t))},applyChanges:function(t,r){e(T.a.applyChanges(n,t,r))},order:function(t){e(T.a.orderElement(n,r,t))},createChildElement:function(t,r){e(T.a.create(t,r,n))},detachParent:function(t){e(T.a.detachParent(n,t))},assignParent:function(t){e(T.a.assignParent(n,t))},toggleCommentary:function(){e(Object(R.i)(n))},fetchCommentary:function(){e(Object(R.a)(n))},toggleDragging:function(){e(T.a.toggleDragging())},handleCopy:function(t,n){return e(T.a.copy(t,n))}}}),Y)(n)}},function(e,t,n){var r=n(133);e.exports=function(e){return Object(r(e))}},function(e,t,n){"use strict";e.exports=function(e,t,n,r,a,i,o,s){if(!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,a,i,o,s],u=0;(c=new Error(t.replace(/%s/g,function(){return l[u++]}))).name="Invariant Violation"}throw c.framesToPop=1,c}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(121)),a=s(n(55)),i=s(n(52)),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e){return e&&e.multiIndexContext?e.multiIndexContext.targetedIndex:e.ais.mainTargetedIndex}function u(e){return e&&e.multiIndexContext}function d(e){var t=e.match(/^([^.]*)\.(.*)/);return{namespace:t&&t[1],attributeName:t&&t[2]}}t.getIndex=l,t.getResults=function(e,t){return e.results&&!e.results.hits?e.results[l(t)]?e.results[l(t)]:null:e.results?e.results:null},t.hasMultipleIndex=u,t.refineValue=function e(t,n,r,a,s){return u(r)?s?function(e,t,n,r,a){var s,u=l(n),d=r?{page:1}:void 0,p=(0,i.default)(e,"indices."+u)?o({},e.indices,c({},u,o({},e.indices[u],(c(s={},a,o({},e.indices[u][a],t)),c(s,"page",1),s)))):o({},e.indices,c({},u,o(c({},a,t),d)));return o({},e,{indices:p})}(t,n,r,a,s):function(e,t,n,r){var a=r?{page:1}:void 0,s=l(n),u=(0,i.default)(e,"indices."+s)?o({},e.indices,c({},s,o({},e.indices[s],t,a))):o({},e.indices,c({},s,o({},t,a)));return o({},e,{indices:u})}(t,n,r,a):(t.indices&&a&&Object.keys(t.indices).forEach(function(n){t=e(t,{page:1},{multiIndexContext:{targetedIndex:n}},!0,s)}),s?function(e,t,n,r){var a=n?{page:1}:void 0;return o({},e,c({},r,o({},e[r],t)),a)}(t,n,a,s):function(e,t,n){var r=n?{page:1}:void 0;return o({},e,t,r)}(t,n,a))},t.getCurrentRefinementValue=function(e,t,n,a,o,s){var c=l(n),p=d(a),f=p.namespace,h=p.attributeName;if(u(n)&&t.indices&&f&&t.indices[""+c]&&(0,i.default)(t.indices[""+c][f],""+h)||u(n)&&t.indices&&(0,i.default)(t,"indices."+c+"."+a)||!u(n)&&f&&(0,i.default)(t[f],h)||!u(n)&&(0,i.default)(t,a)){var m=void 0;return m=u(n)?f?(0,r.default)(t.indices[""+c][f],h):(0,r.default)(t.indices[c],a):f?(0,r.default)(t[f],h):(0,r.default)(t,a),s(m)}if(e.defaultRefinement)return e.defaultRefinement;return o},t.cleanUpValue=function(e,t,n){var r=l(t),i=d(n),s=i.namespace,p=i.attributeName;return u(t)&&Boolean(e.indices)?s?o({},e,{indices:o({},e.indices,c({},r,o({},e.indices[r],c({},s,(0,a.default)(e.indices[r][s],""+p)))))}):(0,a.default)(e,"indices."+r+"."+n):s?o({},e,c({},s,(0,a.default)(e[s],""+p))):(0,a.default)(e,""+n)}},function(e,t,n){"use strict";n.d(t,"a",function(){return p}),n.d(t,"b",function(){return f});var r=n(24),a=n.n(r),i=n(56),o=n.n(i),s=n(16),c=n(68),l="asc",u="desc";function d(e){Object(c.a)(["string","function"].includes(o()(e)),"Expected sortBy of type string or function")}function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l;return d(e),function(n,r){var a="function"==typeof e,i=a?e(n):Object(s.get)(n,e),c=a?e(r):Object(s.get)(r,e),l=o()(i),d=o()(c);return"number"===l||"number"===d?function(e,t,n){var r="number"==typeof e,a="number"==typeof t;return!r&&a?1:r&&!a?-1:n?t-e:e-t}(i,c,t===u):"string"===l||"string"===d?function(e,t,n){var r="string"==typeof e,a="string"==typeof t;return!r&&a?1:r&&!a?-1:e.localeCompare(t)*(n?-1:1)}(i,c,t===u):0}}function f(e,t,n){return Object(c.a)(Array.isArray(e),"Expected an array to sort"),d(t),a()(e).sort(p(t,n))}},function(e,t,n){"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(910)},function(e,t,n){"use strict";var r=n(0),a=n.n(r),i=n(15),o=n.n(i),s=n(10);t.a=function(e){var t=o()(e.className,"NewBlankSlate",{"NewBlankSlate--large":e.large,"NewBlankSlate--extraLarge":e.extraLarge,"NewBlankSlate--simple":e.simple,"NewBlankSlate--leftAlign":"left"===e.align,"NewBlankSlate--dashedBorder":"dashed"===e.borderStyle,"NewBlankSlate--fullWidth":e.fullWidth});return a.a.createElement("div",{className:t},e.icon&&e.simple&&a.a.createElement(s.a,{name:e.icon,customClass:"NewBlankSlate-icon"}),e.children)}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r={SECTION:"section",ELEMENT:"element",PATH_STEP:"pathStep",ADDER:"adder"}},function(e,t){var n=e.exports={version:"2.6.5"};"number"==typeof __e&&(__e=n)},function(e,t,n){"use strict";function r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var a=n(0),i=n.n(a),o=n(154),s=n(115);n(11);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function l(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}var u=n(101);n.d(t,"a",function(){return d}),n.d(t,"b",function(){return p}),n.d(t,"c",function(){return f});var d=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).history=Object(s.a)(t.props),t}return r(t,e),t.prototype.render=function(){return i.a.createElement(o.b,{history:this.history,children:this.props.children})},t}(i.a.Component);i.a.Component;var p=function(e){function t(){return e.apply(this,arguments)||this}r(t,e);var n=t.prototype;return n.handleClick=function(e,t){try{this.props.onClick&&this.props.onClick(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||this.props.target&&"_self"!==this.props.target||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),(this.props.replace?t.replace:t.push)(this.props.to))},n.render=function(){var e=this,t=this.props,n=t.innerRef,r=(t.replace,t.to),a=l(t,["innerRef","replace","to"]);return i.a.createElement(o.d.Consumer,null,function(t){t||Object(u.a)(!1);var o="string"==typeof r?Object(s.c)(r,null,null,t.location):r,l=o?t.history.createHref(o):"";return i.a.createElement("a",c({},a,{onClick:function(n){return e.handleClick(n,t.history)},href:l,ref:n}))})},t}(i.a.Component);function f(e){var t=e["aria-current"],n=void 0===t?"page":t,r=e.activeClassName,a=void 0===r?"active":r,s=e.activeStyle,d=e.className,f=e.exact,h=e.isActive,m=e.location,g=e.strict,v=e.style,b=e.to,y=l(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","strict","style","to"]),E="object"==typeof b?b.pathname:b,_=E&&E.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1");return i.a.createElement(o.d.Consumer,null,function(e){e||Object(u.a)(!1);var t=m?m.pathname:e.location.pathname,r=_?Object(o.e)(t,{path:_,exact:f,strict:g}):null,l=!!(h?h(r,e.location):r),E=l?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(function(e){return e}).join(" ")}(d,a):d,w=l?c({},v,s):v;return i.a.createElement(p,c({"aria-current":l&&n||null,className:E,style:w,to:b},y))})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=l(n(0)),o=l(n(11)),s=l(n(977)),c=n(978);function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),r=e.renderFullOnServer?e.children:"";return n.state={lastCalculatedWidth:-1,testChildren:"",children:r},n.handleResize=n.handleResize.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),a(t,[{key:"componentDidMount",value:function(){this.handleResize()}},{key:"componentWillReceiveProps",value:function(e){var t=this,n=e.children,r=e.lines;n!==this.props.children?(this.setState({lastCalculatedWidth:-1,children:n}),this._setTestChildren(0,n.length)):r!==this.props.lines&&this._callDeffered(function(){t.setState({testChildren:"",lastCalculatedWidth:-1,children:t.props.children}),t.handleResize()})}},{key:"_callDeffered",value:function(e){var t=this;setTimeout(function(){t.spreader&&e.bind(t)()},0)}},{key:"_checkHeight",value:function(e,t){var n=this.testChildren.offsetHeight,r=t-Math.round((t-e)/2),a=t-e<6||t===this.state.testChildren.length&&t!==this.props.children.length||this.state.lastCalculatedWidth>-1;n>this._targetHeight?a?this._setTestChildren(this.state.testChildren.length,this.state.testChildren.length-1):this._setTestChildren(e,r):this.state.testChildren.length===this.props.children.length?this._setChildren():a?e>t?this._setChildren():this._setTestChildren(this.state.testChildren.length,this.state.testChildren.length+1):this._setTestChildren(r,t)}},{key:"_setTestChildren",value:function(e,t){var n=t-e<6||this.state.lastCalculatedWidth>-1?t:t-Math.round((t-e)/2);this.setState({testChildren:this.props.children.substring(0,n)}),this._callDeffered(this._checkHeight.bind(this,e,t))}},{key:"_setChildren",value:function(){var e=this.props.children;this.state.testChildren.length<this.props.children.length&&(e=this.state.testChildren.split(" ").slice(0,-1).join(" ")),this._handlingResize=!1,this.setState({children:e,lastCalculatedWidth:this.spreader.offsetWidth})}},{key:"handleResize",value:function(){if(this.spreader){var e=this.spreader.offsetWidth;this._targetHeight=this.sizer.offsetHeight,this.setState({fixHeight:this._targetHeight,children:this.state.children||this.props.children}),e===this.state.lastCalculatedWidth||this._handlingResize||(this._handlingResize=!0,""===this.state.testChildren?(this.setState({testChildren:this.props.children}),this._callDeffered(this._checkHeight.bind(this,0,this.props.children.length))):e<this.state.lastCalculatedWidth?this._callDeffered(this._checkHeight.bind(this,this.state.testChildren.length,this.state.testChildren.length-1)):this._callDeffered(this._checkHeight.bind(this,this.state.testChildren.length,this.state.testChildren.length+1)))}}},{key:"render",value:function(){for(var e=this,t=this.props,n=t.renderFullOnServer,a=t.className,o=t.throttleRate,l=t.overflowNode,u=this.state,d=u.fixHeight,p=u.children,f=u.testChildren,h={main:(0,c.setTag)(this.props.tagName)},m=[],g=0;g<this.props.lines;g++)m.push(i.default.createElement("span",{style:c.block,key:g},"W"));var v=n?"":(d||0)+"px",b=f.length<this.props.children.length?l:null;return i.default.createElement(h.main,r({className:a||""},(0,c.passProps)(this.props)),i.default.createElement(s.default,{handleResize:this.handleResize,throttleRate:o}),i.default.createElement("span",{style:r({},c.wrapperStyles,{maxHeight:v})},i.default.createElement("span",{style:c.childrenStyles},p,b),i.default.createElement("span",{ref:function(t){e.spreader=t},style:c.spreaderStyles},this.props.children),i.default.createElement("span",{style:c.sizerWrapperStyles},i.default.createElement("span",{ref:function(t){e.sizer=t},style:c.block},m),i.default.createElement("span",{ref:function(t){e.testChildren=t},style:c.block},f,b))))}}]),t}();u.propTypes={lines:o.default.number.isRequired,className:o.default.string,children:o.default.string.isRequired,renderFullOnServer:o.default.bool,throttleRate:o.default.number,tagName:o.default.string,overflowNode:o.default.node},u.defaultProps={className:"",renderFullOnServer:!1,throttleRate:void 0,tagName:void 0,overflowNode:"…",children:""},t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(649);Object.defineProperty(t,"connectConfigure",{enumerable:!0,get:function(){return k(r).default}});var a=n(437);Object.defineProperty(t,"connectCurrentRefinements",{enumerable:!0,get:function(){return k(a).default}});var i=n(650);Object.defineProperty(t,"connectHierarchicalMenu",{enumerable:!0,get:function(){return k(i).default}});var o=n(438);Object.defineProperty(t,"connectHighlight",{enumerable:!0,get:function(){return k(o).default}});var s=n(652);Object.defineProperty(t,"connectHits",{enumerable:!0,get:function(){return k(s).default}});var c=n(1334);Object.defineProperty(t,"connectAutoComplete",{enumerable:!0,get:function(){return k(c).default}});var l=n(653);Object.defineProperty(t,"connectHitsPerPage",{enumerable:!0,get:function(){return k(l).default}});var u=n(654);Object.defineProperty(t,"connectInfiniteHits",{enumerable:!0,get:function(){return k(u).default}});var d=n(439);Object.defineProperty(t,"connectMenu",{enumerable:!0,get:function(){return k(d).default}});var p=n(655);Object.defineProperty(t,"connectNumericMenu",{enumerable:!0,get:function(){return k(p).default}});var f=n(656);Object.defineProperty(t,"connectPagination",{enumerable:!0,get:function(){return k(f).default}});var h=n(657);Object.defineProperty(t,"connectPoweredBy",{enumerable:!0,get:function(){return k(h).default}});var m=n(440);Object.defineProperty(t,"connectRange",{enumerable:!0,get:function(){return k(m).default}});var g=n(658);Object.defineProperty(t,"connectRefinementList",{enumerable:!0,get:function(){return k(g).default}});var v=n(659);Object.defineProperty(t,"connectScrollTo",{enumerable:!0,get:function(){return k(v).default}});var b=n(660);Object.defineProperty(t,"connectBreadcrumb",{enumerable:!0,get:function(){return k(b).default}});var y=n(661);Object.defineProperty(t,"connectSearchBox",{enumerable:!0,get:function(){return k(y).default}});var E=n(662);Object.defineProperty(t,"connectSortBy",{enumerable:!0,get:function(){return k(E).default}});var _=n(663);Object.defineProperty(t,"connectStats",{enumerable:!0,get:function(){return k(_).default}});var w=n(664);Object.defineProperty(t,"connectToggleRefinement",{enumerable:!0,get:function(){return k(w).default}});var S=n(1335);function k(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"connectStateResults",{enumerable:!0,get:function(){return k(S).default}})},function(e,t,n){"use strict";n.d(t,"d",function(){return g}),n.d(t,"c",function(){return v}),n.d(t,"a",function(){return b}),n.d(t,"b",function(){return y});var r,a=n(4),i=n.n(a),o=n(5),s=n.n(o),c=n(6),l=n.n(c),u=n(7),d=n.n(u),p=n(8),f=n.n(p),h=n(0),m=n.n(h);function g(e){return function(t){function n(e){var t;return i()(this,n),t=l()(this,d()(n).call(this,e)),r||(r=new ZiggeoApi.V2.Application({token:t.props.apiKey,auth:!0,debug:!0})),t}return f()(n,t),s()(n,[{key:"render",value:function(){return m.a.createElement(e,this.props)}}]),n}(m.a.Component)}function v(e){return r&&r.videos.imageUrl(e)}function b(e,t,n){new ZiggeoApi.V2.Player({element:n||document.getElementById(t),attrs:{width:"100%",height:"auto",video:e}}).activate()}function y(e,t,n,r,a,i){var o=new ZiggeoApi.V2.Recorder({element:i||document.getElementById(n),attrs:{width:"100%",height:"auto",rerecordable:!1,video:e,recordingwidth:1280,recordingheight:720,picksnapshots:!1,localplayback:r}});o.activate(),o.on("uploading",function(){return a("video_response/webcam_uploading")}),o.on("recording",function(){return a("video_response/webcam_recording")}),o.on("verified",function(){a("video_response/webcam_verified"),t()})}},function(e,t,n){var r=n(73),a=Object.prototype.hasOwnProperty,i=Array.prototype.splice,o=Object.assign||function(e,t){return s(t).forEach(function(n){a.call(t,n)&&(e[n]=t[n])}),e},s="function"==typeof Object.getOwnPropertySymbols?function(e){return Object.keys(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.keys(e)};function c(e){if(e instanceof Array)return o(e.constructor(e.length),e);if(e&&"object"==typeof e){var t=e.constructor&&e.constructor.prototype;return o(Object.create(t||null),e)}return e}function l(){var e=o({},u);return t.extend=function(t,n){e[t]=n},t.isEquals=function(e,t){return e===t},t;function t(n,i){Array.isArray(n)&&Array.isArray(i)||r(!Array.isArray(i),"update(): You provided an invalid spec to update(). The spec may not contain an array except as the value of $set, $push, $unshift, $splice or any custom command allowing an array value."),r("object"==typeof i&&null!==i,"update(): You provided an invalid spec to update(). The spec and every included key path must be plain objects containing one of the following commands: %s.",Object.keys(e).join(", "));var o=n;return s(i).forEach(function(r){if(a.call(e,r)){var s=n===o;o=e[r](i[r],o,i,n),s&&t.isEquals(o,n)&&(o=n)}else{var l=t(n[r],i[r]);t.isEquals(l,o[r])&&(void 0!==l||a.call(n,r))||(o===n&&(o=c(n)),o[r]=l)}}),o}}var u={$push:function(e,t,n){return d(t,n,"$push"),e.length?t.concat(e):t},$unshift:function(e,t,n){return d(t,n,"$unshift"),e.length?e.concat(t):t},$splice:function(e,t,n,a){return function(e,t){r(Array.isArray(e),"Expected $splice target to be an array; got %s",e),p(t.$splice)}(t,n),e.forEach(function(e){p(e),t===a&&e.length&&(t=c(a)),i.apply(t,e)}),t},$set:function(e,t,n){return function(e){r(1===Object.keys(e).length,"Cannot have more than one key in an object with $set")}(n),e},$toggle:function(e,t){var n;n=e,r(Array.isArray(n),"update(): expected spec of $toggle to be an array; got %s. Did you forget to wrap the key(s) in an array?",n);var a=e.length?c(t):t;return e.forEach(function(e){a[e]=!t[e]}),a},$unset:function(e,t,n,a){return r(Array.isArray(e),"update(): expected spec of $unset to be an array; got %s. Did you forget to wrap the key(s) in an array?",e),e.forEach(function(e){Object.hasOwnProperty.call(t,e)&&(t===a&&(t=c(a)),delete t[e])}),t},$merge:function(e,t,n,a){var i,o;return i=t,r((o=e)&&"object"==typeof o,"update(): $merge expects a spec of type 'object'; got %s",o),r(i&&"object"==typeof i,"update(): $merge expects a target of type 'object'; got %s",i),s(e).forEach(function(n){e[n]!==t[n]&&(t===a&&(t=c(a)),t[n]=e[n])}),t},$apply:function(e,t){var n;return r("function"==typeof(n=e),"update(): expected spec of $apply to be a function; got %s.",n),e(t)}};function d(e,t,n){r(Array.isArray(e),"update(): expected target of %s to be an array; got %s.",n,e);var a=t[n];r(Array.isArray(a),"update(): expected spec of %s to be an array; got %s. Did you forget to wrap your parameter in an array?",n,a)}function p(e){r(Array.isArray(e),"update(): expected spec of $splice to be an array of arrays; got %s. Did you forget to wrap your parameters in an array?",e)}e.exports=l(),e.exports.newContext=l},function(e,t,n){var r=n(516),a="object"==typeof self&&self&&self.Object===Object&&self,i=r||a||Function("return this")();e.exports=i},function(e,t){var n=Array.isArray;e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=c(n(52)),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function(e){return function(t){function n(n){var o=n.translations,s=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(n,["translations"]);return i.default.createElement(t,a({translate:function(t){for(var n=arguments.length,a=Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];var s=o&&(0,r.default)(o,t)?o[t]:e[t];if("function"==typeof s)return s.apply(void 0,a);return s}},s))}return n.displayName="Translatable("+(0,o.getDisplayName)(t)+")",n.propTypes={translations:(0,s.withKeysPropType)(Object.keys(e))},n}};var i=c(n(0)),o=n(198),s=n(1340);function c(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){var r=n(519),a=n(564),i=n(138);e.exports=function(e){return i(e)?r(e):a(e)}},function(e,t,n){var r=n(564),a=n(231),i=n(223),o=n(60),s=n(138),c=n(224),l=n(266),u=n(265),d="[object Map]",p="[object Set]",f=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(s(e)&&(o(e)||"string"==typeof e||"function"==typeof e.splice||c(e)||u(e)||i(e)))return!e.length;var t=a(e);if(t==d||t==p)return!e.size;if(l(e))return!r(e).length;for(var n in e)if(f.call(e,n))return!1;return!0}},function(e,t,n){"use strict";var r=n(19),a=n.n(r),i=n(2),o=n.n(i),s=n(21),c=n.n(s),l=n(0),u=n.n(l),d=n(15),p=n.n(d),f=n(10),h=n(13),m="Button",g=p()("Button--customColor","CustomColor--backgroundColor","CustomColor--borderColor","CustomColor--buttonBoxShadow"),v=Object(l.forwardRef)(function(e,t){var n,r=e.children,i=e.className,s=e.customColor,l=e.disabled,d=e.fullWidth,m=e.icon,v=e.onlyIconOnMobile,b=e.loading,y=e.onClick,E=e.primary,_=e.submit,w=e.tall,S=e.small,k=e.smaller,C=e.url,N=c()(e,["children","className","customColor","disabled","fullWidth","icon","onlyIconOnMobile","loading","onClick","primary","submit","tall","small","smaller","url"]),O=!!i,x=!!m,T=x&&!r,R=!!C,P=p()("Button",(n={"Button--primary":E,"Button--disabled":l,"Button--fullWidth":d,"Button--tall":w,"Button--small":S,"Button--smaller":k,"Button--loading":b,"Button--iconOnly":T,"Button--linked":R},o()(n,i,O),o()(n,g,!l&&s),n)),I=u.a.createElement("div",{className:"Button-content ".concat(v&&"Button-content--iconOnlyMobile")},x&&u.a.createElement(f.a,{name:m,customClass:"Button-icon"}),u.a.createElement("span",null,r));return R?u.a.createElement("a",a()({ref:t,className:P,href:!(b||l)&&C},N),I):u.a.createElement("button",a()({ref:t,type:_?"submit":"button",onClick:y,className:P,disabled:b||l},N),I,b&&u.a.createElement(h.k,null))});v.role=m;var b=v;n.d(t,"a",function(){return b})},function(e,t,n){"use strict";var r=n(4),a=n.n(r),i=n(5),o=n.n(i),s=n(16),c=function(){function e(t){a()(this,e),this.updateParams(t),this.transformations=t.transform||{}}return o()(e,[{key:"updateParams",value:function(e){return this.security={policy:e.policy,signature:e.signature},this.handle=e.handle,this}},{key:"stringifyParams",value:function(e){return Object.keys(e).map(function(t){return"".concat(t,":").concat(e[t])}).join(",")}},{key:"stringifyTransformations",value:function(e){var t=this;return Object.keys(e).map(function(n){return"".concat(n,"=").concat(t.stringifyParams(e[n]))}).join("/")}},{key:"url",get:function(){var e=!Object(s.isEmpty)(this.transformations);return Object(s.compact)(["https://process.filestackapi.com","security=".concat(this.stringifyParams(this.security)),e&&this.stringifyTransformations(this.transformations),this.handle]).join("/")}}],[{key:"url",value:function(t){return new e(t).url}}]),e}();t.a=c},function(e,t,n){"use strict";var r=n(0),a=n.n(r),i=n(9),o=/^\s+/gm,s=/^\t+/gm,c=function(e){var t=e.children,n=e.tabSize,c=void 0===n?2:n,l=e.preferParagraphs;if(null==t)return null;if("string"!=typeof t)return null;var u=t.trim().replace(s,function(e){return e.replace(/./g,Object(i.repeat)(c," "))}).replace(o,function(e){return e.replace(/./g," ")}).split("\n"),d=u.length-1,p=l?"p":r.Fragment,f=u.map(function(e,t){return a.a.createElement(p,{key:e},e,!l&&t!==d&&a.a.createElement("br",null))});return a.a.createElement(a.a.Fragment,null,f)};n.d(t,"a",function(){return c})},function(e,t,n){var r=n(539),a="object"==typeof self&&self&&self.Object===Object&&self,i=r||a||Function("return this")();e.exports=i},function(e,t,n){var r=n(146),a=n(389),i=n(108),o="[object Object]",s=Function.prototype,c=Object.prototype,l=s.toString,u=c.hasOwnProperty,d=l.call(Object);e.exports=function(e){if(!i(e)||r(e)!=o)return!1;var t=a(e);if(null===t)return!0;var n=u.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==d}},function(e,t,n){"use strict";var r=n(0),a=n.n(r);t.a=function(e){var t=e.embedUrl;return a.a.createElement("iframe",{title:"Recording Embed",allowFullScreen:!0,width:"100%",height:"100%",allowTransparency:"true",scrolling:"no",style:{backgroundColor:"transparent"},className:"Video-iframe",frameBorder:"0",src:t})}},function(e,t,n){"use strict";t.a={MENTION:/@\[(.+?)\]\([0-9]+\)/gi,COMMENT_URL_HASH:/#comment-(\d+)-?(\d+)?/i,CONTENT:/lesson|course|resource|path/i,ASSIGNEES:/user|group/i,EDIT_TRAILING_PATH:/\/edit/i,PATH_MODES_TRAILING_URL:/\/?(view|reporting|edit)?$/i,JAPANESE_CHARACTERS:/[\u4E00-\u9FBF]|[\u3040-\u309F]|[\u30A0-\u30FF]/}},function(e,t,n){var r=n(44),a=n(102),i=n(103),o=n(158)("src"),s=n(728),c=(""+s).split("toString");n(141).inspectSource=function(e){return s.call(e)},(e.exports=function(e,t,n,s){var l="function"==typeof n;l&&(i(n,"name")||a(n,"name",t)),e[t]!==n&&(l&&(i(n,o)||a(n,o,e[t]?""+e[t]:c.join(String(t)))),e===r?e[t]=n:s?e[t]?e[t]=n:a(e,t,n):(delete e[t],a(e,t,n)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[o]||s.call(this)})},function(e,t,n){var r=n(26),a=n(50),i=n(133),o=/"/g,s=function(e,t,n,r){var a=String(i(e)),s="<"+t;return""!==n&&(s+=" "+n+'="'+String(r).replace(o,"&quot;")+'"'),s+">"+a+"</"+t+">"};e.exports=function(e,t){var n={};n[e]=t(s),r(r.P+r.F*a(function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3}),"String",n)}},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t,n){e.exports=function(e,t,n){return function(e){function t(r){if(n[r])return n[r].exports;var a=n[r]={exports:{},id:r,loaded:!1};return e[r].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(1),o=r(i),s=n(4),c=r(s),l=n(5),u=(r(l),n(20)),d=r(u),p=n(11),f=r(p),h=n(18),m=n(2),g=r(m),v=n(12),b=r(v),y="react-datepicker-ignore-onclickoutside",E=(0,b.default)(o.default),_=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.calcInitialState=function(){var e=n.props.openToDate?(0,g.default)(n.props.openToDate):n.props.selectsEnd&&n.props.startDate?(0,g.default)(n.props.startDate):n.props.selectsStart&&n.props.endDate?(0,g.default)(n.props.endDate):void 0!==n.props.utcOffset?g.default.utc().utcOffset(n.props.utcOffset):(0,g.default)(),t=(0,h.getEffectiveMinDate)(n.props),r=(0,h.getEffectiveMaxDate)(n.props),a=t&&e.isBefore(t)?t:r&&e.isAfter(r)?r:e;return{open:!1,preventFocus:!1,preSelection:n.props.selected?(0,g.default)(n.props.selected):a}},n.clearPreventFocusTimeout=function(){n.preventFocusTimeout&&clearTimeout(n.preventFocusTimeout)},n.setFocus=function(){n.input.focus()},n.setOpen=function(e){n.setState({open:e,preSelection:e&&n.state.open?n.state.preSelection:n.calcInitialState().preSelection})},n.handleFocus=function(e){n.state.preventFocus||(n.props.onFocus(e),n.setOpen(!0))},n.cancelFocusInput=function(){clearTimeout(n.inputFocusTimeout),n.inputFocusTimeout=null},n.deferFocusInput=function(){n.cancelFocusInput(),n.inputFocusTimeout=setTimeout(function(){return n.setFocus()},1)},n.handleDropdownFocus=function(){n.cancelFocusInput()},n.handleBlur=function(e){n.state.open?n.deferFocusInput():n.props.onBlur(e)},n.handleCalendarClickOutside=function(e){n.props.inline||n.setOpen(!1),n.props.onClickOutside(e),n.props.withPortal&&e.preventDefault()},n.handleChange=function(e){if(!n.props.onChangeRaw||(n.props.onChangeRaw(e),!e.isDefaultPrevented())){n.setState({inputValue:e.target.value});var t=(0,h.parseDate)(e.target.value,n.props);!t&&e.target.value||n.setSelected(t,e,!0)}},n.handleSelect=function(e,t){n.setState({preventFocus:!0},function(){return n.preventFocusTimeout=setTimeout(function(){return n.setState({preventFocus:!1})},50),n.preventFocusTimeout}),n.setSelected(e,t),n.props.shouldCloseOnSelect?n.props.inline||n.setOpen(!1):n.setPreSelection(e)},n.setSelected=function(e,t,r){var a=e;null!==a&&(0,h.isDayDisabled)(a,n.props)||((0,h.isSameDay)(n.props.selected,a)&&!n.props.allowSameDay||(null!==a&&(n.props.selected&&(a=(0,g.default)(a).set({hour:n.props.selected.hour(),minute:n.props.selected.minute(),second:n.props.selected.second()})),n.setState({preSelection:a})),n.props.onChange(a,t)),n.props.onSelect(a,t),r||n.setState({inputValue:null}))},n.setPreSelection=function(e){var t=void 0!==n.props.minDate&&void 0!==n.props.maxDate,r=!t||!e||(0,h.isDayInRange)(e,n.props.minDate,n.props.maxDate);r&&n.setState({preSelection:e})},n.onInputClick=function(){n.props.disabled||n.setOpen(!0)},n.onInputKeyDown=function(e){n.props.onKeyDown(e);var t=e.key;if(n.state.open||n.props.inline){var r=(0,g.default)(n.state.preSelection);if("Enter"===t)e.preventDefault(),g.default.isMoment(n.state.preSelection)||g.default.isDate(n.state.preSelection)?(n.handleSelect(r,e),!n.props.shouldCloseOnSelect&&n.setPreSelection(r)):n.setOpen(!1);else if("Escape"===t)e.preventDefault(),n.setOpen(!1);else if("Tab"===t)n.setOpen(!1);else if(!n.props.disabledKeyboardNavigation){var a=void 0;switch(t){case"ArrowLeft":e.preventDefault(),a=r.subtract(1,"days");break;case"ArrowRight":e.preventDefault(),a=r.add(1,"days");break;case"ArrowUp":e.preventDefault(),a=r.subtract(1,"weeks");break;case"ArrowDown":e.preventDefault(),a=r.add(1,"weeks");break;case"PageUp":e.preventDefault(),a=r.subtract(1,"months");break;case"PageDown":e.preventDefault(),a=r.add(1,"months");break;case"Home":e.preventDefault(),a=r.subtract(1,"years");break;case"End":e.preventDefault(),a=r.add(1,"years")}n.setPreSelection(a)}}else"Enter"!==t&&"Escape"!==t&&"Tab"!==t&&n.onInputClick()},n.onClearClick=function(e){e.preventDefault(),n.props.onChange(null,e)},n.renderCalendar=function(){return n.props.inline||n.state.open&&!n.props.disabled?c.default.createElement(E,{ref:function(e){n.calendar=e},locale:n.props.locale,dateFormat:n.props.dateFormatCalendar,useWeekdaysShort:n.props.useWeekdaysShort,dropdownMode:n.props.dropdownMode,selected:n.props.selected,preSelection:n.state.preSelection,onSelect:n.handleSelect,onWeekSelect:n.props.onWeekSelect,openToDate:n.props.openToDate,minDate:n.props.minDate,maxDate:n.props.maxDate,selectsStart:n.props.selectsStart,selectsEnd:n.props.selectsEnd,startDate:n.props.startDate,endDate:n.props.endDate,excludeDates:n.props.excludeDates,filterDate:n.props.filterDate,onClickOutside:n.handleCalendarClickOutside,formatWeekNumber:n.props.formatWeekNumber,highlightDates:n.props.highlightDates,includeDates:n.props.includeDates,inline:n.props.inline,peekNextMonth:n.props.peekNextMonth,showMonthDropdown:n.props.showMonthDropdown,showWeekNumbers:n.props.showWeekNumbers,showYearDropdown:n.props.showYearDropdown,forceShowMonthNavigation:n.props.forceShowMonthNavigation,scrollableYearDropdown:n.props.scrollableYearDropdown,todayButton:n.props.todayButton,weekLabel:n.props.weekLabel,utcOffset:n.props.utcOffset,outsideClickIgnoreClass:y,fixedHeight:n.props.fixedHeight,monthsShown:n.props.monthsShown,onDropdownFocus:n.handleDropdownFocus,onMonthChange:n.props.onMonthChange,dayClassName:n.props.dayClassName,className:n.props.calendarClassName,yearDropdownItemNumber:n.props.yearDropdownItemNumber},n.props.children):null},n.renderDateInput=function(){var e=(0,f.default)(n.props.className,function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},y,n.state.open)),t=n.props.customInput||c.default.createElement("input",{type:"text"}),r="string"==typeof n.props.value?n.props.value:"string"==typeof n.state.inputValue?n.state.inputValue:(0,h.safeDateFormat)(n.props.selected,n.props);return c.default.cloneElement(t,{ref:function(e){n.input=e},value:r,onBlur:n.handleBlur,onChange:n.handleChange,onClick:n.onInputClick,onFocus:n.handleFocus,onKeyDown:n.onInputKeyDown,id:n.props.id,name:n.props.name,autoFocus:n.props.autoFocus,placeholder:n.props.placeholderText,disabled:n.props.disabled,autoComplete:n.props.autoComplete,className:e,title:n.props.title,readOnly:n.props.readOnly,required:n.props.required,tabIndex:n.props.tabIndex})},n.renderClearButton=function(){return n.props.isClearable&&null!=n.props.selected?c.default.createElement("a",{className:"react-datepicker__close-icon",href:"#",onClick:n.onClearClick}):null},n.state=n.calcInitialState(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,null,[{key:"defaultProps",get:function(){return{allowSameDay:!1,dateFormat:"L",dateFormatCalendar:"MMMM YYYY",onChange:function(){},disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",onFocus:function(){},onBlur:function(){},onKeyDown:function(){},onSelect:function(){},onClickOutside:function(){},onMonthChange:function(){},utcOffset:(0,g.default)().utcOffset(),monthsShown:1,withPortal:!1,shouldCloseOnSelect:!0}}}]),a(t,[{key:"componentWillReceiveProps",value:function(e){var t=this.props.selected&&this.props.selected.month(),n=e.selected&&e.selected.month();this.props.inline&&t!==n&&this.setPreSelection(e.selected)}},{key:"componentWillUnmount",value:function(){this.clearPreventFocusTimeout()}},{key:"render",value:function(){var e=this.renderCalendar();return this.props.inline&&!this.props.withPortal?e:this.props.withPortal?c.default.createElement("div",null,this.props.inline?null:c.default.createElement("div",{className:"react-datepicker__input-container"},this.renderDateInput(),this.renderClearButton()),this.state.open||this.props.inline?c.default.createElement("div",{className:"react-datepicker__portal"},e):null):c.default.createElement(d.default,{className:this.props.popperClassName,hidePopper:!this.state.open||this.props.disabled,popperModifiers:this.props.popperModifiers,targetComponent:c.default.createElement("div",{className:"react-datepicker__input-container"},this.renderDateInput(),this.renderClearButton()),popperComponent:e,popperPlacement:this.props.popperPlacement})}}]),t}(c.default.Component);t.default=_},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(2),o=r(i),s=n(3),c=r(s),l=n(13),u=r(l),d=n(15),p=r(d),f=n(4),h=r(f),m=n(5),g=(r(m),n(11)),v=r(g),b=n(18),y=["react-datepicker__year-select","react-datepicker__month-select"],E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(e.className||"").split(/\s+/);return y.some(function(e){return t.indexOf(e)>=0})},_=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleClickOutside=function(e){n.props.onClickOutside(e)},n.handleDropdownFocus=function(e){E(e.target)&&n.props.onDropdownFocus()},n.getDateInView=function(){var e=n.props,t=e.preSelection,r=e.selected,a=e.openToDate,i=e.utcOffset,s=(0,b.getEffectiveMinDate)(n.props),c=(0,b.getEffectiveMaxDate)(n.props),l=o.default.utc().utcOffset(i),u=a||r||t;return u||(s&&l.isBefore(s)?s:c&&l.isAfter(c)?c:l)},n.localizeMoment=function(e){return e.clone().locale(n.props.locale||o.default.locale())},n.increaseMonth=function(){n.setState({date:n.state.date.clone().add(1,"month")},function(){return n.handleMonthChange(n.state.date)})},n.decreaseMonth=function(){n.setState({date:n.state.date.clone().subtract(1,"month")},function(){return n.handleMonthChange(n.state.date)})},n.handleDayClick=function(e,t){return n.props.onSelect(e,t)},n.handleDayMouseEnter=function(e){return n.setState({selectingDate:e})},n.handleMonthMouseLeave=function(){return n.setState({selectingDate:null})},n.handleMonthChange=function(e){n.props.onMonthChange&&n.props.onMonthChange(e)},n.changeYear=function(e){n.setState({date:n.state.date.clone().set("year",e)})},n.changeMonth=function(e){n.setState({date:n.state.date.clone().set("month",e)},function(){return n.handleMonthChange(n.state.date)})},n.header=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.state.date,t=e.clone().startOf("week"),r=[];return n.props.showWeekNumbers&&r.push(h.default.createElement("div",{key:"W",className:"react-datepicker__day-name"},n.props.weekLabel||"#")),r.concat([0,1,2,3,4,5,6].map(function(e){var r=t.clone().add(e,"days"),a=n.props.useWeekdaysShort?r.localeData().weekdaysShort(r):r.localeData().weekdaysMin(r);return h.default.createElement("div",{key:e,className:"react-datepicker__day-name"},a)}))},n.renderPreviousMonthButton=function(){if(n.props.forceShowMonthNavigation||!(0,b.allDaysDisabledBefore)(n.state.date,"month",n.props))return h.default.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--previous",onClick:n.decreaseMonth})},n.renderNextMonthButton=function(){if(n.props.forceShowMonthNavigation||!(0,b.allDaysDisabledAfter)(n.state.date,"month",n.props))return h.default.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--next",onClick:n.increaseMonth})},n.renderCurrentMonth=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.state.date,t=["react-datepicker__current-month"];return n.props.showYearDropdown&&t.push("react-datepicker__current-month--hasYearDropdown"),n.props.showMonthDropdown&&t.push("react-datepicker__current-month--hasMonthDropdown"),h.default.createElement("div",{className:t.join(" ")},e.format(n.props.dateFormat))},n.renderYearDropdown=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(n.props.showYearDropdown&&!e)return h.default.createElement(c.default,{dropdownMode:n.props.dropdownMode,onChange:n.changeYear,minDate:n.props.minDate,maxDate:n.props.maxDate,year:n.state.date.year(),scrollableYearDropdown:n.props.scrollableYearDropdown,yearDropdownItemNumber:n.props.yearDropdownItemNumber})},n.renderMonthDropdown=function(){if(arguments.length>0&&void 0!==arguments[0]&&arguments[0],n.props.showMonthDropdown)return h.default.createElement(u.default,{dropdownMode:n.props.dropdownMode,locale:n.props.locale,dateFormat:n.props.dateFormat,onChange:n.changeMonth,month:n.state.date.month()})},n.renderTodayButton=function(){if(n.props.todayButton)return h.default.createElement("div",{className:"react-datepicker__today-button",onClick:function(e){return n.props.onSelect(o.default.utc().utcOffset(n.props.utcOffset).startOf("date"),e)}},n.props.todayButton)},n.renderMonths=function(){for(var e=[],t=0;t<n.props.monthsShown;++t){var r=n.state.date.clone().add(t,"M"),a="month-"+t;e.push(h.default.createElement("div",{key:a,className:"react-datepicker__month-container"},h.default.createElement("div",{className:"react-datepicker__header"},n.renderCurrentMonth(r),h.default.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--"+n.props.dropdownMode,onFocus:n.handleDropdownFocus},n.renderMonthDropdown(0!==t),n.renderYearDropdown(0!==t)),h.default.createElement("div",{className:"react-datepicker__day-names"},n.header(r))),h.default.createElement(p.default,{day:r,dayClassName:n.props.dayClassName,onDayClick:n.handleDayClick,onDayMouseEnter:n.handleDayMouseEnter,onMouseLeave:n.handleMonthMouseLeave,onWeekSelect:n.props.onWeekSelect,formatWeekNumber:n.props.formatWeekNumber,minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,highlightDates:n.props.highlightDates,selectingDate:n.state.selectingDate,includeDates:n.props.includeDates,inline:n.props.inline,fixedHeight:n.props.fixedHeight,filterDate:n.props.filterDate,preSelection:n.props.preSelection,selected:n.props.selected,selectsStart:n.props.selectsStart,selectsEnd:n.props.selectsEnd,showWeekNumbers:n.props.showWeekNumbers,startDate:n.props.startDate,endDate:n.props.endDate,peekNextMonth:n.props.peekNextMonth,utcOffset:n.props.utcOffset})))}return e},n.state={date:n.localizeMoment(n.getDateInView()),selectingDate:null},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,null,[{key:"defaultProps",get:function(){return{onDropdownFocus:function(){},utcOffset:o.default.utc().utcOffset(),monthsShown:1,forceShowMonthNavigation:!1}}}]),a(t,[{key:"componentWillReceiveProps",value:function(e){e.preSelection&&!(0,b.isSameDay)(e.preSelection,this.props.preSelection)?this.setState({date:this.localizeMoment(e.preSelection)}):e.openToDate&&!(0,b.isSameDay)(e.openToDate,this.props.openToDate)&&this.setState({date:this.localizeMoment(e.openToDate)})}},{key:"render",value:function(){return h.default.createElement("div",{className:(0,v.default)("react-datepicker",this.props.className)},h.default.createElement("div",{className:"react-datepicker__triangle"}),this.renderPreviousMonthButton(),this.renderNextMonthButton(),this.renderMonths(),this.renderTodayButton(),this.props.children)}}]),t}(h.default.Component);t.default=_},function(t,n){t.exports=e},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(4),s=r(o),c=n(5),l=(r(c),n(10)),u=r(l),d=n(12),p=r(d),f=(0,p.default)(u.default),h=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,o=Array(i),c=0;c<i;c++)o[c]=arguments[c];return n=r=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={dropdownVisible:!1},r.renderSelectOptions=function(){for(var e=r.props.minDate?r.props.minDate.year():1900,t=r.props.maxDate?r.props.maxDate.year():2100,n=[],a=e;a<=t;a++)n.push(s.default.createElement("option",{key:a,value:a},a));return n},r.onSelectChange=function(e){r.onChange(e.target.value)},r.renderSelectMode=function(){return s.default.createElement("select",{value:r.props.year,className:"react-datepicker__year-select",onChange:r.onSelectChange},r.renderSelectOptions())},r.renderReadView=function(e){return s.default.createElement("div",{key:"read",style:{visibility:e?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:r.toggleDropdown},s.default.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),s.default.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},r.props.year))},r.renderDropdown=function(){return s.default.createElement(f,{key:"dropdown",ref:"options",year:r.props.year,onChange:r.onChange,onCancel:r.toggleDropdown,scrollableYearDropdown:r.props.scrollableYearDropdown,yearDropdownItemNumber:r.props.yearDropdownItemNumber})},r.renderScrollMode=function(){var e=r.state.dropdownVisible,t=[r.renderReadView(!e)];return e&&t.unshift(r.renderDropdown()),t},r.onChange=function(e){r.toggleDropdown(),e!==r.props.year&&r.props.onChange(e)},r.toggleDropdown=function(){r.setState({dropdownVisible:!r.state.dropdownVisible})},a(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"render",value:function(){var e=void 0;switch(this.props.dropdownMode){case"scroll":e=this.renderScrollMode();break;case"select":e=this.renderSelectMode()}return s.default.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--"+this.props.dropdownMode},e)}}]),t}(s.default.Component);t.default=h},function(e,n){e.exports=t},function(e,t,n){e.exports=n(6)()},function(e,t,n){"use strict";var r=n(7),a=n(8),i=n(9);e.exports=function(){function e(e,t,n,r,o,s){s!==i&&a(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t};return n.checkPropTypes=r,n.PropTypes=n,n}},function(e,t){"use strict";function n(e){return function(){return e}}var r=function(){};r.thatReturns=n,r.thatReturnsFalse=n(!1),r.thatReturnsTrue=n(!0),r.thatReturnsNull=n(null),r.thatReturnsThis=function(){return this},r.thatReturnsArgument=function(e){return e},e.exports=r},function(e,t,n){"use strict";var r=function(e){};e.exports=function(e,t,n,a,i,o,s,c){if(r(t),!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,a,i,o,s,c],d=0;(l=new Error(t.replace(/%s/g,function(){return u[d++]}))).name="Invariant Violation"}throw l.framesToPop=1,l}}},function(e,t){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){for(var n=[],r=0;r<2*t+1;r++)n.push(e+t-r);return n}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(4),s=r(o),c=n(5),l=(r(c),n(11)),u=r(l),d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.renderOptions=function(){var e=n.props.year,t=n.state.yearsList.map(function(t){return s.default.createElement("div",{className:"react-datepicker__year-option",key:t,ref:t,onClick:n.onChange.bind(n,t)},e===t?s.default.createElement("span",{className:"react-datepicker__year-option--selected"},"✓"):"",t)});return t.unshift(s.default.createElement("div",{className:"react-datepicker__year-option",ref:"upcoming",key:"upcoming",onClick:n.incrementYears},s.default.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),t.push(s.default.createElement("div",{className:"react-datepicker__year-option",ref:"previous",key:"previous",onClick:n.decrementYears},s.default.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),t},n.onChange=function(e){n.props.onChange(e)},n.handleClickOutside=function(){n.props.onCancel()},n.shiftYears=function(e){var t=n.state.yearsList.map(function(t){return t+e});n.setState({yearsList:t})},n.incrementYears=function(){return n.shiftYears(1)},n.decrementYears=function(){return n.shiftYears(-1)};var r=e.yearDropdownItemNumber,i=e.scrollableYearDropdown,o=r||(i?10:5);return n.state={yearsList:a(n.props.year,o)},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"render",value:function(){var e=(0,u.default)({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return s.default.createElement("div",{className:e},this.renderOptions())}}]),t}(s.default.Component);t.default=d},function(e,t,n){var r;
/*!
	  Copyright (c) 2016 Jed Watson.
	  Licensed under the MIT License (MIT), see
	  http://jedwatson.github.io/classnames
	*/!function(){"use strict";function n(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var i=typeof r;if("string"===i||"number"===i)e.push(r);else if(Array.isArray(r))e.push(n.apply(null,r));else if("object"===i)for(var o in r)a.call(r,o)&&r[o]&&e.push(o)}}return e.join(" ")}var a={}.hasOwnProperty;void 0!==e&&e.exports?e.exports=n:void 0===(r=function(){return n}.apply(t,[]))||(e.exports=r)}()},function(e,t){e.exports=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(4),s=r(o),c=n(5),l=(r(c),n(14)),u=r(l),d=n(12),p=r(d),f=n(2),h=r(f),m=(0,p.default)(u.default),g=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,o=Array(i),c=0;c<i;c++)o[c]=arguments[c];return n=r=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.state={dropdownVisible:!1},r.renderSelectOptions=function(e){return e.map(function(e,t){return s.default.createElement("option",{key:t,value:t},e)})},r.renderSelectMode=function(e){return s.default.createElement("select",{value:r.props.month,className:"react-datepicker__month-select",onChange:function(e){return r.onChange(e.target.value)}},r.renderSelectOptions(e))},r.renderReadView=function(e,t){return s.default.createElement("div",{key:"read",style:{visibility:e?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:r.toggleDropdown},s.default.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},t[r.props.month]),s.default.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}))},r.renderDropdown=function(e){return s.default.createElement(m,{key:"dropdown",ref:"options",month:r.props.month,monthNames:e,onChange:r.onChange,onCancel:r.toggleDropdown})},r.renderScrollMode=function(e){var t=r.state.dropdownVisible,n=[r.renderReadView(!t,e)];return t&&n.unshift(r.renderDropdown(e)),n},r.onChange=function(e){r.toggleDropdown(),e!==r.props.month&&r.props.onChange(e)},r.toggleDropdown=function(){return r.setState({dropdownVisible:!r.state.dropdownVisible})},a(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"render",value:function(){var e=this,t=h.default.localeData(this.props.locale),n=[0,1,2,3,4,5,6,7,8,9,10,11].map(function(n){return t.months((0,h.default)({M:n}),e.props.dateFormat)}),r=void 0;switch(this.props.dropdownMode){case"scroll":r=this.renderScrollMode(n);break;case"select":r=this.renderSelectMode(n)}return s.default.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--"+this.props.dropdownMode},r)}}]),t}(s.default.Component);t.default=g},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(4),s=r(o),c=n(5),l=(r(c),function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,o=Array(i),c=0;c<i;c++)o[c]=arguments[c];return n=r=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.renderOptions=function(){return r.props.monthNames.map(function(e,t){return s.default.createElement("div",{className:"react-datepicker__month-option",key:e,ref:e,onClick:r.onChange.bind(r,t)},r.props.month===t?s.default.createElement("span",{className:"react-datepicker__month-option--selected"},"✓"):"",e)})},r.onChange=function(e){return r.props.onChange(e)},r.handleClickOutside=function(){return r.props.onCancel()},a(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"render",value:function(){return s.default.createElement("div",{className:"react-datepicker__month-dropdown"},this.renderOptions())}}]),t}(s.default.Component));t.default=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(4),s=r(o),c=n(5),l=(r(c),n(11)),u=r(l),d=n(16),p=r(d),f=6,h=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,o=Array(i),c=0;c<i;c++)o[c]=arguments[c];return n=r=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.handleDayClick=function(e,t){r.props.onDayClick&&r.props.onDayClick(e,t)},r.handleDayMouseEnter=function(e){r.props.onDayMouseEnter&&r.props.onDayMouseEnter(e)},r.handleMouseLeave=function(){r.props.onMouseLeave&&r.props.onMouseLeave()},r.isWeekInMonth=function(e){var t=r.props.day,n=e.clone().add(6,"days");return e.isSame(t,"month")||n.isSame(t,"month")},r.renderWeeks=function(){for(var e=[],t=r.props.fixedHeight,n=r.props.day.clone().startOf("month").startOf("week"),a=0,i=!1;e.push(s.default.createElement(p.default,{key:a,day:n,month:r.props.day.month(),onDayClick:r.handleDayClick,onDayMouseEnter:r.handleDayMouseEnter,onWeekSelect:r.props.onWeekSelect,formatWeekNumber:r.props.formatWeekNumber,minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,includeDates:r.props.includeDates,inline:r.props.inline,highlightDates:r.props.highlightDates,selectingDate:r.props.selectingDate,filterDate:r.props.filterDate,preSelection:r.props.preSelection,selected:r.props.selected,selectsStart:r.props.selectsStart,selectsEnd:r.props.selectsEnd,showWeekNumber:r.props.showWeekNumbers,startDate:r.props.startDate,endDate:r.props.endDate,dayClassName:r.props.dayClassName,utcOffset:r.props.utcOffset})),!i;){a++,n=n.clone().add(1,"weeks");var o=t&&a>=f,c=!t&&!r.isWeekInMonth(n);if(o||c){if(!r.props.peekNextMonth)break;i=!0}}return e},r.getClassNames=function(){var e=r.props,t=e.selectingDate,n=e.selectsStart,a=e.selectsEnd;return(0,u.default)("react-datepicker__month",{"react-datepicker__month--selecting-range":t&&(n||a)})},a(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"render",value:function(){return s.default.createElement("div",{className:this.getClassNames(),onMouseLeave:this.handleMouseLeave,role:"listbox"},this.renderWeeks())}}]),t}(s.default.Component);t.default=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(4),s=r(o),c=n(5),l=(r(c),n(17)),u=r(l),d=n(19),p=r(d),f=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,o=Array(i),c=0;c<i;c++)o[c]=arguments[c];return n=r=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.handleDayClick=function(e,t){r.props.onDayClick&&r.props.onDayClick(e,t)},r.handleDayMouseEnter=function(e){r.props.onDayMouseEnter&&r.props.onDayMouseEnter(e)},r.handleWeekClick=function(e,t,n){"function"==typeof r.props.onWeekSelect&&r.props.onWeekSelect(e,t,n)},r.formatWeekNumber=function(e){return r.props.formatWeekNumber?r.props.formatWeekNumber(e):parseInt(e.format("w"),10)},r.renderDays=function(){var e=r.props.day.clone().startOf("week"),t=[],n=r.formatWeekNumber(e);if(r.props.showWeekNumber){var a=r.props.onWeekSelect?r.handleWeekClick.bind(r,e,n):void 0;t.push(s.default.createElement(p.default,{key:"W",weekNumber:n,onClick:a}))}return t.concat([0,1,2,3,4,5,6].map(function(t){var n=e.clone().add(t,"days");return s.default.createElement(u.default,{key:t,day:n,month:r.props.month,onClick:r.handleDayClick.bind(r,n),onMouseEnter:r.handleDayMouseEnter.bind(r,n),minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,includeDates:r.props.includeDates,inline:r.props.inline,highlightDates:r.props.highlightDates,selectingDate:r.props.selectingDate,filterDate:r.props.filterDate,preSelection:r.props.preSelection,selected:r.props.selected,selectsStart:r.props.selectsStart,selectsEnd:r.props.selectsEnd,startDate:r.props.startDate,endDate:r.props.endDate,dayClassName:r.props.dayClassName,utcOffset:r.props.utcOffset})}))},a(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"render",value:function(){return s.default.createElement("div",{className:"react-datepicker__week"},this.renderDays())}}]),t}(s.default.Component);t.default=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(2),c=r(s),l=n(4),u=r(l),d=n(5),p=(r(d),n(11)),f=r(p),h=n(18),m=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,s=Array(o),l=0;l<o;l++)s[l]=arguments[l];return n=r=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r.handleClick=function(e){!r.isDisabled()&&r.props.onClick&&r.props.onClick(e)},r.handleMouseEnter=function(e){!r.isDisabled()&&r.props.onMouseEnter&&r.props.onMouseEnter(e)},r.isSameDay=function(e){return(0,h.isSameDay)(r.props.day,e)},r.isKeyboardSelected=function(){return!r.props.inline&&!r.isSameDay(r.props.selected)&&r.isSameDay(r.props.preSelection)},r.isDisabled=function(){return(0,h.isDayDisabled)(r.props.day,r.props)},r.getHighLightedClass=function(e){var t=r.props,n=t.day,a=t.highlightDates;if(!a)return function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},e,!1);for(var o={},s=0,l=a.length;s<l;s++){var u=a[s];if(u instanceof c.default)(0,h.isSameDay)(n,u)&&(o[e]=!0);else if("object"===(void 0===u?"undefined":i(u))){var d=Object.keys(u),p=u[d[0]];if("string"==typeof d[0]&&p.constructor===Array)for(var f=0,m=p.length;f<m;f++)(0,h.isSameDay)(n,p[f])&&(o[d[0]]=!0)}}return o},r.isInRange=function(){var e=r.props,t=e.day,n=e.startDate,a=e.endDate;return!(!n||!a)&&(0,h.isDayInRange)(t,n,a)},r.isInSelectingRange=function(){var e=r.props,t=e.day,n=e.selectsStart,a=e.selectsEnd,i=e.selectingDate,o=e.startDate,s=e.endDate;return!(!n&&!a||!i||r.isDisabled())&&(n&&s&&i.isSameOrBefore(s)?(0,h.isDayInRange)(t,i,s):!!(a&&o&&i.isSameOrAfter(o))&&(0,h.isDayInRange)(t,o,i))},r.isSelectingRangeStart=function(){if(!r.isInSelectingRange())return!1;var e=r.props,t=e.day,n=e.selectingDate,a=e.startDate,i=e.selectsStart;return i?(0,h.isSameDay)(t,n):(0,h.isSameDay)(t,a)},r.isSelectingRangeEnd=function(){if(!r.isInSelectingRange())return!1;var e=r.props,t=e.day,n=e.selectingDate,a=e.endDate,i=e.selectsEnd;return i?(0,h.isSameDay)(t,n):(0,h.isSameDay)(t,a)},r.isRangeStart=function(){var e=r.props,t=e.day,n=e.startDate,a=e.endDate;return!(!n||!a)&&(0,h.isSameDay)(n,t)},r.isRangeEnd=function(){var e=r.props,t=e.day,n=e.startDate,a=e.endDate;return!(!n||!a)&&(0,h.isSameDay)(a,t)},r.isWeekend=function(){var e=r.props.day.day();return 0===e||6===e},r.isOutsideMonth=function(){return void 0!==r.props.month&&r.props.month!==r.props.day.month()},r.getClassNames=function(e){var t=r.props.dayClassName?r.props.dayClassName(e):void 0;return(0,f.default)("react-datepicker__day",t,"react-datepicker__day--"+(0,h.getDayOfWeekCode)(r.props.day),{"react-datepicker__day--disabled":r.isDisabled(),"react-datepicker__day--selected":r.isSameDay(r.props.selected),"react-datepicker__day--keyboard-selected":r.isKeyboardSelected(),"react-datepicker__day--range-start":r.isRangeStart(),"react-datepicker__day--range-end":r.isRangeEnd(),"react-datepicker__day--in-range":r.isInRange(),"react-datepicker__day--in-selecting-range":r.isInSelectingRange(),"react-datepicker__day--selecting-range-start":r.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":r.isSelectingRangeEnd(),"react-datepicker__day--today":r.isSameDay(c.default.utc().utcOffset(r.props.utcOffset)),"react-datepicker__day--weekend":r.isWeekend(),"react-datepicker__day--outside-month":r.isOutsideMonth()},r.getHighLightedClass("react-datepicker__day--highlighted"))},a(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"render",value:function(){return u.default.createElement("div",{className:this.getClassNames(this.props.day),onClick:this.handleClick,onMouseEnter:this.handleMouseEnter,"aria-label":"day-"+this.props.day.date(),role:"option"},this.props.day.date())}}]),t}(u.default.Component);m.defaultProps={utcOffset:c.default.utc().utcOffset()},t.default=m},function(e,t,n){"use strict";function r(e,t){return e&&t?e.isSame(t,"day"):!e&&!t}Object.defineProperty(t,"__esModule",{value:!0}),t.isSameDay=r,t.isSameUtcOffset=function(e,t){return e&&t?e.utcOffset()===t.utcOffset():!e&&!t},t.isDayInRange=function(e,t,n){var r=t.clone().startOf("day").subtract(1,"seconds"),a=n.clone().startOf("day").add(1,"seconds");return e.clone().startOf("day").isBetween(r,a)},t.isDayDisabled=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.minDate,a=t.maxDate,i=t.excludeDates,o=t.includeDates,s=t.filterDate;return n&&e.isBefore(n,"day")||a&&e.isAfter(a,"day")||i&&i.some(function(t){return r(e,t)})||o&&!o.some(function(t){return r(e,t)})||s&&!s(e.clone())||!1},t.allDaysDisabledBefore=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.minDate,a=n.includeDates,i=e.clone().subtract(1,t);return r&&i.isBefore(r,t)||a&&a.every(function(e){return i.isBefore(e,t)})||!1},t.allDaysDisabledAfter=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.maxDate,a=n.includeDates,i=e.clone().add(1,t);return r&&i.isAfter(r,t)||a&&a.every(function(e){return i.isAfter(e,t)})||!1},t.getEffectiveMinDate=function(e){var t=e.minDate,n=e.includeDates;return n&&t?i.default.min(n.filter(function(e){return t.isSameOrBefore(e,"day")})):n?i.default.min(n):t},t.getEffectiveMaxDate=function(e){var t=e.maxDate,n=e.includeDates;return n&&t?i.default.max(n.filter(function(e){return t.isSameOrAfter(e,"day")})):n?i.default.max(n):t},t.parseDate=function(e,t){var n=t.dateFormat,r=t.locale,a=(0,i.default)(e,n,r||i.default.locale(),!0);return a.isValid()?a:null},t.safeDateFormat=function(e,t){var n=t.dateFormat,r=t.locale;return e&&e.clone().locale(r||i.default.locale()).format(Array.isArray(n)?n[0]:n)||""},t.getDayOfWeekCode=function(e){return o[e.isoWeekday()]};var a=n(2),i=function(e){return e&&e.__esModule?e:{default:e}}(a),o={1:"mon",2:"tue",3:"wed",4:"thu",5:"fri",6:"sat",7:"sun"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(4),s=r(o),c=n(5),l=(r(c),n(11)),u=r(l),d=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,o=Array(i),s=0;s<i;s++)o[s]=arguments[s];return n=r=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.handleClick=function(e){r.props.onClick&&r.props.onClick(e)},a(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"render",value:function(){var e={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!this.props.onClick};return s.default.createElement("div",{className:(0,u.default)(e),"aria-label":"week-"+this.props.weekNumber,onClick:this.handleClick},this.props.weekNumber)}}]),t}(s.default.Component);t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.popperPlacementPositions=void 0;var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(4),o=r(i),s=n(5),c=(r(s),n(21)),l=(t.popperPlacementPositions=["auto","auto-left","auto-right","bottom","bottom-end","bottom-start","left","left-end","left-start","right","right-end","right-start","top","top-end","top-start"],function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"render",value:function(){var e=this.props,t=e.hidePopper,n=e.popperComponent,r=e.popperModifiers,a=e.popperPlacement,i=e.targetComponent;return o.default.createElement(c.Manager,null,o.default.createElement(c.Target,{className:"react-datepicker-wrapper"},i),!t&&o.default.createElement(c.Popper,{className:"react-datepicker-popper",modifiers:r,placement:a},n))}}],[{key:"defaultProps",get:function(){return{hidePopper:!0,popperModifiers:{preventOverflow:{enabled:!0,escapeWithReference:!0,boundariesElement:"viewport"}},popperPlacement:"bottom-start"}}}]),t}(o.default.Component));t.default=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Arrow=t.Popper=t.Target=t.Manager=void 0;var a=n(22),i=r(a),o=n(23),s=r(o),c=n(24),l=r(c),u=n(28),d=r(u);t.Manager=i.default,t.Target=s.default,t.Popper=l.default,t.Arrow=d.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(4),s=(r(o),n(5)),c=r(s),l=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,o=Array(i),s=0;s<i;s++)o[s]=arguments[s];return n=r=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r._setTargetNode=function(e){r._targetNode=e},r._getTargetNode=function(){return r._targetNode},a(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"getChildContext",value:function(){return{popperManager:{setTargetNode:this._setTargetNode,getTargetNode:this._getTargetNode}}}},{key:"render",value:function(){var e=this.props,t=e.tag,n=e.children,r=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["tag","children"]);return!1!==t?(0,o.createElement)(t,r,n):n}}]),t}(o.Component);l.childContextTypes={popperManager:c.default.object.isRequired},l.propTypes={tag:c.default.oneOfType([c.default.string,c.default.bool])},l.defaultProps={tag:"div"},t.default=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(4),o=(r(i),n(5)),s=r(o),c=function(e,t){var n=e.component,r=void 0===n?"div":n,o=e.innerRef,s=e.children,c=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["component","innerRef","children"]),l=t.popperManager,u=function(e){l.setTargetNode(e),"function"==typeof o&&o(e)};if("function"==typeof s){var d={ref:u};return s({targetProps:d,restProps:c})}var p=a({},c);return"string"==typeof r?p.ref=u:p.innerRef=u,(0,i.createElement)(r,p,s)};c.contextTypes={popperManager:s.default.object.isRequired},c.propTypes={component:s.default.oneOfType([s.default.node,s.default.func]),innerRef:s.default.func,children:s.default.oneOfType([s.default.node,s.default.func])},t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(4),c=(r(s),n(5)),l=r(c),u=n(25),d=r(u),p=n(26),f=r(p),h=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,s=Array(o),c=0;c<o;c++)s[c]=arguments[c];return n=r=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),r.state={},r._setArrowNode=function(e){r._arrowNode=e},r._getTargetNode=function(){return r.context.popperManager.getTargetNode()},r._updateStateModifier={enabled:!0,order:900,fn:function(e){return(r.state.data&&!(0,f.default)(e.offsets,r.state.data.offsets)||!r.state.data)&&r.setState({data:e}),e}},r._getPopperStyle=function(){var e=r.state.data;if(!r._popper||!e)return{position:"absolute",pointerEvents:"none",opacity:0};var t=e.offsets.popper,n=(t.top,t.left,t.position);return i({position:n},e.styles)},r._getPopperPlacement=function(){return r.state.data?r.state.data.placement:void 0},r._getArrowStyle=function(){if(r.state.data&&r.state.data.offsets.arrow){var e=r.state.data.offsets.arrow,t=e.top,n=e.left;return{top:t,left:n}}return{}},a(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"getChildContext",value:function(){return{popper:{setArrowNode:this._setArrowNode,getArrowStyle:this._getArrowStyle}}}},{key:"componentDidMount",value:function(){this._updatePopper()}},{key:"componentDidUpdate",value:function(e){e.placement===this.props.placement&&e.eventsEnabled===this.props.eventsEnabled||this._updatePopper(),this._popper&&e.children!==this.props.children&&this._popper.scheduleUpdate()}},{key:"componentWillUnmount",value:function(){this._destroyPopper()}},{key:"_updatePopper",value:function(){this._destroyPopper(),this._node&&this._createPopper()}},{key:"_createPopper",value:function(){var e=this.props,t=e.placement,n=e.eventsEnabled,r=i({},this.props.modifiers,{applyStyle:{enabled:!1},updateState:this._updateStateModifier});this._arrowNode&&(r.arrow={element:this._arrowNode}),this._popper=new d.default(this._getTargetNode(),this._node,{placement:t,eventsEnabled:n,modifiers:r}),this._popper.scheduleUpdate()}},{key:"_destroyPopper",value:function(){this._popper&&this._popper.destroy()}},{key:"render",value:function(){var e=this,t=this.props,n=t.component,r=t.innerRef,a=(t.placement,t.eventsEnabled,t.modifiers,t.children),o=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(t,["component","innerRef","placement","eventsEnabled","modifiers","children"]),c=function(t){e._node=t,"function"==typeof r&&r(t)},l=this._getPopperStyle(),u=this._getPopperPlacement();if("function"==typeof a){var d=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({ref:c,style:l},"data-placement",u);return a({popperProps:d,restProps:o,scheduleUpdate:this._popper&&this._popper.scheduleUpdate})}var p=i({},o,{style:i({},o.style,l),"data-placement":u});return"string"==typeof n?p.ref=c:p.innerRef=c,(0,s.createElement)(n,p,a)}}]),t}(s.Component);h.contextTypes={popperManager:l.default.object.isRequired},h.childContextTypes={popper:l.default.object.isRequired},h.propTypes={component:l.default.oneOfType([l.default.node,l.default.func]),innerRef:l.default.func,placement:l.default.oneOf(d.default.placements),eventsEnabled:l.default.bool,modifiers:l.default.object,children:l.default.oneOfType([l.default.node,l.default.func])},h.defaultProps={component:"div",placement:"bottom",eventsEnabled:!0,modifiers:{}},t.default=h},function(e,t,n){(function(t){
/**!
	 * @fileOverview Kickass library to create and place poppers near their reference elements.
	 * @version 1.12.3
	 * @license
	 * Copyright (c) 2016 Federico Zivolo and contributors
	 *
	 * Permission is hereby granted, free of charge, to any person obtaining a copy
	 * of this software and associated documentation files (the "Software"), to deal
	 * in the Software without restriction, including without limitation the rights
	 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
	 * copies of the Software, and to permit persons to whom the Software is
	 * furnished to do so, subject to the following conditions:
	 *
	 * The above copyright notice and this permission notice shall be included in all
	 * copies or substantial portions of the Software.
	 *
	 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
	 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
	 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
	 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
	 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
	 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
	 * SOFTWARE.
	 */
!function(t,n){e.exports=n()}(0,function(){"use strict";function e(e){return e&&"[object Function]"==={}.toString.call(e)}function n(e,t){if(1!==e.nodeType)return[];var n=window.getComputedStyle(e,null);return t?n[t]:n}function r(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function a(e){if(!e||-1!==["HTML","BODY","#document"].indexOf(e.nodeName))return window.document.body;var t=n(e),i=t.overflow,o=t.overflowX,s=t.overflowY;return/(auto|scroll)/.test(i+s+o)?e:a(r(e))}function i(e){var t=e&&e.offsetParent,r=t&&t.nodeName;return r&&"BODY"!==r&&"HTML"!==r?-1!==["TD","TABLE"].indexOf(t.nodeName)&&"static"===n(t,"position")?i(t):t:window.document.documentElement}function o(e){return null!==e.parentNode?o(e.parentNode):e}function s(e,t){if(!(e&&e.nodeType&&t&&t.nodeType))return window.document.documentElement;var n=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,r=n?e:t,a=n?t:e,c=document.createRange();c.setStart(r,0),c.setEnd(a,0);var l=c.commonAncestorContainer;if(e!==l&&t!==l||r.contains(a))return function(e){var t=e.nodeName;return"BODY"!==t&&("HTML"===t||i(e.firstElementChild)===e)}(l)?l:i(l);var u=o(e);return u.host?s(u.host,t):s(e,o(t).host)}function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top",n="top"===t?"scrollTop":"scrollLeft",r=e.nodeName;if("BODY"===r||"HTML"===r){var a=window.document.documentElement,i=window.document.scrollingElement||a;return i[n]}return e[n]}function l(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=c(t,"top"),a=c(t,"left"),i=n?-1:1;return e.top+=r*i,e.bottom+=r*i,e.left+=a*i,e.right+=a*i,e}function u(e,t){var n="x"===t?"Left":"Top",r="Left"===n?"Right":"Bottom";return+e["border"+n+"Width"].split("px")[0]+ +e["border"+r+"Width"].split("px")[0]}function d(e,t,n,r){return Math.max(t["offset"+e],t["scroll"+e],n["client"+e],n["offset"+e],n["scroll"+e],W()?n["offset"+e]+r["margin"+("Height"===e?"Top":"Left")]+r["margin"+("Height"===e?"Bottom":"Right")]:0)}function p(){var e=window.document.body,t=window.document.documentElement,n=W()&&window.getComputedStyle(t);return{height:d("Height",e,t,n),width:d("Width",e,t,n)}}function f(e){return Q({},e,{right:e.left+e.width,bottom:e.top+e.height})}function h(e){var t={};if(W())try{t=e.getBoundingClientRect();var r=c(e,"top"),a=c(e,"left");t.top+=r,t.left+=a,t.bottom+=r,t.right+=a}catch(e){}else t=e.getBoundingClientRect();var i={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},o="HTML"===e.nodeName?p():{},s=o.width||e.clientWidth||i.right-i.left,l=o.height||e.clientHeight||i.bottom-i.top,d=e.offsetWidth-s,h=e.offsetHeight-l;if(d||h){var m=n(e);d-=u(m,"x"),h-=u(m,"y"),i.width-=d,i.height-=h}return f(i)}function m(e,t){var r=W(),i="HTML"===t.nodeName,o=h(e),s=h(t),c=a(e),u=n(t),d=+u.borderTopWidth.split("px")[0],p=+u.borderLeftWidth.split("px")[0],m=f({top:o.top-s.top-d,left:o.left-s.left-p,width:o.width,height:o.height});if(m.marginTop=0,m.marginLeft=0,!r&&i){var g=+u.marginTop.split("px")[0],v=+u.marginLeft.split("px")[0];m.top-=d-g,m.bottom-=d-g,m.left-=p-v,m.right-=p-v,m.marginTop=g,m.marginLeft=v}return(r?t.contains(c):t===c&&"BODY"!==c.nodeName)&&(m=l(m,t)),m}function g(e){var t=window.document.documentElement,n=m(e,t),r=Math.max(t.clientWidth,window.innerWidth||0),a=Math.max(t.clientHeight,window.innerHeight||0),i=c(t),o=c(t,"left"),s={top:i-n.top+n.marginTop,left:o-n.left+n.marginLeft,width:r,height:a};return f(s)}function v(e){var t=e.nodeName;return"BODY"!==t&&"HTML"!==t&&("fixed"===n(e,"position")||v(r(e)))}function b(e,t,n,i){var o={top:0,left:0},c=s(e,t);if("viewport"===i)o=g(c);else{var l=void 0;"scrollParent"===i?"BODY"===(l=a(r(e))).nodeName&&(l=window.document.documentElement):l="window"===i?window.document.documentElement:i;var u=m(l,c);if("HTML"!==l.nodeName||v(c))o=u;else{var d=p(),f=d.height,h=d.width;o.top+=u.top-u.marginTop,o.bottom=f+u.top,o.left+=u.left-u.marginLeft,o.right=h+u.left}}return o.left+=n,o.top+=n,o.right-=n,o.bottom-=n,o}function y(e){var t=e.width,n=e.height;return t*n}function E(e,t,n,r,a){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var o=b(n,r,i,a),s={top:{width:o.width,height:t.top-o.top},right:{width:o.right-t.right,height:o.height},bottom:{width:o.width,height:o.bottom-t.bottom},left:{width:t.left-o.left,height:o.height}},c=Object.keys(s).map(function(e){return Q({key:e},s[e],{area:y(s[e])})}).sort(function(e,t){return t.area-e.area}),l=c.filter(function(e){var t=e.width,r=e.height;return t>=n.clientWidth&&r>=n.clientHeight}),u=l.length>0?l[0].key:c[0].key,d=e.split("-")[1];return u+(d?"-"+d:"")}function _(e,t,n){var r=s(t,n);return m(n,r)}function w(e){var t=window.getComputedStyle(e),n=parseFloat(t.marginTop)+parseFloat(t.marginBottom),r=parseFloat(t.marginLeft)+parseFloat(t.marginRight),a={width:e.offsetWidth+r,height:e.offsetHeight+n};return a}function S(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,function(e){return t[e]})}function k(e,t,n){n=n.split("-")[0];var r=w(e),a={width:r.width,height:r.height},i=-1!==["right","left"].indexOf(n),o=i?"top":"left",s=i?"left":"top",c=i?"height":"width",l=i?"width":"height";return a[o]=t[o]+t[c]/2-r[c]/2,a[s]=n===s?t[s]-r[l]:t[S(s)],a}function C(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function N(t,n,r){var a=void 0===r?t:t.slice(0,function(e,t,n){if(Array.prototype.findIndex)return e.findIndex(function(e){return e[t]===n});var r=C(e,function(e){return e[t]===n});return e.indexOf(r)}(t,"name",r));return a.forEach(function(t){t.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var r=t.function||t.fn;t.enabled&&e(r)&&(n.offsets.popper=f(n.offsets.popper),n.offsets.reference=f(n.offsets.reference),n=r(n,t))}),n}function O(e,t){return e.some(function(e){var n=e.name,r=e.enabled;return r&&n===t})}function x(e){for(var t=[!1,"ms","Webkit","Moz","O"],n=e.charAt(0).toUpperCase()+e.slice(1),r=0;r<t.length-1;r++){var a=t[r],i=a?""+a+n:e;if(void 0!==window.document.body.style[i])return i}return null}function T(e,t,n,r){n.updateBound=r,window.addEventListener("resize",n.updateBound,{passive:!0});var i=a(e);return function e(t,n,r,i){var o="BODY"===t.nodeName,s=o?window:t;s.addEventListener(n,r,{passive:!0}),o||e(a(s.parentNode),n,r,i),i.push(s)}(i,"scroll",n.updateBound,n.scrollParents),n.scrollElement=i,n.eventsEnabled=!0,n}function R(){this.state.eventsEnabled&&(window.cancelAnimationFrame(this.scheduleUpdate),this.state=function(e,t){return window.removeEventListener("resize",t.updateBound),t.scrollParents.forEach(function(e){e.removeEventListener("scroll",t.updateBound)}),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t}(this.reference,this.state))}function P(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function I(e,t){Object.keys(t).forEach(function(n){var r="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&P(t[n])&&(r="px"),e.style[n]=t[n]+r})}function A(e,t,n){var r=C(e,function(e){var n=e.name;return n===t}),a=!!r&&e.some(function(e){return e.name===n&&e.enabled&&e.order<r.order});if(!a){var i="`"+t+"`",o="`"+n+"`";console.warn(o+" modifier is required by "+i+" modifier in order to work, be sure to include it before "+i+"!")}return a}function M(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=X.indexOf(e),r=X.slice(n+1).concat(X.slice(0,n));return t?r.reverse():r}function D(e,t,n,r){var a=[0,0],i=-1!==["right","left"].indexOf(r),o=e.split(/(\+|\-)/).map(function(e){return e.trim()}),s=o.indexOf(C(o,function(e){return-1!==e.search(/,|\s/)}));o[s]&&-1===o[s].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var c=/\s*,\s*|\s+/,l=-1!==s?[o.slice(0,s).concat([o[s].split(c)[0]]),[o[s].split(c)[1]].concat(o.slice(s+1))]:[o];return(l=l.map(function(e,r){var a=(1===r?!i:i)?"height":"width",o=!1;return e.reduce(function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,o=!0,e):o?(e[e.length-1]+=t,o=!1,e):e.concat(t)},[]).map(function(e){return function(e,t,n,r){var a=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),i=+a[1],o=a[2];if(!i)return e;if(0===o.indexOf("%")){var s=void 0;switch(o){case"%p":s=n;break;case"%":case"%r":default:s=r}var c=f(s);return c[t]/100*i}return"vh"===o||"vw"===o?("vh"===o?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*i:i}(e,a,t,n)})})).forEach(function(e,t){e.forEach(function(n,r){P(n)&&(a[t]+=n*("-"===e[r-1]?-1:1))})}),a}for(var j=["native code","[object MutationObserverConstructor]"],L="undefined"!=typeof window,F=["Edge","Trident","Firefox"],B=0,U=0;U<F.length;U+=1)if(L&&navigator.userAgent.indexOf(F[U])>=0){B=1;break}var H=L&&function(e){return j.some(function(t){return(e||"").toString().indexOf(t)>-1})}(window.MutationObserver),q=H?function(e){var t=!1,n=0,r=document.createElement("span");return new MutationObserver(function(){e(),t=!1}).observe(r,{attributes:!0}),function(){t||(t=!0,r.setAttribute("x-index",n),n+=1)}}:function(e){var t=!1;return function(){t||(t=!0,setTimeout(function(){t=!1,e()},B))}},G=void 0,W=function(){return void 0===G&&(G=-1!==navigator.appVersion.indexOf("MSIE 10")),G},V=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},z=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),Y=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},Q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},K=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],X=K.slice(3),$={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"},Z={shift:{order:100,enabled:!0,fn:function(e){var t=e.placement,n=t.split("-")[0],r=t.split("-")[1];if(r){var a=e.offsets,i=a.reference,o=a.popper,s=-1!==["bottom","top"].indexOf(n),c=s?"left":"top",l=s?"width":"height",u={start:Y({},c,i[c]),end:Y({},c,i[c]+i[l]-o[l])};e.offsets.popper=Q({},o,u[r])}return e}},offset:{order:200,enabled:!0,fn:function(e,t){var n=t.offset,r=e.placement,a=e.offsets,i=a.popper,o=a.reference,s=r.split("-")[0],c=void 0;return c=P(+n)?[+n,0]:D(n,i,o,s),"left"===s?(i.top+=c[0],i.left-=c[1]):"right"===s?(i.top+=c[0],i.left+=c[1]):"top"===s?(i.left+=c[0],i.top-=c[1]):"bottom"===s&&(i.left+=c[0],i.top+=c[1]),e.popper=i,e},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(e,t){var n=t.boundariesElement||i(e.instance.popper);e.instance.reference===n&&(n=i(n));var r=b(e.instance.popper,e.instance.reference,t.padding,n);t.boundaries=r;var a=t.priority,o=e.offsets.popper,s={primary:function(e){var n=o[e];return o[e]<r[e]&&!t.escapeWithReference&&(n=Math.max(o[e],r[e])),Y({},e,n)},secondary:function(e){var n="right"===e?"left":"top",a=o[n];return o[e]>r[e]&&!t.escapeWithReference&&(a=Math.min(o[n],r[e]-("right"===e?o.width:o.height))),Y({},n,a)}};return a.forEach(function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";o=Q({},o,s[t](e))}),e.offsets.popper=o,e},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(e){var t=e.offsets,n=t.popper,r=t.reference,a=e.placement.split("-")[0],i=Math.floor,o=-1!==["top","bottom"].indexOf(a),s=o?"right":"bottom",c=o?"left":"top",l=o?"width":"height";return n[s]<i(r[c])&&(e.offsets.popper[c]=i(r[c])-n[l]),n[c]>i(r[s])&&(e.offsets.popper[c]=i(r[s])),e}},arrow:{order:500,enabled:!0,fn:function(e,t){if(!A(e.instance.modifiers,"arrow","keepTogether"))return e;var r=t.element;if("string"==typeof r){if(!(r=e.instance.popper.querySelector(r)))return e}else if(!e.instance.popper.contains(r))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var a=e.placement.split("-")[0],i=e.offsets,o=i.popper,s=i.reference,c=-1!==["left","right"].indexOf(a),l=c?"height":"width",u=c?"Top":"Left",d=u.toLowerCase(),p=c?"left":"top",h=c?"bottom":"right",m=w(r)[l];s[h]-m<o[d]&&(e.offsets.popper[d]-=o[d]-(s[h]-m)),s[d]+m>o[h]&&(e.offsets.popper[d]+=s[d]+m-o[h]);var g=s[d]+s[l]/2-m/2,v=n(e.instance.popper,"margin"+u).replace("px",""),b=g-f(e.offsets.popper)[d]-v;return b=Math.max(Math.min(o[l]-m,b),0),e.arrowElement=r,e.offsets.arrow={},e.offsets.arrow[d]=Math.round(b),e.offsets.arrow[p]="",e},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(e,t){if(O(e.instance.modifiers,"inner"))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var n=b(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement),r=e.placement.split("-")[0],a=S(r),i=e.placement.split("-")[1]||"",o=[];switch(t.behavior){case $.FLIP:o=[r,a];break;case $.CLOCKWISE:o=M(r);break;case $.COUNTERCLOCKWISE:o=M(r,!0);break;default:o=t.behavior}return o.forEach(function(s,c){if(r!==s||o.length===c+1)return e;r=e.placement.split("-")[0],a=S(r);var l=e.offsets.popper,u=e.offsets.reference,d=Math.floor,p="left"===r&&d(l.right)>d(u.left)||"right"===r&&d(l.left)<d(u.right)||"top"===r&&d(l.bottom)>d(u.top)||"bottom"===r&&d(l.top)<d(u.bottom),f=d(l.left)<d(n.left),h=d(l.right)>d(n.right),m=d(l.top)<d(n.top),g=d(l.bottom)>d(n.bottom),v="left"===r&&f||"right"===r&&h||"top"===r&&m||"bottom"===r&&g,b=-1!==["top","bottom"].indexOf(r),y=!!t.flipVariations&&(b&&"start"===i&&f||b&&"end"===i&&h||!b&&"start"===i&&m||!b&&"end"===i&&g);(p||v||y)&&(e.flipped=!0,(p||v)&&(r=o[c+1]),y&&(i=function(e){return"end"===e?"start":"start"===e?"end":e}(i)),e.placement=r+(i?"-"+i:""),e.offsets.popper=Q({},e.offsets.popper,k(e.instance.popper,e.offsets.reference,e.placement)),e=N(e.instance.modifiers,e,"flip"))}),e},behavior:"flip",padding:5,boundariesElement:"viewport"},inner:{order:700,enabled:!1,fn:function(e){var t=e.placement,n=t.split("-")[0],r=e.offsets,a=r.popper,i=r.reference,o=-1!==["left","right"].indexOf(n),s=-1===["top","left"].indexOf(n);return a[o?"left":"top"]=i[n]-(s?a[o?"width":"height"]:0),e.placement=S(t),e.offsets.popper=f(a),e}},hide:{order:800,enabled:!0,fn:function(e){if(!A(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,n=C(e.instance.modifiers,function(e){return"preventOverflow"===e.name}).boundaries;if(t.bottom<n.top||t.left>n.right||t.top>n.bottom||t.right<n.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}},computeStyle:{order:850,enabled:!0,fn:function(e,t){var n=t.x,r=t.y,a=e.offsets.popper,o=C(e.instance.modifiers,function(e){return"applyStyle"===e.name}).gpuAcceleration;void 0!==o&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var s=void 0!==o?o:t.gpuAcceleration,c=h(i(e.instance.popper)),l={position:a.position},u={left:Math.floor(a.left),top:Math.floor(a.top),bottom:Math.floor(a.bottom),right:Math.floor(a.right)},d="bottom"===n?"top":"bottom",p="right"===r?"left":"right",f=x("transform"),m=void 0,g=void 0;if(g="bottom"===d?-c.height+u.bottom:u.top,m="right"===p?-c.width+u.right:u.left,s&&f)l[f]="translate3d("+m+"px, "+g+"px, 0)",l[d]=0,l[p]=0,l.willChange="transform";else{var v="bottom"===d?-1:1,b="right"===p?-1:1;l[d]=g*v,l[p]=m*b,l.willChange=d+", "+p}var y={"x-placement":e.placement};return e.attributes=Q({},y,e.attributes),e.styles=Q({},l,e.styles),e.arrowStyles=Q({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(e){return I(e.instance.popper,e.styles),function(e,t){Object.keys(t).forEach(function(n){var r=t[n];!1!==r?e.setAttribute(n,t[n]):e.removeAttribute(n)})}(e.instance.popper,e.attributes),e.arrowElement&&Object.keys(e.arrowStyles).length&&I(e.arrowElement,e.arrowStyles),e},onLoad:function(e,t,n,r,a){var i=_(0,t,e),o=E(n.placement,i,t,e,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return t.setAttribute("x-placement",o),I(t,{position:"absolute"}),n},gpuAcceleration:void 0}},J={placement:"bottom",eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:Z},ee=function(){function t(n,r){var a=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};V(this,t),this.scheduleUpdate=function(){return requestAnimationFrame(a.update)},this.update=q(this.update.bind(this)),this.options=Q({},t.Defaults,i),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=n.jquery?n[0]:n,this.popper=r.jquery?r[0]:r,this.options.modifiers={},Object.keys(Q({},t.Defaults.modifiers,i.modifiers)).forEach(function(e){a.options.modifiers[e]=Q({},t.Defaults.modifiers[e]||{},i.modifiers?i.modifiers[e]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(e){return Q({name:e},a.options.modifiers[e])}).sort(function(e,t){return e.order-t.order}),this.modifiers.forEach(function(t){t.enabled&&e(t.onLoad)&&t.onLoad(a.reference,a.popper,a.options,t,a.state)}),this.update();var o=this.options.eventsEnabled;o&&this.enableEventListeners(),this.state.eventsEnabled=o}return z(t,[{key:"update",value:function(){return function(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=_(this.state,this.popper,this.reference),e.placement=E(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.offsets.popper=k(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position="absolute",e=N(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}.call(this)}},{key:"destroy",value:function(){return function(){return this.state.isDestroyed=!0,O(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.left="",this.popper.style.position="",this.popper.style.top="",this.popper.style[x("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}.call(this)}},{key:"enableEventListeners",value:function(){return function(){this.state.eventsEnabled||(this.state=T(this.reference,this.options,this.state,this.scheduleUpdate))}.call(this)}},{key:"disableEventListeners",value:function(){return R.call(this)}}]),t}();return ee.Utils=("undefined"!=typeof window?window:t).PopperUtils,ee.placements=K,ee.Defaults=J,ee})}).call(t,function(){return this}())},function(e,t,n){
/*!
	 * is-equal-shallow <https://github.com/jonschlinkert/is-equal-shallow>
	 *
	 * Copyright (c) 2015, Jon Schlinkert.
	 * Licensed under the MIT License.
	 */
"use strict";var r=n(27);e.exports=function(e,t){if(!e&&!t)return!0;if(!e&&t||e&&!t)return!1;var n,a=0,i=0;for(n in t)if(i++,!r(t[n])||!e.hasOwnProperty(n)||e[n]!==t[n])return!1;for(n in e)a++;return a===i}},function(e,t){
/*!
	 * is-primitive <https://github.com/jonschlinkert/is-primitive>
	 *
	 * Copyright (c) 2014-2015, Jon Schlinkert.
	 * Licensed under the MIT License.
	 */
"use strict";e.exports=function(e){return null==e||"function"!=typeof e&&"object"!=typeof e}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(4),o=(r(i),n(5)),s=r(o),c=function(e,t){var n=e.component,r=void 0===n?"span":n,o=e.innerRef,s=e.children,c=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["component","innerRef","children"]),l=t.popper,u=function(e){l.setArrowNode(e),"function"==typeof o&&o(e)},d=l.getArrowStyle();if("function"==typeof s){var p={ref:u,style:d};return s({arrowProps:p,restProps:c})}var f=a({},c,{style:a({},d,c.style)});return"string"==typeof r?f.ref=u:f.innerRef=u,(0,i.createElement)(r,f,s)};c.contextTypes={popper:s.default.object.isRequired},c.propTypes={component:s.default.oneOfType([s.default.node,s.default.func]),innerRef:s.default.func,children:s.default.oneOfType([s.default.node,s.default.func])},t.default=c}])}(n(25),n(0),n(959))},function(e,t,n){"use strict";var r=!0,a="Invariant failed";t.a=function(e,t){if(!e)throw r?new Error(a):new Error(a+": "+(t||""))}},function(e,t,n){var r=n(65),a=n(157);e.exports=n(61)?function(e,t,n){return r.f(e,t,a(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){var r=n(216),a=n(157),i=n(116),o=n(122),s=n(103),c=n(460),l=Object.getOwnPropertyDescriptor;t.f=n(61)?l:function(e,t){if(e=i(e),t=o(t,!0),c)try{return l(e,t)}catch(e){}if(s(e,t))return a(!r.f.call(e,t),e[t])}},function(e,t,n){var r=n(127),a=n(79),i=n(165),o=n(145),s=n(168),c=function(e,t,n){var l,u,d,p=e&c.F,f=e&c.G,h=e&c.S,m=e&c.P,g=e&c.B,v=e&c.W,b=f?a:a[t]||(a[t]={}),y=b.prototype,E=f?r:h?r[t]:(r[t]||{}).prototype;for(l in f&&(n=t),n)(u=!p&&E&&void 0!==E[l])&&s(b,l)||(d=u?E[l]:n[l],b[l]=f&&"function"!=typeof E[l]?n[l]:g&&u?i(d,r):v&&E[l]==d?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(d):m&&"function"==typeof d?i(Function.call,d):d,m&&((b.virtual||(b.virtual={}))[l]=d,e&c.R&&y&&!y[l]&&o(y,l,d)))};c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,e.exports=c},function(e,t,n){var r=n(365)("wks"),a=n(258),i=n(127).Symbol,o="function"==typeof i;(e.exports=function(e){return r[e]||(r[e]=o&&i[e]||(o?i:a)("Symbol."+e))}).store=r},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t,n){"use strict";var r=n(19),a=n.n(r),i=n(21),o=n.n(i),s=n(4),c=n.n(s),l=n(5),u=n.n(l),d=n(6),p=n.n(d),f=n(7),h=n.n(f),m=n(1),g=n.n(m),v=n(8),b=n.n(v),y=n(2),E=n.n(y),_=n(0),w=n.n(_),S=function(e){function t(e){var n;return c()(this,t),n=p()(this,h()(t).call(this,e)),E()(g()(n),"dismissableRef",w.a.createRef()),E()(g()(n),"attachRef",function(e){n.dismissableRef.current=e,n.props.innerRef&&(n.props.innerRef.current=e)}),n.handleClick=n.handleClick.bind(g()(n)),n.timer=null,n}return b()(t,e),u()(t,[{key:"componentDidMount",value:function(){var e=this;this.timer=setTimeout(function(){["click","touch"].forEach(function(t){return window.addEventListener(t,e.handleClick)})})}},{key:"componentWillUnmount",value:function(){var e=this;["click","touch"].forEach(function(t){return window.removeEventListener(t,e.handleClick)}),window.clearTimeout(this.timer)}},{key:"handleClick",value:function(e){var t=e.target;this.dismissableRef.current&&!this.dismissableRef.current.contains(t)&&this.props.dismissCallback()}},{key:"render",value:function(){var e=this.props,t=e.styleName,n=e.className,r=e.children,i=(e.innerRef,e.dismissCallback,o()(e,["styleName","className","children","innerRef","dismissCallback"]));return w.a.createElement("div",a()({},i,{className:t||n,ref:this.attachRef}),r)}}]),t}(w.a.Component);t.a=S},function(e,t){e.exports="/assets/content_no_results-1d853157ce1b5ce6d2bbdb914e228f78f9b63482541cfa3fc91c726e7ca08151.svg"},function(e,n,r){"use strict";r.d(n,"a",function(){return E});var a=r(4),i=r.n(a),o=r(5),s=r.n(o),c=r(6),l=r.n(c),u=r(7),d=r.n(u),p=r(8),f=r.n(p),h=r(0),m=r.n(h),g=r(15),v=r.n(g),b=r(10),y=r(132),E=function(e){function n(){return i()(this,n),l()(this,d()(n).apply(this,arguments))}return f()(n,e),s()(n,[{key:"render",value:function(){var e=this.props,n=e.skipped,r=e.isCurrentUser,a=e.mediaThumbnailSrc,i=e.questionType,o=v()("VideoThumbnail--overlay d-f ai-c jc-c",{"VideoThumbnail--overlayNoThumbnail":"audio_recording"===i});return n?m.a.createElement(y.a,{isCurrentUser:r}):m.a.createElement("div",{className:"VideoThumbnail"},"audio_recording"===i&&m.a.createElement("div",{className:"VideoThumbnail--no-thumbnail"}),"audio_recording"!==i&&m.a.createElement("img",{className:"VideoThumbnail--image",src:a,alt:t("questions.question.video_response.thumbnail")}),m.a.createElement("div",{className:o},m.a.createElement(b.a,{name:"play"})))}}]),n}(m.a.Component)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getEmptyImage=t.NativeTypes=void 0,t.default=function(e){return new r.default(e)};var r=o(n(979)),a=o(n(1022)),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(388));function o(e){return e&&e.__esModule?e:{default:e}}t.NativeTypes=i,t.getEmptyImage=a.default},function(e,t,n){"use strict";(function(e){n.d(t,"b",function(){return d});var r=n(22),a=n.n(r),i=n(18),o=n.n(i),s=n(16),c=n(17),l=n(3);function u(e){var t=Object(s.last)(e.url.split("/"));return{upload_file_name:e.filename,upload_content_type:e.mimetype,upload_file_size:e.size,upload_key:e.key,upload_source:e.client,upload_container:e.container,upload_filestack_handle:t}}function d(t){return new Promise(function(n,r){return c.a.get(l.k.IMAGES_UPLOAD_OPTIONS).then(function(a){var i;e.filepicker.setKey(a.api_key),e.filepicker.store(t,(i=a,o()({imageMax:i.image_max_dimensions,maxSize:i.max_size},Object(s.pick)(i,["policy","signature","services","extensions","path","container"]))),function(e){return n(u(e))},r)})})}function p(t){return new Promise(function(n,r){e.filepicker.setKey(t.api_key);var i=e.filepicker.pickAndStore(o()({},Object(s.pick)(t,["policy","signature","services","extensions"]),{imageMax:t.image_max_dimensions,maxSize:t.max_size}),Object(s.pick)(t,["path","container"]),function(e){var t=a()(e,1)[0];n(t)},function(e){r(e),i.close()})})}function f(e){return new Promise(function(t,n){c.a.get(l.k.IMAGES_UPLOAD_OPTIONS).then(function(r){p(r).then(function(n){var r=Object(s.merge)(u(n),e);c.a.post(l.k.IMAGES,{image:r}).then(function(e){return t(e)})}).catch(n)})})}f.withoutAssociation=function(){return new Promise(function(e,t){c.a.get(l.k.IMAGES_UPLOAD_OPTIONS).then(function(n){p(n).then(function(e){return c.a.post(l.k.IMAGES_NEW_IMAGE,{image:u(e)})}).then(function(t){return e(t)}).catch(t)})})},f.updateImage=function(e){return new Promise(function(t,n){c.a.get(l.k.IMAGES_UPLOAD_OPTIONS).then(function(r){p(r).then(function(t){return c.a.put(l.k.IMAGE(e.id),{image:u(t)})}).then(t).catch(n)})})},t.a=f}).call(this,n(43))},function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function a(e){return"/"===e.charAt(0)}function i(e,t){for(var n=t,r=n+1,a=e.length;r<a;n+=1,r+=1)e[n]=e[r];e.pop()}var o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=e&&e.split("/")||[],r=t&&t.split("/")||[],o=e&&a(e),s=t&&a(t),c=o||s;if(e&&a(e)?r=n:n.length&&(r.pop(),r=r.concat(n)),!r.length)return"/";var l=void 0;if(r.length){var u=r[r.length-1];l="."===u||".."===u||""===u}else l=!1;for(var d=0,p=r.length;p>=0;p--){var f=r[p];"."===f?i(r,p):".."===f?(i(r,p),d++):d&&(i(r,p),d--)}if(!c)for(;d--;d)r.unshift("..");!c||""===r[0]||r[0]&&a(r[0])||r.unshift("");var h=r.join("/");return l&&"/"!==h.substr(-1)&&(h+="/"),h},s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var c=function e(t,n){if(t===n)return!0;if(null==t||null==n)return!1;if(Array.isArray(t))return Array.isArray(n)&&t.length===n.length&&t.every(function(t,r){return e(t,n[r])});var r=void 0===t?"undefined":s(t);if(r!==(void 0===n?"undefined":s(n)))return!1;if("object"===r){var a=t.valueOf(),i=n.valueOf();if(a!==t||i!==n)return e(a,i);var o=Object.keys(t),c=Object.keys(n);return o.length===c.length&&o.every(function(r){return e(t[r],n[r])})}return!1},l=n(101);function u(e){return"/"===e.charAt(0)?e:"/"+e}function d(e){return"/"===e.charAt(0)?e.substr(1):e}function p(e,t){return function(e,t){return new RegExp("^"+t+"(\\/|\\?|#|$)","i").test(e)}(e,t)?e.substr(t.length):e}function f(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function h(e){var t=e.pathname,n=e.search,r=e.hash,a=t||"/";return n&&"?"!==n&&(a+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(a+="#"===r.charAt(0)?r:"#"+r),a}function m(e,t,n,a){var i;"string"==typeof e?(i=function(e){var t=e||"/",n="",r="",a=t.indexOf("#");-1!==a&&(r=t.substr(a),t=t.substr(0,a));var i=t.indexOf("?");return-1!==i&&(n=t.substr(i),t=t.substr(0,i)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e)).state=t:(void 0===(i=r({},e)).pathname&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search="?"+i.search):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",void 0!==t&&void 0===i.state&&(i.state=t));try{i.pathname=decodeURI(i.pathname)}catch(e){throw e instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):e}return n&&(i.key=n),a?i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=o(i.pathname,a.pathname)):i.pathname=a.pathname:i.pathname||(i.pathname="/"),i}function g(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&c(e.state,t.state)}function v(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,a){if(null!=e){var i="function"==typeof e?e(t,n):e;"string"==typeof i?"function"==typeof r?r(i,a):a(!0):a(!1!==i)}else a(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter(function(e){return e!==r})}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach(function(e){return e.apply(void 0,n)})}}}n.d(t,"a",function(){return S}),n.d(t,"b",function(){return x}),n.d(t,"d",function(){return R}),n.d(t,"c",function(){return m}),n.d(t,"f",function(){return g}),n.d(t,"e",function(){return h});var b=!("undefined"==typeof window||!window.document||!window.document.createElement);function y(e,t){t(window.confirm(e))}var E="popstate",_="hashchange";function w(){try{return window.history.state||{}}catch(e){return{}}}function S(e){void 0===e&&(e={}),b||Object(l.a)(!1);var t,n=window.history,a=(-1===(t=window.navigator.userAgent).indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history,i=!(-1===window.navigator.userAgent.indexOf("Trident")),o=e,s=o.forceRefresh,c=void 0!==s&&s,d=o.getUserConfirmation,g=void 0===d?y:d,S=o.keyLength,k=void 0===S?6:S,C=e.basename?f(u(e.basename)):"";function N(e){var t=e||{},n=t.key,r=t.state,a=window.location,i=a.pathname+a.search+a.hash;return C&&(i=p(i,C)),m(i,r,n)}function O(){return Math.random().toString(36).substr(2,k)}var x=v();function T(e){r(H,e),H.length=n.length,x.notifyListeners(H.location,H.action)}function R(e){(function(e){void 0===e.state&&navigator.userAgent.indexOf("CriOS")})(e)||A(N(e.state))}function P(){A(N(w()))}var I=!1;function A(e){if(I)I=!1,T();else{x.confirmTransitionTo(e,"POP",g,function(t){t?T({action:"POP",location:e}):function(e){var t=H.location,n=D.indexOf(t.key);-1===n&&(n=0);var r=D.indexOf(e.key);-1===r&&(r=0);var a=n-r;a&&(I=!0,L(a))}(e)})}}var M=N(w()),D=[M.key];function j(e){return C+h(e)}function L(e){n.go(e)}var F=0;function B(e){1===(F+=e)&&1===e?(window.addEventListener(E,R),i&&window.addEventListener(_,P)):0===F&&(window.removeEventListener(E,R),i&&window.removeEventListener(_,P))}var U=!1;var H={length:n.length,action:"POP",location:M,createHref:j,push:function(e,t){var r=m(e,t,O(),H.location);x.confirmTransitionTo(r,"PUSH",g,function(e){if(e){var t=j(r),i=r.key,o=r.state;if(a)if(n.pushState({key:i,state:o},null,t),c)window.location.href=t;else{var s=D.indexOf(H.location.key),l=D.slice(0,-1===s?0:s+1);l.push(r.key),D=l,T({action:"PUSH",location:r})}else window.location.href=t}})},replace:function(e,t){var r=m(e,t,O(),H.location);x.confirmTransitionTo(r,"REPLACE",g,function(e){if(e){var t=j(r),i=r.key,o=r.state;if(a)if(n.replaceState({key:i,state:o},null,t),c)window.location.replace(t);else{var s=D.indexOf(H.location.key);-1!==s&&(D[s]=r.key),T({action:"REPLACE",location:r})}else window.location.replace(t)}})},go:L,goBack:function(){L(-1)},goForward:function(){L(1)},block:function(e){void 0===e&&(e=!1);var t=x.setPrompt(e);return U||(B(1),U=!0),function(){return U&&(U=!1,B(-1)),t()}},listen:function(e){var t=x.appendListener(e);return B(1),function(){B(-1),t()}}};return H}var k="hashchange",C={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+d(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:d,decodePath:u},slash:{encodePath:u,decodePath:u}};function N(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function O(e){var t=window.location.href.indexOf("#");window.location.replace(window.location.href.slice(0,t>=0?t:0)+"#"+e)}function x(e){void 0===e&&(e={}),b||Object(l.a)(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),a=n.getUserConfirmation,i=void 0===a?y:a,o=n.hashType,s=void 0===o?"slash":o,c=e.basename?f(u(e.basename)):"",d=C[s],E=d.encodePath,_=d.decodePath;function w(){var e=_(N());return c&&(e=p(e,c)),m(e)}var S=v();function x(e){r(U,e),U.length=t.length,S.notifyListeners(U.location,U.action)}var T=!1,R=null;function P(){var e=N(),t=E(e);if(e!==t)O(t);else{var n=w(),r=U.location;if(!T&&g(r,n))return;if(R===h(n))return;R=null,function(e){if(T)T=!1,x();else{S.confirmTransitionTo(e,"POP",i,function(t){t?x({action:"POP",location:e}):function(e){var t=U.location,n=D.lastIndexOf(h(t));-1===n&&(n=0);var r=D.lastIndexOf(h(e));-1===r&&(r=0);var a=n-r;a&&(T=!0,j(a))}(e)})}}(n)}}var I=N(),A=E(I);I!==A&&O(A);var M=w(),D=[h(M)];function j(e){t.go(e)}var L=0;function F(e){1===(L+=e)&&1===e?window.addEventListener(k,P):0===L&&window.removeEventListener(k,P)}var B=!1;var U={length:t.length,action:"POP",location:M,createHref:function(e){return"#"+E(c+h(e))},push:function(e,t){var n=m(e,void 0,void 0,U.location);S.confirmTransitionTo(n,"PUSH",i,function(e){if(e){var t=h(n),r=E(c+t);if(N()!==r){R=t,function(e){window.location.hash=e}(r);var a=D.lastIndexOf(h(U.location)),i=D.slice(0,-1===a?0:a+1);i.push(t),D=i,x({action:"PUSH",location:n})}else x()}})},replace:function(e,t){var n=m(e,void 0,void 0,U.location);S.confirmTransitionTo(n,"REPLACE",i,function(e){if(e){var t=h(n),r=E(c+t);N()!==r&&(R=t,O(r));var a=D.indexOf(h(U.location));-1!==a&&(D[a]=t),x({action:"REPLACE",location:n})}})},go:j,goBack:function(){j(-1)},goForward:function(){j(1)},block:function(e){void 0===e&&(e=!1);var t=S.setPrompt(e);return B||(F(1),B=!0),function(){return B&&(B=!1,F(-1)),t()}},listen:function(e){var t=S.appendListener(e);return F(1),function(){F(-1),t()}}};return U}function T(e,t,n){return Math.min(Math.max(e,t),n)}function R(e){void 0===e&&(e={});var t=e,n=t.getUserConfirmation,a=t.initialEntries,i=void 0===a?["/"]:a,o=t.initialIndex,s=void 0===o?0:o,c=t.keyLength,l=void 0===c?6:c,u=v();function d(e){r(E,e),E.length=E.entries.length,u.notifyListeners(E.location,E.action)}function p(){return Math.random().toString(36).substr(2,l)}var f=T(s,0,i.length-1),g=i.map(function(e){return m(e,void 0,"string"==typeof e?p():e.key||p())}),b=h;function y(e){var t=T(E.index+e,0,E.entries.length-1),r=E.entries[t];u.confirmTransitionTo(r,"POP",n,function(e){e?d({action:"POP",location:r,index:t}):d()})}var E={length:g.length,action:"POP",location:g[f],index:f,entries:g,createHref:b,push:function(e,t){var r=m(e,t,p(),E.location);u.confirmTransitionTo(r,"PUSH",n,function(e){if(e){var t=E.index+1,n=E.entries.slice(0);n.length>t?n.splice(t,n.length-t,r):n.push(r),d({action:"PUSH",location:r,index:t,entries:n})}})},replace:function(e,t){var r=m(e,t,p(),E.location);u.confirmTransitionTo(r,"REPLACE",n,function(e){e&&(E.entries[E.index]=r,d({action:"REPLACE",location:r}))})},go:y,goBack:function(){y(-1)},goForward:function(){y(1)},canGo:function(e){var t=E.index+e;return t>=0&&t<E.entries.length},block:function(e){return void 0===e&&(e=!1),u.setPrompt(e)},listen:function(e){return u.appendListener(e)}};return E}},function(e,t,n){var r=n(243),a=n(133);e.exports=function(e){return r(a(e))}},function(e,t,n){var r=n(166),a=n(490),i=n(359),o=Object.defineProperty;t.f=n(128)?Object.defineProperty:function(e,t,n){if(r(e),t=i(t,!0),r(n),a)try{return o(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),o=n(11),s=(r=o)&&r.__esModule?r:{default:r};var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),a(t,[{key:"componentWillMount",value:function(){this.context.setCanRefine&&this.context.setCanRefine(this.props.canRefine)}},{key:"componentWillReceiveProps",value:function(e){this.context.setCanRefine&&this.props.canRefine!==e.canRefine&&this.context.setCanRefine(e.canRefine)}},{key:"render",value:function(){return this.props.children}}]),t}();c.propTypes={children:s.default.node.isRequired,canRefine:s.default.bool.isRequired},c.contextTypes={setCanRefine:s.default.func},t.default=c},function(e,t,n){var r=n(1254)(n(621));e.exports=r},function(e,t,n){var r=n(299);e.exports=function(e,t,n){var a=null==e?void 0:r(e,t);return void 0===a?n:a}},function(e,t,n){var r=n(45);e.exports=function(e,t){if(!r(e))return e;var n,a;if(t&&"function"==typeof(n=e.toString)&&!r(a=n.call(e)))return a;if("function"==typeof(n=e.valueOf)&&!r(a=n.call(e)))return a;if(!t&&"function"==typeof(n=e.toString)&&!r(a=n.call(e)))return a;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){var r=n(104);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,a){return e.call(t,n,r,a)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){var r=n(123),a=n(243),i=n(72),o=n(66),s=n(462);e.exports=function(e,t){var n=1==e,c=2==e,l=3==e,u=4==e,d=6==e,p=5==e||d,f=t||s;return function(t,s,h){for(var m,g,v=i(t),b=a(v),y=r(s,h,3),E=o(b.length),_=0,w=n?f(t,E):c?f(t,0):void 0;E>_;_++)if((p||_ in b)&&(g=y(m=b[_],_,v),e))if(n)w[_]=g;else if(g)switch(e){case 3:return!0;case 5:return m;case 6:return _;case 2:w.push(m)}else if(u)return!1;return d?-1:l||u?u:w}}},function(e,t,n){"use strict";var r=n(50);e.exports=function(e,t){return!!e&&r(function(){t?e.call(null,function(){},1):e.call(null)})}},function(e,t,n){var r=n(26),a=n(141),i=n(50);e.exports=function(e,t){var n=(a.Object||{})[e]||Object[e],o={};o[e]=t(n),r(r.S+r.F*i(function(){n(1)}),"Object",o)}},function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,n){e.exports=!n(167)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,n){var r=n(169),a=n(513),i=n(377);e.exports=function(e,t){return i(a(e,t,r),e+"")}},function(e,t,n){var r=n(1242),a=n(1245),i=n(169),o=n(60),s=n(1247);e.exports=function(e){return"function"==typeof e?e:null==e?i:"object"==typeof e?o(e)?a(e[0],e[1]):r(e):s(e)}},function(e,t,n){var r=n(1307),a=n(577)(function(e,t){return null==e?{}:r(e,t)});e.exports=a},function(e,n,r){"use strict";var a=r(0),i=r.n(a);n.a=function(e){var n=e.isCurrentUser;return i.a.createElement("em",null,n?t("questions.question.skipped.learner_skipped"):t("questions.question.skipped.grader_skipped"))}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){var r=n(103),a=n(72),i=n(343)("IE_PROTO"),o=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=a(e),r(e,i)?e[i]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?o:null}},function(e,t,n){"use strict";if(n(61)){var r=n(142),a=n(44),i=n(50),o=n(26),s=n(255),c=n(357),l=n(123),u=n(180),d=n(157),p=n(102),f=n(179),h=n(134),m=n(66),g=n(486),v=n(175),b=n(122),y=n(103),E=n(215),_=n(45),w=n(72),S=n(338),k=n(161),C=n(135),N=n(164).f,O=n(340),x=n(158),T=n(59),R=n(124),P=n(246),I=n(217),A=n(341),M=n(176),D=n(245),j=n(178),L=n(337),F=n(461),B=n(65),U=n(105),H=B.f,q=U.f,G=a.RangeError,W=a.TypeError,V=a.Uint8Array,z=Array.prototype,Y=c.ArrayBuffer,Q=c.DataView,K=R(0),X=R(2),$=R(3),Z=R(4),J=R(5),ee=R(6),te=P(!0),ne=P(!1),re=A.values,ae=A.keys,ie=A.entries,oe=z.lastIndexOf,se=z.reduce,ce=z.reduceRight,le=z.join,ue=z.sort,de=z.slice,pe=z.toString,fe=z.toLocaleString,he=T("iterator"),me=T("toStringTag"),ge=x("typed_constructor"),ve=x("def_constructor"),be=s.CONSTR,ye=s.TYPED,Ee=s.VIEW,_e=R(1,function(e,t){return Ne(I(e,e[ve]),t)}),we=i(function(){return 1===new V(new Uint16Array([1]).buffer)[0]}),Se=!!V&&!!V.prototype.set&&i(function(){new V(1).set({})}),ke=function(e,t){var n=h(e);if(n<0||n%t)throw G("Wrong offset!");return n},Ce=function(e){if(_(e)&&ye in e)return e;throw W(e+" is not a typed array!")},Ne=function(e,t){if(!(_(e)&&ge in e))throw W("It is not a typed array constructor!");return new e(t)},Oe=function(e,t){return xe(I(e,e[ve]),t)},xe=function(e,t){for(var n=0,r=t.length,a=Ne(e,r);r>n;)a[n]=t[n++];return a},Te=function(e,t,n){H(e,t,{get:function(){return this._d[n]}})},Re=function(e){var t,n,r,a,i,o,s=w(e),c=arguments.length,u=c>1?arguments[1]:void 0,d=void 0!==u,p=O(s);if(null!=p&&!S(p)){for(o=p.call(s),r=[],t=0;!(i=o.next()).done;t++)r.push(i.value);s=r}for(d&&c>2&&(u=l(u,arguments[2],2)),t=0,n=m(s.length),a=Ne(this,n);n>t;t++)a[t]=d?u(s[t],t):s[t];return a},Pe=function(){for(var e=0,t=arguments.length,n=Ne(this,t);t>e;)n[e]=arguments[e++];return n},Ie=!!V&&i(function(){fe.call(new V(1))}),Ae=function(){return fe.apply(Ie?de.call(Ce(this)):Ce(this),arguments)},Me={copyWithin:function(e,t){return F.call(Ce(this),e,t,arguments.length>2?arguments[2]:void 0)},every:function(e){return Z(Ce(this),e,arguments.length>1?arguments[1]:void 0)},fill:function(e){return L.apply(Ce(this),arguments)},filter:function(e){return Oe(this,X(Ce(this),e,arguments.length>1?arguments[1]:void 0))},find:function(e){return J(Ce(this),e,arguments.length>1?arguments[1]:void 0)},findIndex:function(e){return ee(Ce(this),e,arguments.length>1?arguments[1]:void 0)},forEach:function(e){K(Ce(this),e,arguments.length>1?arguments[1]:void 0)},indexOf:function(e){return ne(Ce(this),e,arguments.length>1?arguments[1]:void 0)},includes:function(e){return te(Ce(this),e,arguments.length>1?arguments[1]:void 0)},join:function(e){return le.apply(Ce(this),arguments)},lastIndexOf:function(e){return oe.apply(Ce(this),arguments)},map:function(e){return _e(Ce(this),e,arguments.length>1?arguments[1]:void 0)},reduce:function(e){return se.apply(Ce(this),arguments)},reduceRight:function(e){return ce.apply(Ce(this),arguments)},reverse:function(){for(var e,t=Ce(this).length,n=Math.floor(t/2),r=0;r<n;)e=this[r],this[r++]=this[--t],this[t]=e;return this},some:function(e){return $(Ce(this),e,arguments.length>1?arguments[1]:void 0)},sort:function(e){return ue.call(Ce(this),e)},subarray:function(e,t){var n=Ce(this),r=n.length,a=v(e,r);return new(I(n,n[ve]))(n.buffer,n.byteOffset+a*n.BYTES_PER_ELEMENT,m((void 0===t?r:v(t,r))-a))}},De=function(e,t){return Oe(this,de.call(Ce(this),e,t))},je=function(e){Ce(this);var t=ke(arguments[1],1),n=this.length,r=w(e),a=m(r.length),i=0;if(a+t>n)throw G("Wrong length!");for(;i<a;)this[t+i]=r[i++]},Le={entries:function(){return ie.call(Ce(this))},keys:function(){return ae.call(Ce(this))},values:function(){return re.call(Ce(this))}},Fe=function(e,t){return _(e)&&e[ye]&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},Be=function(e,t){return Fe(e,t=b(t,!0))?d(2,e[t]):q(e,t)},Ue=function(e,t,n){return!(Fe(e,t=b(t,!0))&&_(n)&&y(n,"value"))||y(n,"get")||y(n,"set")||n.configurable||y(n,"writable")&&!n.writable||y(n,"enumerable")&&!n.enumerable?H(e,t,n):(e[t]=n.value,e)};be||(U.f=Be,B.f=Ue),o(o.S+o.F*!be,"Object",{getOwnPropertyDescriptor:Be,defineProperty:Ue}),i(function(){pe.call({})})&&(pe=fe=function(){return le.call(this)});var He=f({},Me);f(He,Le),p(He,he,Le.values),f(He,{slice:De,set:je,constructor:function(){},toString:pe,toLocaleString:Ae}),Te(He,"buffer","b"),Te(He,"byteOffset","o"),Te(He,"byteLength","l"),Te(He,"length","e"),H(He,me,{get:function(){return this[ye]}}),e.exports=function(e,t,n,c){var l=e+((c=!!c)?"Clamped":"")+"Array",d="get"+e,f="set"+e,h=a[l],v=h||{},b=h&&C(h),y=!h||!s.ABV,w={},S=h&&h.prototype,O=function(e,n){H(e,n,{get:function(){return function(e,n){var r=e._d;return r.v[d](n*t+r.o,we)}(this,n)},set:function(e){return function(e,n,r){var a=e._d;c&&(r=(r=Math.round(r))<0?0:r>255?255:255&r),a.v[f](n*t+a.o,r,we)}(this,n,e)},enumerable:!0})};y?(h=n(function(e,n,r,a){u(e,h,l,"_d");var i,o,s,c,d=0,f=0;if(_(n)){if(!(n instanceof Y||"ArrayBuffer"==(c=E(n))||"SharedArrayBuffer"==c))return ye in n?xe(h,n):Re.call(h,n);i=n,f=ke(r,t);var v=n.byteLength;if(void 0===a){if(v%t)throw G("Wrong length!");if((o=v-f)<0)throw G("Wrong length!")}else if((o=m(a)*t)+f>v)throw G("Wrong length!");s=o/t}else s=g(n),i=new Y(o=s*t);for(p(e,"_d",{b:i,o:f,l:o,e:s,v:new Q(i)});d<s;)O(e,d++)}),S=h.prototype=k(He),p(S,"constructor",h)):i(function(){h(1)})&&i(function(){new h(-1)})&&D(function(e){new h,new h(null),new h(1.5),new h(e)},!0)||(h=n(function(e,n,r,a){var i;return u(e,h,l),_(n)?n instanceof Y||"ArrayBuffer"==(i=E(n))||"SharedArrayBuffer"==i?void 0!==a?new v(n,ke(r,t),a):void 0!==r?new v(n,ke(r,t)):new v(n):ye in n?xe(h,n):Re.call(h,n):new v(g(n))}),K(b!==Function.prototype?N(v).concat(N(b)):N(v),function(e){e in h||p(h,e,v[e])}),h.prototype=S,r||(S.constructor=h));var x=S[he],T=!!x&&("values"==x.name||null==x.name),R=Le.values;p(h,ge,!0),p(S,ye,l),p(S,Ee,!0),p(S,ve,h),(c?new h(1)[me]==l:me in S)||H(S,me,{get:function(){return l}}),w[l]=h,o(o.G+o.W+o.F*(h!=v),w),o(o.S,l,{BYTES_PER_ELEMENT:t}),o(o.S+o.F*i(function(){v.of.call(h,1)}),l,{from:Re,of:Pe}),"BYTES_PER_ELEMENT"in S||p(S,"BYTES_PER_ELEMENT",t),o(o.P,l,Me),j(l),o(o.P+o.F*Se,l,{set:je}),o(o.P+o.F*!T,l,Le),r||S.toString==pe||(S.toString=pe),o(o.P+o.F*i(function(){new h(1).slice()}),l,{slice:De}),o(o.P+o.F*(i(function(){return[1,2].toLocaleString()!=new h([1,2]).toLocaleString()})||!i(function(){S.toLocaleString.call([1,2])})),l,{toLocaleString:Ae}),M[l]=T?x:R,r||T||p(S,he,R)}}else e.exports=function(){}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){var r=n(184),a=n(379);e.exports=function(e){return null!=e&&a(e.length)&&!r(e)}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,a=Array(r);++n<r;)a[n]=t(e[n],n,e);return a}},function(e,t,n){var r,a,i;
/*!
	autosize 4.0.2
	license: MIT
	http://www.jacklmoore.com/autosize
*/a=[e,t],void 0===(i="function"==typeof(r=function(e,t){"use strict";var n,r,a="function"==typeof Map?new Map:(n=[],r=[],{has:function(e){return n.indexOf(e)>-1},get:function(e){return r[n.indexOf(e)]},set:function(e,t){-1===n.indexOf(e)&&(n.push(e),r.push(t))},delete:function(e){var t=n.indexOf(e);t>-1&&(n.splice(t,1),r.splice(t,1))}}),i=function(e){return new Event(e,{bubbles:!0})};try{new Event("test")}catch(e){i=function(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!1),t}}function o(e){if(e&&e.nodeName&&"TEXTAREA"===e.nodeName&&!a.has(e)){var t=null,n=null,r=null,o=function(){e.clientWidth!==n&&d()},s=function(t){window.removeEventListener("resize",o,!1),e.removeEventListener("input",d,!1),e.removeEventListener("keyup",d,!1),e.removeEventListener("autosize:destroy",s,!1),e.removeEventListener("autosize:update",d,!1),Object.keys(t).forEach(function(n){e.style[n]=t[n]}),a.delete(e)}.bind(e,{height:e.style.height,resize:e.style.resize,overflowY:e.style.overflowY,overflowX:e.style.overflowX,wordWrap:e.style.wordWrap});e.addEventListener("autosize:destroy",s,!1),"onpropertychange"in e&&"oninput"in e&&e.addEventListener("keyup",d,!1),window.addEventListener("resize",o,!1),e.addEventListener("input",d,!1),e.addEventListener("autosize:update",d,!1),e.style.overflowX="hidden",e.style.wordWrap="break-word",a.set(e,{destroy:s,update:d}),"vertical"===(c=window.getComputedStyle(e,null)).resize?e.style.resize="none":"both"===c.resize&&(e.style.resize="horizontal"),t="content-box"===c.boxSizing?-(parseFloat(c.paddingTop)+parseFloat(c.paddingBottom)):parseFloat(c.borderTopWidth)+parseFloat(c.borderBottomWidth),isNaN(t)&&(t=0),d()}var c;function l(t){var n=e.style.width;e.style.width="0px",e.offsetWidth,e.style.width=n,e.style.overflowY=t}function u(){if(0!==e.scrollHeight){var r=function(e){for(var t=[];e&&e.parentNode&&e.parentNode instanceof Element;)e.parentNode.scrollTop&&t.push({node:e.parentNode,scrollTop:e.parentNode.scrollTop}),e=e.parentNode;return t}(e),a=document.documentElement&&document.documentElement.scrollTop;e.style.height="",e.style.height=e.scrollHeight+t+"px",n=e.clientWidth,r.forEach(function(e){e.node.scrollTop=e.scrollTop}),a&&(document.documentElement.scrollTop=a)}}function d(){u();var t=Math.round(parseFloat(e.style.height)),n=window.getComputedStyle(e,null),a="content-box"===n.boxSizing?Math.round(parseFloat(n.height)):e.offsetHeight;if(a<t?"hidden"===n.overflowY&&(l("scroll"),u(),a="content-box"===n.boxSizing?Math.round(parseFloat(window.getComputedStyle(e,null).height)):e.offsetHeight):"hidden"!==n.overflowY&&(l("hidden"),u(),a="content-box"===n.boxSizing?Math.round(parseFloat(window.getComputedStyle(e,null).height)):e.offsetHeight),r!==a){r=a;var o=i("autosize:resized");try{e.dispatchEvent(o)}catch(e){}}}}function s(e){var t=a.get(e);t&&t.destroy()}function c(e){var t=a.get(e);t&&t.update()}var l=null;"undefined"==typeof window||"function"!=typeof window.getComputedStyle?((l=function(e){return e}).destroy=function(e){return e},l.update=function(e){return e}):((l=function(e,t){return e&&Array.prototype.forEach.call(e.length?e:[e],function(e){return o(e)}),e}).destroy=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],s),e},l.update=function(e){return e&&Array.prototype.forEach.call(e.length?e:[e],c),e}),t.default=l,e.exports=t.default})?r.apply(t,a):r)||(e.exports=i)},function(e,t){var n=e.exports={version:"2.6.9"};"number"==typeof __e&&(__e=n)},function(e,t){e.exports=!1},function(e,t,n){var r=n(158)("meta"),a=n(45),i=n(103),o=n(65).f,s=0,c=Object.isExtensible||function(){return!0},l=!n(50)(function(){return c(Object.preventExtensions({}))}),u=function(e){o(e,r,{value:{i:"O"+ ++s,w:{}}})},d=e.exports={KEY:r,NEED:!1,fastKey:function(e,t){if(!a(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!i(e,r)){if(!c(e))return"F";if(!t)return"E";u(e)}return e[r].i},getWeak:function(e,t){if(!i(e,r)){if(!c(e))return!0;if(!t)return!1;u(e)}return e[r].w},onFreeze:function(e){return l&&d.NEED&&c(e)&&!i(e,r)&&u(e),e}}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){var r=n(117),a=n(218);e.exports=n(128)?function(e,t,n){return r.f(e,t,a(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){var r=n(185),a=n(982),i=n(983),o="[object Null]",s="[object Undefined]",c=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?s:o:c&&c in Object(e)?a(e):i(e)}},function(e,t,n){var r=n(139),a=n(130),i=n(617),o=n(60);e.exports=function(e,t){return(o(e)?r:i)(e,a(t,3))}},function(e,t,n){"use strict";e.exports=n(964).default},function(e,t){var n=1e3,r=60*n,a=60*r,i=24*a,o=7*i,s=365.25*i;function c(e,t,n,r){var a=t>=1.5*n;return Math.round(e/n)+" "+r+(a?"s":"")}e.exports=function(e,t){t=t||{};var l=typeof e;if("string"===l&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^((?:\d+)?\-?\d?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!t)return;var c=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return c*s;case"weeks":case"week":case"w":return c*o;case"days":case"day":case"d":return c*i;case"hours":case"hour":case"hrs":case"hr":case"h":return c*a;case"minutes":case"minute":case"mins":case"min":case"m":return c*r;case"seconds":case"second":case"secs":case"sec":case"s":return c*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return c;default:return}}(e);if("number"===l&&!1===isNaN(e))return t.long?function(e){var t=Math.abs(e);if(t>=i)return c(e,t,i,"day");if(t>=a)return c(e,t,a,"hour");if(t>=r)return c(e,t,r,"minute");if(t>=n)return c(e,t,n,"second");return e+" ms"}(e):function(e){var t=Math.abs(e);if(t>=i)return Math.round(e/i)+"d";if(t>=a)return Math.round(e/a)+"h";if(t>=r)return Math.round(e/r)+"m";if(t>=n)return Math.round(e/n)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t){e.exports="/assets/envelope-8d0d7c8003f3ee3012db6b1a588ff802e7e3f00726be24ca7aeb7ffc5babfa9d.svg"},function(e,t,n){"use strict";n.d(t,"a",function(){return p}),n.d(t,"b",function(){return f}),n.d(t,"c",function(){return h});var r=n(18),a=n.n(r),i=n(9),o=n(25),s=n.n(o),c=n(37),l="YYYY-MM-DD",u="data-current-assignable-item",d=function(e){return Object(i.pick)(["id","type"],e)};function p(e,t){var n=t||e(),r=n.selection,o=r.content,c=r.assignees,u=n.schedule,p=u.recurring,f=u.recurringOptions,h=u.dueDate,m=u.assignDate,g=n.existingAssignments,v=n.message;return{content:Object(i.map)(d,o.data),assignees:Object(i.map)(d,c.data),schedule:a()({recurring:p},p&&{recurringOptions:f},{dueDate:h&&s()(h).format(l),assignDate:m?s()(m).format(l):m}),existingAssignments:g,message:v}}function f(){return new Promise(function(e,t){var n=document.body.getAttribute(u);if(n){var r;try{r=JSON.parse(n)}catch(e){t(e)}["id","type"].every(function(e){return Object(c.b)(r,e)&&!Object(i.isNull)(r[e])})?e(r):t(new Error("Failed to identify assignable item data"))}else t(new Error("Page does not contain assignable item"))})}function h(e){var t=Object(i.pick)(["id","type","title","name","meta"])(e);document.body.setAttribute(u,JSON.stringify(t))}},function(e,n,r){"use strict";var a=r(0),i=r.n(a),o=r(9),s=r(28),c=r(63),l=r(46),u=r(111),d=r.n(u),p=r(325),f=r(326),h=r(42);n.a=function(e){var n=e.onDismiss,r=e.onSelect;return i.a.createElement(f.a,{infinite:!0},function(e){var a=e.images,u=e.hasMore,f=e.loadMore,m=e.updateQuery,g=e.loading,v=e.query;return i.a.createElement(s.c,{wide:!0,className:"ImageLibraryPicker",onDismiss:n},i.a.createElement("div",{className:"d-f jc-sb ai-fs"},i.a.createElement(s.a,null,t("image_library.select_image")),i.a.createElement("input",{placeholder:t("image_library.search_by_name"),onChange:function(e){return m(e.target.value)},className:"NewInput NewInput--light",type:"search"})),i.a.createElement(h.a,{loading:g},!Object(o.isEmpty)(a)&&i.a.createElement(c.a,{maxHeight:480},i.a.createElement("div",{className:"ImagesGrid"},a.map(function(e){return i.a.createElement(p.a,{onClick:r,image:e,key:e.id})})),u&&i.a.createElement("button",{type:"button",className:"u-linkBtn w-fill p-16 pt-0 o-0",onClick:f},"Show More")),Object(o.isEmpty)(a)&&!!v&&i.a.createElement(l.a,null,i.a.createElement("img",{className:"mw-300 mb-32",src:d.a,alt:t("image_library.no_results")}),i.a.createElement(l.b,null,t("image_library.no_results")))))})}},function(e,t,n){"use strict";n.d(t,"a",function(){return v});var r=n(4),a=n.n(r),i=n(5),o=n.n(i),s=n(6),c=n.n(s),l=n(7),u=n.n(l),d=n(8),p=n.n(d),f=n(0),h=n.n(f),m=n(15),g=n.n(m),v=function(e){function t(){return a()(this,t),c()(this,u()(t).apply(this,arguments))}return p()(t,e),o()(t,[{key:"render",value:function(){var e=this.props,t=e.modalView,n=e.questionView,r=e.mediaShareText,a=e.mediaShareLink,i=g()("SharableRecordingLinkContainer",{"SharableRecordingLinkContainer--modalView":t}),o=g()("SharableRecordingLinkContainer-line",{"bg-gray-light":n||t});return h.a.createElement("div",{className:i},h.a.createElement("div",{className:o}),h.a.createElement("div",{className:"SharableRecordingLinkContainer-text"},r),h.a.createElement("div",{className:"mt-8"},h.a.createElement("input",{className:"SharableRecordingLinkContainer-linkInput form-control p-8",defaultValue:a,"data-behavior":"highlight_on_focus",readOnly:!0})))}}]),t}(h.a.Component)},function(e,t,n){"use strict";var r=n(0),a=n.n(r),i=n(450),o=n.n(i),s=n(11),c=n.n(s),l=n(670),u=n.n(l),d=1073741823;var p=a.a.createContext||function(e,t){var n,a,i="__create-react-context-"+u()()+"__",s=function(e){function n(){var t,n,r;return(t=e.apply(this,arguments)||this).emitter=(n=t.props.value,r=[],{on:function(e){r.push(e)},off:function(e){r=r.filter(function(t){return t!==e})},get:function(){return n},set:function(e,t){n=e,r.forEach(function(e){return e(n,t)})}}),t}o()(n,e);var r=n.prototype;return r.getChildContext=function(){var e;return(e={})[i]=this.emitter,e},r.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var n,r=this.props.value,a=e.value;((i=r)===(o=a)?0!==i||1/i==1/o:i!=i&&o!=o)?n=0:(n="function"==typeof t?t(r,a):d,0!=(n|=0)&&this.emitter.set(e.value,n))}var i,o},r.render=function(){return this.props.children},n}(r.Component);s.childContextTypes=((n={})[i]=c.a.object.isRequired,n);var l=function(t){function n(){var e;return(e=t.apply(this,arguments)||this).state={value:e.getValue()},e.onUpdate=function(t,n){0!=((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}o()(n,t);var r=n.prototype;return r.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=null==t?d:t},r.componentDidMount=function(){this.context[i]&&this.context[i].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=null==e?d:e},r.componentWillUnmount=function(){this.context[i]&&this.context[i].off(this.onUpdate)},r.getValue=function(){return this.context[i]?this.context[i].get():e},r.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(r.Component);return l.contextTypes=((a={})[i]=c.a.object,a),{Provider:s,Consumer:l}};function f(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var h=n(115),m=n(101),g=n(451),v=n.n(g);function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n(458);function y(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}var E=n(444),_=n.n(E);n.d(t,"a",function(){return x}),n.d(t,"b",function(){return S}),n.d(t,"c",function(){return M}),n.d(t,"e",function(){return O}),n.d(t,"f",function(){return D}),n.d(t,"d",function(){return w});var w=function(e){var t=p();return t.displayName=e,t}("Router"),S=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen(function(e){n._isMounted?n.setState({location:e}):n._pendingLocation=e})),n}f(t,e),t.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var n=t.prototype;return n.componentDidMount=function(){this._isMounted=!0,this._pendingLocation&&this.setState({location:this._pendingLocation})},n.componentWillUnmount=function(){this.unlisten&&this.unlisten()},n.render=function(){return a.a.createElement(w.Provider,{children:this.props.children||null,value:{history:this.props.history,location:this.state.location,match:t.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}})},t}(a.a.Component);a.a.Component;a.a.Component;var k={},C=1e4,N=0;function O(e,t){void 0===t&&(t={}),"string"==typeof t&&(t={path:t});var n=t,r=n.path,a=n.exact,i=void 0!==a&&a,o=n.strict,s=void 0!==o&&o,c=n.sensitive,l=void 0!==c&&c;return[].concat(r).reduce(function(t,n){if(!n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=k[n]||(k[n]={});if(r[e])return r[e];var a=[],i={regexp:v()(e,a,t),keys:a};return N<C&&(r[e]=i,N++),i}(n,{end:i,strict:s,sensitive:l}),a=r.regexp,o=r.keys,c=a.exec(e);if(!c)return null;var u=c[0],d=c.slice(1),p=e===u;return i&&!p?null:{path:n,url:"/"===n&&""===u?"/":u,isExact:p,params:o.reduce(function(e,t,n){return e[t.name]=d[n],e},{})}},null)}var x=function(e){function t(){return e.apply(this,arguments)||this}return f(t,e),t.prototype.render=function(){var e=this;return a.a.createElement(w.Consumer,null,function(t){t||Object(m.a)(!1);var n=e.props.location||t.location,r=b({},t,{location:n,match:e.props.computedMatch?e.props.computedMatch:e.props.path?O(n.pathname,e.props):t.match}),i=e.props,o=i.children,s=i.component,c=i.render;(Array.isArray(o)&&0===o.length&&(o=null),"function"==typeof o)&&(void 0===(o=o(r))&&(o=null));return a.a.createElement(w.Provider,{value:r},o&&!function(e){return 0===a.a.Children.count(e)}(o)?o:r.match?s?a.a.createElement(s,r):c?c(r):null:null)})},t}(a.a.Component);function T(e){return"/"===e.charAt(0)?e:"/"+e}function R(e,t){if(!e)return t;var n=T(e);return 0!==t.pathname.indexOf(n)?t:b({},t,{pathname:t.pathname.substr(n.length)})}function P(e){return"string"==typeof e?e:Object(h.e)(e)}function I(e){return function(){Object(m.a)(!1)}}function A(){}a.a.Component;var M=function(e){function t(){return e.apply(this,arguments)||this}return f(t,e),t.prototype.render=function(){var e=this;return a.a.createElement(w.Consumer,null,function(t){t||Object(m.a)(!1);var n,r,i=e.props.location||t.location;return a.a.Children.forEach(e.props.children,function(e){if(null==r&&a.a.isValidElement(e)){n=e;var o=e.props.path||e.props.from;r=o?O(i.pathname,b({},e.props,{path:o})):t.match}}),r?a.a.cloneElement(n,{location:i,computedMatch:r}):null})},t}(a.a.Component);function D(e){var t="withRouter("+(e.displayName||e.name)+")",n=function(t){var n=t.wrappedComponentRef,r=y(t,["wrappedComponentRef"]);return a.a.createElement(w.Consumer,null,function(t){return t||Object(m.a)(!1),a.a.createElement(e,b({},r,t,{ref:n}))})};return n.displayName=t,n.WrappedComponent=e,_()(n,e)}},function(e,t,n){"use strict";function r(e,t){if(e.matches)return e.matches(t);for(var n=(e.ownerDocument||document).querySelectorAll(t),r=n.length;--r>=0&&n.item(r)!==e;);return r>-1}n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o});var a="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function i(e){var t=function(e){return arguments.length>1&&void 0!==arguments[1]&&!arguments[1]&&r(e,a)?e:e.querySelector(a)}(e,!(arguments.length>1&&void 0!==arguments[1])||arguments[1]);t&&t.focus()}function o(e){var t=function(e){if(arguments.length>1&&void 0!==arguments[1]&&!arguments[1]&&r(e,a))return e;var t=e.querySelectorAll(a);return t[t.length-1]}(e,!(arguments.length>1&&void 0!==arguments[1])||arguments[1]);t&&t.focus()}},function(e,t,n){var r=n(85).isFinite;e.exports=function(e){return"number"==typeof e&&r(e)}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t,n){var r=n(59)("unscopables"),a=Array.prototype;null==a[r]&&n(102)(a,r,{}),e.exports=function(e){a[r][e]=!0}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,n){var r=n(48),a=n(465),i=n(344),o=n(343)("IE_PROTO"),s=function(){},c=function(){var e,t=n(336)("iframe"),r=i.length;for(t.style.display="none",n(467).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),c=e.F;r--;)delete c.prototype[i[r]];return c()};e.exports=Object.create||function(e,t){var n;return null!==e?(s.prototype=r(e),n=new s,s.prototype=null,n[o]=e):n=c(),void 0===t?n:a(n,t)}},function(e,t,n){var r=n(466),a=n(344);e.exports=Object.keys||function(e){return r(e,a)}},function(e,t,n){var r=n(45);e.exports=function(e,t){if(!r(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},function(e,t,n){var r=n(466),a=n(344).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,a)}},function(e,t,n){var r=n(489);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,a){return e.call(t,n,r,a)}}return function(){return e.apply(t,arguments)}}},function(e,t,n){var r=n(137);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t){e.exports=function(e){return e}},function(e,t,n){var r=n(981),a=n(986);e.exports=function(e,t){var n=a(e,t);return r(n)?n:void 0}},function(e,t,n){var r=n(1075),a=n(1080);e.exports=function(e,t){var n=a(e,t);return r(n)?n:void 0}},function(e,t,n){var r=n(189),a=n(1076),i=n(1077),o="[object Null]",s="[object Undefined]",c=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?s:o:c&&c in Object(e)?a(e):i(e)}},function(e,t,n){"use strict";var r=n(1237),a=n(429),i=n(625);function o(e,t,n){return new r(e,t,n)}o.version=n(643),o.AlgoliaSearchHelper=r,o.SearchParameters=a,o.SearchResults=i,o.url=n(640),e.exports=o},function(e,t,n){"use strict";var r=n(202);n.d(t,"a",function(){return r.a})},function(e,t,n){var r=n(134),a=Math.max,i=Math.min;e.exports=function(e,t){return(e=r(e))<0?a(e+t,0):i(e,t)}},function(e,t){e.exports={}},function(e,t,n){var r=n(65).f,a=n(103),i=n(59)("toStringTag");e.exports=function(e,t,n){e&&!a(e=n?e:e.prototype,i)&&r(e,i,{configurable:!0,value:t})}},function(e,t,n){"use strict";var r=n(44),a=n(65),i=n(61),o=n(59)("species");e.exports=function(e){var t=r[e];i&&t&&!t[o]&&a.f(t,o,{configurable:!0,get:function(){return this}})}},function(e,t,n){var r=n(97);e.exports=function(e,t,n){for(var a in t)r(e,a,t[a],n);return e}},function(e,t){e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t,n){var r=n(26),a=n(133),i=n(50),o=n(349),s="["+o+"]",c=RegExp("^"+s+s+"*"),l=RegExp(s+s+"*$"),u=function(e,t,n){var a={},s=i(function(){return!!o[e]()||"​"!="​"[e]()}),c=a[e]=s?t(d):o[e];n&&(a[n]=c),r(r.P+r.F*s,"String",a)},d=u.trim=function(e,t){return e=String(a(e)),1&t&&(e=e.replace(c,"")),2&t&&(e=e.replace(l,"")),e};e.exports=u},function(e,t,n){var r=n(360),a=n(362);e.exports=function(e){return r(a(e))}},function(e,t,n){var r=n(362);e.exports=function(e){return Object(r(e))}},function(e,t,n){var r=n(146),a=n(99),i="[object AsyncFunction]",o="[object Function]",s="[object GeneratorFunction]",c="[object Proxy]";e.exports=function(e){if(!a(e))return!1;var t=r(e);return t==o||t==s||t==i||t==c}},function(e,t,n){var r=n(85).Symbol;e.exports=r},function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},function(e,t){e.exports=function(e){return function(t){return e(t)}}},function(e,t,n){var r=n(138),a=n(108);e.exports=function(e){return a(e)&&r(e)}},function(e,t,n){var r=n(93).Symbol;e.exports=r},function(e,t,n){var r=n(408),a=n(230);e.exports=function(e,t,n,i){var o=!n;n||(n={});for(var s=-1,c=t.length;++s<c;){var l=t[s],u=i?i(n[l],e[l],l,n,e):void 0;void 0===u&&(u=e[l]),o?a(n,l,u):r(n,l,u)}return n}},function(e,t,n){var r=n(60),a=n(412),i=n(1171),o=n(413);e.exports=function(e,t){return r(e)?e:a(e,t)?[e]:i(o(e))}},function(e,t,n){var r=n(232),a=1/0;e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-a?"-0":t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultPropsDecorator=t.defaultStyle=t.EnhancerProvider=t.createSubstyle=void 0;var r=s(n(580)),a=s(n(1181)),i=s(n(1183)),o=s(n(581));function s(e){return e&&e.__esModule?e:{default:e}}t.createSubstyle=r.default,t.EnhancerProvider=i.default,t.defaultStyle=a.default,t.defaultPropsDecorator=o.default,t.default=(0,a.default)()},function(e,t,n){var r=n(407),a=n(304),i=n(612),o=n(60);e.exports=function(e,t){return(o(e)?r:a)(e,i(t))}},function(e,t){var n="__lodash_placeholder__";e.exports=function(e,t){for(var r=-1,a=e.length,i=0,o=[];++r<a;){var s=e[r];s!==t&&s!==n||(e[r]=n,o[i++]=r)}return o}},function(e,t){var n=Object.prototype.hasOwnProperty,r=Object.prototype.toString;e.exports=function(e,t,a){if("[object Function]"!==r.call(t))throw new TypeError("iterator must be a function");var i=e.length;if(i===+i)for(var o=0;o<i;o++)t.call(a,e[o],o,e);else for(var s in e)n.call(e,s)&&t.call(a,e[s],s,e)}},function(e,t){e.exports=function(e){return JSON.parse(JSON.stringify(e))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defer=void 0;var r=i(n(94)),a=i(n(89));function i(e){return e&&e.__esModule?e:{default:e}}t.shallowEqual=function(e,t){if(e===t)return!0;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var a=Object.prototype.hasOwnProperty,i=0;i<n.length;i++)if(!a.call(t,n[i])||e[n[i]]!==t[n[i]])return!1;return!0},t.isSpecialClick=function(e){var t=1===e.button;return Boolean(t||e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)},t.capitalize=function(e){return 0===e.length?"":""+e[0].toUpperCase()+e.slice(1)},t.assertFacetDefined=function(e,t,n){var r=e.isConjunctiveFacet(n)||e.isDisjunctiveFacet(n),a=Boolean(t.getFacetByName(n));t.nbHits>0&&r&&!a&&console.warn('A component requested values for facet "'+n+'", but no facet values were retrieved from the API. This means that you should add the attribute "'+n+'" to the list of attributes for faceting in your index settings.')},t.getDisplayName=function(e){return e.displayName||e.name||"UnknownComponent"},t.removeEmptyKey=function e(t){Object.keys(t).forEach(function(n){var i=t[n];(0,a.default)(i)&&(0,r.default)(i)?delete t[n]:(0,r.default)(i)&&e(i)});return t};var o=Promise.resolve();t.defer=function(e){o.then(e)}},function(e,t,n){var r=n(415);e.exports=function(e,t){return r(e,t)}},function(e,t,n){"use strict";e.exports=n(915)},function(e,t,n){"use strict";(function(e){var r=n(22),a=n.n(r),i=n(0);t.a=function(){var t=Object(i.useState)(),n=a()(t,2),r=n[0],o=n[1],s=Object(i.useRef)(null);return Object(i.useEffect)(function(){r?(e.autosize(r),s.current=r):s.current&&(e.autosize.destroy(s.current),s.current=null)},[r]),o}}).call(this,n(43))},function(e,t,n){"use strict";t.a=function(e,t){return void 0===e?t:e}},function(e,t){e.exports="/assets/sent_swooshs-c955981579df96f5276e98eeccbd640a09113fd0e81785095e2c8eb277ad2cc2.svg"},function(e,t,n){"use strict";n.d(t,"a",function(){return v});var r=n(4),a=n.n(r),i=n(5),o=n.n(i),s=n(6),c=n.n(s),l=n(7),u=n.n(l),d=n(8),p=n.n(d),f=n(0),h=n.n(f),m=n(75),g=n(681),v=function(e){function t(){return a()(this,t),c()(this,u()(t).apply(this,arguments))}return p()(t,e),o()(t,[{key:"render",value:function(){var e=this.props.data,t=Object(m.b)(e.criteriaRatings,"name");return h.a.createElement("div",{className:"CriteriaList"},t.map(function(t){return h.a.createElement(g.a,{criterion:t,ratingOptions:e.ratingOptions,preview:e.preview,key:e.id+t.id,answerId:e.id})}))}}]),t}(h.a.Component)},function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"a",function(){return s});var r=n(23),a=n(9),i=function(e){return e.threads},o=Object(r.createSelector)([i,function(e,t){return t}],function(e,t){return Object(a.flow)(Object(a.filter)(t),Object(a.orderBy)("id","desc"))(e)}),s=Object(r.createSelector)([i],function(e){return Object(a.reduce)(function(e,t){return t.comments.length+e},0)(e)})},function(e,n,r){"use strict";r.d(n,"a",function(){return _});var a=r(4),i=r.n(a),o=r(5),s=r.n(o),c=r(6),l=r.n(c),u=r(7),d=r.n(u),p=r(8),f=r.n(p),h=r(0),m=r.n(h),g=r(15),v=r.n(g),b=r(10),y=r(13),E=r(132),_=function(e){function n(){return i()(this,n),l()(this,d()(n).apply(this,arguments))}return f()(n,e),s()(n,[{key:"render",value:function(){var e=this.props,n=e.modalVisible,r=e.randtag,a=e.isCurrentUser,i=e.lessonTaking,o=e.skipped,s=e.questionType,c=e.loadIlosRecording,l=e.finished,u=n||i,d=v()("Video",{"Video--playable":n}),p=i?"":"?autoplay=1";return m.a.createElement("div",{className:d},o&&m.a.createElement(E.a,{isCurrentUser:a,questionType:s}),u&&!o&&m.a.createElement("div",null,!i&&m.a.createElement("div",{className:"Video--loading"},m.a.createElement(y.k,{color:"darker"}),m.a.createElement("span",{className:"ml-16"},t("common.loading"))),m.a.createElement("iframe",{title:t("questions.question.screen_recording.iframe_title"),allowFullScreen:!0,className:"Video-iframe",width:"100%",height:"100%",allowTransparency:"true",style:{backgroundColor:"transparent"},frameBorder:"0",src:"https://app.ilosvideos.com/embed/"+r+p})),i&&!o&&!l&&m.a.createElement("div",{className:"Video-redo d-f fw-w jc-sb ai-c mt-8 pos-r"},m.a.createElement("span",{className:"c-green"},m.a.createElement(b.a,{name:"check_mark"})," ",t("questions.question.webcam_recording.recording_complete")),m.a.createElement("div",null,m.a.createElement(b.a,{customClass:"c-brand-blue mr-4",name:"new_video"}),m.a.createElement("button",{type:"button",onClick:c,className:"NewButton NewButton--flat VideoResponseQuestion-transparentButton p-0"},t("questions.question.screen_recording.try_again")))))}}]),n}(m.a.Component)},function(e,t,n){"use strict";var r=n(4),a=n.n(r),i=n(5),o=n.n(i),s=n(6),c=n.n(s),l=n(7),u=n.n(l),d=n(1),p=n.n(d),f=n(8),h=n.n(f),m=n(2),g=n.n(m),v=n(0),b=n.n(v),y=n(15),E=n.n(y),_=n(10),w=n(13),S=n(83),k=function(e){function t(){var e,n;a()(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=c()(this,(e=u()(t)).call.apply(e,[this].concat(i))),g()(p()(n),"videoRecorderRef",b.a.createRef()),n}return h()(t,e),o()(t,[{key:"componentDidMount",value:function(){this.props.givenAnswer&&Object(S.a)(this.props.givenAnswer,this.props.questionId)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.token,r=t.saveVideo,a=t.questionId,i=t.webcamPlaybackEnabled,o=t.recordWebcamEvent;!e.token&&n&&(Object(S.b)(n,r,a,i,o),this.replaceHardcodedTranslations())}},{key:"replaceHardcodedTranslations",value:function(){var e=this.videoRecorderRef.current,t=e.querySelector(".ba-videorecorder-chooser-button-0 > span");t&&(t.innerText=this.props.i18n.webcam_recording.record);var n=e.querySelector(".ba-videorecorder-chooser-button-1 > span");n&&(n.innerText=this.props.i18n.webcam_recording.upload)}},{key:"render",value:function(){var e=this.props,t=e.token,n=e.givenAnswer,r=e.errorMessage,a=e.i18n,i=e.skipRecording,o=e.finished,s=e.loadRecording,c=e.previewing,l=e.lessonTaking,u=e.questionId,d=e.canGatherDataOnTechnicalIssues,p=e.renderFeedbackContainer,f=e.removeAbilityToSkip,h=E()("VideoEmbed",{"VideoEmbed--disabled":c||o&&!n}),m=E()("VideoEmbed-player",{"VideoEmbed--background":!l}),g=!(c||o||d||f),v=!c&&d&&!f;return n?b.a.createElement("div",null,b.a.createElement("div",{className:m},b.a.createElement("div",{className:"VideoEmbed-videoPlayer",id:u})),!o&&l&&b.a.createElement("div",{className:"Video-redo d-f fw-w jc-sb ai-c pos-r"},b.a.createElement("span",{className:"c-green"},b.a.createElement(_.a,{name:"check_mark"})," ",a.webcam_recording.recording_complete),b.a.createElement("div",null,b.a.createElement(_.a,{customClass:"c-brand-blue mr-4",name:"new_video"}),b.a.createElement("button",{type:"button",onClick:s,className:"NewButton NewButton--flat VideoResponseQuestion-transparentButton p-0 td-u"},a.screen_recording.try_again)))):b.a.createElement("div",{className:h},!t&&!c&&b.a.createElement("div",{className:"VideoEmbed--loading ta-c"},b.a.createElement(w.k,{color:"darker"}),b.a.createElement("span",{className:"ml-16"},a.common.loading)),t&&b.a.createElement("div",{ref:this.videoRecorderRef,className:"VideoEmbed-videoRecorder",id:u}),c&&b.a.createElement("div",{className:"VideoEmbed-ziggeoButtonContainer d-f jc-c ai-c"},b.a.createElement("button",{type:"button",className:"ba-videorecorder-chooser-button-0"},a.webcam_recording.record),b.a.createElement("button",{type:"button",className:"ba-videorecorder-chooser-button-1"},a.webcam_recording.upload)),g&&b.a.createElement("div",{className:"Response-skipped"},b.a.createElement("span",{className:"mr-4"},a.video_response.cannot_record),b.a.createElement("button",{type:"button",className:"VideoResponseQuestion-transparentButton pl-0 NewButton NewButton--flat",onClick:i},a.video_response.skip_action)),v&&p(),r&&b.a.createElement("div",{className:"ErrorContainer ErrorContainer--brandRed d-f ai-c mb-0 pos-r"},b.a.createElement(_.a,{name:"warning_sign",customClass:"mr-8"}),b.a.createElement("div",null,a.video_response.error," ",r,"."," ",a.video_response.error_follow_up," ",a.common.or," ",b.a.createElement("div",{className:"d-ib td-u c-p",onClick:s},a.video_response.try_again),".")))}}]),t}(b.a.Component);t.a=Object(S.d)(k)},function(e,t,n){"use strict";var r=n(21),a=n.n(r),i=n(0),o=n.n(i),s=n(30),c=function(e){var t=e.loading,n=e.label,r=e.onClick;a()(e,["loading","label","onClick"]);return o.a.createElement("button",{type:"button",className:"ml-16 ".concat(Object(s.a)("NewButton",["blue","wide","center"])),onClick:t?null:r},t&&o.a.createElement("span",{className:"Spinner mr-4"}),n)};c.defaultProps={label:"Save"},t.a=c},function(e,t,n){"use strict";var r=n(19),a=n.n(r),i=n(4),o=n.n(i),s=n(5),c=n.n(s),l=n(6),u=n.n(l),d=n(7),p=n.n(d),f=n(1),h=n.n(f),m=n(8),g=n.n(m),v=n(0),b=n.n(v),y=n(9),E=n(10),_=function(e){function t(e){var n;return o()(this,t),(n=u()(this,p()(t).call(this,e))).state={active:!1},n.showMenu=n.showMenu.bind(h()(n)),n.hideMenu=n.hideMenu.bind(h()(n)),n.handleClick=n.handleClick.bind(h()(n)),n}return g()(t,e),c()(t,[{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.handleClick)}},{key:"handleClick",value:function(e){var t=e.target;this.menu.contains(t)||this.hideMenu()}},{key:"showMenu",value:function(){this.setState({active:!0}),document.addEventListener("click",this.handleClick)}},{key:"hideMenu",value:function(){this.setState({active:!1}),document.removeEventListener("click",this.handleClick)}},{key:"renderOptions",value:function(){return this.props.options.map(function(e){return b.a.createElement(t.Option,a()({},e,{key:Object(y.uniqueId)("option")}))})}},{key:"render",value:function(){var e=this;return b.a.createElement("div",{className:"PathContentOptions ml-8"},b.a.createElement(E.a,{name:"ellipsis-v",customClass:"PathContentOptions-toggle",onClick:this.showMenu}),this.state.active&&b.a.createElement("ul",{className:"NewDropDown-list NewDropDown-list--small Animated Animated--popDown",ref:function(t){e.menu=t},children:this.renderOptions()}))}}],[{key:"Option",value:function(e){var t=e.label,n=e.onClick,r=e.icon;return b.a.createElement("li",{className:"NewDropDown-item",onClick:n},r&&b.a.createElement(E.a,{name:r,customClass:"mr-4"}),t)}}]),t}(v.Component);t.a=_},function(e,t,n){"use strict";var r=n(673),a="object"==typeof self&&self&&self.Object===Object&&self,i=(r.a||a||Function("return this")()).Symbol,o=Object.prototype,s=o.hasOwnProperty,c=o.toString,l=i?i.toStringTag:void 0;var u=function(e){var t=s.call(e,l),n=e[l];try{e[l]=void 0;var r=!0}catch(e){}var a=c.call(e);return r&&(t?e[l]=n:delete e[l]),a},d=Object.prototype.toString;var p=function(e){return d.call(e)},f="[object Null]",h="[object Undefined]",m=i?i.toStringTag:void 0;var g=function(e){return null==e?void 0===e?h:f:m&&m in Object(e)?u(e):p(e)};var v=function(e,t){return function(n){return e(t(n))}}(Object.getPrototypeOf,Object);var b=function(e){return null!=e&&"object"==typeof e},y="[object Object]",E=Function.prototype,_=Object.prototype,w=E.toString,S=_.hasOwnProperty,k=w.call(Object);t.a=function(e){if(!b(e)||g(e)!=y)return!1;var t=v(e);if(null===t)return!0;var n=S.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&w.call(n)==k}},function(e,t,n){"use strict";var r=n(19),a=n.n(r),i=n(0),o=n.n(i),s=n(34),c=n(15),l=n.n(c),u=n(12),d=n(447),p=n.n(d),f=n(54),h=n(27),m=n(10),g=n(49),v=function(e){e.reorder;var t=e.connectDragSource;return o.a.createElement("div",{className:"EditorElement-controls PathContent-controls"},t(o.a.createElement("div",{className:"EditorElement-controlButton PathContent-controlButton d-f ai-c jc-c"},Object(g.b)({text:"Move",hideOnMouseUp:!0})(o.a.createElement(m.a,{name:"reorder",customClass:"mt-0"})))))},b=n(51),y=n(78),E=Object(b.DragSource)(y.a.PATH_STEP,{beginDrag:function(e){return e.toggleDragging(),{position:e.position}},endDrag:function(e,t,n){e.toggleDragging();var r=t.getDropResult();t.didDrop()&&e.reorder(r.newPosition)}},function(e,t){return{connectDragSource:e.dragSource(),connectDragPreview:e.dragPreview(),isDragging:t.isDragging()}}),_=function(e){var t=e.id,n=e.type,r=e.showStep,i=e.stepNumber,s=e.reorder,c=e.children,u=e.noTrackLine,d=e.editingMode,f=e.connectDragSource,h=e.connectDragPreview,m=e.isDragging,g=l()("PathContentWrapper",{"PathContentWrapper--noStep":!r,"PathContentWrapper--noTrackLine":u,"PathContentWrapper--dragging":m});return o.a.createElement("div",{className:g,ref:function(e){if(e){var t=new Image;t.src=p.a,t.onload=function(){return h(t,{anchorX:1,anchorY:0})}}}},c,r&&o.a.createElement("div",{className:"PathContentStep"},i),d&&o.a.createElement(v,a()({reorder:s,connectDragSource:f},{key:n+t})))};_.defaultProps={showStep:!0};t.a=Object(s.d)(Object(u.b)(function(){var e=h.g();return function(t,n){return{editingMode:h.q.isEdit(t.pathBuilder),noTrackLine:e(t.pathBuilder,n)}}},function(e,t){var n=t.position;return{toggleDragging:function(){return e(f.h())},reorder:function(t){return e(f.f(n,t))}}}),E)(_)},function(e,t,n){"use strict";var r=n(0),a=n.n(r),i=n(10);t.a=function(e){return a.a.createElement("span",{className:e.className,"data-container":"body","data-toggle":"tooltip",title:e.tooltip,"data-placement":e.dataPlacement},a.a.createElement(i.a,{name:e.iconName,customClass:"c-p ".concat(e.iconClasses)}))}},function(e,n,r){"use strict";var a=r(19),i=r.n(a),o=r(4),s=r.n(o),c=r(5),l=r.n(c),u=r(6),d=r.n(u),p=r(7),f=r.n(p),h=r(1),m=r.n(h),g=r(8),v=r.n(g),b=r(2),y=r.n(b),E=r(0),_=r.n(E),w=r(15),S=r.n(w),k=r(10),C=r(321),N=r(323),O=function(e){function n(e){var t;return s()(this,n),t=d()(this,f()(n).call(this,e)),y()(m()(t),"handleImageChange",function(e){var n=t.props,r=n.handleImageChange,a=n.imageType;t.setState({uploading:!0},function(){r(e,a).then(function(){return t.setState({uploading:!1})}).catch(function(){return t.setState({uploading:!1})})})}),t.state={uploading:!1},t}return v()(n,e),l()(n,[{key:"render",value:function(){var e=this,n=this.props,r=n.image,a=n.className,o=n.labelClassName,s=n.label,c=n.hint;return _.a.createElement("div",{className:a},_.a.createElement("h4",{className:S()("EditorElement-label",o)},s),_.a.createElement("div",{className:"EditorElement-hint"},c,r&&_.a.createElement("button",{type:"button","data-tooltip":t("images.delete"),className:"EditorElement-controlButton ButtonWithTooltip ml-a",onClick:function(){return e.handleImageChange(null)}},_.a.createElement(k.a,{name:"delete"}))),_.a.createElement("div",{className:"EditorElement-fileHandler mt-8"},r?_.a.createElement(C.a,i()({},this.getUploaderProps,{image:r})):_.a.createElement(N.a,i()({},this.getUploaderProps,{hideImageIcon:!0}))))}},{key:"getUploaderProps",get:function(){return{elementId:this.props.elementId,onUpload:this.handleImageChange,uploading:this.state.uploading}}}]),n}(E.Component);n.a=O},function(e,t,n){var r,a,i;a="undefined"!=typeof window?window:this,i=function(e){var t,n,r,a,i,o,s,c,l=(t=void 0===e?window:e,n=t.document,r=t.navigator&&t.navigator.userAgent||"",a=n&&n.createElementNS&&!!n.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,i=/(edge|msie|trident)/i.test(r)&&!t.opera,o=-1!==r.indexOf("Firefox"),s=-1!==r.indexOf("Chrome"),c=o&&4>parseInt(r.split("Firefox/")[1],10),t.Highcharts?t.Highcharts.error(16,!0):{product:"Highcharts",version:"6.2.0",deg2rad:2*Math.PI/360,doc:n,hasBidiBug:c,hasTouch:n&&void 0!==n.documentElement.ontouchstart,isMS:i,isWebKit:-1!==r.indexOf("AppleWebKit"),isFirefox:o,isChrome:s,isSafari:!s&&-1!==r.indexOf("Safari"),isTouchDevice:/(Mobile|Android|Windows Phone)/.test(r),SVG_NS:"http://www.w3.org/2000/svg",chartCount:0,seriesTypes:{},symbolSizes:{},svg:a,win:t,marginNames:["plotTop","marginRight","marginBottom","plotLeft"],noop:function(){},charts:[]});!function(e){e.timers=[];var t=e.charts,n=e.doc,r=e.win;e.error=function(t,n){if(t=e.isNumber(t)?"Highcharts error #"+t+": www.highcharts.com/errors/"+t:t,n)throw Error(t);r.console&&console.log(t)},e.Fx=function(e,t,n){this.options=t,this.elem=e,this.prop=n},e.Fx.prototype={dSetter:function(){var e,t=this.paths[0],n=this.paths[1],r=[],a=this.now,i=t.length;if(1===a)r=this.toD;else if(i===n.length&&1>a)for(;i--;)e=parseFloat(t[i]),r[i]=isNaN(e)?n[i]:a*parseFloat(n[i]-e)+e;else r=n;this.elem.attr("d",r,null,!0)},update:function(){var e=this.elem,t=this.prop,n=this.now,r=this.options.step;this[t+"Setter"]?this[t+"Setter"]():e.attr?e.element&&e.attr(t,n,null,!0):e.style[t]=n+this.unit,r&&r.call(e,n,this)},run:function(t,n,a){var i=this,o=i.options,s=function(e){return!s.stopped&&i.step(e)},c=r.requestAnimationFrame||function(e){setTimeout(e,13)},l=function(){for(var t=0;t<e.timers.length;t++)e.timers[t]()||e.timers.splice(t--,1);e.timers.length&&c(l)};t!==n||this.elem["forceAnimate:"+this.prop]?(this.startTime=+new Date,this.start=t,this.end=n,this.unit=a,this.now=this.start,this.pos=0,s.elem=this.elem,s.prop=this.prop,s()&&1===e.timers.push(s)&&c(l)):(delete o.curAnim[this.prop],o.complete&&0===e.keys(o.curAnim).length&&o.complete.call(this.elem))},step:function(t){var n,r=+new Date,a=this.options,i=this.elem,o=a.complete,s=a.duration,c=a.curAnim;return i.attr&&!i.element?t=!1:t||r>=s+this.startTime?(this.now=this.end,this.pos=1,this.update(),n=c[this.prop]=!0,e.objectEach(c,function(e){!0!==e&&(n=!1)}),n&&o&&o.call(i),t=!1):(this.pos=a.easing((r-this.startTime)/s),this.now=this.start+(this.end-this.start)*this.pos,this.update(),t=!0),t},initPath:function(t,n,r){function a(e){var t,n;for(u=e.length;u--;)t="M"===e[u]||"L"===e[u],n=/[a-zA-Z]/.test(e[u+3]),t&&n&&e.splice(u+1,0,e[u+1],e[u+2],e[u+1],e[u+2])}function i(e,t){for(;e.length<c;){e[0]=t[c-e.length];var n=e.slice(0,h);[].splice.apply(e,[0,0].concat(n)),g&&(n=e.slice(e.length-h),[].splice.apply(e,[e.length,0].concat(n)),u--)}e[0]="M"}function o(e,t){for(var n=(c-e.length)/h;0<n&&n--;)(l=e.slice().splice(e.length/v-h,h*v))[0]=t[c-h-n*h],f&&(l[h-6]=l[h-2],l[h-5]=l[h-1]),[].splice.apply(e,[e.length/v,0].concat(l)),g&&n--}n=n||"";var s,c,l,u,d=t.startX,p=t.endX,f=-1<n.indexOf("C"),h=f?7:3;n=n.split(" "),r=r.slice();var m,g=t.isArea,v=g?2:1;if(f&&(a(n),a(r)),d&&p){for(u=0;u<d.length;u++){if(d[u]===p[0]){s=u;break}if(d[0]===p[p.length-d.length+u]){s=u,m=!0;break}}void 0===s&&(n=[])}return n.length&&e.isNumber(s)&&(c=r.length+s*v*h,m?(i(n,r),o(r,n)):(i(r,n),o(n,r))),[n,r]},fillSetter:function(){e.Fx.prototype.strokeSetter.apply(this,arguments)},strokeSetter:function(){this.elem.attr(this.prop,e.color(this.start).tweenTo(e.color(this.end),this.pos),null,!0)}},e.merge=function(){var t,n,r=arguments,a={},i=function(t,n){return"object"!=typeof t&&(t={}),e.objectEach(n,function(r,a){!e.isObject(r,!0)||e.isClass(r)||e.isDOMElement(r)?t[a]=n[a]:t[a]=i(t[a]||{},r)}),t};for(!0===r[0]&&(a=r[1],r=Array.prototype.slice.call(r,2)),n=r.length,t=0;t<n;t++)a=i(a,r[t]);return a},e.pInt=function(e,t){return parseInt(e,t||10)},e.isString=function(e){return"string"==typeof e},e.isArray=function(e){return"[object Array]"===(e=Object.prototype.toString.call(e))||"[object Array Iterator]"===e},e.isObject=function(t,n){return!(!t||"object"!=typeof t||n&&e.isArray(t))},e.isDOMElement=function(t){return e.isObject(t)&&"number"==typeof t.nodeType},e.isClass=function(t){var n=t&&t.constructor;return!(!e.isObject(t,!0)||e.isDOMElement(t)||!n||!n.name||"Object"===n.name)},e.isNumber=function(e){return"number"==typeof e&&!isNaN(e)&&1/0>e&&-1/0<e},e.erase=function(e,t){for(var n=e.length;n--;)if(e[n]===t){e.splice(n,1);break}},e.defined=function(e){return null!=e},e.attr=function(t,n,r){var a;return e.isString(n)?e.defined(r)?t.setAttribute(n,r):t&&t.getAttribute&&((a=t.getAttribute(n))||"class"!==n||(a=t.getAttribute(n+"Name"))):e.defined(n)&&e.isObject(n)&&e.objectEach(n,function(e,n){t.setAttribute(n,e)}),a},e.splat=function(t){return e.isArray(t)?t:[t]},e.syncTimeout=function(e,t,n){if(t)return setTimeout(e,t,n);e.call(0,n)},e.clearTimeout=function(t){e.defined(t)&&clearTimeout(t)},e.extend=function(e,t){var n;for(n in e||(e={}),t)e[n]=t[n];return e},e.pick=function(){var e,t,n=arguments,r=n.length;for(e=0;e<r;e++)if(null!=(t=n[e]))return t},e.css=function(t,n){e.isMS&&!e.svg&&n&&void 0!==n.opacity&&(n.filter="alpha(opacity="+100*n.opacity+")"),e.extend(t.style,n)},e.createElement=function(t,r,a,i,o){t=n.createElement(t);var s=e.css;return r&&e.extend(t,r),o&&s(t,{padding:0,border:"none",margin:0}),a&&s(t,a),i&&i.appendChild(t),t},e.extendClass=function(t,n){var r=function(){};return r.prototype=new t,e.extend(r.prototype,n),r},e.pad=function(e,t,n){return Array((t||2)+1-String(e).replace("-","").length).join(n||0)+e},e.relativeLength=function(e,t,n){return/%$/.test(e)?t*parseFloat(e)/100+(n||0):parseFloat(e)},e.wrap=function(e,t,n){var r=e[t];e[t]=function(){var e=Array.prototype.slice.call(arguments),t=arguments,a=this;return a.proceed=function(){r.apply(a,arguments.length?arguments:t)},e.unshift(r),e=n.apply(this,e),a.proceed=null,e}},e.datePropsToTimestamps=function(t){e.objectEach(t,function(n,r){e.isObject(n)&&"function"==typeof n.getTime?t[r]=n.getTime():(e.isObject(n)||e.isArray(n))&&e.datePropsToTimestamps(n)})},e.formatSingle=function(t,n,r){var a=e.defaultOptions.lang;return/f$/.test(t)?(r=(r=t.match(/\.([0-9])/))?r[1]:-1,null!==n&&(n=e.numberFormat(n,r,a.decimalPoint,-1<t.indexOf(",")?a.thousandsSep:""))):n=(r||e.time).dateFormat(t,n),n},e.format=function(t,n,r){for(var a,i,o,s,c,l="{",u=!1,d=[];t&&-1!==(l=t.indexOf(l));){if(a=t.slice(0,l),u){for(s=(i=(a=a.split(":")).shift().split(".")).length,c=n,o=0;o<s;o++)c&&(c=c[i[o]]);a.length&&(c=e.formatSingle(a.join(":"),c,r)),d.push(c)}else d.push(a);t=t.slice(l+1),l=(u=!u)?"}":"{"}return d.push(t),d.join("")},e.getMagnitude=function(e){return Math.pow(10,Math.floor(Math.log(e)/Math.LN10))},e.normalizeTickInterval=function(t,n,r,a,i){var o,s=t;for(o=t/(r=e.pick(r,1)),n||(n=i?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],!1===a&&(1===r?n=e.grep(n,function(e){return 0==e%1}):.1>=r&&(n=[1/r]))),a=0;a<n.length&&(s=n[a],!(i&&s*r>=t||!i&&o<=(n[a]+(n[a+1]||n[a]))/2));a++);return e.correctFloat(s*r,-Math.round(Math.log(.001)/Math.LN10))},e.stableSort=function(e,t){var n,r,a=e.length;for(r=0;r<a;r++)e[r].safeI=r;for(e.sort(function(e,r){return 0===(n=t(e,r))?e.safeI-r.safeI:n}),r=0;r<a;r++)delete e[r].safeI},e.arrayMin=function(e){for(var t=e.length,n=e[0];t--;)e[t]<n&&(n=e[t]);return n},e.arrayMax=function(e){for(var t=e.length,n=e[0];t--;)e[t]>n&&(n=e[t]);return n},e.destroyObjectProperties=function(t,n){e.objectEach(t,function(e,r){e&&e!==n&&e.destroy&&e.destroy(),delete t[r]})},e.discardElement=function(t){var n=e.garbageBin;n||(n=e.createElement("div")),t&&n.appendChild(t),n.innerHTML=""},e.correctFloat=function(e,t){return parseFloat(e.toPrecision(t||14))},e.setAnimation=function(t,n){n.renderer.globalAnimation=e.pick(t,n.options.chart.animation,!0)},e.animObject=function(t){return e.isObject(t)?e.merge(t):{duration:t?500:0}},e.timeUnits={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},e.numberFormat=function(t,n,r,a){t=+t||0,n=+n;var i,o,s=e.defaultOptions.lang,c=(t.toString().split(".")[1]||"").split("e")[0].length,l=t.toString().split("e");return-1===n?n=Math.min(c,20):e.isNumber(n)?n&&l[1]&&0>l[1]&&(0<=(i=n+ +l[1])?(l[0]=(+l[0]).toExponential(i).split("e")[0],n=i):(l[0]=l[0].split(".")[0]||0,t=20>n?(l[0]*Math.pow(10,l[1])).toFixed(n):0,l[1]=0)):n=2,o=(Math.abs(l[1]?l[0]:t)+Math.pow(10,-Math.max(n,c)-1)).toFixed(n),i=3<(c=String(e.pInt(o))).length?c.length%3:0,r=e.pick(r,s.decimalPoint),a=e.pick(a,s.thousandsSep),t=(0>t?"-":"")+(i?c.substr(0,i)+a:""),t+=c.substr(i).replace(/(\d{3})(?=\d)/g,"$1"+a),n&&(t+=r+o.slice(-n)),l[1]&&0!=+t&&(t+="e"+l[1]),t},Math.easeInOutSine=function(e){return-.5*(Math.cos(Math.PI*e)-1)},e.getStyle=function(t,n,a){return"width"===n?Math.max(0,Math.min(t.offsetWidth,t.scrollWidth)-e.getStyle(t,"padding-left")-e.getStyle(t,"padding-right")):"height"===n?Math.max(0,Math.min(t.offsetHeight,t.scrollHeight)-e.getStyle(t,"padding-top")-e.getStyle(t,"padding-bottom")):(r.getComputedStyle||e.error(27,!0),(t=r.getComputedStyle(t,void 0))&&(t=t.getPropertyValue(n),e.pick(a,"opacity"!==n)&&(t=e.pInt(t))),t)},e.inArray=function(t,n,r){return(e.indexOfPolyfill||Array.prototype.indexOf).call(n,t,r)},e.grep=function(t,n){return(e.filterPolyfill||Array.prototype.filter).call(t,n)},e.find=Array.prototype.find?function(e,t){return e.find(t)}:function(e,t){var n,r=e.length;for(n=0;n<r;n++)if(t(e[n],n))return e[n]},e.some=function(t,n,r){return(e.somePolyfill||Array.prototype.some).call(t,n,r)},e.map=function(e,t){for(var n=[],r=0,a=e.length;r<a;r++)n[r]=t.call(e[r],e[r],r,e);return n},e.keys=function(t){return(e.keysPolyfill||Object.keys).call(void 0,t)},e.reduce=function(t,n,r){return(e.reducePolyfill||Array.prototype.reduce).apply(t,2<arguments.length?[n,r]:[n])},e.offset=function(e){var t=n.documentElement;return{top:(e=e.parentElement||e.parentNode?e.getBoundingClientRect():{top:0,left:0}).top+(r.pageYOffset||t.scrollTop)-(t.clientTop||0),left:e.left+(r.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}},e.stop=function(t,n){for(var r=e.timers.length;r--;)e.timers[r].elem!==t||n&&n!==e.timers[r].prop||(e.timers[r].stopped=!0)},e.each=function(t,n,r){return(e.forEachPolyfill||Array.prototype.forEach).call(t,n,r)},e.objectEach=function(e,t,n){for(var r in e)e.hasOwnProperty(r)&&t.call(n||e[r],e[r],r,e)},e.addEvent=function(t,n,r,a){var i,o=t.addEventListener||e.addEventListenerPolyfill;return i="function"==typeof t&&t.prototype?t.prototype.protoEvents=t.prototype.protoEvents||{}:t.hcEvents=t.hcEvents||{},e.Point&&t instanceof e.Point&&t.series&&t.series.chart&&(t.series.chart.runTrackerClick=!0),o&&o.call(t,n,r,!1),i[n]||(i[n]=[]),i[n].push(r),a&&e.isNumber(a.order)&&(r.order=a.order,i[n].sort(function(e,t){return e.order-t.order})),function(){e.removeEvent(t,n,r)}},e.removeEvent=function(t,n,r){function a(n,r){var a=t.removeEventListener||e.removeEventListenerPolyfill;a&&a.call(t,n,r,!1)}function i(r){var i,o;t.nodeName&&(n?(i={})[n]=!0:i=r,e.objectEach(i,function(e,t){if(r[t])for(o=r[t].length;o--;)a(t,r[t][o])}))}var o,s;e.each(["protoEvents","hcEvents"],function(c){var l=t[c];l&&(n?(o=l[n]||[],r?(-1<(s=e.inArray(r,o))&&(o.splice(s,1),l[n]=o),a(n,r)):(i(l),l[n]=[])):(i(l),t[c]={}))})},e.fireEvent=function(t,r,a,i){var o,s,c,l,u;a=a||{},n.createEvent&&(t.dispatchEvent||t.fireEvent)?((o=n.createEvent("Events")).initEvent(r,!0,!0),e.extend(o,a),t.dispatchEvent?t.dispatchEvent(o):t.fireEvent(r,o)):e.each(["protoEvents","hcEvents"],function(n){if(t[n])for(s=t[n][r]||[],c=s.length,a.target||e.extend(a,{preventDefault:function(){a.defaultPrevented=!0},target:t,type:r}),l=0;l<c;l++)(u=s[l])&&!1===u.call(t,a)&&a.preventDefault()}),i&&!a.defaultPrevented&&i.call(t,a)},e.animate=function(t,n,r){var a,i,o,s,c="";e.isObject(r)||(r={duration:(s=arguments)[2],easing:s[3],complete:s[4]}),e.isNumber(r.duration)||(r.duration=400),r.easing="function"==typeof r.easing?r.easing:Math[r.easing]||Math.easeInOutSine,r.curAnim=e.merge(n),e.objectEach(n,function(s,l){e.stop(t,l),o=new e.Fx(t,r,l),i=null,"d"===l?(o.paths=o.initPath(t,t.d,n.d),o.toD=n.d,a=0,i=1):t.attr?a=t.attr(l):(a=parseFloat(e.getStyle(t,l))||0,"opacity"!==l&&(c="px")),i||(i=s),i&&i.match&&i.match("px")&&(i=i.replace(/px/g,"")),o.run(a,i,c)})},e.seriesType=function(t,n,r,a,i){var o=e.getOptions(),s=e.seriesTypes;return o.plotOptions[t]=e.merge(o.plotOptions[n],r),s[t]=e.extendClass(s[n]||function(){},a),s[t].prototype.type=t,i&&(s[t].prototype.pointClass=e.extendClass(e.Point,i)),s[t]},e.uniqueKey=function(){var e=Math.random().toString(36).substring(2,9),t=0;return function(){return"highcharts-"+e+"-"+t++}}(),r.jQuery&&(r.jQuery.fn.highcharts=function(){var n=[].slice.call(arguments);if(this[0])return n[0]?(new(e[e.isString(n[0])?n.shift():"Chart"])(this[0],n[0],n[1]),this):t[e.attr(this[0],"data-highcharts-chart")]})}(l),function(e){var t=e.each,n=e.isNumber,r=e.map,a=e.merge,i=e.pInt;e.Color=function(t){if(!(this instanceof e.Color))return new e.Color(t);this.init(t)},e.Color.prototype={parsers:[{regex:/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,parse:function(e){return[i(e[1]),i(e[2]),i(e[3]),parseFloat(e[4],10)]}},{regex:/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,parse:function(e){return[i(e[1]),i(e[2]),i(e[3]),1]}}],names:{white:"#ffffff",black:"#000000"},init:function(t){var n,a,i,o;if((this.input=t=this.names[t&&t.toLowerCase?t.toLowerCase():""]||t)&&t.stops)this.stops=r(t.stops,function(t){return new e.Color(t[1])});else if(t&&t.charAt&&"#"===t.charAt()&&(n=t.length,t=parseInt(t.substr(1),16),7===n?a=[(16711680&t)>>16,(65280&t)>>8,255&t,1]:4===n&&(a=[(3840&t)>>4|(3840&t)>>8,(240&t)>>4|240&t,(15&t)<<4|15&t,1])),!a)for(i=this.parsers.length;i--&&!a;)(n=(o=this.parsers[i]).regex.exec(t))&&(a=o.parse(n));this.rgba=a||[]},get:function(e){var r,i=this.input,o=this.rgba;return this.stops?((r=a(i)).stops=[].concat(r.stops),t(this.stops,function(t,n){r.stops[n]=[r.stops[n][0],t.get(e)]})):r=o&&n(o[0])?"rgb"===e||!e&&1===o[3]?"rgb("+o[0]+","+o[1]+","+o[2]+")":"a"===e?o[3]:"rgba("+o.join(",")+")":i,r},brighten:function(e){var r,a=this.rgba;if(this.stops)t(this.stops,function(t){t.brighten(e)});else if(n(e)&&0!==e)for(r=0;3>r;r++)a[r]+=i(255*e),0>a[r]&&(a[r]=0),255<a[r]&&(a[r]=255);return this},setOpacity:function(e){return this.rgba[3]=e,this},tweenTo:function(e,t){var n=this.rgba,r=e.rgba;return r.length&&n&&n.length?t=((e=1!==r[3]||1!==n[3])?"rgba(":"rgb(")+Math.round(r[0]+(n[0]-r[0])*(1-t))+","+Math.round(r[1]+(n[1]-r[1])*(1-t))+","+Math.round(r[2]+(n[2]-r[2])*(1-t))+(e?","+(r[3]+(n[3]-r[3])*(1-t)):"")+")":t=e.input||"none",t}},e.color=function(t){return new e.Color(t)}}(l),function(e){var t,n,r=e.addEvent,a=e.animate,i=e.attr,o=e.charts,s=e.color,c=e.css,l=e.createElement,u=e.defined,d=e.deg2rad,p=e.destroyObjectProperties,f=e.doc,h=e.each,m=e.extend,g=e.erase,v=e.grep,b=e.hasTouch,y=e.inArray,E=e.isArray,_=e.isFirefox,w=e.isMS,S=e.isObject,k=e.isString,C=e.isWebKit,N=e.merge,O=e.noop,x=e.objectEach,T=e.pick,R=e.pInt,P=e.removeEvent,I=e.stop,A=e.svg,M=e.SVG_NS,D=e.symbolSizes,j=e.win;t=e.SVGElement=function(){return this},m(t.prototype,{opacity:1,SVG_NS:M,textProps:"direction fontSize fontWeight fontFamily fontStyle color lineHeight width textAlign textDecoration textOverflow textOutline cursor".split(" "),init:function(e,t){this.element="span"===t?l(t):f.createElementNS(this.SVG_NS,t),this.renderer=e},animate:function(t,n,r){return 0!==(n=e.animObject(T(n,this.renderer.globalAnimation,!0))).duration?(r&&(n.complete=r),a(this,t,n)):(this.attr(t,null,r),n.step&&n.step.call(this)),this},complexColor:function(t,n,r){var a,i,o,s,c,l,d,p,f,m,g,v,b=this.renderer,y=[];e.fireEvent(this.renderer,"complexColor",{args:arguments},function(){t.radialGradient?i="radialGradient":t.linearGradient&&(i="linearGradient"),i&&(o=t[i],c=b.gradients,d=t.stops,m=r.radialReference,E(o)&&(t[i]=o={x1:o[0],y1:o[1],x2:o[2],y2:o[3],gradientUnits:"userSpaceOnUse"}),"radialGradient"===i&&m&&!u(o.gradientUnits)&&(s=o,o=N(o,b.getRadialAttr(m,s),{gradientUnits:"userSpaceOnUse"})),x(o,function(e,t){"id"!==t&&y.push(t,e)}),x(d,function(e){y.push(e)}),y=y.join(","),c[y]?g=c[y].attr("id"):(o.id=g=e.uniqueKey(),c[y]=l=b.createElement(i).attr(o).add(b.defs),l.radAttr=s,l.stops=[],h(d,function(t){0===t[1].indexOf("rgba")?(a=e.color(t[1]),p=a.get("rgb"),f=a.get("a")):(p=t[1],f=1),t=b.createElement("stop").attr({offset:t[0],"stop-color":p,"stop-opacity":f}).add(l),l.stops.push(t)})),v="url("+b.url+"#"+g+")",r.setAttribute(n,v),r.gradient=y,t.toString=function(){return v})})},applyTextOutline:function(t){var n,r,a,o,s,c=this.element;if(-1!==t.indexOf("contrast")&&(t=t.replace(/contrast/g,this.renderer.getContrast(c.style.fill))),t=t.split(" "),r=t[t.length-1],(a=t[0])&&"none"!==a&&e.svg){for(this.fakeTS=!0,t=[].slice.call(c.getElementsByTagName("tspan")),this.ySetter=this.xSetter,a=a.replace(/(^[\d\.]+)(.*?)$/g,function(e,t,n){return 2*t+n}),s=t.length;s--;)"highcharts-text-outline"===(n=t[s]).getAttribute("class")&&g(t,c.removeChild(n));o=c.firstChild,h(t,function(e,t){0===t&&(e.setAttribute("x",c.getAttribute("x")),t=c.getAttribute("y"),e.setAttribute("y",t||0),null===t&&c.setAttribute("y",0)),e=e.cloneNode(1),i(e,{class:"highcharts-text-outline",fill:r,stroke:r,"stroke-width":a,"stroke-linejoin":"round"}),c.insertBefore(e,o)})}},attr:function(e,t,n,r){var a,i,o,s,c=this.element,l=this;return"string"==typeof e&&void 0!==t&&(a=e,(e={})[a]=t),"string"==typeof e?l=(this[e+"Getter"]||this._defaultGetter).call(this,e,c):(x(e,function(t,n){o=!1,r||I(this,n),this.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)$/.test(n)&&(i||(this.symbolAttr(e),i=!0),o=!0),!this.rotation||"x"!==n&&"y"!==n||(this.doTransform=!0),o||((s=this[n+"Setter"]||this._defaultSetter).call(this,t,n,c),this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(n)&&this.updateShadows(n,t,s))},this),this.afterSetters()),n&&n.call(this),l},afterSetters:function(){this.doTransform&&(this.updateTransform(),this.doTransform=!1)},updateShadows:function(e,t,n){for(var r=this.shadows,a=r.length;a--;)n.call(r[a],"height"===e?Math.max(t-(r[a].cutHeight||0),0):"d"===e?this.d:t,e,r[a])},addClass:function(e,t){var n=this.attr("class")||"";return-1===n.indexOf(e)&&(t||(e=(n+(n?" ":"")+e).replace("  "," ")),this.attr("class",e)),this},hasClass:function(e){return-1!==y(e,(this.attr("class")||"").split(" "))},removeClass:function(e){return this.attr("class",(this.attr("class")||"").replace(e,""))},symbolAttr:function(e){var t=this;h("x y r start end width height innerR anchorX anchorY".split(" "),function(n){t[n]=T(e[n],t[n])}),t.attr({d:t.renderer.symbols[t.symbolName](t.x,t.y,t.width,t.height,t)})},clip:function(e){return this.attr("clip-path",e?"url("+this.renderer.url+"#"+e.id+")":"none")},crisp:function(e,t){var n;return t=t||e.strokeWidth||0,n=Math.round(t)%2/2,e.x=Math.floor(e.x||this.x||0)+n,e.y=Math.floor(e.y||this.y||0)+n,e.width=Math.floor((e.width||this.width||0)-2*n),e.height=Math.floor((e.height||this.height||0)-2*n),u(e.strokeWidth)&&(e.strokeWidth=t),e},css:function(e){var t,n,r=this.styles,a={},o=this.element,s="",l=!r,u=["textOutline","textOverflow","width"];return e&&e.color&&(e.fill=e.color),r&&x(e,function(e,t){e!==r[t]&&(a[t]=e,l=!0)}),l&&(r&&(e=m(r,a)),e&&(null===e.width||"auto"===e.width?delete this.textWidth:"text"===o.nodeName.toLowerCase()&&e.width&&(t=this.textWidth=R(e.width))),this.styles=e,t&&!A&&this.renderer.forExport&&delete e.width,o.namespaceURI===this.SVG_NS?(n=function(e,t){return"-"+t.toLowerCase()},x(e,function(e,t){-1===y(t,u)&&(s+=t.replace(/([A-Z])/g,n)+":"+e+";")}),s&&i(o,"style",s)):c(o,e),this.added&&("text"===this.element.nodeName&&this.renderer.buildText(this),e&&e.textOutline&&this.applyTextOutline(e.textOutline))),this},strokeWidth:function(){return this["stroke-width"]||0},on:function(e,t){var n=this,r=n.element;return b&&"click"===e?(r.ontouchstart=function(e){n.touchEventFired=Date.now(),e.preventDefault(),t.call(r,e)},r.onclick=function(e){(-1===j.navigator.userAgent.indexOf("Android")||1100<Date.now()-(n.touchEventFired||0))&&t.call(r,e)}):r["on"+e]=t,this},setRadialReference:function(e){var t=this.renderer.gradients[this.element.gradient];return this.element.radialReference=e,t&&t.radAttr&&t.animate(this.renderer.getRadialAttr(e,t.radAttr)),this},translate:function(e,t){return this.attr({translateX:e,translateY:t})},invert:function(e){return this.inverted=e,this.updateTransform(),this},updateTransform:function(){var e=this.translateX||0,t=this.translateY||0,n=this.scaleX,r=this.scaleY,a=this.inverted,i=this.rotation,o=this.matrix,s=this.element;a&&(e+=this.width,t+=this.height),e=["translate("+e+","+t+")"],u(o)&&e.push("matrix("+o.join(",")+")"),a?e.push("rotate(90) scale(-1,1)"):i&&e.push("rotate("+i+" "+T(this.rotationOriginX,s.getAttribute("x"),0)+" "+T(this.rotationOriginY,s.getAttribute("y")||0)+")"),(u(n)||u(r))&&e.push("scale("+T(n,1)+" "+T(r,1)+")"),e.length&&s.setAttribute("transform",e.join(" "))},toFront:function(){var e=this.element;return e.parentNode.appendChild(e),this},align:function(e,t,n){var r,a,i,o,s,c,l={};return i=(a=this.renderer).alignedObjects,e?(this.alignOptions=e,this.alignByTranslate=t,(!n||k(n))&&(this.alignTo=r=n||"renderer",g(i,this),i.push(this),n=null)):(e=this.alignOptions,t=this.alignByTranslate,r=this.alignTo),n=T(n,a[r],a),r=e.align,a=e.verticalAlign,i=(n.x||0)+(e.x||0),o=(n.y||0)+(e.y||0),"right"===r?s=1:"center"===r&&(s=2),s&&(i+=(n.width-(e.width||0))/s),l[t?"translateX":"x"]=Math.round(i),"bottom"===a?c=1:"middle"===a&&(c=2),c&&(o+=(n.height-(e.height||0))/c),l[t?"translateY":"y"]=Math.round(o),this[this.placed?"animate":"attr"](l),this.placed=!0,this.alignAttr=l,this},getBBox:function(e,t){var n,r,a,i,o,s=this.renderer,c=this.element,l=this.styles,p=this.textStr,f=s.cache,g=s.cacheKeys,v=c.namespaceURI===this.SVG_NS;if(r=(t=T(t,this.rotation))*d,a=l&&l.fontSize,u(p)&&(-1===(o=p.toString()).indexOf("<")&&(o=o.replace(/[0-9]/g,"0")),o+=["",t||0,a,this.textWidth,l&&l.textOverflow].join()),o&&!e&&(n=f[o]),!n){if(v||s.forExport){try{(i=this.fakeTS&&function(e){h(c.querySelectorAll(".highcharts-text-outline"),function(t){t.style.display=e})})&&i("none"),n=c.getBBox?m({},c.getBBox()):{width:c.offsetWidth,height:c.offsetHeight},i&&i("")}catch(e){}(!n||0>n.width)&&(n={width:0,height:0})}else n=this.htmlGetBBox();if(s.isSVG&&(e=n.width,s=n.height,v&&(n.height=s={"11px,17":14,"13px,20":16}[l&&l.fontSize+","+Math.round(s)]||s),t&&(n.width=Math.abs(s*Math.sin(r))+Math.abs(e*Math.cos(r)),n.height=Math.abs(s*Math.cos(r))+Math.abs(e*Math.sin(r)))),o&&0<n.height){for(;250<g.length;)delete f[g.shift()];f[o]||g.push(o),f[o]=n}}return n},show:function(e){return this.attr({visibility:e?"inherit":"visible"})},hide:function(){return this.attr({visibility:"hidden"})},fadeOut:function(e){var t=this;t.animate({opacity:0},{duration:e||150,complete:function(){t.attr({y:-9999})}})},add:function(e){var t,n=this.renderer,r=this.element;return e&&(this.parentGroup=e),this.parentInverted=e&&e.inverted,void 0!==this.textStr&&n.buildText(this),this.added=!0,(!e||e.handleZ||this.zIndex)&&(t=this.zIndexSetter()),t||(e?e.element:n.box).appendChild(r),this.onAdd&&this.onAdd(),this},safeRemoveChild:function(e){var t=e.parentNode;t&&t.removeChild(e)},destroy:function(){var e=this,t=e.element||{},n=e.renderer.isSVG&&"SPAN"===t.nodeName&&e.parentGroup,r=t.ownerSVGElement,a=e.clipPath;if(t.onclick=t.onmouseout=t.onmouseover=t.onmousemove=t.point=null,I(e),a&&r&&(h(r.querySelectorAll("[clip-path],[CLIP-PATH]"),function(e){var t=e.getAttribute("clip-path"),n=a.element.id;(-1<t.indexOf("(#"+n+")")||-1<t.indexOf('("#'+n+'")'))&&e.removeAttribute("clip-path")}),e.clipPath=a.destroy()),e.stops){for(r=0;r<e.stops.length;r++)e.stops[r]=e.stops[r].destroy();e.stops=null}for(e.safeRemoveChild(t),e.destroyShadows();n&&n.div&&0===n.div.childNodes.length;)t=n.parentGroup,e.safeRemoveChild(n.div),delete n.div,n=t;return e.alignTo&&g(e.renderer.alignedObjects,e),x(e,function(t,n){delete e[n]}),null},shadow:function(e,t,n){var r,a,o,s,c,l,u=[],d=this.element;if(e){if(!this.shadows){for(s=T(e.width,3),c=(e.opacity||.15)/s,l=this.parentInverted?"(-1,-1)":"("+T(e.offsetX,1)+", "+T(e.offsetY,1)+")",r=1;r<=s;r++)a=d.cloneNode(0),o=2*s+1-2*r,i(a,{stroke:e.color||"#000000","stroke-opacity":c*r,"stroke-width":o,transform:"translate"+l,fill:"none"}),a.setAttribute("class",(a.getAttribute("class")||"")+" highcharts-shadow"),n&&(i(a,"height",Math.max(i(a,"height")-o,0)),a.cutHeight=o),t?t.element.appendChild(a):d.parentNode&&d.parentNode.insertBefore(a,d),u.push(a);this.shadows=u}}else this.destroyShadows();return this},destroyShadows:function(){h(this.shadows||[],function(e){this.safeRemoveChild(e)},this),this.shadows=void 0},xGetter:function(e){return"circle"===this.element.nodeName&&("x"===e?e="cx":"y"===e&&(e="cy")),this._defaultGetter(e)},_defaultGetter:function(e){return e=T(this[e+"Value"],this[e],this.element?this.element.getAttribute(e):null,0),/^[\-0-9\.]+$/.test(e)&&(e=parseFloat(e)),e},dSetter:function(e,t,n){e&&e.join&&(e=e.join(" ")),/(NaN| {2}|^$)/.test(e)&&(e="M 0 0"),this[t]!==e&&(n.setAttribute(t,e),this[t]=e)},dashstyleSetter:function(e){var t,n=this["stroke-width"];if("inherit"===n&&(n=1),e=e&&e.toLowerCase()){for(t=(e=e.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",")).length;t--;)e[t]=R(e[t])*n;e=e.join(",").replace(/NaN/g,"none"),this.element.setAttribute("stroke-dasharray",e)}},alignSetter:function(e){this.alignValue=e,this.element.setAttribute("text-anchor",{left:"start",center:"middle",right:"end"}[e])},opacitySetter:function(e,t,n){this[t]=e,n.setAttribute(t,e)},titleSetter:function(e){var t=this.element.getElementsByTagName("title")[0];t||(t=f.createElementNS(this.SVG_NS,"title"),this.element.appendChild(t)),t.firstChild&&t.removeChild(t.firstChild),t.appendChild(f.createTextNode(String(T(e),"").replace(/<[^>]*>/g,"").replace(/&lt;/g,"<").replace(/&gt;/g,">")))},textSetter:function(e){e!==this.textStr&&(delete this.bBox,this.textStr=e,this.added&&this.renderer.buildText(this))},fillSetter:function(e,t,n){"string"==typeof e?n.setAttribute(t,e):e&&this.complexColor(e,t,n)},visibilitySetter:function(e,t,n){"inherit"===e?n.removeAttribute(t):this[t]!==e&&n.setAttribute(t,e),this[t]=e},zIndexSetter:function(e,t){var n,r,a,i,o=this.renderer,s=this.parentGroup,c=(s||o).element||o.box,l=this.element;o=c===o.box;if(n=this.added,u(e)?(l.setAttribute("data-z-index",e),e=+e,this[t]===e&&(n=!1)):u(this[t])&&l.removeAttribute("data-z-index"),this[t]=e,n){for((e=this.zIndex)&&s&&(s.handleZ=!0),i=(t=c.childNodes).length-1;0<=i&&!r;i--)n=(s=t[i]).getAttribute("data-z-index"),a=!u(n),s!==l&&(0>e&&a&&!o&&!i?(c.insertBefore(l,t[i]),r=!0):(R(n)<=e||a&&(!u(e)||0<=e))&&(c.insertBefore(l,t[i+1]||null),r=!0));r||(c.insertBefore(l,t[o?3:0]||null),r=!0)}return r},_defaultSetter:function(e,t,n){n.setAttribute(t,e)}}),t.prototype.yGetter=t.prototype.xGetter,t.prototype.translateXSetter=t.prototype.translateYSetter=t.prototype.rotationSetter=t.prototype.verticalAlignSetter=t.prototype.rotationOriginXSetter=t.prototype.rotationOriginYSetter=t.prototype.scaleXSetter=t.prototype.scaleYSetter=t.prototype.matrixSetter=function(e,t){this[t]=e,this.doTransform=!0},t.prototype["stroke-widthSetter"]=t.prototype.strokeSetter=function(e,n,r){this[n]=e,this.stroke&&this["stroke-width"]?(t.prototype.fillSetter.call(this,this.stroke,"stroke",r),r.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0):"stroke-width"===n&&0===e&&this.hasStroke&&(r.removeAttribute("stroke"),this.hasStroke=!1)},n=e.SVGRenderer=function(){this.init.apply(this,arguments)},m(n.prototype,{Element:t,SVG_NS:M,init:function(e,t,n,a,o,s){var l,u;l=(a=this.createElement("svg").attr({version:"1.1",class:"highcharts-root"}).css(this.getStyle(a))).element,e.appendChild(l),i(e,"dir","ltr"),-1===e.innerHTML.indexOf("xmlns")&&i(l,"xmlns",this.SVG_NS),this.isSVG=!0,this.box=l,this.boxWrapper=a,this.alignedObjects=[],this.url=(_||C)&&f.getElementsByTagName("base").length?j.location.href.split("#")[0].replace(/<[^>]*>/g,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"",this.createElement("desc").add().element.appendChild(f.createTextNode("Created with Highcharts 6.2.0")),this.defs=this.createElement("defs").add(),this.allowHTML=s,this.forExport=o,this.gradients={},this.cache={},this.cacheKeys=[],this.imgCount=0,this.setSize(t,n,!1),_&&e.getBoundingClientRect&&((t=function(){c(e,{left:0,top:0}),u=e.getBoundingClientRect(),c(e,{left:Math.ceil(u.left)-u.left+"px",top:Math.ceil(u.top)-u.top+"px"})})(),this.unSubPixelFix=r(j,"resize",t))},getStyle:function(e){return this.style=m({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},e)},setStyle:function(e){this.boxWrapper.css(this.getStyle(e))},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var e=this.defs;return this.box=null,this.boxWrapper=this.boxWrapper.destroy(),p(this.gradients||{}),this.gradients=null,e&&(this.defs=e.destroy()),this.unSubPixelFix&&this.unSubPixelFix(),this.alignedObjects=null},createElement:function(e){var t=new this.Element;return t.init(this,e),t},draw:O,getRadialAttr:function(e,t){return{cx:e[0]-e[2]/2+t.cx*e[2],cy:e[1]-e[2]/2+t.cy*e[2],r:t.r*e[2]}},truncate:function(e,t,n,r,a,i,o){var s,c,l,u=this,d=e.rotation,p=r?1:0,h=(n||r).length,m=h,g=[],v=function(e){t.firstChild&&t.removeChild(t.firstChild),e&&t.appendChild(f.createTextNode(e))},b=function(i,s){if(void 0===g[s=s||i])if(t.getSubStringLength)try{g[s]=a+t.getSubStringLength(0,r?s+1:s)}catch(e){}else u.getSpanWidth&&(v(o(n||r,i)),g[s]=a+u.getSpanWidth(e,t));return g[s]};if(e.rotation=0,c=b(t.textContent.length),l=a+c>i){for(;p<=h;)m=Math.ceil((p+h)/2),r&&(s=o(r,m)),c=b(m,s&&s.length-1),p===h?p=h+1:c>i?h=m-1:p=m;0===h?v(""):n&&h===n.length-1||v(s||o(n||r,m))}return r&&r.splice(0,m),e.actualWidth=c,e.rotation=d,l},escapes:{"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"},buildText:function(e){var t,n,r,a=e.element,o=this,s=o.forExport,l=T(e.textStr,"").toString(),u=-1!==l.indexOf("<"),d=a.childNodes,p=i(a,"x"),m=e.styles,g=e.textWidth,b=m&&m.lineHeight,E=m&&m.textOutline,_=m&&"ellipsis"===m.textOverflow,w=m&&"nowrap"===m.whiteSpace,S=m&&m.fontSize,k=d.length,C=(m=g&&!e.added&&this.box,function(e){var t;return t=/(px|em)$/.test(e&&e.style.fontSize)?e.style.fontSize:S||o.style.fontSize||12,b?R(b):o.fontMetrics(t,e.getAttribute("style")?e:a).h}),N=function(e,t){return x(o.escapes,function(n,r){t&&-1!==y(n,t)||(e=e.toString().replace(new RegExp(n,"g"),r))}),e},O=function(e,t){var n;if(n=e.indexOf("<"),-1!==(n=(e=e.substring(n,e.indexOf(">")-n)).indexOf(t+"="))&&(n=n+t.length+1,'"'===(t=e.charAt(n))||"'"===t))return(e=e.substring(n+1)).substring(0,e.indexOf(t))};if((n=[l,_,w,b,E,S,g].join())!==e.textCache){for(e.textCache=n;k--;)a.removeChild(d[k]);u||E||_||g||-1!==l.indexOf(" ")?(m&&m.appendChild(a),l=u?l.replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g):[l],l=v(l,function(e){return""!==e}),h(l,function(n,l){var u,d=0,m=0;n=n.replace(/^\s+|\s+$/g,"").replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||"),u=n.split("|||"),h(u,function(n){if(""!==n||1===u.length){var h,v,b={},y=f.createElementNS(o.SVG_NS,"tspan");if((h=O(n,"class"))&&i(y,"class",h),(h=O(n,"style"))&&(h=h.replace(/(;| |^)color([ :])/,"$1fill$2"),i(y,"style",h)),(v=O(n,"href"))&&!s&&(i(y,"onclick",'location.href="'+v+'"'),i(y,"class","highcharts-anchor"),c(y,{cursor:"pointer"}))," "!==(n=N(n.replace(/<[a-zA-Z\/](.|\n)*?>/g,"")||" "))){if(y.appendChild(f.createTextNode(n)),d?b.dx=0:l&&null!==p&&(b.x=p),i(y,b),a.appendChild(y),!d&&r&&(!A&&s&&c(y,{display:"block"}),i(y,"dy",C(y))),g){var E=n.replace(/([^\^])-/g,"$1- ").split(" ");b=!w&&(1<u.length||l||1<E.length);v=0;var k=C(y);if(_)t=o.truncate(e,y,n,void 0,0,Math.max(0,g-parseInt(S||12,10)),function(e,t){return e.substring(0,t)+"…"});else if(b)for(;E.length;)E.length&&!w&&0<v&&(y=f.createElementNS(M,"tspan"),i(y,{dy:k,x:p}),h&&i(y,"style",h),y.appendChild(f.createTextNode(E.join(" ").replace(/- /g,"-"))),a.appendChild(y)),o.truncate(e,y,null,E,0===v?m:0,g,function(e,t){return E.slice(0,t).join(" ").replace(/- /g,"-")}),m=e.actualWidth,v++}d++}}}),r=r||a.childNodes.length}),_&&t&&e.attr("title",N(e.textStr,["&lt;","&gt;"])),m&&m.removeChild(a),E&&e.applyTextOutline&&e.applyTextOutline(E)):a.appendChild(f.createTextNode(N(l)))}},getContrast:function(e){return(e=s(e).rgba)[0]*=1,e[1]*=1.2,e[2]*=.5,459<e[0]+e[1]+e[2]?"#000000":"#FFFFFF"},button:function(e,t,n,a,i,o,s,c,l){var u,d,p,f,h=this.label(e,t,n,l,null,null,null,null,"button"),g=0;return h.attr(N({padding:8,r:2},i)),i=N({fill:"#f7f7f7",stroke:"#cccccc","stroke-width":1,style:{color:"#333333",cursor:"pointer",fontWeight:"normal"}},i),u=i.style,delete i.style,o=N(i,{fill:"#e6e6e6"},o),d=o.style,delete o.style,s=N(i,{fill:"#e6ebf5",style:{color:"#000000",fontWeight:"bold"}},s),p=s.style,delete s.style,c=N(i,{style:{color:"#cccccc"}},c),f=c.style,delete c.style,r(h.element,w?"mouseover":"mouseenter",function(){3!==g&&h.setState(1)}),r(h.element,w?"mouseout":"mouseleave",function(){3!==g&&h.setState(g)}),h.setState=function(e){1!==e&&(h.state=g=e),h.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][e||0]),h.attr([i,o,s,c][e||0]).css([u,d,p,f][e||0])},h.attr(i).css(m({cursor:"default"},u)),h.on("click",function(e){3!==g&&a.call(h,e)})},crispLine:function(e,t){return e[1]===e[4]&&(e[1]=e[4]=Math.round(e[1])-t%2/2),e[2]===e[5]&&(e[2]=e[5]=Math.round(e[2])+t%2/2),e},path:function(e){var t={fill:"none"};return E(e)?t.d=e:S(e)&&m(t,e),this.createElement("path").attr(t)},circle:function(e,t,n){return e=S(e)?e:{x:e,y:t,r:n},(t=this.createElement("circle")).xSetter=t.ySetter=function(e,t,n){n.setAttribute("c"+t,e)},t.attr(e)},arc:function(e,t,n,r,a,i){return S(e)?(t=(r=e).y,n=r.r,e=r.x):r={innerR:r,start:a,end:i},(e=this.symbol("arc",e,t,n,n,r)).r=n,e},rect:function(e,t,n,r,a,o){a=S(e)?e.r:a;var s=this.createElement("rect");return e=S(e)?e:void 0===e?{}:{x:e,y:t,width:Math.max(n,0),height:Math.max(r,0)},void 0!==o&&(e.strokeWidth=o,e=s.crisp(e)),e.fill="none",a&&(e.r=a),s.rSetter=function(e,t,n){i(n,{rx:e,ry:e})},s.attr(e)},setSize:function(e,t,n){var r=this.alignedObjects,a=r.length;for(this.width=e,this.height=t,this.boxWrapper.animate({width:e,height:t},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:T(n,!0)?void 0:0});a--;)r[a].align()},g:function(e){var t=this.createElement("g");return e?t.attr({class:"highcharts-"+e}):t},image:function(e,t,n,a,i,o){var s,c={preserveAspectRatio:"none"},l=function(e,t){e.setAttributeNS?e.setAttributeNS("http://www.w3.org/1999/xlink","href",t):e.setAttribute("hc-svg-href",t)},u=function(t){l(s.element,e),o.call(s,t)};return 1<arguments.length&&m(c,{x:t,y:n,width:a,height:i}),s=this.createElement("image").attr(c),o?(l(s.element,"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),c=new j.Image,r(c,"load",u),c.src=e,c.complete&&u({})):l(s.element,e),s},symbol:function(e,t,n,r,a,i){var s,d,p,g=this,v=/^url\((.*?)\)$/,b=v.test(e),y=!b&&(this.symbols[e]?e:"circle"),E=y&&this.symbols[y],_=u(t)&&E&&E.call(this.symbols,Math.round(t),Math.round(n),r,a,i);return E?((s=this.path(_)).attr("fill","none"),m(s,{symbolName:y,x:t,y:n,width:r,height:a}),i&&m(s,i)):b&&(d=e.match(v)[1],(s=this.image(d)).imgwidth=T(D[d]&&D[d].width,i&&i.width),s.imgheight=T(D[d]&&D[d].height,i&&i.height),p=function(){s.attr({width:s.width,height:s.height})},h(["width","height"],function(e){s[e+"Setter"]=function(e,t){var n={},r=this["img"+t],a="width"===t?"translateX":"translateY";this[t]=e,u(r)&&(this.element&&this.element.setAttribute(t,r),this.alignByTranslate||(n[a]=((this[t]||0)-r)/2,this.attr(n)))}}),u(t)&&s.attr({x:t,y:n}),s.isImg=!0,u(s.imgwidth)&&u(s.imgheight)?p():(s.attr({width:0,height:0}),l("img",{onload:function(){var e=o[g.chartIndex];0===this.width&&(c(this,{position:"absolute",top:"-999em"}),f.body.appendChild(this)),D[d]={width:this.width,height:this.height},s.imgwidth=this.width,s.imgheight=this.height,s.element&&p(),this.parentNode&&this.parentNode.removeChild(this),g.imgCount--,!g.imgCount&&e&&e.onload&&e.onload()},src:d}),this.imgCount++)),s},symbols:{circle:function(e,t,n,r){return this.arc(e+n/2,t+r/2,n/2,r/2,{start:0,end:2*Math.PI,open:!1})},square:function(e,t,n,r){return["M",e,t,"L",e+n,t,e+n,t+r,e,t+r,"Z"]},triangle:function(e,t,n,r){return["M",e+n/2,t,"L",e+n,t+r,e,t+r,"Z"]},"triangle-down":function(e,t,n,r){return["M",e,t,"L",e+n,t,e+n/2,t+r,"Z"]},diamond:function(e,t,n,r){return["M",e+n/2,t,"L",e+n,t+r/2,e+n/2,t+r,e,t+r/2,"Z"]},arc:function(e,t,n,r,a){var i=a.start,o=a.r||n,s=a.r||r||n,c=a.end-.001;n=a.innerR,r=T(a.open,.001>Math.abs(a.end-a.start-2*Math.PI));var l=Math.cos(i),d=Math.sin(i),p=Math.cos(c);c=Math.sin(c);return o=["M",e+o*l,t+s*d,"A",o,s,0,a=.001>a.end-i-Math.PI?0:1,1,e+o*p,t+s*c],u(n)&&o.push(r?"M":"L",e+n*p,t+n*c,"A",n,n,0,a,0,e+n*l,t+n*d),o.push(r?"":"Z"),o},callout:function(e,t,n,r,a){var i,o=Math.min(a&&a.r||0,n,r),s=o+6,c=a&&a.anchorX;return a=a&&a.anchorY,i=["M",e+o,t,"L",e+n-o,t,"C",e+n,t,e+n,t,e+n,t+o,"L",e+n,t+r-o,"C",e+n,t+r,e+n,t+r,e+n-o,t+r,"L",e+o,t+r,"C",e,t+r,e,t+r,e,t+r-o,"L",e,t+o,"C",e,t,e,t,e+o,t],c&&c>n?a>t+s&&a<t+r-s?i.splice(13,3,"L",e+n,a-6,e+n+6,a,e+n,a+6,e+n,t+r-o):i.splice(13,3,"L",e+n,r/2,c,a,e+n,r/2,e+n,t+r-o):c&&0>c?a>t+s&&a<t+r-s?i.splice(33,3,"L",e,a+6,e-6,a,e,a-6,e,t+o):i.splice(33,3,"L",e,r/2,c,a,e,r/2,e,t+o):a&&a>r&&c>e+s&&c<e+n-s?i.splice(23,3,"L",c+6,t+r,c,t+r+6,c-6,t+r,e+o,t+r):a&&0>a&&c>e+s&&c<e+n-s&&i.splice(3,3,"L",c-6,t,c,t-6,c+6,t,n-o,t),i}},clipRect:function(t,n,r,a){var i=e.uniqueKey(),o=this.createElement("clipPath").attr({id:i}).add(this.defs);return(t=this.rect(t,n,r,a,0).add(o)).id=i,t.clipPath=o,t.count=0,t},text:function(e,t,n,r){var a={};return!r||!this.allowHTML&&this.forExport?(a.x=Math.round(t||0),n&&(a.y=Math.round(n)),u(e)&&(a.text=e),e=this.createElement("text").attr(a),r||(e.xSetter=function(e,t,n){var r,a,i=n.getElementsByTagName("tspan"),o=n.getAttribute(t);for(a=0;a<i.length;a++)(r=i[a]).getAttribute(t)===o&&r.setAttribute(t,e);n.setAttribute(t,e)}),e):this.html(e,t,n)},fontMetrics:function(e,t){return e=e||t&&t.style&&t.style.fontSize||this.style&&this.style.fontSize,{h:t=24>(e=/px/.test(e)?R(e):/em/.test(e)?parseFloat(e)*(t?this.fontMetrics(null,t.parentNode).f:16):12)?e+3:Math.round(1.2*e),b:Math.round(.8*t),f:e}},rotCorr:function(e,t,n){var r=e;return t&&n&&(r=Math.max(r*Math.cos(t*d),4)),{x:-e/3*Math.sin(t*d),y:r}},label:function(n,r,a,i,o,s,c,l,d){var p,f,g,v,b,y,E,_,w,S,k,C,O,x=this,T=x.g("button"!==d&&"label"),R=T.text=x.text("",0,0,c).attr({zIndex:1}),I=0,A=3,M=0,D={},j=/^url\((.*?)\)$/.test(i),L=j;d&&T.addClass("highcharts-"+d),L=j,S=function(){return(_||0)%2/2},k=function(){var e=R.element.style,t={};f=(void 0===g||void 0===v||E)&&u(R.textStr)&&R.getBBox(),T.width=(g||f.width||0)+2*A+M,T.height=(v||f.height||0)+2*A,w=A+x.fontMetrics(e&&e.fontSize,R).b,L&&(p||(T.box=p=x.symbols[i]||j?x.symbol(i):x.rect(),p.addClass(("button"===d?"":"highcharts-label-box")+(d?" highcharts-"+d+"-box":"")),p.add(T),e=S(),t.x=e,t.y=(l?-w:0)+e),t.width=Math.round(T.width),t.height=Math.round(T.height),p.attr(m(t,D)),D={})},C=function(){var e,t=M+A;e=l?0:w,u(g)&&f&&("center"===E||"right"===E)&&(t+={center:.5,right:1}[E]*(g-f.width)),t===R.x&&e===R.y||(R.attr("x",t),R.hasBoxWidthChanged&&(f=R.getBBox(!0),k()),void 0!==e&&R.attr("y",e)),R.x=t,R.y=e},O=function(e,t){p?p.attr(e,t):D[e]=t},T.onAdd=function(){R.add(T),T.attr({text:n||0===n?n:"",x:r,y:a}),p&&u(o)&&T.attr({anchorX:o,anchorY:s})},T.widthSetter=function(t){g=e.isNumber(t)?t:null},T.heightSetter=function(e){v=e},T["text-alignSetter"]=function(e){E=e},T.paddingSetter=function(e){u(e)&&e!==A&&(A=T.padding=e,C())},T.paddingLeftSetter=function(e){u(e)&&e!==M&&(M=e,C())},T.alignSetter=function(e){(e={left:0,center:.5,right:1}[e])!==I&&(I=e,f&&T.attr({x:b}))},T.textSetter=function(e){void 0!==e&&R.textSetter(e),k(),C()},T["stroke-widthSetter"]=function(e,t){e&&(L=!0),_=this["stroke-width"]=e,O(t,e)},T.strokeSetter=T.fillSetter=T.rSetter=function(e,t){"r"!==t&&("fill"===t&&e&&(L=!0),T[t]=e),O(t,e)},T.anchorXSetter=function(e,t){o=T.anchorX=e,O(t,Math.round(e)-S()-b)},T.anchorYSetter=function(e,t){s=T.anchorY=e,O(t,e-y)},T.xSetter=function(e){T.x=e,I&&(e-=I*((g||f.width)+2*A),T["forceAnimate:x"]=!0),b=Math.round(e),T.attr("translateX",b)},T.ySetter=function(e){y=T.y=Math.round(e),T.attr("translateY",y)};var F=T.css;return m(T,{css:function(e){if(e){var t={};e=N(e),h(T.textProps,function(n){void 0!==e[n]&&(t[n]=e[n],delete e[n])}),R.css(t),"width"in t&&k()}return F.call(T,e)},getBBox:function(){return{width:f.width+2*A,height:f.height+2*A,x:f.x-A,y:f.y-A}},shadow:function(e){return e&&(k(),p&&p.shadow(e)),T},destroy:function(){P(T.element,"mouseenter"),P(T.element,"mouseleave"),R&&(R=R.destroy()),p&&(p=p.destroy()),t.prototype.destroy.call(T),T=x=k=C=O=null}})}}),e.Renderer=n}(l),function(e){var t=e.attr,n=e.createElement,r=e.css,a=e.defined,i=e.each,o=e.extend,s=e.isFirefox,c=e.isMS,l=e.isWebKit,u=e.pick,d=e.pInt,p=e.SVGRenderer,f=e.win,h=e.wrap;o(e.SVGElement.prototype,{htmlCss:function(e){var t="SPAN"===this.element.tagName&&e&&"width"in e,n=u(t&&e.width,void 0);return t&&(delete e.width,this.textWidth=n,this.htmlUpdateTransform()),e&&"ellipsis"===e.textOverflow&&(e.whiteSpace="nowrap",e.overflow="hidden"),this.styles=o(this.styles,e),r(this.element,e),this},htmlGetBBox:function(){var e=this.element;return{x:e.offsetLeft,y:e.offsetTop,width:e.offsetWidth,height:e.offsetHeight}},htmlUpdateTransform:function(){if(this.added){var e=this.renderer,t=this.element,n=this.translateX||0,o=this.translateY||0,s=this.x||0,c=this.y||0,l=this.textAlign||"left",u={left:0,center:.5,right:1}[l],p=(h=this.styles)&&h.whiteSpace;if(r(t,{marginLeft:n,marginTop:o}),this.shadows&&i(this.shadows,function(e){r(e,{marginLeft:n+1,marginTop:o+1})}),this.inverted&&i(t.childNodes,function(n){e.invertChild(n,t)}),"SPAN"===t.tagName){var f,h=this.rotation,m=this.textWidth&&d(this.textWidth),g=[h,l,t.innerHTML,this.textWidth,this.textAlign].join();(f=m!==this.oldTextWidth)&&!(f=m>this.oldTextWidth)&&((f=this.textPxLength)||(r(t,{width:"",whiteSpace:p||"nowrap"}),f=t.offsetWidth),f=f>m),f&&/[ \-]/.test(t.textContent||t.innerText)?(r(t,{width:m+"px",display:"block",whiteSpace:p||"normal"}),this.oldTextWidth=m,this.hasBoxWidthChanged=!0):this.hasBoxWidthChanged=!1,g!==this.cTT&&(p=e.fontMetrics(t.style.fontSize).b,!a(h)||h===(this.oldRotation||0)&&l===this.oldAlign||this.setSpanRotation(h,u,p),this.getSpanCorrection(!a(h)&&this.textPxLength||t.offsetWidth,p,u,h,l)),r(t,{left:s+(this.xCorr||0)+"px",top:c+(this.yCorr||0)+"px"}),this.cTT=g,this.oldRotation=h,this.oldAlign=l}}else this.alignOnAdd=!0},setSpanRotation:function(e,t,n){var a={},i=this.renderer.getTransformKey();a[i]=a.transform="rotate("+e+"deg)",a[i+(s?"Origin":"-origin")]=a.transformOrigin=100*t+"% "+n+"px",r(this.element,a)},getSpanCorrection:function(e,t,n){this.xCorr=-e*n,this.yCorr=-t}}),o(p.prototype,{getTransformKey:function(){return c&&!/Edge/.test(f.navigator.userAgent)?"-ms-transform":l?"-webkit-transform":s?"MozTransform":f.opera?"-o-transform":""},html:function(e,r,a){var s=this.createElement("span"),c=s.element,l=s.renderer,d=l.isSVG,p=function(e,t){i(["opacity","visibility"],function(n){h(e,n+"Setter",function(e,n,r,a){e.call(this,n,r,a),t[r]=n})}),e.addedSetters=!0};return s.textSetter=function(e){e!==c.innerHTML&&delete this.bBox,this.textStr=e,c.innerHTML=u(e,""),s.doTransform=!0},d&&p(s,s.element.style),s.xSetter=s.ySetter=s.alignSetter=s.rotationSetter=function(e,t){"align"===t&&(t="textAlign"),s[t]=e,s.doTransform=!0},s.afterSetters=function(){this.doTransform&&(this.htmlUpdateTransform(),this.doTransform=!1)},s.attr({text:e,x:Math.round(r),y:Math.round(a)}).css({fontFamily:this.style.fontFamily,fontSize:this.style.fontSize,position:"absolute"}),c.style.whiteSpace="nowrap",s.css=s.htmlCss,d&&(s.add=function(e){var r,a=l.box.parentNode,u=[];if(this.parentGroup=e){if(!(r=e.div)){for(;e;)u.push(e),e=e.parentGroup;i(u.reverse(),function(e){function i(t,n){e[n]=t,"translateX"===n?c.left=t+"px":c.top=t+"px",e.doTransform=!0}var c,l=t(e.element,"class");l&&(l={className:l}),r=e.div=e.div||n("div",l,{position:"absolute",left:(e.translateX||0)+"px",top:(e.translateY||0)+"px",display:e.display,opacity:e.opacity,pointerEvents:e.styles&&e.styles.pointerEvents},r||a),c=r.style,o(e,{classSetter:function(e){return function(t){this.element.setAttribute("class",t),e.className=t}}(r),on:function(){return u[0].div&&s.on.apply({element:u[0].div},arguments),e},translateXSetter:i,translateYSetter:i}),e.addedSetters||p(e,c)})}}else r=a;return r.appendChild(c),s.added=!0,s.alignOnAdd&&s.htmlUpdateTransform(),s}),s}})}(l),function(e){var t=e.defined,n=e.each,r=e.extend,a=e.merge,i=e.pick,o=e.timeUnits,s=e.win;e.Time=function(e){this.update(e,!1)},e.Time.prototype={defaultOptions:{},update:function(e){var t=i(e&&e.useUTC,!0),n=this;this.options=e=a(!0,this.options||{},e),this.Date=e.Date||s.Date,this.timezoneOffset=(this.useUTC=t)&&e.timezoneOffset,this.getTimezoneOffset=this.timezoneOffsetFunction(),(this.variableTimezone=!(t&&!e.getTimezoneOffset&&!e.timezone))||this.timezoneOffset?(this.get=function(e,t){var r=t.getTime(),a=r-n.getTimezoneOffset(t);return t.setTime(a),e=t["getUTC"+e](),t.setTime(r),e},this.set=function(e,t,r){var a;"Milliseconds"===e||"Seconds"===e||"Minutes"===e&&0==t.getTimezoneOffset()%60?t["set"+e](r):(a=n.getTimezoneOffset(t),a=t.getTime()-a,t.setTime(a),t["setUTC"+e](r),e=n.getTimezoneOffset(t),a=t.getTime()+e,t.setTime(a))}):t?(this.get=function(e,t){return t["getUTC"+e]()},this.set=function(e,t,n){return t["setUTC"+e](n)}):(this.get=function(e,t){return t["get"+e]()},this.set=function(e,t,n){return t["set"+e](n)})},makeTime:function(t,n,r,a,o,s){var c,l,u;return this.useUTC?(c=this.Date.UTC.apply(0,arguments),c+=l=this.getTimezoneOffset(c),l!==(u=this.getTimezoneOffset(c))?c+=u-l:l-36e5!==this.getTimezoneOffset(c-36e5)||e.isSafari||(c-=36e5)):c=new this.Date(t,n,i(r,1),i(a,0),i(o,0),i(s,0)).getTime(),c},timezoneOffsetFunction:function(){var t=this,n=this.options,r=s.moment;if(!this.useUTC)return function(e){return 6e4*new Date(e).getTimezoneOffset()};if(n.timezone){if(r)return function(e){return 6e4*-r.tz(e,n.timezone).utcOffset()};e.error(25)}return this.useUTC&&n.getTimezoneOffset?function(e){return 6e4*n.getTimezoneOffset(e)}:function(){return 6e4*(t.timezoneOffset||0)}},dateFormat:function(t,n,r){if(!e.defined(n)||isNaN(n))return e.defaultOptions.lang.invalidDate||"";t=e.pick(t,"%Y-%m-%d %H:%M:%S");var a=this,i=new this.Date(n),o=this.get("Hours",i),s=this.get("Day",i),c=this.get("Date",i),l=this.get("Month",i),u=this.get("FullYear",i),d=e.defaultOptions.lang,p=d.weekdays,f=d.shortWeekdays,h=e.pad;i=e.extend({a:f?f[s]:p[s].substr(0,3),A:p[s],d:h(c),e:h(c,2," "),w:s,b:d.shortMonths[l],B:d.months[l],m:h(l+1),o:l+1,y:u.toString().substr(2,2),Y:u,H:h(o),k:o,I:h(o%12||12),l:o%12||12,M:h(a.get("Minutes",i)),p:12>o?"AM":"PM",P:12>o?"am":"pm",S:h(i.getSeconds()),L:h(Math.floor(n%1e3),3)},e.dateFormats);return e.objectEach(i,function(e,r){for(;-1!==t.indexOf("%"+r);)t=t.replace("%"+r,"function"==typeof e?e.call(a,n):e)}),r?t.substr(0,1).toUpperCase()+t.substr(1):t},resolveDTLFormat:function(t){return e.isObject(t,!0)?t:{main:(t=e.splat(t))[0],from:t[1],to:t[2]}},getTimeTicks:function(e,a,s,c){var l,u,d=this,p=[],f={};l=new d.Date(a);var h,m=e.unitRange,g=e.count||1;if(c=i(c,1),t(a)){d.set("Milliseconds",l,m>=o.second?0:g*Math.floor(d.get("Milliseconds",l)/g)),m>=o.second&&d.set("Seconds",l,m>=o.minute?0:g*Math.floor(d.get("Seconds",l)/g)),m>=o.minute&&d.set("Minutes",l,m>=o.hour?0:g*Math.floor(d.get("Minutes",l)/g)),m>=o.hour&&d.set("Hours",l,m>=o.day?0:g*Math.floor(d.get("Hours",l)/g)),m>=o.day&&d.set("Date",l,m>=o.month?1:g*Math.floor(d.get("Date",l)/g)),m>=o.month&&(d.set("Month",l,m>=o.year?0:g*Math.floor(d.get("Month",l)/g)),u=d.get("FullYear",l)),m>=o.year&&d.set("FullYear",l,u-u%g),m===o.week&&(u=d.get("Day",l),d.set("Date",l,d.get("Date",l)-u+c+(u<c?-7:0))),u=d.get("FullYear",l),c=d.get("Month",l);var v=d.get("Date",l),b=d.get("Hours",l);for(a=l.getTime(),d.variableTimezone&&(h=s-a>4*o.month||d.getTimezoneOffset(a)!==d.getTimezoneOffset(s)),a=l.getTime(),l=1;a<s;)p.push(a),a=m===o.year?d.makeTime(u+l*g,0):m===o.month?d.makeTime(u,c+l*g):!h||m!==o.day&&m!==o.week?h&&m===o.hour&&1<g?d.makeTime(u,c,v,b+l*g):a+m*g:d.makeTime(u,c,v+l*g*(m===o.day?1:7)),l++;p.push(a),m<=o.hour&&1e4>p.length&&n(p,function(e){0==e%18e5&&"000000000"===d.dateFormat("%H%M%S%L",e)&&(f[e]="day")})}return p.info=r(e,{higherRanks:f,totalRange:m*g}),p}}}(l),function(e){var t=e.color,n=e.merge;e.defaultOptions={colors:"#7cb5ec #434348 #90ed7d #f7a35c #8085e9 #f15c80 #e4d354 #2b908f #f45b5b #91e8e1".split(" "),symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),decimalPoint:".",numericSymbols:"kMGTPE".split(""),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{},time:e.Time.prototype.defaultOptions,chart:{borderRadius:0,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}},width:null,height:null,borderColor:"#335cad",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"},title:{text:"Chart title",align:"center",margin:15,widthAdjust:-44},subtitle:{text:"",align:"center",widthAdjust:-44},plotOptions:{},labels:{style:{position:"absolute",color:"#333333"}},legend:{enabled:!0,align:"center",alignColumns:!0,layout:"horizontal",labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{activeColor:"#003399",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",fontSize:"12px",fontWeight:"bold",textOverflow:"ellipsis"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#cccccc"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:e.svg,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},footerFormat:"",padding:8,snap:e.isTouchDevice?25:10,backgroundColor:t("#f7f7f7").setOpacity(.85).get(),borderWidth:1,headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">●</span> {series.name}: <b>{point.y}</b><br/>',shadow:!0,style:{color:"#333333",cursor:"default",fontSize:"12px",pointerEvents:"none",whiteSpace:"nowrap"}},credits:{enabled:!0,href:"https://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"9px"},text:"Highcharts.com"}},e.setOptions=function(t){return e.defaultOptions=n(!0,e.defaultOptions,t),e.time.update(n(e.defaultOptions.global,e.defaultOptions.time),!1),e.defaultOptions},e.getOptions=function(){return e.defaultOptions},e.defaultPlotOptions=e.defaultOptions.plotOptions,e.time=new e.Time(n(e.defaultOptions.global,e.defaultOptions.time)),e.dateFormat=function(t,n,r){return e.time.dateFormat(t,n,r)}}(l),function(e){var t=e.correctFloat,n=e.defined,r=e.destroyObjectProperties,a=e.fireEvent,i=e.isNumber,o=e.merge,s=e.pick,c=e.deg2rad;e.Tick=function(e,t,n,r,a){this.axis=e,this.pos=t,this.type=n||"",this.isNewLabel=this.isNew=!0,this.parameters=a||{},this.tickmarkOffset=this.parameters.tickmarkOffset,this.options=this.parameters.options,n||r||this.addLabel()},e.Tick.prototype={addLabel:function(){var r,a,i,c,l=this,u=l.axis,d=u.options,p=u.chart,f=u.categories,h=u.names,m=l.pos,g=s(l.options&&l.options.labels,d.labels),v=m===(E=u.tickPositions)[0],b=m===E[E.length-1],y=(f=this.parameters.category||(f?s(f[m],h[m],m):m),l.label),E=E.info;u.isDatetimeAxis&&E&&(r=(a=p.time.resolveDTLFormat(d.dateTimeLabelFormats[!d.grid&&E.higherRanks[m]||E.unitName])).main),l.isFirst=v,l.isLast=b,l.formatCtx={axis:u,chart:p,isFirst:v,isLast:b,dateTimeLabelFormat:r,tickPositionInfo:E,value:u.isLog?t(u.lin2log(f)):f,pos:m},d=u.labelFormatter.call(l.formatCtx,this.formatCtx),(c=a&&a.list)&&(l.shortenLabel=function(){for(i=0;i<c.length;i++)if(y.attr({text:u.labelFormatter.call(e.extend(l.formatCtx,{dateTimeLabelFormat:c[i]}))}),y.getBBox().width<u.getSlotWidth(l)-2*s(g.padding,5))return;y.attr({text:""})}),n(y)?y&&y.textStr!==d&&(!y.textWidth||g.style&&g.style.width||y.styles.width||y.css({width:null}),y.attr({text:d})):((l.label=y=n(d)&&g.enabled?p.renderer.text(d,0,0,g.useHTML).css(o(g.style)).add(u.labelGroup):null)&&(y.textPxLength=y.getBBox().width),l.rotation=0)},getLabelSize:function(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0},handleOverflow:function(e){var t,n=this.axis,r=n.options.labels,a=e.x,i=n.chart.chartWidth,o=n.chart.spacing,l=s(n.labelLeft,Math.min(n.pos,o[3])),u=(o=s(n.labelRight,Math.max(n.isRadial?0:n.pos+n.len,i-o[1])),this.label),d=this.rotation,p={left:0,center:.5,right:1}[n.labelAlign||u.attr("align")],f=u.getBBox().width,h=n.getSlotWidth(this),m=h,g=1,v={};d||"justify"!==s(r.overflow,"justify")?0>d&&a-p*f<l?t=Math.round(a/Math.cos(d*c)-l):0<d&&a+p*f>o&&(t=Math.round((i-a)/Math.cos(d*c))):(i=a+(1-p)*f,a-p*f<l?m=e.x+m*(1-p)-l:i>o&&(m=o-e.x+m*p,g=-1),(m=Math.min(h,m))<h&&"center"===n.labelAlign&&(e.x+=g*(h-m-p*(h-Math.min(f,m)))),(f>m||n.autoRotation&&(u.styles||{}).width)&&(t=m)),t&&(this.shortenLabel?this.shortenLabel():(v.width=t,(r.style||{}).textOverflow||(v.textOverflow="ellipsis"),u.css(v)))},getPosition:function(t,n,r,i){var o=this.axis,s=o.chart,c=i&&s.oldChartHeight||s.chartHeight;return t={x:t?e.correctFloat(o.translate(n+r,null,null,i)+o.transB):o.left+o.offset+(o.opposite?(i&&s.oldChartWidth||s.chartWidth)-o.right-o.left:0),y:t?c-o.bottom+o.offset-(o.opposite?o.height:0):e.correctFloat(c-o.translate(n+r,null,null,i)-o.transB)},a(this,"afterGetPosition",{pos:t}),t},getLabelPosition:function(e,t,r,i,o,s,l,u){var d=this.axis,p=d.transA,f=d.reversed,h=d.staggerLines,m=d.tickRotCorr||{x:0,y:0},g=o.y,v=i||d.reserveSpaceDefault?0:-d.labelOffset*("center"===d.labelAlign?.5:1),b={};return n(g)||(g=0===d.side?r.rotation?-8:-r.getBBox().height:2===d.side?m.y+8:Math.cos(r.rotation*c)*(m.y-r.getBBox(!1,0).height/2)),e=e+o.x+v+m.x-(s&&i?s*p*(f?-1:1):0),t=t+g-(s&&!i?s*p*(f?1:-1):0),h&&(r=l/(u||1)%h,d.opposite&&(r=h-r-1),t+=d.labelOffset/h*r),b.x=e,b.y=Math.round(t),a(this,"afterGetLabelPosition",{pos:b}),b},getMarkPath:function(e,t,n,r,a,i){return i.crispLine(["M",e,t,"L",e+(a?0:-n),t+(a?n:0)],r)},renderGridLine:function(e,t,n){var r=this.axis,a=r.options,i=this.gridLine,o={},c=this.pos,l=this.type,u=s(this.tickmarkOffset,r.tickmarkOffset),d=r.chart.renderer,p=l?l+"Grid":"grid",f=a[p+"LineWidth"],h=a[p+"LineColor"];a=a[p+"LineDashStyle"];i||(o.stroke=h,o["stroke-width"]=f,a&&(o.dashstyle=a),l||(o.zIndex=1),e&&(t=0),this.gridLine=i=d.path().attr(o).addClass("highcharts-"+(l?l+"-":"")+"grid-line").add(r.gridGroup)),i&&(n=r.getPlotLinePath(c+u,i.strokeWidth()*n,e,"pass"))&&i[e||this.isNew?"attr":"animate"]({d:n,opacity:t})},renderMark:function(e,t,n){var r=this.axis,a=r.options,i=r.chart.renderer,o=this.type,c=o?o+"Tick":"tick",l=r.tickSize(c),u=this.mark,d=!u,p=e.x;e=e.y;var f=s(a[c+"Width"],!o&&r.isXAxis?1:0);a=a[c+"Color"];l&&(r.opposite&&(l[0]=-l[0]),d&&(this.mark=u=i.path().addClass("highcharts-"+(o?o+"-":"")+"tick").add(r.axisGroup),u.attr({stroke:a,"stroke-width":f})),u[d?"attr":"animate"]({d:this.getMarkPath(p,e,l[0],u.strokeWidth()*n,r.horiz,i),opacity:t}))},renderLabel:function(e,t,n,r){var a=(d=this.axis).horiz,o=d.options,c=this.label,l=o.labels,u=l.step,d=s(this.tickmarkOffset,d.tickmarkOffset),p=!0,f=e.x;e=e.y,c&&i(f)&&(c.xy=e=this.getLabelPosition(f,e,c,a,l,d,r,u),this.isFirst&&!this.isLast&&!s(o.showFirstLabel,1)||this.isLast&&!this.isFirst&&!s(o.showLastLabel,1)?p=!1:!a||l.step||l.rotation||t||0===n||this.handleOverflow(e),u&&r%u&&(p=!1),p&&i(e.y)?(e.opacity=n,c[this.isNewLabel?"attr":"animate"](e),this.isNewLabel=!1):(c.attr("y",-9999),this.isNewLabel=!0))},render:function(t,n,r){var a=(l=this.axis).horiz,i=this.pos,o=s(this.tickmarkOffset,l.tickmarkOffset),c=(o=(i=this.getPosition(a,i,o,n)).x,i.y),l=a&&o===l.pos+l.len||!a&&c===l.pos?-1:1;r=s(r,1),this.isActive=!0,this.renderGridLine(n,r,l),this.renderMark(i,r,l),this.renderLabel(i,n,r,t),this.isNew=!1,e.fireEvent(this,"afterRender")},destroy:function(){r(this,this.axis)}}}(l);var u=function(e){var t=e.addEvent,n=e.animObject,r=e.arrayMax,a=e.arrayMin,i=e.color,o=e.correctFloat,s=e.defaultOptions,c=e.defined,l=e.deg2rad,u=e.destroyObjectProperties,d=e.each,p=e.extend,f=e.fireEvent,h=e.format,m=e.getMagnitude,g=e.grep,v=e.inArray,b=e.isArray,y=e.isNumber,E=e.isString,_=e.merge,w=e.normalizeTickInterval,S=e.objectEach,k=e.pick,C=e.removeEvent,N=e.splat,O=e.syncTimeout,x=e.Tick,T=function(){this.init.apply(this,arguments)};return e.extend(T.prototype,{defaultOptions:{dateTimeLabelFormats:{millisecond:{main:"%H:%M:%S.%L",range:!1},second:{main:"%H:%M:%S",range:!1},minute:{main:"%H:%M",range:!1},hour:{main:"%H:%M",range:!1},day:{main:"%e. %b"},week:{main:"%e. %b"},month:{main:"%b '%y"},year:{main:"%Y"}},endOnTick:!1,labels:{enabled:!0,indentation:10,x:0,style:{color:"#666666",cursor:"default",fontSize:"11px"}},maxPadding:.01,minorTickLength:2,minorTickPosition:"outside",minPadding:.01,startOfWeek:1,startOnTick:!1,tickLength:10,tickPixelInterval:100,tickmarkPlacement:"between",tickPosition:"outside",title:{align:"middle",style:{color:"#666666"}},type:"linear",minorGridLineColor:"#f2f2f2",minorGridLineWidth:1,minorTickColor:"#999999",lineColor:"#ccd6eb",lineWidth:1,gridLineColor:"#e6e6e6",tickColor:"#ccd6eb"},defaultYAxisOptions:{endOnTick:!0,maxPadding:.05,minPadding:.05,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8},startOnTick:!0,title:{rotation:270,text:"Values"},stackLabels:{allowOverlap:!1,enabled:!1,formatter:function(){return e.numberFormat(this.total,-1)},style:{color:"#000000",fontSize:"11px",fontWeight:"bold",textOutline:"1px contrast"}},gridLineWidth:1,lineWidth:0},defaultLeftAxisOptions:{labels:{x:-15},title:{rotation:270}},defaultRightAxisOptions:{labels:{x:15},title:{rotation:90}},defaultBottomAxisOptions:{labels:{autoRotation:[-45],x:0},title:{rotation:0}},defaultTopAxisOptions:{labels:{autoRotation:[-45],x:0},title:{rotation:0}},init:function(e,n){var r=n.isX,a=this;a.chart=e,a.horiz=e.inverted&&!a.isZAxis?!r:r,a.isXAxis=r,a.coll=a.coll||(r?"xAxis":"yAxis"),f(this,"init",{userOptions:n}),a.opposite=n.opposite,a.side=n.side||(a.horiz?a.opposite?0:2:a.opposite?1:3),a.setOptions(n);var i=this.options,o=i.type;a.labelFormatter=i.labels.formatter||a.defaultLabelFormatter,a.userOptions=n,a.minPixelPadding=0,a.reversed=i.reversed,a.visible=!1!==i.visible,a.zoomEnabled=!1!==i.zoomEnabled,a.hasNames="category"===o||!0===i.categories,a.categories=i.categories||a.hasNames,a.names||(a.names=[],a.names.keys={}),a.plotLinesAndBandsGroups={},a.isLog="logarithmic"===o,a.isDatetimeAxis="datetime"===o,a.positiveValuesOnly=a.isLog&&!a.allowNegativeLog,a.isLinked=c(i.linkedTo),a.ticks={},a.labelEdge=[],a.minorTicks={},a.plotLinesAndBands=[],a.alternateBands={},a.len=0,a.minRange=a.userMinRange=i.minRange||i.maxZoom,a.range=i.range,a.offset=i.offset||0,a.stacks={},a.oldStacks={},a.stacksTouched=0,a.max=null,a.min=null,a.crosshair=k(i.crosshair,N(e.options.tooltip.crosshairs)[r?0:1],!1),n=a.options.events,-1===v(a,e.axes)&&(r?e.axes.splice(e.xAxis.length,0,a):e.axes.push(a),e[a.coll].push(a)),a.series=a.series||[],e.inverted&&!a.isZAxis&&r&&void 0===a.reversed&&(a.reversed=!0),S(n,function(e,n){t(a,n,e)}),a.lin2log=i.linearToLogConverter||a.lin2log,a.isLog&&(a.val2lin=a.log2lin,a.lin2val=a.lin2log),f(this,"afterInit")},setOptions:function(e){this.options=_(this.defaultOptions,"yAxis"===this.coll&&this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],_(s[this.coll],e)),f(this,"afterSetOptions",{userOptions:e})},defaultLabelFormatter:function(){var t,n=this.axis,r=this.value,a=n.chart.time,i=n.categories,o=this.dateTimeLabelFormat,c=(l=s.lang).numericSymbols,l=l.numericSymbolMagnitude||1e3,u=c&&c.length,d=n.options.labels.format;n=n.isLog?Math.abs(r):n.tickInterval;if(d)t=h(d,this,a);else if(i)t=r;else if(o)t=a.dateFormat(o,r);else if(u&&1e3<=n)for(;u--&&void 0===t;)n>=(a=Math.pow(l,u+1))&&0==10*r%a&&null!==c[u]&&0!==r&&(t=e.numberFormat(r/a,-1)+c[u]);return void 0===t&&(t=1e4<=Math.abs(r)?e.numberFormat(r,-1):e.numberFormat(r,-1,void 0,"")),t},getSeriesExtremes:function(){var e=this,t=e.chart;f(this,"getSeriesExtremes",null,function(){e.hasVisibleSeries=!1,e.dataMin=e.dataMax=e.threshold=null,e.softThreshold=!e.isXAxis,e.buildStacks&&e.buildStacks(),d(e.series,function(n){if(n.visible||!t.options.chart.ignoreHiddenSeries){var i,o=n.options,s=o.threshold;e.hasVisibleSeries=!0,e.positiveValuesOnly&&0>=s&&(s=null),e.isXAxis?(o=n.xData).length&&(n=a(o),i=r(o),y(n)||n instanceof Date||(o=g(o,y),n=a(o),i=r(o)),o.length&&(e.dataMin=Math.min(k(e.dataMin,o[0],n),n),e.dataMax=Math.max(k(e.dataMax,o[0],i),i))):(n.getExtremes(),i=n.dataMax,n=n.dataMin,c(n)&&c(i)&&(e.dataMin=Math.min(k(e.dataMin,n),n),e.dataMax=Math.max(k(e.dataMax,i),i)),c(s)&&(e.threshold=s),(!o.softThreshold||e.positiveValuesOnly)&&(e.softThreshold=!1))}})}),f(this,"afterGetSeriesExtremes")},translate:function(e,t,n,r,a,i){var o=this.linkedParent||this,s=1,c=0,l=r?o.oldTransA:o.transA;r=r?o.oldMin:o.min;var u=o.minPixelPadding;return a=(o.isOrdinal||o.isBroken||o.isLog&&a)&&o.lin2val,l||(l=o.transA),n&&(s*=-1,c=o.len),o.reversed&&(c-=(s*=-1)*(o.sector||o.len)),t?(e=(e*s+c-u)/l+r,a&&(e=o.lin2val(e))):(a&&(e=o.val2lin(e)),e=y(r)?s*(e-r)*l+c+s*u+(y(i)?l*i:0):void 0),e},toPixels:function(e,t){return this.translate(e,!1,!this.horiz,null,!0)+(t?0:this.pos)},toValue:function(e,t){return this.translate(e-(t?0:this.pos),!0,!this.horiz,null,!0)},getPlotLinePath:function(e,t,n,r,a){var i,o,s,c=this.chart,l=this.left,u=this.top,d=n&&c.oldChartHeight||c.chartHeight,p=n&&c.oldChartWidth||c.chartWidth;i=this.transB;var f=function(e,t,n){return("pass"!==r&&e<t||e>n)&&(r?e=Math.min(Math.max(t,e),n):s=!0),e};return a=k(a,this.translate(e,null,null,n)),a=Math.min(Math.max(-1e5,a),1e5),e=n=Math.round(a+i),i=o=Math.round(d-a-i),y(a)?this.horiz?(i=u,o=d-this.bottom,e=n=f(e,l,l+this.width)):(e=l,n=p-this.right,i=o=f(i,u,u+this.height)):(s=!0,r=!1),s&&!r?null:c.renderer.crispLine(["M",e,i,"L",n,o],t||1)},getLinearTickPositions:function(e,t,n){var r,a=o(Math.floor(t/e)*e);n=o(Math.ceil(n/e)*e);var i,s=[];if(o(a+e)===a&&(i=20),this.single)return[t];for(t=a;t<=n&&(s.push(t),(t=o(t+e,i))!==r);)r=t;return s},getMinorTickInterval:function(){var e=this.options;return!0===e.minorTicks?k(e.minorTickInterval,"auto"):!1===e.minorTicks?null:e.minorTickInterval},getMinorTickPositions:function(){var e=this,t=e.options,n=e.tickPositions,r=e.minorTickInterval,a=[],i=e.pointRangePadding||0,o=e.min-i,s=(i=e.max+i)-o;if(s&&s/r<e.len/3)if(e.isLog)d(this.paddedTicks,function(t,n,i){n&&a.push.apply(a,e.getLogTickPositions(r,i[n-1],i[n],!0))});else if(e.isDatetimeAxis&&"auto"===this.getMinorTickInterval())a=a.concat(e.getTimeTicks(e.normalizeTimeTickInterval(r),o,i,t.startOfWeek));else for(t=o+(n[0]-o)%r;t<=i&&t!==a[0];t+=r)a.push(t);return 0!==a.length&&e.trimTicks(a),a},adjustForMinRange:function(){var e,t,n,i,o,s,l,u=this.options,p=this.min,f=this.max;this.isXAxis&&void 0===this.minRange&&!this.isLog&&(c(u.min)||c(u.max)?this.minRange=null:(d(this.series,function(e){for(s=e.xData,i=e.xIncrement?1:s.length-1;0<i;i--)o=s[i]-s[i-1],(void 0===n||o<n)&&(n=o)}),this.minRange=Math.min(5*n,this.dataMax-this.dataMin))),f-p<this.minRange&&(t=this.dataMax-this.dataMin>=this.minRange,e=[p-(e=((l=this.minRange)-f+p)/2),k(u.min,p-e)],t&&(e[2]=this.isLog?this.log2lin(this.dataMin):this.dataMin),f=[(p=r(e))+l,k(u.max,p+l)],t&&(f[2]=this.isLog?this.log2lin(this.dataMax):this.dataMax),(f=a(f))-p<l&&(e[0]=f-l,e[1]=k(u.min,f-l),p=r(e))),this.min=p,this.max=f},getClosest:function(){var e;return this.categories?e=1:d(this.series,function(t){var n=t.closestPointRange,r=t.visible||!t.chart.options.chart.ignoreHiddenSeries;!t.noSharedTooltip&&c(n)&&r&&(e=c(e)?Math.min(e,n):n)}),e},nameToX:function(e){var t,n=b(this.categories),r=n?this.categories:this.names,a=e.options.x;return e.series.requireSorting=!1,c(a)||(a=!1===this.options.uniqueNames?e.series.autoIncrement():n?v(e.name,r):k(r.keys[e.name],-1)),-1===a?n||(t=r.length):t=a,void 0!==t&&(this.names[t]=e.name,this.names.keys[e.name]=t),t},updateNames:function(){var t=this,n=this.names;0<n.length&&(d(e.keys(n.keys),function(e){delete n.keys[e]}),n.length=0,this.minRange=this.userMinRange,d(this.series||[],function(e){e.xIncrement=null,e.points&&!e.isDirtyData||(e.processData(),e.generatePoints()),d(e.points,function(n,r){var a;n.options&&(void 0!==(a=t.nameToX(n))&&a!==n.x&&(n.x=a,e.xData[r]=a))})}))},setAxisTranslation:function(e){var t,n=this,r=n.max-n.min,a=n.axisPointRange||0,i=0,o=0,s=n.linkedParent,c=!!n.categories,l=n.transA,u=n.isXAxis;(u||c||a)&&(t=n.getClosest(),s?(i=s.minPointOffset,o=s.pointRangePadding):d(n.series,function(e){var r=c?1:u?k(e.options.pointRange,t,0):n.axisPointRange||0;e=e.options.pointPlacement,a=Math.max(a,r),n.single||(i=Math.max(i,E(e)?0:r/2),o=Math.max(o,"on"===e?0:r))}),s=n.ordinalSlope&&t?n.ordinalSlope/t:1,n.minPointOffset=i*=s,n.pointRangePadding=o*=s,n.pointRange=Math.min(a,r),u&&(n.closestPointRange=t)),e&&(n.oldTransA=l),n.translationSlope=n.transA=l=n.staticScale||n.len/(r+o||1),n.transB=n.horiz?n.left:n.bottom,n.minPixelPadding=l*i,f(this,"afterSetAxisTranslation")},minFromRange:function(){return this.max-this.range},setTickInterval:function(t){var n,r,a,i,s=this,l=s.chart,u=s.options,p=s.isLog,h=s.isDatetimeAxis,g=s.isXAxis,v=s.isLinked,b=u.maxPadding,E=u.minPadding,_=u.tickInterval,S=u.tickPixelInterval,C=s.categories,N=y(s.threshold)?s.threshold:null,O=s.softThreshold;h||C||v||this.getTickAmount(),a=k(s.userMin,u.min),i=k(s.userMax,u.max),v?(s.linkedParent=l[s.coll][u.linkedTo],l=s.linkedParent.getExtremes(),s.min=k(l.min,l.dataMin),s.max=k(l.max,l.dataMax),u.type!==s.linkedParent.options.type&&e.error(11,1)):(!O&&c(N)&&(s.dataMin>=N?(n=N,E=0):s.dataMax<=N&&(r=N,b=0)),s.min=k(a,n,s.dataMin),s.max=k(i,r,s.dataMax)),p&&(s.positiveValuesOnly&&!t&&0>=Math.min(s.min,k(s.dataMin,s.min))&&e.error(10,1),s.min=o(s.log2lin(s.min),15),s.max=o(s.log2lin(s.max),15)),s.range&&c(s.max)&&(s.userMin=s.min=a=Math.max(s.dataMin,s.minFromRange()),s.userMax=i=s.max,s.range=null),f(s,"foundExtremes"),s.beforePadding&&s.beforePadding(),s.adjustForMinRange(),!(C||s.axisPointRange||s.usePercentage||v)&&c(s.min)&&c(s.max)&&(l=s.max-s.min)&&(!c(a)&&E&&(s.min-=l*E),!c(i)&&b&&(s.max+=l*b)),y(u.softMin)&&!y(s.userMin)&&(s.min=Math.min(s.min,u.softMin)),y(u.softMax)&&!y(s.userMax)&&(s.max=Math.max(s.max,u.softMax)),y(u.floor)&&(s.min=Math.max(s.min,u.floor)),y(u.ceiling)&&(s.max=Math.min(s.max,u.ceiling)),O&&c(s.dataMin)&&(N=N||0,!c(a)&&s.min<N&&s.dataMin>=N?s.min=N:!c(i)&&s.max>N&&s.dataMax<=N&&(s.max=N)),s.tickInterval=s.min===s.max||void 0===s.min||void 0===s.max?1:v&&!_&&S===s.linkedParent.options.tickPixelInterval?_=s.linkedParent.tickInterval:k(_,this.tickAmount?(s.max-s.min)/Math.max(this.tickAmount-1,1):void 0,C?1:(s.max-s.min)*S/Math.max(s.len,S)),g&&!t&&d(s.series,function(e){e.processData(s.min!==s.oldMin||s.max!==s.oldMax)}),s.setAxisTranslation(!0),s.beforeSetTickPositions&&s.beforeSetTickPositions(),s.postProcessTickInterval&&(s.tickInterval=s.postProcessTickInterval(s.tickInterval)),s.pointRange&&!_&&(s.tickInterval=Math.max(s.pointRange,s.tickInterval)),t=k(u.minTickInterval,s.isDatetimeAxis&&s.closestPointRange),!_&&s.tickInterval<t&&(s.tickInterval=t),h||p||_||(s.tickInterval=w(s.tickInterval,null,m(s.tickInterval),k(u.allowDecimals,!(.5<s.tickInterval&&5>s.tickInterval&&1e3<s.max&&9999>s.max)),!!this.tickAmount)),this.tickAmount||(s.tickInterval=s.unsquish()),this.setTickPositions()},setTickPositions:function(){var t,n=this.options,r=n.tickPositions;t=this.getMinorTickInterval();var a=n.tickPositioner,i=n.startOnTick,o=n.endOnTick;this.tickmarkOffset=this.categories&&"between"===n.tickmarkPlacement&&1===this.tickInterval?.5:0,this.minorTickInterval="auto"===t&&this.tickInterval?this.tickInterval/5:t,this.single=this.min===this.max&&c(this.min)&&!this.tickAmount&&(parseInt(this.min,10)===this.min||!1!==n.allowDecimals),this.tickPositions=t=r&&r.slice(),!t&&(!this.ordinalPositions&&(this.max-this.min)/this.tickInterval>Math.max(2*this.len,200)?(t=[this.min,this.max],e.error(19)):t=this.isDatetimeAxis?this.getTimeTicks(this.normalizeTimeTickInterval(this.tickInterval,n.units),this.min,this.max,n.startOfWeek,this.ordinalPositions,this.closestPointRange,!0):this.isLog?this.getLogTickPositions(this.tickInterval,this.min,this.max):this.getLinearTickPositions(this.tickInterval,this.min,this.max),t.length>this.len&&((t=[t[0],t.pop()])[0]===t[1]&&(t.length=1)),this.tickPositions=t,a&&(a=a.apply(this,[this.min,this.max])))&&(this.tickPositions=t=a),this.paddedTicks=t.slice(0),this.trimTicks(t,i,o),this.isLinked||(this.single&&2>t.length&&(this.min-=.5,this.max+=.5),r||a||this.adjustTickAmount()),f(this,"afterSetTickPositions")},trimTicks:function(e,t,n){var r=e[0],a=e[e.length-1],i=this.minPointOffset||0;if(!this.isLinked){if(t&&-1/0!==r)this.min=r;else for(;this.min-i>e[0];)e.shift();if(n)this.max=a;else for(;this.max+i<e[e.length-1];)e.pop();0===e.length&&c(r)&&!this.options.tickPositions&&e.push((a+r)/2)}},alignToOthers:function(){var e,t={},n=this.options;return!1===this.chart.options.chart.alignTicks||!1===n.alignTicks||!1===n.startOnTick||!1===n.endOnTick||this.isLog||d(this.chart[this.coll],function(n){var r=n.options;r=[n.horiz?r.left:r.top,r.width,r.height,r.pane].join();n.series.length&&(t[r]?e=!0:t[r]=1)}),e},getTickAmount:function(){var e=this.options,t=e.tickAmount,n=e.tickPixelInterval;!c(e.tickInterval)&&this.len<n&&!this.isRadial&&!this.isLog&&e.startOnTick&&e.endOnTick&&(t=2),!t&&this.alignToOthers()&&(t=Math.ceil(this.len/n)+1),4>t&&(this.finalTickAmt=t,t=5),this.tickAmount=t},adjustTickAmount:function(){var e=this.tickInterval,t=this.tickPositions,n=this.tickAmount,r=this.finalTickAmt,a=t&&t.length,i=k(this.threshold,this.softThreshold?0:null);if(this.hasData()){if(a<n){for(;t.length<n;)t.length%2||this.min===i?t.push(o(t[t.length-1]+e)):t.unshift(o(t[0]-e));this.transA*=(a-1)/(n-1),this.min=t[0],this.max=t[t.length-1]}else a>n&&(this.tickInterval*=2,this.setTickPositions());if(c(r)){for(e=n=t.length;e--;)(3===r&&1==e%2||2>=r&&0<e&&e<n-1)&&t.splice(e,1);this.finalTickAmt=void 0}}},setScale:function(){var e,t;this.oldMin=this.min,this.oldMax=this.max,this.oldAxisLength=this.len,this.setAxisSize(),t=this.len!==this.oldAxisLength,d(this.series,function(t){(t.isDirtyData||t.isDirty||t.xAxis.isDirty)&&(e=!0)}),t||e||this.isLinked||this.forceRedraw||this.userMin!==this.oldUserMin||this.userMax!==this.oldUserMax||this.alignToOthers()?(this.resetStacks&&this.resetStacks(),this.forceRedraw=!1,this.getSeriesExtremes(),this.setTickInterval(),this.oldUserMin=this.userMin,this.oldUserMax=this.userMax,this.isDirty||(this.isDirty=t||this.min!==this.oldMin||this.max!==this.oldMax)):this.cleanStacks&&this.cleanStacks(),f(this,"afterSetScale")},setExtremes:function(e,t,n,r,a){var i=this,o=i.chart;n=k(n,!0),d(i.series,function(e){delete e.kdTree}),a=p(a,{min:e,max:t}),f(i,"setExtremes",a,function(){i.userMin=e,i.userMax=t,i.eventArgs=a,n&&o.redraw(r)})},zoom:function(e,t){var n=this.dataMin,r=this.dataMax,a=this.options,i=Math.min(n,k(a.min,n));a=Math.max(r,k(a.max,r));return e===this.min&&t===this.max||(this.allowZoomOutside||(c(n)&&(e<i&&(e=i),e>a&&(e=a)),c(r)&&(t<i&&(t=i),t>a&&(t=a))),this.displayBtn=void 0!==e||void 0!==t,this.setExtremes(e,t,!1,void 0,{trigger:"zoom"})),!0},setAxisSize:function(){var t=this.chart,n=(s=this.options).offsets||[0,0,0,0],r=this.horiz,a=this.width=Math.round(e.relativeLength(k(s.width,t.plotWidth-n[3]+n[1]),t.plotWidth)),i=this.height=Math.round(e.relativeLength(k(s.height,t.plotHeight-n[0]+n[2]),t.plotHeight)),o=this.top=Math.round(e.relativeLength(k(s.top,t.plotTop+n[0]),t.plotHeight,t.plotTop)),s=this.left=Math.round(e.relativeLength(k(s.left,t.plotLeft+n[3]),t.plotWidth,t.plotLeft));this.bottom=t.chartHeight-i-o,this.right=t.chartWidth-a-s,this.len=Math.max(r?a:i,0),this.pos=r?s:o},getExtremes:function(){var e=this.isLog;return{min:e?o(this.lin2log(this.min)):this.min,max:e?o(this.lin2log(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},getThreshold:function(e){var t=(n=this.isLog)?this.lin2log(this.min):this.min,n=n?this.lin2log(this.max):this.max;return null===e||-1/0===e?e=t:1/0===e?e=n:t>e?e=t:n<e&&(e=n),this.translate(e,0,1,0,1)},autoLabelAlign:function(e){return 15<(e=(k(e,0)-90*this.side+720)%360)&&165>e?"right":195<e&&345>e?"left":"center"},tickSize:function(e){var t=this.options,n=t[e+"Length"],r=k(t[e+"Width"],"tick"===e&&this.isXAxis?1:0);if(r&&n)return"inside"===t[e+"Position"]&&(n=-n),[n,r]},labelMetrics:function(){var e=this.tickPositions&&this.tickPositions[0]||0;return this.chart.renderer.fontMetrics(this.options.labels.style&&this.options.labels.style.fontSize,this.ticks[e]&&this.ticks[e].label)},unsquish:function(){var e,t,n,r=this.options.labels,a=this.horiz,i=this.tickInterval,s=i,u=this.len/(((this.categories?1:0)+this.max-this.min)/i),p=r.rotation,f=this.labelMetrics(),h=Number.MAX_VALUE,m=function(e){return e=1<(e/=u||1)?Math.ceil(e):1,o(e*i)};return a?(n=!r.staggerLines&&!r.step&&(c(p)?[p]:u<k(r.autoRotationLimit,80)&&r.autoRotation))&&d(n,function(n){var r;(n===p||n&&-90<=n&&90>=n)&&((r=(t=m(Math.abs(f.h/Math.sin(l*n))))+Math.abs(n/360))<h&&(h=r,e=n,s=t))}):r.step||(s=m(f.h)),this.autoRotation=n,this.labelRotation=k(e,p),s},getSlotWidth:function(e){var t=this.chart,n=this.horiz,r=this.options.labels,a=Math.max(this.tickPositions.length-(this.categories?0:1),1),i=t.margin[3];return e&&e.slotWidth||n&&2>(r.step||0)&&!r.rotation&&(this.staggerLines||1)*this.len/a||!n&&(r.style&&parseInt(r.style.width,10)||i&&i-t.spacing[3]||.33*t.chartWidth)},renderUnsquish:function(){var e,t,n,r=this.chart,a=r.renderer,i=this.tickPositions,o=this.ticks,s=this.options.labels,c=s&&s.style||{},l=this.horiz,u=this.getSlotWidth(),p=Math.max(1,Math.round(u-2*(s.padding||5))),f={},h=this.labelMetrics(),m=s.style&&s.style.textOverflow,g=0;if(E(s.rotation)||(f.rotation=s.rotation||0),d(i,function(e){(e=o[e])&&e.label&&e.label.textPxLength>g&&(g=e.label.textPxLength)}),this.maxLabelLength=g,this.autoRotation)g>p&&g>h.h?f.rotation=this.labelRotation:this.labelRotation=0;else if(u&&(e=p,!m))for(t="clip",p=i.length;!l&&p--;)n=i[p],(n=o[n].label)&&(n.styles&&"ellipsis"===n.styles.textOverflow?n.css({textOverflow:"clip"}):n.textPxLength>u&&n.css({width:u+"px"}),n.getBBox().height>this.len/i.length-(h.h-h.f)&&(n.specificTextOverflow="ellipsis"));f.rotation&&(e=g>.5*r.chartHeight?.33*r.chartHeight:g,m||(t="ellipsis")),(this.labelAlign=s.align||this.autoLabelAlign(this.labelRotation))&&(f.align=this.labelAlign),d(i,function(n){var r=(n=o[n])&&n.label,a=c.width,i={};r&&(r.attr(f),n.shortenLabel?n.shortenLabel():e&&!a&&"nowrap"!==c.whiteSpace&&(e<r.textPxLength||"SPAN"===r.element.tagName)?(i.width=e,m||(i.textOverflow=r.specificTextOverflow||t),r.css(i)):r.styles&&r.styles.width&&!i.width&&!a&&r.css({width:null}),delete r.specificTextOverflow,n.rotation=f.rotation)},this),this.tickRotCorr=a.rotCorr(h.b,this.labelRotation||0,0!==this.side)},hasData:function(){return this.hasVisibleSeries||c(this.min)&&c(this.max)&&this.tickPositions&&0<this.tickPositions.length},addTitle:function(e){var t,n=this.chart.renderer,r=this.horiz,a=this.opposite,i=this.options.title;this.axisTitle||((t=i.textAlign)||(t=(r?{low:"left",middle:"center",high:"right"}:{low:a?"right":"left",middle:"center",high:a?"left":"right"})[i.align]),this.axisTitle=n.text(i.text,0,0,i.useHTML).attr({zIndex:7,rotation:i.rotation||0,align:t}).addClass("highcharts-axis-title").css(_(i.style)).add(this.axisGroup),this.axisTitle.isNew=!0),i.style.width||this.isRadial||this.axisTitle.css({width:this.len}),this.axisTitle[e?"show":"hide"](!0)},generateTick:function(e){var t=this.ticks;t[e]?t[e].addLabel():t[e]=new x(this,e)},getOffset:function(){var e,t,n,r=this,a=(E=r.chart).renderer,i=r.options,o=r.tickPositions,s=r.ticks,l=r.horiz,u=r.side,p=E.inverted&&!r.isZAxis?[1,0,3,2][u]:u,h=0,m=0,g=i.title,v=i.labels,b=0,y=E.axisOffset,E=E.clipOffset,_=[-1,1,1,-1][u],w=i.className,C=r.axisParent;e=r.hasData(),r.showAxis=t=e||k(i.showEmpty,!0),r.staggerLines=r.horiz&&v.staggerLines,r.axisGroup||(r.gridGroup=a.g("grid").attr({zIndex:i.gridZIndex||1}).addClass("highcharts-"+this.coll.toLowerCase()+"-grid "+(w||"")).add(C),r.axisGroup=a.g("axis").attr({zIndex:i.zIndex||2}).addClass("highcharts-"+this.coll.toLowerCase()+" "+(w||"")).add(C),r.labelGroup=a.g("axis-labels").attr({zIndex:v.zIndex||7}).addClass("highcharts-"+r.coll.toLowerCase()+"-labels "+(w||"")).add(C)),e||r.isLinked?(d(o,function(e,t){r.generateTick(e,t)}),r.renderUnsquish(),r.reserveSpaceDefault=0===u||2===u||{1:"left",3:"right"}[u]===r.labelAlign,k(v.reserveSpace,"center"===r.labelAlign||null,r.reserveSpaceDefault)&&d(o,function(e){b=Math.max(s[e].getLabelSize(),b)}),r.staggerLines&&(b*=r.staggerLines),r.labelOffset=b*(r.opposite?-1:1)):S(s,function(e,t){e.destroy(),delete s[t]}),g&&g.text&&!1!==g.enabled&&(r.addTitle(t),t&&!1!==g.reserveSpace&&(r.titleOffset=h=r.axisTitle.getBBox()[l?"height":"width"],n=g.offset,m=c(n)?0:k(g.margin,l?5:10))),r.renderLine(),r.offset=_*k(i.offset,y[u]),r.tickRotCorr=r.tickRotCorr||{x:0,y:0},a=0===u?-r.labelMetrics().h:2===u?r.tickRotCorr.y:0,m=Math.abs(b)+m,b&&(m=m-a+_*(l?k(v.y,r.tickRotCorr.y+8*_):v.x)),r.axisTitleMargin=k(n,m),r.getMaxLabelDimensions&&(r.maxLabelDimensions=r.getMaxLabelDimensions(s,o)),l=this.tickSize("tick"),y[u]=Math.max(y[u],r.axisTitleMargin+h+_*r.offset,m,e&&o.length&&l?l[0]+_*r.offset:0),i=i.offset?0:2*Math.floor(r.axisLine.strokeWidth()/2),E[p]=Math.max(E[p],i),f(this,"afterGetOffset")},getLinePath:function(e){var t=this.chart,n=this.opposite,r=this.offset,a=this.horiz,i=this.left+(n?this.width:0)+r;r=t.chartHeight-this.bottom-(n?this.height:0)+r;return n&&(e*=-1),t.renderer.crispLine(["M",a?this.left:i,a?r:this.top,"L",a?t.chartWidth-this.right:i,a?r:t.chartHeight-this.bottom],e)},renderLine:function(){this.axisLine||(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,zIndex:7}))},getTitlePosition:function(){var e=this.horiz,t=this.left,n=this.top,r=this.len,a=this.options.title,i=e?t:n,o=this.opposite,s=this.offset,c=a.x||0,l=a.y||0,u=this.axisTitle,d=this.chart.renderer.fontMetrics(a.style&&a.style.fontSize,u);u=Math.max(u.getBBox(null,0).height-d.h-1,0),r={low:i+(e?0:r),middle:i+r/2,high:i+(e?r:0)}[a.align],t=(e?n+this.height:t)+(e?1:-1)*(o?-1:1)*this.axisTitleMargin+[-u,u,d.f,-u][this.side];return{x:e?r+c:t+(o?this.width:0)+s+c,y:e?t+l-(o?this.height:0)+s:r+l}},renderMinorTick:function(e){var t=this.chart.hasRendered&&y(this.oldMin),n=this.minorTicks;n[e]||(n[e]=new x(this,e,"minor")),t&&n[e].isNew&&n[e].render(null,!0),n[e].render(null,!1,1)},renderTick:function(e,t){var n=this.isLinked,r=this.ticks,a=this.chart.hasRendered&&y(this.oldMin);(!n||e>=this.min&&e<=this.max)&&(r[e]||(r[e]=new x(this,e)),a&&r[e].isNew&&r[e].render(t,!0,-1),r[e].render(t))},render:function(){var t,r,a=this,i=a.chart,o=a.options,s=a.isLog,c=a.isLinked,l=a.tickPositions,u=a.axisTitle,p=a.ticks,h=a.minorTicks,m=a.alternateBands,g=o.stackLabels,v=o.alternateGridColor,b=a.tickmarkOffset,E=a.axisLine,_=a.showAxis,w=n(i.renderer.globalAnimation);a.labelEdge.length=0,a.overlap=!1,d([p,h,m],function(e){S(e,function(e){e.isActive=!1})}),(a.hasData()||c)&&(a.minorTickInterval&&!a.categories&&d(a.getMinorTickPositions(),function(e){a.renderMinorTick(e)}),l.length&&(d(l,function(e,t){a.renderTick(e,t)}),b&&(0===a.min||a.single)&&(p[-1]||(p[-1]=new x(a,-1,null,!0)),p[-1].render(-1))),v&&d(l,function(n,o){r=void 0!==l[o+1]?l[o+1]+b:a.max-b,0==o%2&&n<a.max&&r<=a.max+(i.polar?-b:b)&&(m[n]||(m[n]=new e.PlotLineOrBand(a)),t=n+b,m[n].options={from:s?a.lin2log(t):t,to:s?a.lin2log(r):r,color:v},m[n].render(),m[n].isActive=!0)}),a._addedPlotLB||(d((o.plotLines||[]).concat(o.plotBands||[]),function(e){a.addPlotBandOrLine(e)}),a._addedPlotLB=!0)),d([p,h,m],function(e){var t,n=[],r=w.duration;S(e,function(e,t){e.isActive||(e.render(t,!1,0),e.isActive=!1,n.push(t))}),O(function(){for(t=n.length;t--;)e[n[t]]&&!e[n[t]].isActive&&(e[n[t]].destroy(),delete e[n[t]])},e!==m&&i.hasRendered&&r?r:0)}),E&&(E[E.isPlaced?"animate":"attr"]({d:this.getLinePath(E.strokeWidth())}),E.isPlaced=!0,E[_?"show":"hide"](!0)),u&&_&&(o=a.getTitlePosition(),y(o.y)?(u[u.isNew?"attr":"animate"](o),u.isNew=!1):(u.attr("y",-9999),u.isNew=!0)),g&&g.enabled&&a.renderStackTotals(),a.isDirty=!1,f(this,"afterRender")},redraw:function(){this.visible&&(this.render(),d(this.plotLinesAndBands,function(e){e.render()})),d(this.series,function(e){e.isDirty=!0})},keepProps:"extKey hcEvents names series userMax userMin".split(" "),destroy:function(e){var t,n=this,r=n.stacks,a=n.plotLinesAndBands;if(f(this,"destroy",{keepEvents:e}),e||C(n),S(r,function(e,t){u(e),r[t]=null}),d([n.ticks,n.minorTicks,n.alternateBands],function(e){u(e)}),a)for(e=a.length;e--;)a[e].destroy();for(t in d("stackTotalGroup axisLine axisTitle axisGroup gridGroup labelGroup cross scrollbar".split(" "),function(e){n[e]&&(n[e]=n[e].destroy())}),n.plotLinesAndBandsGroups)n.plotLinesAndBandsGroups[t]=n.plotLinesAndBandsGroups[t].destroy();S(n,function(e,t){-1===v(t,n.keepProps)&&delete n[t]})},drawCrosshair:function(e,t){var n,r,a=this.crosshair,o=k(a.snap,!0),s=this.cross;if(f(this,"drawCrosshair",{e:e,point:t}),e||(e=this.cross&&this.cross.e),this.crosshair&&!1!==(c(t)||!o)){if(o?c(t)&&(r=k(t.crosshairPos,this.isXAxis?t.plotX:this.len-t.plotY)):r=e&&(this.horiz?e.chartX-this.pos:this.len-e.chartY+this.pos),c(r)&&(n=this.getPlotLinePath(t&&(this.isXAxis?t.x:k(t.stackY,t.y)),null,null,null,r)||null),!c(n))return void this.hideCrosshair();o=this.categories&&!this.isRadial,s||(this.cross=s=this.chart.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(o?"category ":"thin ")+a.className).attr({zIndex:k(a.zIndex,2)}).add(),s.attr({stroke:a.color||(o?i("#ccd6eb").setOpacity(.25).get():"#cccccc"),"stroke-width":k(a.width,1)}).css({"pointer-events":"none"}),a.dashStyle&&s.attr({dashstyle:a.dashStyle})),s.show().attr({d:n}),o&&!a.width&&s.attr({"stroke-width":this.transA}),this.cross.e=e}else this.hideCrosshair();f(this,"afterDrawCrosshair",{e:e,point:t})},hideCrosshair:function(){this.cross&&this.cross.hide()}}),e.Axis=T}(l);return function(e){var t=e.Axis,n=e.getMagnitude,r=e.normalizeTickInterval,a=e.timeUnits;t.prototype.getTimeTicks=function(){return this.chart.time.getTimeTicks.apply(this.chart.time,arguments)},t.prototype.normalizeTimeTickInterval=function(e,t){var i=t||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]];t=i[i.length-1];var o,s=a[t[0]],c=t[1];for(o=0;o<i.length&&(t=i[o],s=a[t[0]],c=t[1],!(i[o+1]&&e<=(s*c[c.length-1]+a[i[o+1][0]])/2));o++);return s===a.year&&e<5*s&&(c=[1,2,5]),{unitRange:s,count:e=r(e/s,c,"year"===t[0]?Math.max(n(e/s),1):1),unitName:t[0]}}}(l),function(e){var t=e.Axis,n=e.getMagnitude,r=e.map,a=e.normalizeTickInterval,i=e.pick;t.prototype.getLogTickPositions=function(e,t,o,s){var c=this.options,l=this.len,u=[];if(s||(this._minorAutoInterval=null),.5<=e)e=Math.round(e),u=this.getLinearTickPositions(e,t,o);else if(.08<=e){var d,p,f,h,m;for(l=Math.floor(t),c=.3<e?[1,2,4]:.15<e?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];l<o+1&&!m;l++)for(p=c.length,d=0;d<p&&!m;d++)(f=this.log2lin(this.lin2log(l)*c[d]))>t&&(!s||h<=o)&&void 0!==h&&u.push(h),h>o&&(m=!0),h=f}else t=this.lin2log(t),o=this.lin2log(o),e=s?this.getMinorTickInterval():c.tickInterval,e=i("auto"===e?null:e,this._minorAutoInterval,c.tickPixelInterval/(s?5:1)*(o-t)/((s?l/this.tickPositions.length:l)||1)),e=a(e,null,n(e)),u=r(this.getLinearTickPositions(e,t,o),this.log2lin),s||(this._minorAutoInterval=e/5);return s||(this.tickInterval=e),u},t.prototype.log2lin=function(e){return Math.log(e)/Math.LN10},t.prototype.lin2log=function(e){return Math.pow(10,e)}}(l),function(e,t){var n=e.arrayMax,r=e.arrayMin,a=e.defined,i=e.destroyObjectProperties,o=e.each,s=e.erase,c=e.merge,l=e.pick;e.PlotLineOrBand=function(e,t){this.axis=e,t&&(this.options=t,this.id=t.id)},e.PlotLineOrBand.prototype={render:function(){e.fireEvent(this,"render");var t=this,n=t.axis,r=n.horiz,i=t.options,o=i.label,s=t.label,u=i.to,d=i.from,p=i.value,f=a(d)&&a(u),h=a(p),m=t.svgElem,g=!m,v=[],b=i.color,y=l(i.zIndex,0),E=i.events,_=(v={class:"highcharts-plot-"+(f?"band ":"line ")+(i.className||"")},{}),w=n.chart.renderer,S=f?"bands":"lines";if(n.isLog&&(d=n.log2lin(d),u=n.log2lin(u),p=n.log2lin(p)),h?(v.stroke=b,v["stroke-width"]=i.width,i.dashStyle&&(v.dashstyle=i.dashStyle)):f&&(b&&(v.fill=b),i.borderWidth&&(v.stroke=i.borderColor,v["stroke-width"]=i.borderWidth)),_.zIndex=y,S+="-"+y,(b=n.plotLinesAndBandsGroups[S])||(n.plotLinesAndBandsGroups[S]=b=w.g("plot-"+S).attr(_).add()),g&&(t.svgElem=m=w.path().attr(v).add(b)),h)v=n.getPlotLinePath(p,m.strokeWidth());else{if(!f)return;v=n.getPlotBandPath(d,u,i)}return g&&v&&v.length?(m.attr({d:v}),E&&e.objectEach(E,function(e,n){m.on(n,function(e){E[n].apply(t,[e])})})):m&&(v?(m.show(),m.animate({d:v})):(m.hide(),s&&(t.label=s=s.destroy()))),o&&a(o.text)&&v&&v.length&&0<n.width&&0<n.height&&!v.isFlat?(o=c({align:r&&f&&"center",x:r?!f&&4:10,verticalAlign:!r&&f&&"middle",y:r?f?16:10:f?6:-4,rotation:r&&!f&&90},o),this.renderLabel(o,v,f,y)):s&&s.hide(),t},renderLabel:function(e,t,a,i){var o=this.label,s=this.axis.chart.renderer;o||((o={align:e.textAlign||e.align,rotation:e.rotation,class:"highcharts-plot-"+(a?"band":"line")+"-label "+(e.className||"")}).zIndex=i,this.label=o=s.text(e.text,0,0,e.useHTML).attr(o).add(),o.css(e.style)),i=t.xBounds||[t[1],t[4],a?t[6]:t[1]],t=t.yBounds||[t[2],t[5],a?t[7]:t[2]],a=r(i),s=r(t),o.align(e,!1,{x:a,y:s,width:n(i)-a,height:n(t)-s}),o.show()},destroy:function(){s(this.axis.plotLinesAndBands,this),delete this.axis,i(this)}},e.extend(t.prototype,{getPlotBandPath:function(e,t){var n,r=this.getPlotLinePath(t,null,null,!0),a=this.getPlotLinePath(e,null,null,!0),i=[],o=this.horiz,s=1;if(e=e<this.min&&t<this.min||e>this.max&&t>this.max,a&&r)for(e&&(n=a.toString()===r.toString(),s=0),e=0;e<a.length;e+=6)o&&r[e+1]===a[e+1]?(r[e+1]+=s,r[e+4]+=s):o||r[e+2]!==a[e+2]||(r[e+2]+=s,r[e+5]+=s),i.push("M",a[e+1],a[e+2],"L",a[e+4],a[e+5],r[e+4],r[e+5],r[e+1],r[e+2],"z"),i.isFlat=n;return i},addPlotBand:function(e){return this.addPlotBandOrLine(e,"plotBands")},addPlotLine:function(e){return this.addPlotBandOrLine(e,"plotLines")},addPlotBandOrLine:function(t,n){var r=new e.PlotLineOrBand(this,t).render(),a=this.userOptions;return r&&(n&&(a[n]=a[n]||[],a[n].push(t)),this.plotLinesAndBands.push(r)),r},removePlotBandOrLine:function(e){for(var t=this.plotLinesAndBands,n=this.options,r=this.userOptions,a=t.length;a--;)t[a].id===e&&t[a].destroy();o([n.plotLines||[],r.plotLines||[],n.plotBands||[],r.plotBands||[]],function(t){for(a=t.length;a--;)t[a].id===e&&s(t,t[a])})},removePlotBand:function(e){this.removePlotBandOrLine(e)},removePlotLine:function(e){this.removePlotBandOrLine(e)}})}(l,u),function(e){var t=e.doc,n=e.each,r=e.extend,a=e.format,i=e.isNumber,o=e.map,s=e.merge,c=e.pick,l=e.splat,u=e.syncTimeout,d=e.timeUnits;e.Tooltip=function(){this.init.apply(this,arguments)},e.Tooltip.prototype={init:function(e,t){this.chart=e,this.options=t,this.crosshairs=[],this.now={x:0,y:0},this.isHidden=!0,this.split=t.split&&!e.inverted,this.shared=t.shared||this.split,this.outside=t.outside&&!this.split},cleanSplit:function(e){n(this.chart.series,function(t){var n=t&&t.tt;n&&(!n.isActive||e?t.tt=n.destroy():n.isActive=!1)})},getLabel:function(){var t,n=this.chart.renderer,r=this.options;return this.label||(this.outside&&(this.container=t=e.doc.createElement("div"),t.className="highcharts-tooltip-container",e.css(t,{position:"absolute",top:"1px",pointerEvents:r.style&&r.style.pointerEvents}),e.doc.body.appendChild(t),this.renderer=n=new e.Renderer(t,0,0)),this.split?this.label=n.g("tooltip"):(this.label=n.label("",0,0,r.shape||"callout",null,null,r.useHTML,null,"tooltip").attr({padding:r.padding,r:r.borderRadius}),this.label.attr({fill:r.backgroundColor,"stroke-width":r.borderWidth}).css(r.style).shadow(r.shadow)),this.outside&&(this.label.attr({x:this.distance,y:this.distance}),this.label.xSetter=function(e){t.style.left=e+"px"},this.label.ySetter=function(e){t.style.top=e+"px"}),this.label.attr({zIndex:8}).add()),this.label},update:function(e){this.destroy(),s(!0,this.chart.options.tooltip.userOptions,e),this.init(this.chart,s(!0,this.options,e))},destroy:function(){this.label&&(this.label=this.label.destroy()),this.split&&this.tt&&(this.cleanSplit(this.chart,!0),this.tt=this.tt.destroy()),this.renderer&&(this.renderer=this.renderer.destroy(),e.discardElement(this.container)),e.clearTimeout(this.hideTimer),e.clearTimeout(this.tooltipTimeout)},move:function(t,n,a,i){var o=this,s=o.now,c=!1!==o.options.animation&&!o.isHidden&&(1<Math.abs(t-s.x)||1<Math.abs(n-s.y)),l=o.followPointer||1<o.len;r(s,{x:c?(2*s.x+t)/3:t,y:c?(s.y+n)/2:n,anchorX:l?void 0:c?(2*s.anchorX+a)/3:a,anchorY:l?void 0:c?(s.anchorY+i)/2:i}),o.getLabel().attr(s),c&&(e.clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){o&&o.move(t,n,a,i)},32))},hide:function(t){var n=this;e.clearTimeout(this.hideTimer),t=c(t,this.options.hideDelay,500),this.isHidden||(this.hideTimer=u(function(){n.getLabel()[t?"fadeOut":"hide"](),n.isHidden=!0},t))},getAnchor:function(e,t){var r,a,i=this.chart,s=i.pointer,c=i.inverted,u=i.plotTop,d=i.plotLeft,p=0,f=0;return e=l(e),this.followPointer&&t?(void 0===t.chartX&&(t=s.normalize(t)),e=[t.chartX-i.plotLeft,t.chartY-u]):e[0].tooltipPos?e=e[0].tooltipPos:(n(e,function(e){r=e.series.yAxis,a=e.series.xAxis,p+=e.plotX+(!c&&a?a.left-d:0),f+=(e.plotLow?(e.plotLow+e.plotHigh)/2:e.plotY)+(!c&&r?r.top-u:0)}),p/=e.length,f/=e.length,e=[c?i.plotWidth-f:p,this.shared&&!c&&1<e.length&&t?t.chartY-u:c?i.plotHeight-p:f]),o(e,Math.round)},getPosition:function(e,n,r){var a,i=this.chart,o=this.distance,s={},l=i.inverted&&r.h||0,u=this.outside,d=u?t.documentElement.clientWidth-2*o:i.chartWidth,p=u?Math.max(t.body.scrollHeight,t.documentElement.scrollHeight,t.body.offsetHeight,t.documentElement.offsetHeight,t.documentElement.clientHeight):i.chartHeight,f=i.pointer.chartPosition,h=["y",p,n,(u?f.top-o:0)+r.plotY+i.plotTop,u?0:i.plotTop,u?p:i.plotTop+i.plotHeight],m=["x",d,e,(u?f.left-o:0)+r.plotX+i.plotLeft,u?0:i.plotLeft,u?d:i.plotLeft+i.plotWidth],g=!this.followPointer&&c(r.ttBelow,!i.inverted==!!r.negative),v=function(e){var t=h;h=m,m=t,a=e},b=function(){!1!==function(e,t,n,r,a,i){var c=n<r-o,u=r+o+n<t,d=r-o-n;if(r+=o,g&&u)s[e]=r;else if(!g&&c)s[e]=d;else if(c)s[e]=Math.min(i-n,0>d-l?d:d-l);else{if(!u)return!1;s[e]=Math.max(a,r+l+n>t?r:r+l)}}.apply(0,h)?!1!==function(e,t,n,r){var a;return r<o||r>t-o?a=!1:s[e]=r<n/2?1:r>t-n/2?t-n-2:r-n/2,a}.apply(0,m)||a||(v(!0),b()):a?s.x=s.y=0:(v(!0),b())};return(i.inverted||1<this.len)&&v(),b(),s},defaultFormatter:function(e){var t,n=this.points||l(this);return(t=(t=[e.tooltipFooterHeaderFormatter(n[0])]).concat(e.bodyFormatter(n))).push(e.tooltipFooterHeaderFormatter(n[0],!0)),t},refresh:function(t,r){var a,i,o,s=this.options,u=t,d={},p=[];a=s.formatter||this.defaultFormatter;var f;d=this.shared;s.enabled&&(e.clearTimeout(this.hideTimer),this.followPointer=l(u)[0].series.tooltipOptions.followPointer,r=(o=this.getAnchor(u,r))[0],i=o[1],!d||u.series&&u.series.noSharedTooltip?d=u.getLabelConfig():(n(u,function(e){e.setState("hover"),p.push(e.getLabelConfig())}),(d={x:u[0].category,y:u[0].y}).points=p,u=u[0]),this.len=p.length,d=a.call(d,this),f=u.series,this.distance=c(f.tooltipOptions.distance,16),!1===d?this.hide():(a=this.getLabel(),this.isHidden&&a.attr({opacity:1}).show(),this.split?this.renderSplit(d,l(t)):(s.style.width||a.css({width:this.chart.spacingBox.width}),a.attr({text:d&&d.join?d.join(""):d}),a.removeClass(/highcharts-color-[\d]+/g).addClass("highcharts-color-"+c(u.colorIndex,f.colorIndex)),a.attr({stroke:s.borderColor||u.color||f.color||"#666666"}),this.updatePosition({plotX:r,plotY:i,negative:u.negative,ttBelow:u.ttBelow,h:o[2]||0})),this.isHidden=!1))},renderSplit:function(t,r){var a,i=this,o=[],s=this.chart,l=s.renderer,u=!0,d=this.options,p=0,f=this.getLabel(),h=s.plotTop;e.isString(t)&&(t=[!1,t]),n(t.slice(0,r.length+1),function(e,t){if(!1!==e){var n=(t=r[t-1]||{isHeader:!0,plotX:r[0].plotX}).series||i,m=n.tt,g=t.series||{},v="highcharts-color-"+c(t.colorIndex,g.colorIndex,"none");m||(n.tt=m=l.label(null,null,null,"callout",null,null,d.useHTML).addClass("highcharts-tooltip-box "+v+(t.isHeader?" highcharts-tooltip-header":"")).attr({padding:d.padding,r:d.borderRadius,fill:d.backgroundColor,stroke:d.borderColor||t.color||g.color||"#333333","stroke-width":d.borderWidth}).add(f)),m.isActive=!0,m.attr({text:e}),m.css(d.style).shadow(d.shadow),g=(e=m.getBBox()).width+m.strokeWidth(),t.isHeader?(p=e.height,s.xAxis[0].opposite&&(a=!0,h-=p),g=Math.max(0,Math.min(t.plotX+s.plotLeft-g/2,s.chartWidth+(s.scrollablePixels?s.scrollablePixels-s.marginRight:0)-g))):g=t.plotX+s.plotLeft-c(d.distance,16)-g,0>g&&(u=!1),e=(t.series&&t.series.yAxis&&t.series.yAxis.pos)+(t.plotY||0),e-=h,t.isHeader&&(e=a?-p:s.plotHeight+p),o.push({target:e,rank:t.isHeader?1:0,size:n.tt.getBBox().height+1,point:t,x:g,tt:m})}}),this.cleanSplit(),e.distribute(o,s.plotHeight+p),n(o,function(e){var t=e.point,n=t.series;e.tt.attr({visibility:void 0===e.pos?"hidden":"inherit",x:u||t.isHeader?e.x:t.plotX+s.plotLeft+c(d.distance,16),y:e.pos+h,anchorX:t.isHeader?t.plotX+s.plotLeft:t.plotX+n.xAxis.pos,anchorY:t.isHeader?s.plotTop+s.plotHeight/2:t.plotY+n.yAxis.pos})})},updatePosition:function(e){var t,n=this.chart,r=this.getLabel(),a=(this.options.positioner||this.getPosition).call(this,r.width,r.height,e),i=e.plotX+n.plotLeft;e=e.plotY+n.plotTop,this.outside&&(t=(this.options.borderWidth||0)+2*this.distance,this.renderer.setSize(r.width+t,r.height+t,!1),i+=n.pointer.chartPosition.left-a.x,e+=n.pointer.chartPosition.top-a.y),this.move(Math.round(a.x),Math.round(a.y||0),i,e)},getDateFormat:function(e,t,n,r){var a,i,o=this.chart.time,s=o.dateFormat("%m-%d %H:%M:%S.%L",t),c={millisecond:15,second:12,minute:9,hour:6,day:3},l="millisecond";for(i in d){if(e===d.week&&+o.dateFormat("%w",t)===n&&"00:00:00.000"===s.substr(6)){i="week";break}if(d[i]>e){i=l;break}if(c[i]&&s.substr(c[i])!=="01-01 00:00:00.000".substr(c[i]))break;"week"!==i&&(l=i)}return i&&(a=o.resolveDTLFormat(r[i]).main),a},getXDateFormat:function(e,t,n){t=t.dateTimeLabelFormats;var r=n&&n.closestPointRange;return(r?this.getDateFormat(r,e.x,n.options.startOfWeek,t):t.day)||t.year},tooltipFooterHeaderFormatter:function(e,t){t=t?"footer":"header";var r=e.series,o=r.tooltipOptions,s=o.xDateFormat,c=r.xAxis,l=c&&"datetime"===c.options.type&&i(e.key),u=o[t+"Format"];return l&&!s&&(s=this.getXDateFormat(e,o,c)),l&&s&&n(e.point&&e.point.tooltipDateKeys||["key"],function(e){u=u.replace("{point."+e+"}","{point."+e+":"+s+"}")}),a(u,{point:e,series:r},this.chart.time)},bodyFormatter:function(e){return o(e,function(e){var t=e.series.tooltipOptions;return(t[(e.point.formatPrefix||"point")+"Formatter"]||e.point.tooltipFormatter).call(e.point,t[(e.point.formatPrefix||"point")+"Format"])})}}}(l),function(e){var t=e.addEvent,n=e.attr,r=e.charts,a=e.color,i=e.css,o=e.defined,s=e.each,c=e.extend,l=e.find,u=e.fireEvent,d=e.isNumber,p=e.isObject,f=e.offset,h=e.pick,m=e.splat,g=e.Tooltip;e.Pointer=function(e,t){this.init(e,t)},e.Pointer.prototype={init:function(e,t){this.options=t,this.chart=e,this.runChartClick=t.chart.events&&!!t.chart.events.click,this.pinchDown=[],this.lastValidTouch={},g&&(e.tooltip=new g(e,t.tooltip),this.followTouchMove=h(t.tooltip.followTouchMove,!0)),this.setDOMEvents()},zoomOption:function(e){var t=(r=this.chart).options.chart,n=t.zoomType||"",r=r.inverted;/touch/.test(e.type)&&(n=h(t.pinchType,n)),this.zoomX=e=/x/.test(n),this.zoomY=n=/y/.test(n),this.zoomHor=e&&!r||n&&r,this.zoomVert=n&&!r||e&&r,this.hasZoom=e||n},normalize:function(e,t){var n;return n=e.touches?e.touches.length?e.touches.item(0):e.changedTouches[0]:e,t||(this.chartPosition=t=f(this.chart.container)),c(e,{chartX:Math.round(n.pageX-t.left),chartY:Math.round(n.pageY-t.top)})},getCoordinates:function(e){var t={xAxis:[],yAxis:[]};return s(this.chart.axes,function(n){t[n.isXAxis?"xAxis":"yAxis"].push({axis:n,value:n.toValue(e[n.horiz?"chartX":"chartY"])})}),t},findNearestKDPoint:function(e,t,n){var r;return s(e,function(e){var a=!(e.noSharedTooltip&&t)&&0>e.options.findNearestPointBy.indexOf("y");if(e=e.searchPoint(n,a),(a=p(e,!0))&&!(a=!p(r,!0))){a=r.distX-e.distX;var i=r.dist-e.dist,o=(e.series.group&&e.series.group.zIndex)-(r.series.group&&r.series.group.zIndex);a=0<(0!==a&&t?a:0!==i?i:0!==o?o:r.series.index>e.series.index?-1:1)}a&&(r=e)}),r},getPointFromEvent:function(e){e=e.target;for(var t;e&&!t;)t=e.point,e=e.parentNode;return t},getChartCoordinatesFromPoint:function(e,t){var n=(r=e.series).xAxis,r=r.yAxis,a=h(e.clientX,e.plotX),i=e.shapeArgs;return n&&r?t?{chartX:n.len+n.pos-a,chartY:r.len+r.pos-e.plotY}:{chartX:a+n.pos,chartY:e.plotY+r.pos}:i&&i.x&&i.y?{chartX:i.x,chartY:i.y}:void 0},getHoverData:function(t,n,r,a,i,o,c){var u,d=[],f=c&&c.isBoosting;return a=!(!a||!t),c=n&&!n.stickyTracking?[n]:e.grep(r,function(e){return e.visible&&!(!i&&e.directTouch)&&h(e.options.enableMouseTracking,!0)&&e.stickyTracking}),n=(u=a?t:this.findNearestKDPoint(c,i,o))&&u.series,u&&(i&&!n.noSharedTooltip?(c=e.grep(r,function(e){return e.visible&&!(!i&&e.directTouch)&&h(e.options.enableMouseTracking,!0)&&!e.noSharedTooltip}),s(c,function(e){var t=l(e.points,function(e){return e.x===u.x&&!e.isNull});p(t)&&(f&&(t=e.getPoint(t)),d.push(t))})):d.push(u)),{hoverPoint:u,hoverSeries:n,hoverPoints:d}},runPointActions:function(n,a){var i,o=this.chart,c=o.tooltip&&o.tooltip.options.enabled?o.tooltip:void 0,l=!!c&&c.shared,u=(d=a||o.hoverPoint)&&d.series||o.hoverSeries,d=(u=this.getHoverData(d,u,o.series,"touchmove"!==n.type&&(!!a||u&&u.directTouch&&this.isDirectTouch),l,n,{isBoosting:o.isBoosting})).hoverPoint;if(i=u.hoverPoints,a=(u=u.hoverSeries)&&u.tooltipOptions.followPointer,l=l&&u&&!u.noSharedTooltip,d&&(d!==o.hoverPoint||c&&c.isHidden)){if(s(o.hoverPoints||[],function(t){-1===e.inArray(t,i)&&t.setState()}),s(i||[],function(e){e.setState("hover")}),o.hoverSeries!==u&&u.onMouseOver(),o.hoverPoint&&o.hoverPoint.firePointEvent("mouseOut"),!d.series)return;d.firePointEvent("mouseOver"),o.hoverPoints=i,o.hoverPoint=d,c&&c.refresh(l?i:d,n)}else a&&c&&!c.isHidden&&(d=c.getAnchor([{}],n),c.updatePosition({plotX:d[0],plotY:d[1]}));this.unDocMouseMove||(this.unDocMouseMove=t(o.container.ownerDocument,"mousemove",function(t){var n=r[e.hoverChartIndex];n&&n.pointer.onDocumentMouseMove(t)})),s(o.axes,function(t){var r=h(t.crosshair.snap,!0),a=r?e.find(i,function(e){return e.series[t.coll]===t}):void 0;a||!r?t.drawCrosshair(n,a):t.hideCrosshair()})},reset:function(e,t){var n=this.chart,r=n.hoverSeries,a=n.hoverPoint,i=n.hoverPoints,o=n.tooltip,c=o&&o.shared?i:a;e&&c&&s(m(c),function(t){t.series.isCartesian&&void 0===t.plotX&&(e=!1)}),e?o&&c&&(o.refresh(c),o.shared&&i?s(i,function(e){e.setState(e.state,!0),e.series.isCartesian&&(e.series.xAxis.crosshair&&e.series.xAxis.drawCrosshair(null,e),e.series.yAxis.crosshair&&e.series.yAxis.drawCrosshair(null,e))}):a&&(a.setState(a.state,!0),s(n.axes,function(e){e.crosshair&&e.drawCrosshair(null,a)}))):(a&&a.onMouseOut(),i&&s(i,function(e){e.setState()}),r&&r.onMouseOut(),o&&o.hide(t),this.unDocMouseMove&&(this.unDocMouseMove=this.unDocMouseMove()),s(n.axes,function(e){e.hideCrosshair()}),this.hoverX=n.hoverPoints=n.hoverPoint=null)},scaleGroups:function(e,t){var n,r=this.chart;s(r.series,function(a){n=e||a.getPlotBox(),a.xAxis&&a.xAxis.zoomEnabled&&a.group&&(a.group.attr(n),a.markerGroup&&(a.markerGroup.attr(n),a.markerGroup.clip(t?r.clipRect:null)),a.dataLabelsGroup&&a.dataLabelsGroup.attr(n))}),r.clipRect.attr(t||r.clipBox)},dragStart:function(e){var t=this.chart;t.mouseIsDown=e.type,t.cancelClick=!1,t.mouseDownX=this.mouseDownX=e.chartX,t.mouseDownY=this.mouseDownY=e.chartY},drag:function(e){var t,n=this.chart,r=n.options.chart,i=e.chartX,o=e.chartY,s=this.zoomHor,c=this.zoomVert,l=n.plotLeft,u=n.plotTop,d=n.plotWidth,p=n.plotHeight,f=this.selectionMarker,h=this.mouseDownX,m=this.mouseDownY,g=r.panKey&&e[r.panKey+"Key"];f&&f.touch||(i<l?i=l:i>l+d&&(i=l+d),o<u?o=u:o>u+p&&(o=u+p),this.hasDragged=Math.sqrt(Math.pow(h-i,2)+Math.pow(m-o,2)),10<this.hasDragged&&(t=n.isInsidePlot(h-l,m-u),n.hasCartesianSeries&&(this.zoomX||this.zoomY)&&t&&!g&&!f&&(this.selectionMarker=f=n.renderer.rect(l,u,s?1:d,c?1:p,0).attr({fill:r.selectionMarkerFill||a("#335cad").setOpacity(.25).get(),class:"highcharts-selection-marker",zIndex:7}).add()),f&&s&&(i-=h,f.attr({width:Math.abs(i),x:(0<i?0:i)+h})),f&&c&&(i=o-m,f.attr({height:Math.abs(i),y:(0<i?0:i)+m})),t&&!f&&r.panning&&n.pan(e,r.panning)))},drop:function(e){var t=this,n=this.chart,r=this.hasPinched;if(this.selectionMarker){var a,l={originalEvent:e,xAxis:[],yAxis:[]},p=this.selectionMarker,f=p.attr?p.attr("x"):p.x,h=p.attr?p.attr("y"):p.y,m=p.attr?p.attr("width"):p.width,g=p.attr?p.attr("height"):p.height;(this.hasDragged||r)&&(s(n.axes,function(n){if(n.zoomEnabled&&o(n.min)&&(r||t[{xAxis:"zoomX",yAxis:"zoomY"}[n.coll]])){var i=n.horiz,s="touchend"===e.type?n.minPixelPadding:0,c=n.toValue((i?f:h)+s);i=n.toValue((i?f+m:h+g)-s);l[n.coll].push({axis:n,min:Math.min(c,i),max:Math.max(c,i)}),a=!0}}),a&&u(n,"selection",l,function(e){n.zoom(c(e,r?{animation:!1}:null))})),d(n.index)&&(this.selectionMarker=this.selectionMarker.destroy()),r&&this.scaleGroups()}n&&d(n.index)&&(i(n.container,{cursor:n._cursor}),n.cancelClick=10<this.hasDragged,n.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},onContainerMouseDown:function(e){2!==(e=this.normalize(e)).button&&(this.zoomOption(e),e.preventDefault&&e.preventDefault(),this.dragStart(e))},onDocumentMouseUp:function(t){r[e.hoverChartIndex]&&r[e.hoverChartIndex].pointer.drop(t)},onDocumentMouseMove:function(e){var t=this.chart,n=this.chartPosition;e=this.normalize(e,n),!n||this.inClass(e.target,"highcharts-tracker")||t.isInsidePlot(e.chartX-t.plotLeft,e.chartY-t.plotTop)||this.reset()},onContainerMouseLeave:function(t){var n=r[e.hoverChartIndex];n&&(t.relatedTarget||t.toElement)&&(n.pointer.reset(),n.pointer.chartPosition=null)},onContainerMouseMove:function(t){var n=this.chart;o(e.hoverChartIndex)&&r[e.hoverChartIndex]&&r[e.hoverChartIndex].mouseIsDown||(e.hoverChartIndex=n.index),(t=this.normalize(t)).returnValue=!1,"mousedown"===n.mouseIsDown&&this.drag(t),!this.inClass(t.target,"highcharts-tracker")&&!n.isInsidePlot(t.chartX-n.plotLeft,t.chartY-n.plotTop)||n.openMenu||this.runPointActions(t)},inClass:function(e,t){for(var r;e;){if(r=n(e,"class")){if(-1!==r.indexOf(t))return!0;if(-1!==r.indexOf("highcharts-container"))return!1}e=e.parentNode}},onTrackerMouseOut:function(e){var t=this.chart.hoverSeries;e=e.relatedTarget||e.toElement,this.isDirectTouch=!1,!t||!e||t.stickyTracking||this.inClass(e,"highcharts-tooltip")||this.inClass(e,"highcharts-series-"+t.index)&&this.inClass(e,"highcharts-tracker")||t.onMouseOut()},onContainerClick:function(e){var t=this.chart,n=t.hoverPoint,r=t.plotLeft,a=t.plotTop;e=this.normalize(e),t.cancelClick||(n&&this.inClass(e.target,"highcharts-tracker")?(u(n.series,"click",c(e,{point:n})),t.hoverPoint&&n.firePointEvent("click",e)):(c(e,this.getCoordinates(e)),t.isInsidePlot(e.chartX-r,e.chartY-a)&&u(t,"click",e)))},setDOMEvents:function(){var n=this,r=n.chart.container,a=r.ownerDocument;r.onmousedown=function(e){n.onContainerMouseDown(e)},r.onmousemove=function(e){n.onContainerMouseMove(e)},r.onclick=function(e){n.onContainerClick(e)},this.unbindContainerMouseLeave=t(r,"mouseleave",n.onContainerMouseLeave),e.unbindDocumentMouseUp||(e.unbindDocumentMouseUp=t(a,"mouseup",n.onDocumentMouseUp)),e.hasTouch&&(r.ontouchstart=function(e){n.onContainerTouchStart(e)},r.ontouchmove=function(e){n.onContainerTouchMove(e)},e.unbindDocumentTouchEnd||(e.unbindDocumentTouchEnd=t(a,"touchend",n.onDocumentTouchEnd)))},destroy:function(){var t=this;t.unDocMouseMove&&t.unDocMouseMove(),this.unbindContainerMouseLeave(),e.chartCount||(e.unbindDocumentMouseUp&&(e.unbindDocumentMouseUp=e.unbindDocumentMouseUp()),e.unbindDocumentTouchEnd&&(e.unbindDocumentTouchEnd=e.unbindDocumentTouchEnd())),clearInterval(t.tooltipTimeout),e.objectEach(t,function(e,n){t[n]=null})}}}(l),function(e){var t=e.charts,n=e.each,r=e.extend,a=e.map,i=e.noop,o=e.pick;r(e.Pointer.prototype,{pinchTranslate:function(e,t,n,r,a,i){this.zoomHor&&this.pinchTranslateDirection(!0,e,t,n,r,a,i),this.zoomVert&&this.pinchTranslateDirection(!1,e,t,n,r,a,i)},pinchTranslateDirection:function(e,t,n,r,a,i,o,s){var c,l,u,d=this.chart,p=e?"x":"y",f=e?"X":"Y",h="chart"+f,m=e?"width":"height",g=d["plot"+(e?"Left":"Top")],v=s||1,b=d.inverted,y=d.bounds[e?"h":"v"],E=1===t.length,_=t[0][h],w=n[0][h],S=!E&&t[1][h],k=!E&&n[1][h];(n=function(){!E&&20<Math.abs(_-S)&&(v=s||Math.abs(w-k)/Math.abs(_-S)),l=(g-w)/v+_,c=d["plot"+(e?"Width":"Height")]/v})(),(t=l)<y.min?(t=y.min,u=!0):t+c>y.max&&(t=y.max-c,u=!0),u?(w-=.8*(w-o[p][0]),E||(k-=.8*(k-o[p][1])),n()):o[p]=[w,k],b||(i[p]=l-g,i[m]=c),i=b?1/v:v,a[m]=c,a[p]=t,r[b?e?"scaleY":"scaleX":"scale"+f]=v,r["translate"+f]=i*g+(w-i*_)},pinch:function(e){var t=this,s=t.chart,c=t.pinchDown,l=e.touches,u=l.length,d=t.lastValidTouch,p=t.hasZoom,f=t.selectionMarker,h={},m=1===u&&(t.inClass(e.target,"highcharts-tracker")&&s.runTrackerClick||t.runChartClick),g={};1<u&&(t.initiated=!0),p&&t.initiated&&!m&&e.preventDefault(),a(l,function(e){return t.normalize(e)}),"touchstart"===e.type?(n(l,function(e,t){c[t]={chartX:e.chartX,chartY:e.chartY}}),d.x=[c[0].chartX,c[1]&&c[1].chartX],d.y=[c[0].chartY,c[1]&&c[1].chartY],n(s.axes,function(e){if(e.zoomEnabled){var t=s.bounds[e.horiz?"h":"v"],n=e.minPixelPadding,r=e.toPixels(o(e.options.min,e.dataMin)),a=e.toPixels(o(e.options.max,e.dataMax)),i=Math.max(r,a);t.min=Math.min(e.pos,Math.min(r,a)-n),t.max=Math.max(e.pos+e.len,i+n)}}),t.res=!0):t.followTouchMove&&1===u?this.runPointActions(t.normalize(e)):c.length&&(f||(t.selectionMarker=f=r({destroy:i,touch:!0},s.plotBox)),t.pinchTranslate(c,l,h,f,g,d),t.hasPinched=p,t.scaleGroups(h,g),t.res&&(t.res=!1,this.reset(!1,0)))},touch:function(t,n){var r,a=this.chart;a.index!==e.hoverChartIndex&&this.onContainerMouseLeave({relatedTarget:!0}),e.hoverChartIndex=a.index,1===t.touches.length?(t=this.normalize(t),a.isInsidePlot(t.chartX-a.plotLeft,t.chartY-a.plotTop)&&!a.openMenu?(n&&this.runPointActions(t),"touchmove"===t.type&&(r=!!(n=this.pinchDown)[0]&&4<=Math.sqrt(Math.pow(n[0].chartX-t.chartX,2)+Math.pow(n[0].chartY-t.chartY,2))),o(r,!0)&&this.pinch(t)):n&&this.reset()):2===t.touches.length&&this.pinch(t)},onContainerTouchStart:function(e){this.zoomOption(e),this.touch(e,!0)},onContainerTouchMove:function(e){this.touch(e)},onDocumentTouchEnd:function(n){t[e.hoverChartIndex]&&t[e.hoverChartIndex].pointer.drop(n)}})}(l),function(e){var t=e.addEvent,n=e.charts,r=e.css,a=e.doc,i=e.extend,o=e.noop,s=e.Pointer,c=e.removeEvent,l=e.win,u=e.wrap;if(!e.hasTouch&&(l.PointerEvent||l.MSPointerEvent)){var d={},p=!!l.PointerEvent,f=function(){var t=[];return t.item=function(e){return this[e]},e.objectEach(d,function(e){t.push({pageX:e.pageX,pageY:e.pageY,target:e.target})}),t},h=function(t,r,a,i){"touch"!==t.pointerType&&t.pointerType!==t.MSPOINTER_TYPE_TOUCH||!n[e.hoverChartIndex]||(i(t),(i=n[e.hoverChartIndex].pointer)[r]({type:a,target:t.currentTarget,preventDefault:o,touches:f()}))};i(s.prototype,{onContainerPointerDown:function(e){h(e,"onContainerTouchStart","touchstart",function(e){d[e.pointerId]={pageX:e.pageX,pageY:e.pageY,target:e.currentTarget}})},onContainerPointerMove:function(e){h(e,"onContainerTouchMove","touchmove",function(e){d[e.pointerId]={pageX:e.pageX,pageY:e.pageY},d[e.pointerId].target||(d[e.pointerId].target=e.currentTarget)})},onDocumentPointerUp:function(e){h(e,"onDocumentTouchEnd","touchend",function(e){delete d[e.pointerId]})},batchMSEvents:function(e){e(this.chart.container,p?"pointerdown":"MSPointerDown",this.onContainerPointerDown),e(this.chart.container,p?"pointermove":"MSPointerMove",this.onContainerPointerMove),e(a,p?"pointerup":"MSPointerUp",this.onDocumentPointerUp)}}),u(s.prototype,"init",function(e,t,n){e.call(this,t,n),this.hasZoom&&r(t.container,{"-ms-touch-action":"none","touch-action":"none"})}),u(s.prototype,"setDOMEvents",function(e){e.apply(this),(this.hasZoom||this.followTouchMove)&&this.batchMSEvents(t)}),u(s.prototype,"destroy",function(e){this.batchMSEvents(c),e.call(this)})}}(l),function(e){var t=e.addEvent,n=e.css,r=e.discardElement,a=e.defined,i=e.each,o=e.fireEvent,s=e.isFirefox,c=e.marginNames,l=e.merge,u=e.pick,d=e.setAnimation,p=e.stableSort,f=e.win,h=e.wrap;e.Legend=function(e,t){this.init(e,t)},e.Legend.prototype={init:function(e,n){this.chart=e,this.setOptions(n),n.enabled&&(this.render(),t(this.chart,"endResize",function(){this.legend.positionCheckboxes()}),this.proximate?this.unchartrender=t(this.chart,"render",function(){this.legend.proximatePositions(),this.legend.positionItems()}):this.unchartrender&&this.unchartrender())},setOptions:function(e){var t=u(e.padding,8);this.options=e,this.itemStyle=e.itemStyle,this.itemHiddenStyle=l(this.itemStyle,e.itemHiddenStyle),this.itemMarginTop=e.itemMarginTop||0,this.padding=t,this.initialItemY=t-5,this.symbolWidth=u(e.symbolWidth,16),this.pages=[],this.proximate="proximate"===e.layout&&!this.chart.inverted},update:function(e,t){var n=this.chart;this.setOptions(l(!0,this.options,e)),this.destroy(),n.isDirtyLegend=n.isDirtyBox=!0,u(t,!0)&&n.redraw(),o(this,"afterUpdate")},colorizeItem:function(e,t){e.legendGroup[t?"removeClass":"addClass"]("highcharts-legend-item-hidden");var n=this.options,r=e.legendItem,a=e.legendLine,i=e.legendSymbol,s=this.itemHiddenStyle.color,c=(n=t?n.itemStyle.color:s,t&&e.color||s),l=e.options&&e.options.marker,u={fill:c};r&&r.css({fill:n,color:n}),a&&a.attr({stroke:c}),i&&(l&&i.isMarker&&(u=e.pointAttribs(),t||(u.stroke=u.fill=s)),i.attr(u)),o(this,"afterColorizeItem",{item:e,visible:t})},positionItems:function(){i(this.allItems,this.positionItem,this),this.chart.isResizing||this.positionCheckboxes()},positionItem:function(e){var t=(n=this.options).symbolPadding,n=!n.rtl,r=(i=e._legendItemPos)[0],i=i[1],o=e.checkbox;(e=e.legendGroup)&&e.element&&e[a(e.translateY)?"animate":"attr"]({translateX:n?r:this.legendWidth-r-2*t-4,translateY:i}),o&&(o.x=r,o.y=i)},destroyItem:function(e){var t=e.checkbox;i(["legendItem","legendLine","legendSymbol","legendGroup"],function(t){e[t]&&(e[t]=e[t].destroy())}),t&&r(e.checkbox)},destroy:function(){function e(e){this[e]&&(this[e]=this[e].destroy())}i(this.getAllItems(),function(t){i(["legendItem","legendGroup"],e,t)}),i("clipRect up down pager nav box title group".split(" "),e,this),this.display=null},positionCheckboxes:function(){var e,t=this.group&&this.group.alignAttr,r=this.clipHeight||this.legendHeight,a=this.titleHeight;t&&(e=t.translateY,i(this.allItems,function(i){var o,s=i.checkbox;s&&(o=e+a+s.y+(this.scrollOffset||0)+3,n(s,{left:t.translateX+i.checkboxOffset+s.x-20+"px",top:o+"px",display:this.proximate||o>e-6&&o<e+r-6?"":"none"}))},this))},renderTitle:function(){var e=this.options,t=this.padding,n=e.title,r=0;n.text&&(this.title||(this.title=this.chart.renderer.label(n.text,t-3,t-4,null,null,null,e.useHTML,null,"legend-title").attr({zIndex:1}).css(n.style).add(this.group)),r=(e=this.title.getBBox()).height,this.offsetWidth=e.width,this.contentGroup.attr({translateY:r})),this.titleHeight=r},setText:function(t){var n=this.options;t.legendItem.attr({text:n.labelFormat?e.format(n.labelFormat,t,this.chart.time):n.labelFormatter.call(t)})},renderItem:function(e){var t=this.chart,n=t.renderer,r=this.options,a=this.symbolWidth,i=r.symbolPadding,o=this.itemStyle,s=this.itemHiddenStyle,c="horizontal"===r.layout?u(r.itemDistance,20):0,d=!r.rtl,p=e.legendItem,f=!e.series,h=!f&&e.series.drawLegendSymbol?e.series:e,m=h.options,g=(c=a+i+c+((m=this.createCheckboxForItem&&m&&m.showCheckbox)?20:0),r.useHTML),v=e.options.className;p||(e.legendGroup=n.g("legend-item").addClass("highcharts-"+h.type+"-series highcharts-color-"+e.colorIndex+(v?" "+v:"")+(f?" highcharts-series-"+e.index:"")).attr({zIndex:1}).add(this.scrollGroup),e.legendItem=p=n.text("",d?a+i:-i,this.baseline||0,g).css(l(e.visible?o:s)).attr({align:d?"left":"right",zIndex:2}).add(e.legendGroup),this.baseline||(a=o.fontSize,this.fontMetrics=n.fontMetrics(a,p),this.baseline=this.fontMetrics.f+3+this.itemMarginTop,p.attr("y",this.baseline)),this.symbolHeight=r.symbolHeight||this.fontMetrics.f,h.drawLegendSymbol(this,e),this.setItemEvents&&this.setItemEvents(e,p,g),m&&this.createCheckboxForItem(e)),this.colorizeItem(e,e.visible),o.width||p.css({width:(r.itemWidth||r.width||t.spacingBox.width)-c}),this.setText(e),t=p.getBBox(),e.itemWidth=e.checkboxOffset=r.itemWidth||e.legendItemWidth||t.width+c,this.maxItemWidth=Math.max(this.maxItemWidth,e.itemWidth),this.totalItemWidth+=e.itemWidth,this.itemHeight=e.itemHeight=Math.round(e.legendItemHeight||t.height||this.symbolHeight)},layoutItem:function(e){var t=this.options,n=this.padding,r="horizontal"===t.layout,a=e.itemHeight,i=t.itemMarginBottom||0,o=this.itemMarginTop,s=r?u(t.itemDistance,20):0,c=t.width,l=c||this.chart.spacingBox.width-2*n-t.x;t=t.alignColumns&&this.totalItemWidth>l?this.maxItemWidth:e.itemWidth;r&&this.itemX-n+t>l&&(this.itemX=n,this.itemY+=o+this.lastLineHeight+i,this.lastLineHeight=0),this.lastItemY=o+this.itemY+i,this.lastLineHeight=Math.max(a,this.lastLineHeight),e._legendItemPos=[this.itemX,this.itemY],r?this.itemX+=t:(this.itemY+=o+a+i,this.lastLineHeight=a),this.offsetWidth=c||Math.max((r?this.itemX-n-(e.checkbox?0:s):t)+n,this.offsetWidth)},getAllItems:function(){var e=[];return i(this.chart.series,function(t){var n=t&&t.options;t&&u(n.showInLegend,!a(n.linkedTo)&&void 0,!0)&&(e=e.concat(t.legendItems||("point"===n.legendType?t.data:t)))}),o(this,"afterGetAllItems",{allItems:e}),e},getAlignment:function(){var e=this.options;return this.proximate?e.align.charAt(0)+"tv":e.floating?"":e.align.charAt(0)+e.verticalAlign.charAt(0)+e.layout.charAt(0)},adjustMargins:function(e,t){var n=this.chart,r=this.options,o=this.getAlignment();o&&i([/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/],function(i,s){i.test(o)&&!a(e[s])&&(n[c[s]]=Math.max(n[c[s]],n.legend[(s+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][s]*r[s%2?"x":"y"]+u(r.margin,12)+t[s]+(0===s&&void 0!==n.options.title.margin?n.titleOffset+n.options.title.margin:0)))})},proximatePositions:function(){var t=this.chart,n=[],r="left"===this.options.align;i(this.allItems,function(a){var i,o;i=r,a.xAxis&&a.points&&(a.xAxis.options.reversed&&(i=!i),i=e.find(i?a.points:a.points.slice(0).reverse(),function(t){return e.isNumber(t.plotY)}),o=a.legendGroup.getBBox().height,n.push({target:a.visible?(i?i.plotY:a.xAxis.height)-.3*o:t.plotHeight,size:o,item:a}))},this),e.distribute(n,t.plotHeight),i(n,function(e){e.item._legendItemPos[1]=t.plotTop-t.spacing[0]+e.pos})},render:function(){var e,t,n,r=this.chart,a=r.renderer,o=this.group,s=this.box,c=this.options,u=this.padding;this.itemX=u,this.itemY=this.initialItemY,this.lastItemY=this.offsetWidth=0,o||(this.group=o=a.g("legend").attr({zIndex:7}).add(),this.contentGroup=a.g().attr({zIndex:1}).add(o),this.scrollGroup=a.g().add(this.contentGroup)),this.renderTitle(),e=this.getAllItems(),p(e,function(e,t){return(e.options&&e.options.legendIndex||0)-(t.options&&t.options.legendIndex||0)}),c.reversed&&e.reverse(),this.allItems=e,this.display=t=!!e.length,this.itemHeight=this.totalItemWidth=this.maxItemWidth=this.lastLineHeight=0,i(e,this.renderItem,this),i(e,this.layoutItem,this),e=(c.width||this.offsetWidth)+u,n=this.lastItemY+this.lastLineHeight+this.titleHeight,n=this.handleOverflow(n),n+=u,s||(this.box=s=a.rect().addClass("highcharts-legend-box").attr({r:c.borderRadius}).add(o),s.isNew=!0),s.attr({stroke:c.borderColor,"stroke-width":c.borderWidth||0,fill:c.backgroundColor||"none"}).shadow(c.shadow),0<e&&0<n&&(s[s.isNew?"attr":"animate"](s.crisp.call({},{x:0,y:0,width:e,height:n},s.strokeWidth())),s.isNew=!1),s[t?"show":"hide"](),this.legendWidth=e,this.legendHeight=n,t&&(a=r.spacingBox,/(lth|ct|rth)/.test(this.getAlignment())&&(a=l(a,{y:a.y+r.titleOffset+r.options.title.margin})),o.align(l(c,{width:e,height:n,verticalAlign:this.proximate?"top":c.verticalAlign}),!0,a)),this.proximate||this.positionItems()},handleOverflow:function(e){var t,n,r=this,a=(l=this.chart).renderer,o=this.options,s=o.y,c=this.padding,l=l.spacingBox.height+("top"===o.verticalAlign?-s:s)-c,d=(s=o.maxHeight,this.clipRect),p=o.navigation,f=u(p.animation,!0),h=p.arrowSize||12,m=this.nav,g=this.pages,v=this.allItems,b=function(e){"number"==typeof e?d.attr({height:e}):d&&(r.clipRect=d.destroy(),r.contentGroup.clip()),r.contentGroup.div&&(r.contentGroup.div.style.clip=e?"rect("+c+"px,9999px,"+(c+e)+"px,0)":"auto")};return"horizontal"!==o.layout||"middle"===o.verticalAlign||o.floating||(l/=2),s&&(l=Math.min(l,s)),g.length=0,e>l&&!1!==p.enabled?(this.clipHeight=t=Math.max(l-20-this.titleHeight-c,0),this.currentPage=u(this.currentPage,1),this.fullHeight=e,i(v,function(e,r){var a=e._legendItemPos[1],i=Math.round(e.legendItem.getBBox().height),o=g.length;(!o||a-g[o-1]>t&&(n||a)!==g[o-1])&&(g.push(n||a),o++),e.pageIx=o-1,n&&(v[r-1].pageIx=o-1),r===v.length-1&&a+i-g[o-1]>t&&(g.push(a),e.pageIx=o),a!==n&&(n=a)}),d||(d=r.clipRect=a.clipRect(0,c,9999,0),r.contentGroup.clip(d)),b(t),m||(this.nav=m=a.g().attr({zIndex:1}).add(this.group),this.up=a.symbol("triangle",0,0,h,h).on("click",function(){r.scroll(-1,f)}).add(m),this.pager=a.text("",15,10).addClass("highcharts-legend-navigation").css(p.style).add(m),this.down=a.symbol("triangle-down",0,0,h,h).on("click",function(){r.scroll(1,f)}).add(m)),r.scroll(0),e=l):m&&(b(),this.nav=m.destroy(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0),e},scroll:function(e,t){var n=this.pages,r=n.length;e=this.currentPage+e;var a=this.clipHeight,i=this.options.navigation,o=this.pager,s=this.padding;e>r&&(e=r),0<e&&(void 0!==t&&d(t,this.chart),this.nav.attr({translateX:s,translateY:a+this.padding+7+this.titleHeight,visibility:"visible"}),this.up.attr({class:1===e?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"}),o.attr({text:e+"/"+r}),this.down.attr({x:18+this.pager.getBBox().width,class:e===r?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"}),this.up.attr({fill:1===e?i.inactiveColor:i.activeColor}).css({cursor:1===e?"default":"pointer"}),this.down.attr({fill:e===r?i.inactiveColor:i.activeColor}).css({cursor:e===r?"default":"pointer"}),this.scrollOffset=-n[e-1]+this.initialItemY,this.scrollGroup.animate({translateY:this.scrollOffset}),this.currentPage=e,this.positionCheckboxes())}},e.LegendSymbolMixin={drawRectangle:function(e,t){var n=e.symbolHeight,r=e.options.squareSymbol;t.legendSymbol=this.chart.renderer.rect(r?(e.symbolWidth-n)/2:0,e.baseline-n+1,r?n:e.symbolWidth,n,u(e.options.symbolRadius,n/2)).addClass("highcharts-point").attr({zIndex:3}).add(t.legendGroup)},drawLineMarker:function(e){var t,n=this.options,r=n.marker,a=e.symbolWidth,i=e.symbolHeight,o=i/2,s=this.chart.renderer,c=this.legendGroup;e=e.baseline-Math.round(.3*e.fontMetrics.b),t={"stroke-width":n.lineWidth||0},n.dashStyle&&(t.dashstyle=n.dashStyle),this.legendLine=s.path(["M",0,e,"L",a,e]).addClass("highcharts-graph").attr(t).add(c),r&&!1!==r.enabled&&a&&(n=Math.min(u(r.radius,o),o),0===this.symbol.indexOf("url")&&(r=l(r,{width:i,height:i}),n=0),this.legendSymbol=r=s.symbol(this.symbol,a/2-n,e-n,2*n,2*n,r).addClass("highcharts-point").add(c),r.isMarker=!0)}},(/Trident\/7\.0/.test(f.navigator.userAgent)||s)&&h(e.Legend.prototype,"positionItem",function(e,t){var n=this,r=function(){t._legendItemPos&&e.call(n,t)};r(),setTimeout(r)})}(l),function(e){var t=e.addEvent,n=e.animate,r=e.animObject,a=e.attr,i=e.doc,o=e.Axis,s=e.createElement,c=e.defaultOptions,l=e.discardElement,u=e.charts,d=e.css,p=e.defined,f=e.each,h=e.extend,m=e.find,g=e.fireEvent,v=e.grep,b=e.isNumber,y=e.isObject,E=e.isString,_=e.Legend,w=e.marginNames,S=e.merge,k=e.objectEach,C=e.Pointer,N=e.pick,O=e.pInt,x=e.removeEvent,T=e.seriesTypes,R=e.splat,P=e.syncTimeout,I=e.win,A=e.Chart=function(){this.getArgs.apply(this,arguments)};e.chart=function(e,t,n){return new A(e,t,n)},h(A.prototype,{callbacks:[],getArgs:function(){var e=[].slice.call(arguments);(E(e[0])||e[0].nodeName)&&(this.renderTo=e.shift()),this.init(e[0],e[1])},init:function(n,r){var a,i,o=n.series,s=n.plotOptions||{};g(this,"init",{args:arguments},function(){for(i in n.series=null,(a=S(c,n)).plotOptions)a.plotOptions[i].tooltip=s[i]&&S(s[i].tooltip)||void 0;a.tooltip.userOptions=n.chart&&n.chart.forExport&&n.tooltip.userOptions||n.tooltip,a.series=n.series=o,this.userOptions=n;var l=a.chart,d=l.events;this.margin=[],this.spacing=[],this.bounds={h:{},v:{}},this.labelCollectors=[],this.callback=r,this.isResizing=0,this.options=a,this.axes=[],this.series=[],this.time=n.time&&e.keys(n.time).length?new e.Time(n.time):e.time,this.hasCartesianSeries=l.showAxes;var p=this;p.index=u.length,u.push(p),e.chartCount++,d&&k(d,function(e,n){t(p,n,e)}),p.xAxis=[],p.yAxis=[],p.pointCount=p.colorCounter=p.symbolCounter=0,g(p,"afterInit"),p.firstRender()})},initSeries:function(t){var n=this.options.chart;return(n=T[t.type||n.type||n.defaultSeriesType])||e.error(17,!0),(n=new n).init(this,t),n},orderSeries:function(e){var t=this.series;for(e=e||0;e<t.length;e++)t[e]&&(t[e].index=e,t[e].name=t[e].getName())},isInsidePlot:function(e,t,n){var r=n?t:e;return e=n?e:t,0<=r&&r<=this.plotWidth&&0<=e&&e<=this.plotHeight},redraw:function(t){g(this,"beforeRedraw");var n,r,a,i=this.axes,o=this.series,s=this.pointer,c=this.legend,l=this.userOptions.legend,u=this.isDirtyLegend,d=this.hasCartesianSeries,p=this.isDirtyBox,m=this.renderer,v=m.isHidden(),b=[];for(this.setResponsive&&this.setResponsive(!1),e.setAnimation(t,this),v&&this.temporaryDisplay(),this.layOutTitles(),t=o.length;t--;)if((a=o[t]).options.stacking&&(n=!0,a.isDirty)){r=!0;break}if(r)for(t=o.length;t--;)(a=o[t]).options.stacking&&(a.isDirty=!0);f(o,function(e){e.isDirty&&("point"===e.options.legendType?(e.updateTotals&&e.updateTotals(),u=!0):l&&(l.labelFormatter||l.labelFormat)&&(u=!0)),e.isDirtyData&&g(e,"updatedData")}),u&&c&&c.options.enabled&&(c.render(),this.isDirtyLegend=!1),n&&this.getStacks(),d&&f(i,function(e){e.updateNames(),e.updateYNames&&e.updateYNames(),e.setScale()}),this.getMargins(),d&&(f(i,function(e){e.isDirty&&(p=!0)}),f(i,function(e){var t=e.min+","+e.max;e.extKey!==t&&(e.extKey=t,b.push(function(){g(e,"afterSetExtremes",h(e.eventArgs,e.getExtremes())),delete e.eventArgs})),(p||n)&&e.redraw()})),p&&this.drawChartBox(),g(this,"predraw"),f(o,function(e){(p||e.isDirty)&&e.visible&&e.redraw(),e.isDirtyData=!1}),s&&s.reset(!0),m.draw(),g(this,"redraw"),g(this,"render"),v&&this.temporaryDisplay(!0),f(b,function(e){e.call()})},get:function(e){function t(t){return t.id===e||t.options&&t.options.id===e}var n,r,a=this.series;for(n=m(this.axes,t)||m(this.series,t),r=0;!n&&r<a.length;r++)n=m(a[r].points||[],t);return n},getAxes:function(){var e=this,t=(n=this.options).xAxis=R(n.xAxis||{}),n=n.yAxis=R(n.yAxis||{});g(this,"getAxes"),f(t,function(e,t){e.index=t,e.isX=!0}),f(n,function(e,t){e.index=t}),t=t.concat(n),f(t,function(t){new o(e,t)}),g(this,"afterGetAxes")},getSelectedPoints:function(){var e=[];return f(this.series,function(t){e=e.concat(v(t.data||[],function(e){return e.selected}))}),e},getSelectedSeries:function(){return v(this.series,function(e){return e.selected})},setTitle:function(e,t,n){var r,a=this,i=a.options;r=i.title=S({style:{color:"#333333",fontSize:i.isStock?"16px":"18px"}},i.title,e),i=i.subtitle=S({style:{color:"#666666"}},i.subtitle,t),f([["title",e,r],["subtitle",t,i]],function(e,t){var n=e[0],r=a[n],i=e[1];e=e[2],r&&i&&(a[n]=r=r.destroy()),e&&!r&&(a[n]=a.renderer.text(e.text,0,0,e.useHTML).attr({align:e.align,class:"highcharts-"+n,zIndex:e.zIndex||4}).add(),a[n].update=function(e){a.setTitle(!t&&e,t&&e)},a[n].css(e.style))}),a.layOutTitles(n)},layOutTitles:function(e){var t,n=0,r=this.renderer,a=this.spacingBox;f(["title","subtitle"],function(e){var t,i=this[e],o=this.options[e];e="title"===e?-3:o.verticalAlign?0:n+2,i&&(t=o.style.fontSize,t=r.fontMetrics(t,i).b,i.css({width:(o.width||a.width+o.widthAdjust)+"px"}).align(h({y:e+t},o),!1,"spacingBox"),o.floating||o.verticalAlign||(n=Math.ceil(n+i.getBBox(o.useHTML).height)))},this),t=this.titleOffset!==n,this.titleOffset=n,!this.isDirtyBox&&t&&(this.isDirtyBox=this.isDirtyLegend=t,this.hasRendered&&N(e,!0)&&this.isDirtyBox&&this.redraw())},getChartSize:function(){var t=(n=this.options.chart).width,n=n.height,r=this.renderTo;p(t)||(this.containerWidth=e.getStyle(r,"width")),p(n)||(this.containerHeight=e.getStyle(r,"height")),this.chartWidth=Math.max(0,t||this.containerWidth||600),this.chartHeight=Math.max(0,e.relativeLength(n,this.chartWidth)||(1<this.containerHeight?this.containerHeight:400))},temporaryDisplay:function(t){var n=this.renderTo;if(t)for(;n&&n.style;)n.hcOrigStyle&&(e.css(n,n.hcOrigStyle),delete n.hcOrigStyle),n.hcOrigDetached&&(i.body.removeChild(n),n.hcOrigDetached=!1),n=n.parentNode;else for(;n&&n.style&&(i.body.contains(n)||n.parentNode||(n.hcOrigDetached=!0,i.body.appendChild(n)),("none"===e.getStyle(n,"display",!1)||n.hcOricDetached)&&(n.hcOrigStyle={display:n.style.display,height:n.style.height,overflow:n.style.overflow},t={display:"block",overflow:"hidden"},n!==this.renderTo&&(t.height=0),e.css(n,t),n.offsetWidth||n.style.setProperty("display","block","important")),(n=n.parentNode)!==i.body););},setClassName:function(e){this.container.className="highcharts-container "+(e||"")},getContainer:function(){var t,n,r,o=this.options,c=o.chart;t=this.renderTo;var l,d=e.uniqueKey();t||(this.renderTo=t=c.renderTo),E(t)&&(this.renderTo=t=i.getElementById(t)),t||e.error(13,!0),n=O(a(t,"data-highcharts-chart")),b(n)&&u[n]&&u[n].hasRendered&&u[n].destroy(),a(t,"data-highcharts-chart",this.index),t.innerHTML="",c.skipClone||t.offsetWidth||this.temporaryDisplay(),this.getChartSize(),n=this.chartWidth,r=this.chartHeight,l=h({position:"relative",overflow:"hidden",width:n+"px",height:r+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"},c.style),this.container=t=s("div",{id:d},l,t),this._cursor=t.style.cursor,this.renderer=new(e[c.renderer]||e.Renderer)(t,n,r,null,c.forExport,o.exporting&&o.exporting.allowHTML),this.setClassName(c.className),this.renderer.setStyle(c.style),this.renderer.chartIndex=this.index,g(this,"afterGetContainer")},getMargins:function(e){var t=this.spacing,n=this.margin,r=this.titleOffset;this.resetMargins(),r&&!p(n[0])&&(this.plotTop=Math.max(this.plotTop,r+this.options.title.margin+t[0])),this.legend&&this.legend.display&&this.legend.adjustMargins(n,t),g(this,"getMargins"),e||this.getAxisMargins()},getAxisMargins:function(){var e=this,t=e.axisOffset=[0,0,0,0],n=e.margin;e.hasCartesianSeries&&f(e.axes,function(e){e.visible&&e.getOffset()}),f(w,function(r,a){p(n[a])||(e[r]+=t[a])}),e.setChartSize()},reflow:function(t){var n=this,r=n.options.chart,a=n.renderTo,o=p(r.width)&&p(r.height),s=r.width||e.getStyle(a,"width");r=r.height||e.getStyle(a,"height"),a=t?t.target:I;o||n.isPrinting||!s||!r||a!==I&&a!==i||(s===n.containerWidth&&r===n.containerHeight||(e.clearTimeout(n.reflowTimeout),n.reflowTimeout=P(function(){n.container&&n.setSize(void 0,void 0,!1)},t?100:0)),n.containerWidth=s,n.containerHeight=r)},setReflow:function(e){var n=this;!1===e||this.unbindReflow?!1===e&&this.unbindReflow&&(this.unbindReflow=this.unbindReflow()):(this.unbindReflow=t(I,"resize",function(e){n.reflow(e)}),t(this,"destroy",this.unbindReflow))},setSize:function(t,a,i){var o=this,s=o.renderer;o.isResizing+=1,e.setAnimation(i,o),o.oldChartHeight=o.chartHeight,o.oldChartWidth=o.chartWidth,void 0!==t&&(o.options.chart.width=t),void 0!==a&&(o.options.chart.height=a),o.getChartSize(),((t=s.globalAnimation)?n:d)(o.container,{width:o.chartWidth+"px",height:o.chartHeight+"px"},t),o.setChartSize(!0),s.setSize(o.chartWidth,o.chartHeight,i),f(o.axes,function(e){e.isDirty=!0,e.setScale()}),o.isDirtyLegend=!0,o.isDirtyBox=!0,o.layOutTitles(),o.getMargins(),o.redraw(i),o.oldChartHeight=null,g(o,"resize"),P(function(){o&&g(o,"endResize",null,function(){--o.isResizing})},r(t).duration)},setChartSize:function(e){var t,n,r,a,i=this.inverted,o=this.renderer,s=this.chartWidth,c=this.chartHeight,l=this.options.chart,u=this.spacing,d=this.clipOffset;this.plotLeft=t=Math.round(this.plotLeft),this.plotTop=n=Math.round(this.plotTop),this.plotWidth=r=Math.max(0,Math.round(s-t-this.marginRight)),this.plotHeight=a=Math.max(0,Math.round(c-n-this.marginBottom)),this.plotSizeX=i?a:r,this.plotSizeY=i?r:a,this.plotBorderWidth=l.plotBorderWidth||0,this.spacingBox=o.spacingBox={x:u[3],y:u[0],width:s-u[3]-u[1],height:c-u[0]-u[2]},this.plotBox=o.plotBox={x:t,y:n,width:r,height:a},s=2*Math.floor(this.plotBorderWidth/2),i=Math.ceil(Math.max(s,d[3])/2),o=Math.ceil(Math.max(s,d[0])/2),this.clipBox={x:i,y:o,width:Math.floor(this.plotSizeX-Math.max(s,d[1])/2-i),height:Math.max(0,Math.floor(this.plotSizeY-Math.max(s,d[2])/2-o))},e||f(this.axes,function(e){e.setAxisSize(),e.setAxisTranslation()}),g(this,"afterSetChartSize",{skipAxes:e})},resetMargins:function(){var e=this,t=e.options.chart;f(["margin","spacing"],function(n){var r=t[n],a=y(r)?r:[r,r,r,r];f(["Top","Right","Bottom","Left"],function(r,i){e[n][i]=N(t[n+r],a[i])})}),f(w,function(t,n){e[t]=N(e.margin[n],e.spacing[n])}),e.axisOffset=[0,0,0,0],e.clipOffset=[0,0,0,0]},drawChartBox:function(){var e,t,n=this.options.chart,r=this.renderer,a=this.chartWidth,i=this.chartHeight,o=this.chartBackground,s=this.plotBackground,c=this.plotBorder,l=this.plotBGImage,u=n.backgroundColor,d=n.plotBackgroundColor,p=n.plotBackgroundImage,f=this.plotLeft,h=this.plotTop,m=this.plotWidth,v=this.plotHeight,b=this.plotBox,y=this.clipRect,E=this.clipBox,_="animate";o||(this.chartBackground=o=r.rect().addClass("highcharts-background").add(),_="attr"),t=(e=n.borderWidth||0)+(n.shadow?8:0),u={fill:u||"none"},(e||o["stroke-width"])&&(u.stroke=n.borderColor,u["stroke-width"]=e),o.attr(u).shadow(n.shadow),o[_]({x:t/2,y:t/2,width:a-t-e%2,height:i-t-e%2,r:n.borderRadius}),_="animate",s||(_="attr",this.plotBackground=s=r.rect().addClass("highcharts-plot-background").add()),s[_](b),s.attr({fill:d||"none"}).shadow(n.plotShadow),p&&(l?l.animate(b):this.plotBGImage=r.image(p,f,h,m,v).add()),y?y.animate({width:E.width,height:E.height}):this.clipRect=r.clipRect(E),_="animate",c||(_="attr",this.plotBorder=c=r.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add()),c.attr({stroke:n.plotBorderColor,"stroke-width":n.plotBorderWidth||0,fill:"none"}),c[_](c.crisp({x:f,y:h,width:m,height:v},-c.strokeWidth())),this.isDirtyBox=!1,g(this,"afterDrawChartBox")},propFromSeries:function(){var e,t,n,r=this,a=r.options.chart,i=r.options.series;f(["inverted","angular","polar"],function(o){for(e=T[a.type||a.defaultSeriesType],n=a[o]||e&&e.prototype[o],t=i&&i.length;!n&&t--;)(e=T[i[t].type])&&e.prototype[o]&&(n=!0);r[o]=n})},linkSeries:function(){var e=this,t=e.series;f(t,function(e){e.linkedSeries.length=0}),f(t,function(t){var n=t.options.linkedTo;E(n)&&(n=":previous"===n?e.series[t.index-1]:e.get(n))&&n.linkedParent!==t&&(n.linkedSeries.push(t),t.linkedParent=n,t.visible=N(t.options.visible,n.options.visible,t.visible))}),g(this,"afterLinkSeries")},renderSeries:function(){f(this.series,function(e){e.translate(),e.render()})},renderLabels:function(){var e=this,t=e.options.labels;t.items&&f(t.items,function(n){var r=h(t.style,n.style),a=O(r.left)+e.plotLeft,i=O(r.top)+e.plotTop+12;delete r.left,delete r.top,e.renderer.text(n.html,a,i).attr({zIndex:2}).css(r).add()})},render:function(){var e,t,n,r=this.axes,a=this.renderer,i=this.options;this.setTitle(),this.legend=new _(this,i.legend),this.getStacks&&this.getStacks(),this.getMargins(!0),this.setChartSize(),i=this.plotWidth,e=this.plotHeight=Math.max(this.plotHeight-21,0),f(r,function(e){e.setScale()}),this.getAxisMargins(),t=1.1<i/this.plotWidth,n=1.05<e/this.plotHeight,(t||n)&&(f(r,function(e){(e.horiz&&t||!e.horiz&&n)&&e.setTickInterval(!0)}),this.getMargins()),this.drawChartBox(),this.hasCartesianSeries&&f(r,function(e){e.visible&&e.render()}),this.seriesGroup||(this.seriesGroup=a.g("series-group").attr({zIndex:3}).add()),this.renderSeries(),this.renderLabels(),this.addCredits(),this.setResponsive&&this.setResponsive(),this.hasRendered=!0},addCredits:function(e){var t=this;(e=S(!0,this.options.credits,e)).enabled&&!this.credits&&(this.credits=this.renderer.text(e.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",function(){e.href&&(I.location.href=e.href)}).attr({align:e.position.align,zIndex:8}).css(e.style).add().align(e.position),this.credits.update=function(e){t.credits=t.credits.destroy(),t.addCredits(e)})},destroy:function(){var t,n=this,r=n.axes,a=n.series,i=n.container,o=i&&i.parentNode;for(g(n,"destroy"),n.renderer.forExport?e.erase(u,n):u[n.index]=void 0,e.chartCount--,n.renderTo.removeAttribute("data-highcharts-chart"),x(n),t=r.length;t--;)r[t]=r[t].destroy();for(this.scroller&&this.scroller.destroy&&this.scroller.destroy(),t=a.length;t--;)a[t]=a[t].destroy();f("title subtitle chartBackground plotBackground plotBGImage plotBorder seriesGroup clipRect credits pointer rangeSelector legend resetZoomButton tooltip renderer".split(" "),function(e){var t=n[e];t&&t.destroy&&(n[e]=t.destroy())}),i&&(i.innerHTML="",x(i),o&&l(i)),k(n,function(e,t){delete n[t]})},firstRender:function(){var e=this,t=e.options;e.isReadyToRender&&!e.isReadyToRender()||(e.getContainer(),e.resetMargins(),e.setChartSize(),e.propFromSeries(),e.getAxes(),f(t.series||[],function(t){e.initSeries(t)}),e.linkSeries(),g(e,"beforeRender"),C&&(e.pointer=new C(e,t)),e.render(),!e.renderer.imgCount&&e.onload&&e.onload(),e.temporaryDisplay(!0))},onload:function(){f([this.callback].concat(this.callbacks),function(e){e&&void 0!==this.index&&e.apply(this,[this])},this),g(this,"load"),g(this,"render"),p(this.index)&&this.setReflow(this.options.chart.reflow),this.onload=null}})}(l),function(e){var t=e.addEvent,n=e.Chart,r=e.each;t(n,"afterSetChartSize",function(t){var n=this.options.chart.scrollablePlotArea;(n=n&&n.minWidth)&&!this.renderer.forExport&&(this.scrollablePixels=n=Math.max(0,n-this.chartWidth))&&(this.plotWidth+=n,this.clipBox.width+=n,t.skipAxes||r(this.axes,function(t){1===t.side?t.getPlotLinePath=function(){var n,r=this.right;return this.right=r-t.chart.scrollablePixels,n=e.Axis.prototype.getPlotLinePath.apply(this,arguments),this.right=r,n}:(t.setAxisSize(),t.setAxisTranslation())}))}),t(n,"render",function(){this.scrollablePixels?(this.setUpScrolling&&this.setUpScrolling(),this.applyFixed()):this.fixedDiv&&this.applyFixed()}),n.prototype.setUpScrolling=function(){this.scrollingContainer=e.createElement("div",{className:"highcharts-scrolling"},{overflowX:"auto",WebkitOverflowScrolling:"touch"},this.renderTo),this.innerContainer=e.createElement("div",{className:"highcharts-inner-container"},null,this.scrollingContainer),this.innerContainer.appendChild(this.container),this.setUpScrolling=null},n.prototype.applyFixed=function(){var t,n,r=this.container;(a=!this.fixedDiv)&&(this.fixedDiv=e.createElement("div",{className:"highcharts-fixed"},{position:"absolute",overflow:"hidden",pointerEvents:"none",zIndex:2},null,!0),this.renderTo.insertBefore(this.fixedDiv,this.renderTo.firstChild),this.fixedRenderer=t=new e.Renderer(this.fixedDiv,0,0),this.scrollableMask=t.path().attr({fill:e.color(this.options.chart.backgroundColor||"#fff").setOpacity(.85).get(),zIndex:-1}).addClass("highcharts-scrollable-mask").add(),e.each([this.inverted?".highcharts-xaxis":".highcharts-yaxis",this.inverted?".highcharts-xaxis-labels":".highcharts-yaxis-labels",".highcharts-contextbutton",".highcharts-credits",".highcharts-legend",".highcharts-subtitle",".highcharts-title",".highcharts-legend-checkbox"],function(n){e.each(r.querySelectorAll(n),function(e){(e.namespaceURI===t.SVG_NS?t.box:t.box.parentNode).appendChild(e),e.style.pointerEvents="auto"})})),this.fixedRenderer.setSize(this.chartWidth,this.chartHeight),n=this.chartWidth+this.scrollablePixels,e.stop(this.container),this.container.style.width=n+"px",this.renderer.boxWrapper.attr({width:n,height:this.chartHeight,viewBox:[0,0,n,this.chartHeight].join(" ")}),this.chartBackground.attr({width:n}),a&&((n=this.options.chart.scrollablePlotArea).scrollPositionX&&(this.scrollingContainer.scrollLeft=this.scrollablePixels*n.scrollPositionX)),a=this.axisOffset,n=this.plotTop-a[0]-1;var a=this.plotTop+this.plotHeight+a[2],i=this.plotLeft+this.plotWidth-this.scrollablePixels;this.scrollableMask.attr({d:this.scrollablePixels?["M",0,n,"L",this.plotLeft-1,n,"L",this.plotLeft-1,a,"L",0,a,"Z","M",i,n,"L",this.chartWidth,n,"L",this.chartWidth,a,"L",i,a,"Z"]:["M",0,0]})}}(l),function(e){var t,n=e.each,r=e.extend,a=e.erase,i=e.fireEvent,o=e.format,s=e.isArray,c=e.isNumber,l=e.pick,u=e.uniqueKey,d=e.defined,p=e.removeEvent;e.Point=t=function(){},e.Point.prototype={init:function(e,t,n){return this.series=e,this.color=e.color,this.applyOptions(t,n),this.id=d(this.id)?this.id:u(),e.options.colorByPoint?(t=e.options.colors||e.chart.options.colors,this.color=this.color||t[e.colorCounter],t=t.length,n=e.colorCounter,e.colorCounter++,e.colorCounter===t&&(e.colorCounter=0)):n=e.colorIndex,this.colorIndex=l(this.colorIndex,n),e.chart.pointCount++,i(this,"afterInit"),this},applyOptions:function(e,n){var a=this.series,i=a.options.pointValKey||a.pointValKey;return e=t.prototype.optionsToObject.call(this,e),r(this,e),this.options=this.options?r(this.options,e):e,e.group&&delete this.group,e.dataLabels&&delete this.dataLabels,i&&(this.y=this[i]),this.isNull=l(this.isValid&&!this.isValid(),null===this.x||!c(this.y,!0)),this.selected&&(this.state="select"),"name"in this&&void 0===n&&a.xAxis&&a.xAxis.hasNames&&(this.x=a.xAxis.nameToX(this)),void 0===this.x&&a&&(this.x=void 0===n?a.autoIncrement(this):n),this},setNestedProperty:function(t,n,r){return r=r.split("."),e.reduce(r,function(t,r,a,i){return t[r]=i.length-1===a?n:e.isObject(t[r],!0)?t[r]:{},t[r]},t),t},optionsToObject:function(t){var n={},r=this.series,a=r.options.keys,i=a||r.pointArrayMap||["y"],o=i.length,l=0,u=0;if(c(t)||null===t)n[i[0]]=t;else if(s(t))for(!a&&t.length>o&&("string"===(r=typeof t[0])?n.name=t[0]:"number"===r&&(n.x=t[0]),l++);u<o;)a&&void 0===t[l]||(0<i[u].indexOf(".")?e.Point.prototype.setNestedProperty(n,t[l],i[u]):n[i[u]]=t[l]),l++,u++;else"object"==typeof t&&(n=t,t.dataLabels&&(r._hasPointLabels=!0),t.marker&&(r._hasPointMarkers=!0));return n},getClassName:function(){return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+(void 0!==this.colorIndex?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")+(this.zone&&this.zone.className?" "+this.zone.className.replace("highcharts-negative",""):"")},getZone:function(){var e,t=(n=this.series).zones,n=n.zoneAxis||"y",r=0;for(e=t[r];this[n]>=e.value;)e=t[++r];return this.nonZonedColor||(this.nonZonedColor=this.color),this.color=e&&e.color&&!this.options.color?e.color:this.nonZonedColor,e},destroy:function(){var e,t=this.series.chart,n=t.hoverPoints;for(e in t.pointCount--,n&&(this.setState(),a(n,this),n.length||(t.hoverPoints=null)),this===t.hoverPoint&&this.onMouseOut(),(this.graphic||this.dataLabel||this.dataLabels)&&(p(this),this.destroyElements()),this.legendItem&&t.legend.destroyItem(this),this)this[e]=null},destroyElements:function(){for(var e,t=["graphic","dataLabel","dataLabelUpper","connector","shadowGroup"],r=6;r--;)this[e=t[r]]&&(this[e]=this[e].destroy());this.dataLabels&&(n(this.dataLabels,function(e){e.element&&e.destroy()}),delete this.dataLabels),this.connectors&&(n(this.connectors,function(e){e.element&&e.destroy()}),delete this.connectors)},getLabelConfig:function(){return{x:this.category,y:this.y,color:this.color,colorIndex:this.colorIndex,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},tooltipFormatter:function(e){var t=this.series,r=t.tooltipOptions,a=l(r.valueDecimals,""),i=r.valuePrefix||"",s=r.valueSuffix||"";return n(t.pointArrayMap||["y"],function(t){t="{point."+t,(i||s)&&(e=e.replace(RegExp(t+"}","g"),i+t+"}"+s)),e=e.replace(RegExp(t+"}","g"),t+":,."+a+"f}")}),o(e,{point:this,series:this.series},t.chart.time)},firePointEvent:function(e,t,n){var r=this,a=this.series.options;(a.point.events[e]||r.options&&r.options.events&&r.options.events[e])&&this.importEvents(),"click"===e&&a.allowPointSelect&&(n=function(e){r.select&&r.select(null,e.ctrlKey||e.metaKey||e.shiftKey)}),i(this,e,t,n)},visible:!0}}(l),function(e){var t=e.addEvent,n=e.animObject,r=e.arrayMax,a=e.arrayMin,i=e.correctFloat,o=e.defaultOptions,s=e.defaultPlotOptions,c=e.defined,l=e.each,u=e.erase,d=e.extend,p=e.fireEvent,f=e.grep,h=e.isArray,m=e.isNumber,g=e.isString,v=e.merge,b=e.objectEach,y=e.pick,E=e.removeEvent,_=e.splat,w=e.SVGElement,S=e.syncTimeout,k=e.win;e.Series=e.seriesType("line",null,{lineWidth:2,allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},marker:{lineWidth:0,lineColor:"#ffffff",enabledThreshold:2,radius:4,states:{normal:{animation:!0},hover:{animation:{duration:50},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:"#cccccc",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:{align:"center",formatter:function(){return null===this.y?"":e.numberFormat(this.y,-1)},style:{fontSize:"11px",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0,padding:5},cropThreshold:300,pointRange:0,softThreshold:!0,states:{normal:{animation:!0},hover:{animation:{duration:50},lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{}},stickyTracking:!0,turboThreshold:1e3,findNearestPointBy:"x"},{isCartesian:!0,pointClass:e.Point,sorted:!0,requireSorting:!0,directTouch:!1,axisTypes:["xAxis","yAxis"],colorCounter:0,parallelArrays:["x","y"],coll:"series",init:function(e,n){var r,a,i=this,o=e.series;i.chart=e,i.options=n=i.setOptions(n),i.linkedSeries=[],i.bindAxes(),d(i,{name:n.name,state:"",visible:!1!==n.visible,selected:!0===n.selected}),r=n.events,b(r,function(e,n){t(i,n,e)}),(r&&r.click||n.point&&n.point.events&&n.point.events.click||n.allowPointSelect)&&(e.runTrackerClick=!0),i.getColor(),i.getSymbol(),l(i.parallelArrays,function(e){i[e+"Data"]=[]}),i.setData(n.data,!1),i.isCartesian&&(e.hasCartesianSeries=!0),o.length&&(a=o[o.length-1]),i._i=y(a&&a._i,-1)+1,e.orderSeries(this.insert(o)),p(this,"afterInit")},insert:function(e){var t,n=this.options.index;if(m(n)){for(t=e.length;t--;)if(n>=y(e[t].options.index,e[t]._i)){e.splice(t+1,0,this);break}-1===t&&e.unshift(this),t+=1}else e.push(this);return y(t,e.length-1)},bindAxes:function(){var t,n=this,r=n.options,a=n.chart;l(n.axisTypes||[],function(i){l(a[i],function(e){t=e.options,(r[i]===t.index||void 0!==r[i]&&r[i]===t.id||void 0===r[i]&&0===t.index)&&(n.insert(e.series),n[i]=e,e.isDirty=!0)}),n[i]||n.optionalAxis===i||e.error(18,!0)})},updateParallelArrays:function(e,t){var n=e.series,r=arguments,a=m(t)?function(r){var a="y"===r&&n.toYData?n.toYData(e):e[r];n[r+"Data"][t]=a}:function(e){Array.prototype[t].apply(n[e+"Data"],Array.prototype.slice.call(r,2))};l(n.parallelArrays,a)},autoIncrement:function(){var e,t=this.options,n=this.xIncrement,r=t.pointIntervalUnit,a=this.chart.time;n=y(n,t.pointStart,0);return this.pointInterval=e=y(this.pointInterval,t.pointInterval,1),r&&(t=new a.Date(n),"day"===r?a.set("Date",t,a.get("Date",t)+e):"month"===r?a.set("Month",t,a.get("Month",t)+e):"year"===r&&a.set("FullYear",t,a.get("FullYear",t)+e),e=t.getTime()-n),this.xIncrement=n+e,n},setOptions:function(e){var t=this.chart,n=t.options,r=n.plotOptions,a=(t.userOptions||{}).plotOptions||{},i=r[this.type];return this.userOptions=e,t=v(i,r.series,e),this.tooltipOptions=v(o.tooltip,o.plotOptions.series&&o.plotOptions.series.tooltip,o.plotOptions[this.type].tooltip,n.tooltip.userOptions,r.series&&r.series.tooltip,r[this.type].tooltip,e.tooltip),this.stickyTracking=y(e.stickyTracking,a[this.type]&&a[this.type].stickyTracking,a.series&&a.series.stickyTracking,!(!this.tooltipOptions.shared||this.noSharedTooltip)||t.stickyTracking),null===i.marker&&delete t.marker,this.zoneAxis=t.zoneAxis,e=this.zones=(t.zones||[]).slice(),!t.negativeColor&&!t.negativeFillColor||t.zones||e.push({value:t[this.zoneAxis+"Threshold"]||t.threshold||0,className:"highcharts-negative",color:t.negativeColor,fillColor:t.negativeFillColor}),e.length&&c(e[e.length-1].value)&&e.push({color:this.color,fillColor:this.fillColor}),p(this,"afterSetOptions",{options:t}),t},getName:function(){return this.name||"Series "+(this.index+1)},getCyclic:function(e,t,n){var r,a=this.chart,i=this.userOptions,o=e+"Index",s=e+"Counter",l=n?n.length:y(a.options.chart[e+"Count"],a[e+"Count"]);t||(r=y(i[o],i["_"+o]),c(r)||(a.series.length||(a[s]=0),i["_"+o]=r=a[s]%l,a[s]+=1),n&&(t=n[r])),void 0!==r&&(this[o]=r),this[e]=t},getColor:function(){this.options.colorByPoint?this.options.color=null:this.getCyclic("color",this.options.color||s[this.type].color,this.chart.options.colors)},getSymbol:function(){this.getCyclic("symbol",this.options.marker.symbol,this.chart.options.symbols)},drawLegendSymbol:e.LegendSymbolMixin.drawLineMarker,updateData:function(t){var n,r,a,i=this.options,o=this.points,s=[],c=this.requireSorting;if(l(t,function(t){var r;r=e.defined(t)&&this.pointClass.prototype.optionsToObject.call({series:this},t).x,m(r)&&(-1===(r=e.inArray(r,this.xData,a))||o[r].touched?s.push(t):t!==i.data[r]?(o[r].update(t,!1,null,!1),o[r].touched=!0,c&&(a=r+1)):o[r]&&(o[r].touched=!0),n=!0)},this),n)for(t=o.length;t--;)(r=o[t]).touched||r.remove(!1),r.touched=!1;else{if(t.length!==o.length)return!1;l(t,function(e,t){o[t].update&&e!==i.data[t]&&o[t].update(e,!1,null,!1)})}return l(s,function(e){this.addPoint(e,!1)},this),!0},setData:function(t,n,r,a){var i,o,s=this,c=s.points,u=c&&c.length||0,d=s.options,p=s.chart,f=null,v=s.xAxis,b=d.turboThreshold,E=this.xData,_=this.yData,w=(i=s.pointArrayMap)&&i.length;if(i=(t=t||[]).length,n=y(n,!0),!1!==a&&i&&u&&!s.cropped&&!s.hasGroupedData&&s.visible&&!s.isSeriesBoosting&&(o=this.updateData(t)),!o){if(s.xIncrement=null,s.colorCounter=0,l(this.parallelArrays,function(e){s[e+"Data"].length=0}),b&&i>b){for(r=0;null===f&&r<i;)f=t[r],r++;if(m(f))for(r=0;r<i;r++)E[r]=this.autoIncrement(),_[r]=t[r];else if(h(f))if(w)for(r=0;r<i;r++)f=t[r],E[r]=f[0],_[r]=f.slice(1,w+1);else for(r=0;r<i;r++)f=t[r],E[r]=f[0],_[r]=f[1];else e.error(12)}else for(r=0;r<i;r++)void 0!==t[r]&&(f={series:s},s.pointClass.prototype.applyOptions.apply(f,[t[r]]),s.updateParallelArrays(f,r));for(_&&g(_[0])&&e.error(14,!0),s.data=[],s.options.data=s.userOptions.data=t,r=u;r--;)c[r]&&c[r].destroy&&c[r].destroy();v&&(v.minRange=v.userMinRange),s.isDirty=p.isDirtyBox=!0,s.isDirtyData=!!c,r=!1}"point"===d.legendType&&(this.processData(),this.generatePoints()),n&&p.redraw(r)},processData:function(t){var n,r=this.xData,a=this.yData,i=r.length;n=0;var o,s,c,l=this.xAxis;c=(h=this.options).cropThreshold;var u,d,p=this.getExtremesFromAll||h.getExtremesFromAll,f=this.isCartesian,h=l&&l.val2lin,m=l&&l.isLog,g=this.requireSorting;if(f&&!this.isDirty&&!l.isDirty&&!this.yAxis.isDirty&&!t)return!1;for(l&&(u=(t=l.getExtremes()).min,d=t.max),f&&this.sorted&&!p&&(!c||i>c||this.forceCrop)&&(r[i-1]<u||r[0]>d?(r=[],a=[]):this.yData&&(r[0]<u||r[i-1]>d)&&(r=(n=this.cropData(this.xData,this.yData,u,d)).xData,a=n.yData,n=n.start,o=!0)),c=r.length||1;--c;)0<(i=m?h(r[c])-h(r[c-1]):r[c]-r[c-1])&&(void 0===s||i<s)?s=i:0>i&&g&&(e.error(15),g=!1);this.cropped=o,this.cropStart=n,this.processedXData=r,this.processedYData=a,this.closestPointRange=s},cropData:function(e,t,n,r,a){var i,o=e.length,s=0,c=o;for(a=y(a,this.cropShoulder,1),i=0;i<o;i++)if(e[i]>=n){s=Math.max(0,i-a);break}for(n=i;n<o;n++)if(e[n]>r){c=n+a;break}return{xData:e.slice(s,c),yData:t.slice(s,c),start:s,end:c}},generatePoints:function(){var e,t,n,r,a=(f=this.options).data,i=this.data,o=this.processedXData,s=this.processedYData,c=this.pointClass,l=o.length,u=this.cropStart||0,p=this.hasGroupedData,f=f.keys,h=[];for(i||p||((i=[]).length=a.length,i=this.data=i),f&&p&&(this.options.keys=!1),r=0;r<l;r++)t=u+r,p?((n=(new c).init(this,[o[r]].concat(_(s[r])))).dataGroup=this.groupMap[r],n.dataGroup.options&&(n.options=n.dataGroup.options,d(n,n.dataGroup.options))):(n=i[t])||void 0===a[t]||(i[t]=n=(new c).init(this,a[t],o[r])),n&&(n.index=t,h[r]=n);if(this.options.keys=f,i&&(l!==(e=i.length)||p))for(r=0;r<e;r++)r!==u||p||(r+=l),i[r]&&(i[r].destroyElements(),i[r].plotX=void 0);this.data=i,this.points=h},getExtremes:function(e){var t,n,i,o,s,c=this.yAxis,l=this.processedXData,u=[],d=0,p=(t=this.xAxis.getExtremes()).min,f=t.max,g=this.requireSorting?1:0;for(t=(e=e||this.stackedYData||this.processedYData||[]).length,s=0;s<t;s++)if(i=l[s],o=e[s],n=(m(o,!0)||h(o))&&(!c.positiveValuesOnly||o.length||0<o),i=this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||(l[s+g]||i)>=p&&(l[s-g]||i)<=f,n&&i)if(n=o.length)for(;n--;)"number"==typeof o[n]&&(u[d++]=o[n]);else u[d++]=o;this.dataMin=a(u),this.dataMax=r(u)},translate:function(){this.processedXData||this.processData(),this.generatePoints();var e,t,n,r,a=this.options,o=a.stacking,s=this.xAxis,l=s.categories,u=this.yAxis,d=this.points,f=d.length,h=!!this.modifyValue,g=a.pointPlacement,v="between"===g||m(g),b=a.threshold,E=a.startFromThreshold?b:0,_=Number.MAX_VALUE;for("between"===g&&(g=.5),m(g)&&(g*=y(a.pointRange||s.pointRange)),a=0;a<f;a++){var w=d[a],S=w.x,k=w.y;t=w.low;var C,N=o&&u.stacks[(this.negStacks&&k<(E?0:b)?"-":"")+this.stackKey];u.positiveValuesOnly&&null!==k&&0>=k&&(w.isNull=!0),w.plotX=e=i(Math.min(Math.max(-1e5,s.translate(S,0,0,0,1,g,"flags"===this.type)),1e5)),o&&this.visible&&!w.isNull&&N&&N[S]&&(r=this.getStackIndicator(r,S,this.index),t=(k=(C=N[S]).points[r.key])[0],k=k[1],t===E&&r.key===N[S].base&&(t=y(m(b)&&b,u.min)),u.positiveValuesOnly&&0>=t&&(t=null),w.total=w.stackTotal=C.total,w.percentage=C.total&&w.y/C.total*100,w.stackY=k,C.setOffset(this.pointXOffset||0,this.barW||0)),w.yBottom=c(t)?Math.min(Math.max(-1e5,u.translate(t,0,1,0,1)),1e5):null,h&&(k=this.modifyValue(k,w)),w.plotY=t="number"==typeof k&&1/0!==k?Math.min(Math.max(-1e5,u.translate(k,0,1,0,1)),1e5):void 0,w.isInside=void 0!==t&&0<=t&&t<=u.len&&0<=e&&e<=s.len,w.clientX=v?i(s.translate(S,0,0,0,1,g)):e,w.negative=w.y<(b||0),w.category=l&&void 0!==l[w.x]?l[w.x]:w.x,w.isNull||(void 0!==n&&(_=Math.min(_,Math.abs(e-n))),n=e),w.zone=this.zones.length&&w.getZone()}this.closestPointRangePx=_,p(this,"afterTranslate")},getValidPoints:function(e,t){var n=this.chart;return f(e||this.points||[],function(e){return!(t&&!n.isInsidePlot(e.plotX,e.plotY,n.inverted))&&!e.isNull})},setClip:function(e){var t=this.chart,n=this.options,r=t.renderer,a=t.inverted,i=this.clipBox,o=i||t.clipBox,s=this.sharedClipKey||["_sharedClip",e&&e.duration,e&&e.easing,o.height,n.xAxis,n.yAxis].join(),c=t[s],l=t[s+"m"];c||(e&&(o.width=0,a&&(o.x=t.plotSizeX),t[s+"m"]=l=r.clipRect(a?t.plotSizeX+99:-99,a?-t.plotLeft:-t.plotTop,99,a?t.chartWidth:t.chartHeight)),t[s]=c=r.clipRect(o),c.count={length:0}),e&&!c.count[this.index]&&(c.count[this.index]=!0,c.count.length+=1),!1!==n.clip&&(this.group.clip(e||i?c:t.clipRect),this.markerGroup.clip(l),this.sharedClipKey=s),e||(c.count[this.index]&&(delete c.count[this.index],--c.count.length),0===c.count.length&&s&&t[s]&&(i||(t[s]=t[s].destroy()),t[s+"m"]&&(t[s+"m"]=t[s+"m"].destroy())))},animate:function(e){var t,r=this.chart,a=n(this.options.animation);e?this.setClip(a):((e=r[t=this.sharedClipKey])&&e.animate({width:r.plotSizeX,x:0},a),r[t+"m"]&&r[t+"m"].animate({width:r.plotSizeX+99,x:0},a),this.animate=null)},afterAnimate:function(){this.setClip(),p(this,"afterAnimate"),this.finishedAnimating=!0},drawPoints:function(){var e,t,n,r,a,i,o,s,c=this.points,l=this.chart,u=this.options.marker,d=this[this.specialGroup]||this.markerGroup,p=y(u.enabled,!!this.xAxis.isRadial||null,this.closestPointRangePx>=u.enabledThreshold*u.radius);if(!1!==u.enabled||this._hasPointMarkers)for(e=0;e<c.length;e++)r=(t=c[e]).graphic,a=t.marker||{},i=!!t.marker,n=p&&void 0===a.enabled||a.enabled,o=t.isInside,n&&!t.isNull?(n=y(a.symbol,this.symbol),s=this.markerAttribs(t,t.selected&&"select"),r?r[o?"show":"hide"](!0).animate(s):o&&(0<s.width||t.hasImage)&&(t.graphic=r=l.renderer.symbol(n,s.x,s.y,s.width,s.height,i?a:u).add(d)),r&&r.attr(this.pointAttribs(t,t.selected&&"select")),r&&r.addClass(t.getClassName(),!0)):r&&(t.graphic=r.destroy())},markerAttribs:function(e,t){var n=this.options.marker,r=e.marker||{},a=r.symbol||n.symbol,i=y(r.radius,n.radius);return t&&(n=n.states[t],t=r.states&&r.states[t],i=y(t&&t.radius,n&&n.radius,i+(n&&n.radiusPlus||0))),e.hasImage=a&&0===a.indexOf("url"),e.hasImage&&(i=0),e={x:Math.floor(e.plotX)-i,y:e.plotY-i},i&&(e.width=e.height=2*i),e},pointAttribs:function(e,t){var n=this.options.marker,r=(s=e&&e.options)&&s.marker||{},a=this.color,i=s&&s.color,o=e&&e.color,s=y(r.lineWidth,n.lineWidth);return e=e&&e.zone&&e.zone.color,a=i||e||o||a,e=r.fillColor||n.fillColor||a,a=r.lineColor||n.lineColor||a,t&&(n=n.states[t],t=r.states&&r.states[t]||{},s=y(t.lineWidth,n.lineWidth,s+y(t.lineWidthPlus,n.lineWidthPlus,0)),e=t.fillColor||n.fillColor||e,a=t.lineColor||n.lineColor||a),{stroke:a,"stroke-width":s,fill:e}},destroy:function(){var t,n,r,a=this,i=a.chart,o=/AppleWebKit\/533/.test(k.navigator.userAgent),s=a.data||[];for(p(a,"destroy"),E(a),l(a.axisTypes||[],function(e){(r=a[e])&&r.series&&(u(r.series,a),r.isDirty=r.forceRedraw=!0)}),a.legendItem&&a.chart.legend.destroyItem(a),t=s.length;t--;)(n=s[t])&&n.destroy&&n.destroy();a.points=null,e.clearTimeout(a.animationTimeout),b(a,function(e,t){e instanceof w&&!e.survive&&e[o&&"group"===t?"hide":"destroy"]()}),i.hoverSeries===a&&(i.hoverSeries=null),u(i.series,a),i.orderSeries(),b(a,function(e,t){delete a[t]})},getGraphPath:function(e,t,n){var r,a,i=this,o=i.options,s=o.step,u=[],d=[];return(r=(e=e||i.points).reversed)&&e.reverse(),(s={right:1,center:2}[s]||s&&3)&&r&&(s=4-s),!o.connectNulls||t||n||(e=this.getValidPoints(e)),l(e,function(r,l){var p=r.plotX,f=r.plotY,h=e[l-1];(r.leftCliff||h&&h.rightCliff)&&!n&&(a=!0),r.isNull&&!c(t)&&0<l?a=!o.connectNulls:r.isNull&&!t?a=!0:(0===l||a?l=["M",r.plotX,r.plotY]:i.getPointSpline?l=i.getPointSpline(e,r,l):s?(l=1===s?["L",h.plotX,f]:2===s?["L",(h.plotX+p)/2,h.plotY,"L",(h.plotX+p)/2,f]:["L",p,h.plotY]).push("L",p,f):l=["L",p,f],d.push(r.x),s&&(d.push(r.x),2===s&&d.push(r.x)),u.push.apply(u,l),a=!1)}),u.xMap=d,i.graphPath=u},drawGraph:function(){var e=this,t=this.options,n=(this.gappedPath||this.getGraphPath).call(this),r=[["graph","highcharts-graph",t.lineColor||this.color,t.dashStyle]];r=e.getZonesGraphs(r);l(r,function(r,a){var i=r[0],o=e[i];o?(o.endX=e.preventGraphAnimation?null:n.xMap,o.animate({d:n})):n.length&&(e[i]=e.chart.renderer.path(n).addClass(r[1]).attr({zIndex:1}).add(e.group),o={stroke:r[2],"stroke-width":t.lineWidth,fill:e.fillGraph&&e.color||"none"},r[3]?o.dashstyle=r[3]:"square"!==t.linecap&&(o["stroke-linecap"]=o["stroke-linejoin"]="round"),o=e[i].attr(o).shadow(2>a&&t.shadow)),o&&(o.startX=n.xMap,o.isArea=n.isArea)})},getZonesGraphs:function(e){return l(this.zones,function(t,n){e.push(["zone-graph-"+n,"highcharts-graph highcharts-zone-graph-"+n+" "+(t.className||""),t.color||this.color,t.dashStyle||this.options.dashStyle])},this),e},applyZones:function(){var e,t,n,r,a,i,o,s,c,u=this,d=this.chart,p=d.renderer,f=this.zones,h=this.clips||[],m=this.graph,g=this.area,v=Math.max(d.chartWidth,d.chartHeight),b=this[(this.zoneAxis||"y")+"Axis"],E=d.inverted,_=!1;f.length&&(m||g)&&b&&void 0!==b.min&&(a=b.reversed,i=b.horiz,m&&!this.showLine&&m.hide(),g&&g.hide(),r=b.getExtremes(),l(f,function(l,f){e=a?i?d.plotWidth:0:i?0:b.toPixels(r.min),e=Math.min(Math.max(y(t,e),0),v),t=Math.min(Math.max(Math.round(b.toPixels(y(l.value,r.max),!0)),0),v),_&&(e=t=b.toPixels(r.max)),o=Math.abs(e-t),s=Math.min(e,t),c=Math.max(e,t),b.isXAxis?(n={x:E?c:s,y:0,width:o,height:v},i||(n.x=d.plotHeight-n.x)):(n={x:0,y:E?c:s,width:v,height:o},i&&(n.y=d.plotWidth-n.y)),E&&p.isVML&&(n=b.isXAxis?{x:0,y:a?s:c,height:n.width,width:d.chartWidth}:{x:n.y-d.plotLeft-d.spacingBox.x,y:0,width:n.height,height:d.chartHeight}),h[f]?h[f].animate(n):(h[f]=p.clipRect(n),m&&u["zone-graph-"+f].clip(h[f]),g&&u["zone-area-"+f].clip(h[f])),_=l.value>r.max,u.resetZones&&0===t&&(t=void 0)}),this.clips=h)},invertGroups:function(e){function n(){l(["group","markerGroup"],function(t){a[t]&&(i.renderer.isVML&&a[t].attr({width:a.yAxis.len,height:a.xAxis.len}),a[t].width=a.yAxis.len,a[t].height=a.xAxis.len,a[t].invert(e))})}var r,a=this,i=a.chart;a.xAxis&&(r=t(i,"resize",n),t(a,"destroy",r),n(),a.invertGroups=n)},plotGroup:function(e,t,n,r,a){var i=this[e],o=!i;return o&&(this[e]=i=this.chart.renderer.g().attr({zIndex:r||.1}).add(a)),i.addClass("highcharts-"+t+" highcharts-series-"+this.index+" highcharts-"+this.type+"-series "+(c(this.colorIndex)?"highcharts-color-"+this.colorIndex+" ":"")+(this.options.className||"")+(i.hasClass("highcharts-tracker")?" highcharts-tracker":""),!0),i.attr({visibility:n})[o?"attr":"animate"](this.getPlotBox()),i},getPlotBox:function(){var e=this.chart,t=this.xAxis,n=this.yAxis;return e.inverted&&(t=n,n=this.xAxis),{translateX:t?t.left:e.plotLeft,translateY:n?n.top:e.plotTop,scaleX:1,scaleY:1}},render:function(){var e,t=this,r=t.chart,a=t.options,i=!!t.animate&&r.renderer.isSVG&&n(a.animation).duration,o=t.visible?"inherit":"hidden",s=a.zIndex,c=t.hasRendered,l=r.seriesGroup,u=r.inverted;e=t.plotGroup("group","series",o,s,l),t.markerGroup=t.plotGroup("markerGroup","markers",o,s,l),i&&t.animate(!0),e.inverted=!!t.isCartesian&&u,t.drawGraph&&(t.drawGraph(),t.applyZones()),t.drawDataLabels&&t.drawDataLabels(),t.visible&&t.drawPoints(),t.drawTracker&&!1!==t.options.enableMouseTracking&&t.drawTracker(),t.invertGroups(u),!1===a.clip||t.sharedClipKey||c||e.clip(r.clipRect),i&&t.animate(),c||(t.animationTimeout=S(function(){t.afterAnimate()},i)),t.isDirty=!1,t.hasRendered=!0,p(t,"afterRender")},redraw:function(){var e=this.chart,t=this.isDirty||this.isDirtyData,n=this.group,r=this.xAxis,a=this.yAxis;n&&(e.inverted&&n.attr({width:e.plotWidth,height:e.plotHeight}),n.animate({translateX:y(r&&r.left,e.plotLeft),translateY:y(a&&a.top,e.plotTop)})),this.translate(),this.render(),t&&delete this.kdTree},kdAxisArray:["clientX","plotY"],searchPoint:function(e,t){var n=this.xAxis,r=this.yAxis,a=this.chart.inverted;return this.searchKDTree({clientX:a?n.len-e.chartY+n.pos:e.chartX-n.pos,plotY:a?r.len-e.chartX+r.pos:e.chartY-r.pos},t)},buildKDTree:function(){this.buildingKdTree=!0;var e=this,t=-1<e.options.findNearestPointBy.indexOf("y")?2:1;delete e.kdTree,S(function(){e.kdTree=function t(n,r,a){var i,o;if(o=n&&n.length)return i=e.kdAxisArray[r%a],n.sort(function(e,t){return e[i]-t[i]}),{point:n[o=Math.floor(o/2)],left:t(n.slice(0,o),r+1,a),right:t(n.slice(o+1),r+1,a)}}(e.getValidPoints(null,!e.directTouch),t,t),e.buildingKdTree=!1},e.options.kdNow?0:1)},searchKDTree:function(e,t){var n=this,r=this.kdAxisArray[0],a=this.kdAxisArray[1],i=t?"distX":"dist";if(t=-1<n.options.findNearestPointBy.indexOf("y")?2:1,this.kdTree||this.buildingKdTree||this.buildKDTree(),this.kdTree)return function e(t,o,s,l){var u,d,p=o.point,f=n.kdAxisArray[s%l],h=p;return u=((d=c(t[r])&&c(p[r])?Math.pow(t[r]-p[r],2):null)||0)+((u=c(t[a])&&c(p[a])?Math.pow(t[a]-p[a],2):null)||0),p.dist=c(u)?Math.sqrt(u):Number.MAX_VALUE,p.distX=c(d)?Math.sqrt(d):Number.MAX_VALUE,d=0>(f=t[f]-p[f])?"right":"left",o[u=0>f?"left":"right"]&&(h=(u=e(t,o[u],s+1,l))[i]<h[i]?u:p),o[d]&&Math.sqrt(f*f)<h[i]&&(h=(t=e(t,o[d],s+1,l))[i]<h[i]?t:h),h}(e,this.kdTree,t,t)}})}(l),function(e){var t=e.Axis,n=e.Chart,r=e.correctFloat,a=e.defined,i=e.destroyObjectProperties,o=e.each,s=e.format,c=e.objectEach,l=e.pick,u=e.Series;e.StackItem=function(e,t,n,r,a){var i=e.chart.inverted;this.axis=e,this.isNegative=n,this.options=t,this.x=r,this.total=null,this.points={},this.stack=a,this.rightCliff=this.leftCliff=0,this.alignOptions={align:t.align||(i?n?"left":"right":"center"),verticalAlign:t.verticalAlign||(i?"middle":n?"bottom":"top"),y:l(t.y,i?4:n?14:-6),x:l(t.x,i?n?-6:6:0)},this.textAlign=t.textAlign||(i?n?"right":"left":"center")},e.StackItem.prototype={destroy:function(){i(this,this.axis)},render:function(e){var t=this.axis.chart,n=this.options,r=(r=n.format)?s(r,this,t.time):n.formatter.call(this);this.label?this.label.attr({text:r,visibility:"hidden"}):this.label=t.renderer.text(r,null,null,n.useHTML).css(n.style).attr({align:this.textAlign,rotation:n.rotation,visibility:"hidden"}).add(e),this.label.labelrank=t.plotHeight},setOffset:function(e,t){var n=this.axis,r=n.chart,i=n.translate(n.usePercentage?100:this.total,0,0,0,1),o=n.translate(0);o=a(i)&&Math.abs(i-o);e=r.xAxis[0].translate(this.x)+e,n=a(i)&&this.getStackBox(r,this,e,i,t,o,n),(t=this.label)&&n&&(t.align(this.alignOptions,null,n),n=t.alignAttr,t[!1===this.options.crop||r.isInsidePlot(n.x,n.y)?"show":"hide"](!0))},getStackBox:function(e,t,n,r,a,i,o){var s=t.axis.reversed,c=e.inverted;return e=o.height+o.pos-(c?e.plotLeft:e.plotTop),t=t.isNegative&&!s||!t.isNegative&&s,{x:c?t?r:r-i:n,y:c?e-n-a:t?e-r-i:e-r,width:c?i:a,height:c?a:i}}},n.prototype.getStacks=function(){var e=this;o(e.yAxis,function(e){e.stacks&&e.hasVisibleSeries&&(e.oldStacks=e.stacks)}),o(e.series,function(t){!t.options.stacking||!0!==t.visible&&!1!==e.options.chart.ignoreHiddenSeries||(t.stackKey=t.type+l(t.options.stack,""))})},t.prototype.buildStacks=function(){var e,t=this.series,n=l(this.options.reversedStacks,!0),r=t.length;if(!this.isXAxis){for(this.usePercentage=!1,e=r;e--;)t[n?e:r-e-1].setStackedPoints();for(e=0;e<r;e++)t[e].modifyStacks()}},t.prototype.renderStackTotals=function(){var e=this.chart,t=e.renderer,n=this.stacks,r=this.stackTotalGroup;r||(this.stackTotalGroup=r=t.g("stack-labels").attr({visibility:"visible",zIndex:6}).add()),r.translate(e.plotLeft,e.plotTop),c(n,function(e){c(e,function(e){e.render(r)})})},t.prototype.resetStacks=function(){var e=this,t=e.stacks;e.isXAxis||c(t,function(t){c(t,function(n,r){n.touched<e.stacksTouched?(n.destroy(),delete t[r]):(n.total=null,n.cumulative=null)})})},t.prototype.cleanStacks=function(){var e;this.isXAxis||(this.oldStacks&&(e=this.stacks=this.oldStacks),c(e,function(e){c(e,function(e){e.cumulative=e.total})}))},u.prototype.setStackedPoints=function(){if(this.options.stacking&&(!0===this.visible||!1===this.chart.options.chart.ignoreHiddenSeries)){var t,n,i,o,s,c,u,d=this.processedXData,p=this.processedYData,f=[],h=p.length,m=(b=this.options).threshold,g=l(b.startFromThreshold&&m,0),v=b.stack,b=b.stacking,y=this.stackKey,E="-"+y,_=this.negStacks,w=this.yAxis,S=w.stacks,k=w.oldStacks;for(w.stacksTouched+=1,s=0;s<h;s++)c=d[s],u=p[s],o=(t=this.getStackIndicator(t,c,this.index)).key,S[i=(n=_&&u<(g?0:m))?E:y]||(S[i]={}),S[i][c]||(k[i]&&k[i][c]?(S[i][c]=k[i][c],S[i][c].total=null):S[i][c]=new e.StackItem(w,w.options.stackLabels,n,c,v)),i=S[i][c],null!==u?(i.points[o]=i.points[this.index]=[l(i.cumulative,g)],a(i.cumulative)||(i.base=o),i.touched=w.stacksTouched,0<t.index&&!1===this.singleStacks&&(i.points[o][0]=i.points[this.index+","+c+",0"][0])):i.points[o]=i.points[this.index]=null,"percent"===b?(n=n?y:E,_&&S[n]&&S[n][c]?(n=S[n][c],i.total=n.total=Math.max(n.total,i.total)+Math.abs(u)||0):i.total=r(i.total+(Math.abs(u)||0))):i.total=r(i.total+(u||0)),i.cumulative=l(i.cumulative,g)+(u||0),null!==u&&(i.points[o].push(i.cumulative),f[s]=i.cumulative);"percent"===b&&(w.usePercentage=!0),this.stackedYData=f,w.oldStacks={}}},u.prototype.modifyStacks=function(){var e,t=this,n=t.stackKey,r=t.yAxis.stacks,a=t.processedXData,i=t.options.stacking;t[i+"Stacker"]&&o([n,"-"+n],function(n){for(var o,s,c=a.length;c--;)o=a[c],e=t.getStackIndicator(e,o,t.index,n),(s=(o=r[n]&&r[n][o])&&o.points[e.key])&&t[i+"Stacker"](s,o,c)})},u.prototype.percentStacker=function(e,t,n){t=t.total?100/t.total:0,e[0]=r(e[0]*t),e[1]=r(e[1]*t),this.stackedYData[n]=e[1]},u.prototype.getStackIndicator=function(e,t,n,r){return!a(e)||e.x!==t||r&&e.key!==r?e={x:t,index:0,key:r}:e.index++,e.key=[n,t,e.index].join(),e}}(l),function(e){var t=e.addEvent,n=e.animate,r=e.Axis,a=e.createElement,i=e.css,o=e.defined,s=e.each,c=e.erase,l=e.extend,u=e.fireEvent,d=e.inArray,p=e.isNumber,f=e.isObject,h=e.isArray,m=e.merge,g=e.objectEach,v=e.pick,b=e.Point,y=e.Series,E=e.seriesTypes,_=e.setAnimation,w=e.splat;l(e.Chart.prototype,{addSeries:function(e,t,n){var r,a=this;return e&&(t=v(t,!0),u(a,"addSeries",{options:e},function(){r=a.initSeries(e),a.isDirtyLegend=!0,a.linkSeries(),u(a,"afterAddSeries"),t&&a.redraw(n)})),r},addAxis:function(e,t,n,a){var i=t?"xAxis":"yAxis",o=this.options;return e=m(e,{index:this[i].length,isX:t}),t=new r(this,e),o[i]=w(o[i]||{}),o[i].push(e),v(n,!0)&&this.redraw(a),t},showLoading:function(e){var r=this,o=r.options,s=r.loadingDiv,c=o.loading,u=function(){s&&i(s,{left:r.plotLeft+"px",top:r.plotTop+"px",width:r.plotWidth+"px",height:r.plotHeight+"px"})};s||(r.loadingDiv=s=a("div",{className:"highcharts-loading highcharts-loading-hidden"},null,r.container),r.loadingSpan=a("span",{className:"highcharts-loading-inner"},null,s),t(r,"redraw",u)),s.className="highcharts-loading",r.loadingSpan.innerHTML=e||o.lang.loading,i(s,l(c.style,{zIndex:10})),i(r.loadingSpan,c.labelStyle),r.loadingShown||(i(s,{opacity:0,display:""}),n(s,{opacity:c.style.opacity||.5},{duration:c.showDuration||0})),r.loadingShown=!0,u()},hideLoading:function(){var e=this.options,t=this.loadingDiv;t&&(t.className="highcharts-loading highcharts-loading-hidden",n(t,{opacity:0},{duration:e.loading.hideDuration||100,complete:function(){i(t,{display:"none"})}})),this.loadingShown=!1},propsRequireDirtyBox:"backgroundColor borderColor borderWidth margin marginTop marginRight marginBottom marginLeft spacing spacingTop spacingRight spacingBottom spacingLeft borderRadius plotBackgroundColor plotBackgroundImage plotBorderColor plotBorderWidth plotShadow shadow".split(" "),propsRequireUpdateSeries:"chart.inverted chart.polar chart.ignoreHiddenSeries chart.type colors plotOptions time tooltip".split(" "),update:function(e,t,n,r){var a,i,c=this,l={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle"},f=e.chart,h=[];u(c,"update",{options:e}),f&&(m(!0,c.options.chart,f),"className"in f&&c.setClassName(f.className),"reflow"in f&&c.setReflow(f.reflow),("inverted"in f||"polar"in f||"type"in f)&&(c.propFromSeries(),a=!0),"alignTicks"in f&&(a=!0),g(f,function(e,t){-1!==d("chart."+t,c.propsRequireUpdateSeries)&&(i=!0),-1!==d(t,c.propsRequireDirtyBox)&&(c.isDirtyBox=!0)}),"style"in f&&c.renderer.setStyle(f.style)),e.colors&&(this.options.colors=e.colors),e.plotOptions&&m(!0,this.options.plotOptions,e.plotOptions),g(e,function(e,t){c[t]&&"function"==typeof c[t].update?c[t].update(e,!1):"function"==typeof c[l[t]]&&c[l[t]](e),"chart"!==t&&-1!==d(t,c.propsRequireUpdateSeries)&&(i=!0)}),s("xAxis yAxis zAxis series colorAxis pane".split(" "),function(t){var r;e[t]&&("series"===t&&(r=[],s(c[t],function(e,t){e.options.isInternal||r.push(t)})),s(w(e[t]),function(e,a){(a=o(e.id)&&c.get(e.id)||c[t][r?r[a]:a])&&a.coll===t&&(a.update(e,!1),n&&(a.touched=!0)),!a&&n&&("series"===t?c.addSeries(e,!1).touched=!0:"xAxis"!==t&&"yAxis"!==t||(c.addAxis(e,"xAxis"===t,!1).touched=!0))}),n&&s(c[t],function(e){e.touched||e.options.isInternal?delete e.touched:h.push(e)}))}),s(h,function(e){e.remove&&e.remove(!1)}),a&&s(c.axes,function(e){e.update({},!1)}),i&&s(c.series,function(e){e.update({},!1)}),e.loading&&m(!0,c.options.loading,e.loading),a=f&&f.width,f=f&&f.height,p(a)&&a!==c.chartWidth||p(f)&&f!==c.chartHeight?c.setSize(a,f,r):v(t,!0)&&c.redraw(r),u(c,"afterUpdate",{options:e})},setSubtitle:function(e){this.setTitle(void 0,e)}}),l(b.prototype,{update:function(e,t,n,r){function a(){o.applyOptions(e),null===o.y&&c&&(o.graphic=c.destroy()),f(e,!0)&&(c&&c.element&&e&&e.marker&&void 0!==e.marker.symbol&&(o.graphic=c.destroy()),e&&e.dataLabels&&o.dataLabel&&(o.dataLabel=o.dataLabel.destroy()),o.connector&&(o.connector=o.connector.destroy())),i=o.index,s.updateParallelArrays(o,i),u.data[i]=f(u.data[i],!0)||f(e,!0)?o.options:v(e,u.data[i]),s.isDirty=s.isDirtyData=!0,!s.fixedBox&&s.hasCartesianSeries&&(l.isDirtyBox=!0),"point"===u.legendType&&(l.isDirtyLegend=!0),t&&l.redraw(n)}var i,o=this,s=o.series,c=o.graphic,l=s.chart,u=s.options;t=v(t,!0),!1===r?a():o.firePointEvent("update",{options:e},a)},remove:function(e,t){this.series.removePoint(d(this,this.series.data),e,t)}}),l(y.prototype,{addPoint:function(e,t,n,r){var a,i,o,s,c=this.options,l=this.data,u=this.chart,d=(d=this.xAxis)&&d.hasNames&&d.names,p=c.data,f=this.xData;if(t=v(t,!0),a={series:this},this.pointClass.prototype.applyOptions.apply(a,[e]),s=a.x,o=f.length,this.requireSorting&&s<f[o-1])for(i=!0;o&&f[o-1]>s;)o--;this.updateParallelArrays(a,"splice",o,0,0),this.updateParallelArrays(a,o),d&&a.name&&(d[s]=a.name),p.splice(o,0,e),i&&(this.data.splice(o,0,null),this.processData()),"point"===c.legendType&&this.generatePoints(),n&&(l[0]&&l[0].remove?l[0].remove(!1):(l.shift(),this.updateParallelArrays(a,"shift"),p.shift())),this.isDirtyData=this.isDirty=!0,t&&u.redraw(r)},removePoint:function(e,t,n){var r=this,a=r.data,i=a[e],o=r.points,s=r.chart,c=function(){o&&o.length===a.length&&o.splice(e,1),a.splice(e,1),r.options.data.splice(e,1),r.updateParallelArrays(i||{series:r},"splice",e,1),i&&i.destroy(),r.isDirty=!0,r.isDirtyData=!0,t&&s.redraw()};_(n,s),t=v(t,!0),i?i.firePointEvent("remove",null,c):c()},remove:function(e,t,n){function r(){a.destroy(),a.remove=null,i.isDirtyLegend=i.isDirtyBox=!0,i.linkSeries(),v(e,!0)&&i.redraw(t)}var a=this,i=a.chart;!1!==n?u(a,"remove",null,r):r()},update:function(t,n){var r,a=this,i=a.chart,o=a.userOptions,c=a.oldType||a.type,p=t.type||o.type||i.options.chart.type,f=E[c].prototype,h=["group","markerGroup","dataLabelsGroup"],g=["navigatorSeries","baseSeries"],b=a.finishedAnimating&&{animation:!1},y=["data","name","turboThreshold"],_=e.keys(t),w=0<_.length;if(s(_,function(e){-1===d(e,y)&&(w=!1)}),w)t.data&&this.setData(t.data,!1),t.name&&this.setName(t.name,!1);else{for(r in g=h.concat(g),s(g,function(e){g[e]=a[e],delete a[e]}),t=m(o,b,{index:a.index,pointStart:v(o.pointStart,a.xData[0])},{data:a.options.data},t),a.remove(!1,null,!1),f)a[r]=void 0;E[p||c]?l(a,E[p||c].prototype):e.error(17,!0),s(g,function(e){a[e]=g[e]}),a.init(i,t),t.zIndex!==o.zIndex&&s(h,function(e){a[e]&&a[e].attr({zIndex:t.zIndex})}),a.oldType=c,i.linkSeries()}u(this,"afterUpdate"),v(n,!0)&&i.redraw(!!w&&void 0)},setName:function(e){this.name=this.options.name=this.userOptions.name=e,this.chart.isDirtyLegend=!0}}),l(r.prototype,{update:function(e,t){var n=this.chart,r=e&&e.events||{};e=m(this.userOptions,e),n.options[this.coll].indexOf&&(n.options[this.coll][n.options[this.coll].indexOf(this.userOptions)]=e),g(n.options[this.coll].events,function(e,t){void 0===r[t]&&(r[t]=void 0)}),this.destroy(!0),this.init(n,l(e,{events:r})),n.isDirtyBox=!0,v(t,!0)&&n.redraw()},remove:function(e){for(var t=this.chart,n=this.coll,r=this.series,a=r.length;a--;)r[a]&&r[a].remove(!1);c(t.axes,this),c(t[n],this),h(t.options[n])?t.options[n].splice(this.options.index,1):delete t.options[n],s(t[n],function(e,t){e.options.index=e.userOptions.index=t}),this.destroy(),t.isDirtyBox=!0,v(e,!0)&&t.redraw()},setTitle:function(e,t){this.update({title:e},t)},setCategories:function(e,t){this.update({categories:e},t)}})}(l),function(e){var t=e.color,n=e.each,r=e.map,a=e.pick,i=e.Series;(0,e.seriesType)("area","line",{softThreshold:!1,threshold:0},{singleStacks:!1,getStackPoints:function(t){var i,o,s=[],c=[],l=this.xAxis,u=this.yAxis,d=u.stacks[this.stackKey],p={},f=this.index,h=u.series,m=h.length,g=a(u.options.reversedStacks,!0)?1:-1;if(t=t||this.points,this.options.stacking){for(o=0;o<t.length;o++)t[o].leftNull=t[o].rightNull=null,p[t[o].x]=t[o];e.objectEach(d,function(e,t){null!==e.total&&c.push(t)}),c.sort(function(e,t){return e-t}),i=r(h,function(){return this.visible}),n(c,function(e,t){var r,a,h=0;if(p[e]&&!p[e].isNull)s.push(p[e]),n([-1,1],function(n){var s=1===n?"rightNull":"leftNull",l=0,u=d[c[t+n]];if(u)for(o=f;0<=o&&o<m;)(r=u.points[o])||(o===f?p[e][s]=!0:i[o]&&(a=d[e].points[o])&&(l-=a[1]-a[0])),o+=g;p[e][1===n?"rightCliff":"leftCliff"]=l});else{for(o=f;0<=o&&o<m;){if(r=d[e].points[o]){h=r[1];break}o+=g}h=u.translate(h,0,1,0,1),s.push({isNull:!0,plotX:l.translate(e,0,0,0,1),x:e,plotY:h,yBottom:h})}})}return s},getGraphPath:function(e){var t,n,r,o,s=i.prototype.getGraphPath,c=(g=this.options).stacking,l=this.yAxis,u=[],d=[],p=this.index,f=l.stacks[this.stackKey],h=g.threshold,m=l.getThreshold(g.threshold),g=g.connectNulls||"percent"===c,v=function(t,n,a){var i=e[t];t=c&&f[i.x].points[p];var o=i[a+"Null"]||0;a=i[a+"Cliff"]||0;var s,g;i=!0;a||o?(s=(o?t[0]:t[1])+a,g=t[0]+a,i=!!o):!c&&e[n]&&e[n].isNull&&(s=g=h),void 0!==s&&(d.push({plotX:r,plotY:null===s?m:l.getThreshold(s),isNull:i,isCliff:!0}),u.push({plotX:r,plotY:null===g?m:l.getThreshold(g),doCurve:!1}))};for(e=e||this.points,c&&(e=this.getStackPoints(e)),t=0;t<e.length;t++)n=e[t].isNull,r=a(e[t].rectPlotX,e[t].plotX),o=a(e[t].yBottom,m),(!n||g)&&(g||v(t,t-1,"left"),n&&!c&&g||(d.push(e[t]),u.push({x:t,plotX:r,plotY:o})),g||v(t,t+1,"right"));return t=s.call(this,d,!0,!0),u.reversed=!0,(n=s.call(this,u,!0,!0)).length&&(n[0]="L"),n=t.concat(n),s=s.call(this,d,!1,g),n.xMap=t.xMap,this.areaPath=n,s},drawGraph:function(){this.areaPath=[],i.prototype.drawGraph.apply(this);var e=this,r=this.areaPath,o=this.options,s=[["area","highcharts-area",this.color,o.fillColor]];n(this.zones,function(t,n){s.push(["zone-area-"+n,"highcharts-area highcharts-zone-area-"+n+" "+t.className,t.color||e.color,t.fillColor||o.fillColor])}),n(s,function(n){var i=n[0],s=e[i];s?(s.endX=e.preventGraphAnimation?null:r.xMap,s.animate({d:r})):(s=e[i]=e.chart.renderer.path(r).addClass(n[1]).attr({fill:a(n[3],t(n[2]).setOpacity(a(o.fillOpacity,.75)).get()),zIndex:0}).add(e.group)).isArea=!0,s.startX=r.xMap,s.shiftUnit=o.step?2:1})},drawLegendSymbol:e.LegendSymbolMixin.drawRectangle})}(l),function(e){var t=e.pick;(e=e.seriesType)("spline","line",{},{getPointSpline:function(e,n,r){var a,i,o,s,c=n.plotX,l=n.plotY,u=e[r-1];if(r=e[r+1],u&&!u.isNull&&!1!==u.doCurve&&!n.isCliff&&r&&!r.isNull&&!1!==r.doCurve&&!n.isCliff){e=u.plotY,o=r.plotX;var d=0;i=(1.5*l+e)/2.5,s=(1.5*l+(r=r.plotY))/2.5,(o=(1.5*c+o)/2.5)!==(a=(1.5*c+u.plotX)/2.5)&&(d=(s-i)*(o-c)/(o-a)+l-s),s+=d,(i+=d)>e&&i>l?s=2*l-(i=Math.max(e,l)):i<e&&i<l&&(s=2*l-(i=Math.min(e,l))),s>r&&s>l?i=2*l-(s=Math.max(r,l)):s<r&&s<l&&(i=2*l-(s=Math.min(r,l))),n.rightContX=o,n.rightContY=s}return n=["C",t(u.rightContX,u.plotX),t(u.rightContY,u.plotY),t(a,c),t(i,l),c,l],u.rightContX=u.rightContY=null,n}})}(l),function(e){var t=e.seriesTypes.area.prototype;(0,e.seriesType)("areaspline","spline",e.defaultPlotOptions.area,{getStackPoints:t.getStackPoints,getGraphPath:t.getGraphPath,drawGraph:t.drawGraph,drawLegendSymbol:e.LegendSymbolMixin.drawRectangle})}(l),function(e){var t=e.animObject,n=e.color,r=e.each,a=e.extend,i=e.defined,o=e.isNumber,s=e.merge,c=e.pick,l=e.Series,u=e.seriesType,d=e.svg;u("column","line",{borderRadius:0,crisp:!0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1},select:{color:"#cccccc",borderColor:"#000000"}},dataLabels:{align:null,verticalAlign:null,y:null},softThreshold:!1,startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:"#ffffff"},{cropShoulder:0,directTouch:!0,trackerGroups:["group","dataLabelsGroup"],negStacks:!0,init:function(){l.prototype.init.apply(this,arguments);var e=this,t=e.chart;t.hasRendered&&r(t.series,function(t){t.type===e.type&&(t.isDirty=!0)})},getColumnMetrics:function(){var e,t=this,n=t.options,a=t.xAxis,i=t.yAxis,o=a.options.reversedStacks,s=(o=a.reversed&&!o||!a.reversed&&o,{}),l=0;!1===n.grouping?l=1:r(t.chart.series,function(n){var r,a=n.options,o=n.yAxis;n.type!==t.type||!n.visible&&t.chart.options.chart.ignoreHiddenSeries||i.len!==o.len||i.pos!==o.pos||(a.stacking?(e=n.stackKey,void 0===s[e]&&(s[e]=l++),r=s[e]):!1!==a.grouping&&(r=l++),n.columnIndex=r)});var u=Math.min(Math.abs(a.transA)*(a.ordinalSlope||n.pointRange||a.closestPointRange||a.tickInterval||1),a.len),d=u*n.groupPadding,p=(u-2*d)/(l||1);n=Math.min(n.maxPointWidth||a.len,c(n.pointWidth,p*(1-2*n.pointPadding)));return t.columnMetrics={width:n,offset:(p-n)/2+(d+((t.columnIndex||0)+(o?1:0))*p-u/2)*(o?-1:1)},t.columnMetrics},crispCol:function(e,t,n,r){var a=this.chart,i=-((o=this.borderWidth)%2?.5:0),o=o%2?.5:1;return a.inverted&&a.renderer.isVML&&(o+=1),this.options.crisp&&(n=Math.round(e+n)+i,n-=e=Math.round(e)+i),r=Math.round(t+r)+o,i=.5>=Math.abs(t)&&.5<r,r-=t=Math.round(t)+o,i&&r&&(--t,r+=1),{x:e,y:t,width:n,height:r}},translate:function(){var e=this,t=e.chart,n=e.options,a=e.dense=2>e.closestPointRange*e.xAxis.transA,o=(a=e.borderWidth=c(n.borderWidth,a?0:1),e.yAxis),s=n.threshold,u=e.translatedThreshold=o.getThreshold(s),d=c(n.minPointLength,5),p=e.getColumnMetrics(),f=p.width,h=e.barW=Math.max(f,1+2*a),m=e.pointXOffset=p.offset;t.inverted&&(u-=.5),n.pointPadding&&(h=Math.ceil(h)),l.prototype.translate.apply(e),r(e.points,function(n){var r,a=c(n.yBottom,u),l=999+Math.abs(a),p=f,g=(l=Math.min(Math.max(-l,n.plotY),o.len+l),n.plotX+m),v=h,b=Math.min(l,a),y=Math.max(l,a)-b;d&&Math.abs(y)<d&&(y=d,r=!o.reversed&&!n.negative||o.reversed&&n.negative,n.y===s&&e.dataMax<=s&&o.min<s&&(r=!r),b=Math.abs(b-u)>d?a-d:u-(r?d:0)),i(n.options.pointWidth)&&(p=v=Math.ceil(n.options.pointWidth),g-=Math.round((p-f)/2)),n.barX=g,n.pointWidth=p,n.tooltipPos=t.inverted?[o.len+o.pos-t.plotLeft-l,e.xAxis.len-g-v/2,y]:[g+v/2,l+o.pos-t.plotTop,y],n.shapeType="rect",n.shapeArgs=e.crispCol.apply(e,n.isNull?[g,u,v,0]:[g,b,v,y])})},getSymbol:e.noop,drawLegendSymbol:e.LegendSymbolMixin.drawRectangle,drawGraph:function(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")},pointAttribs:function(e,t){var r,a=this.options;r=(u=this.pointAttrToOptions||{}).stroke||"borderColor";var i=u["stroke-width"]||"borderWidth",o=e&&e.color||this.color,c=e&&e[r]||a[r]||this.color||o,l=e&&e[i]||a[i]||this[i]||0,u=a.dashStyle;return e&&this.zones.length&&(o=e.getZone(),o=e.options.color||o&&o.color||this.color),t&&(t=(e=s(a.states[t],e.options.states&&e.options.states[t]||{})).brightness,o=e.color||void 0!==t&&n(o).brighten(e.brightness).get()||o,c=e[r]||c,l=e[i]||l,u=e.dashStyle||u),r={fill:o,stroke:c,"stroke-width":l},u&&(r.dashstyle=u),r},drawPoints:function(){var e,t=this,n=this.chart,a=t.options,i=n.renderer,c=a.animationLimit||250;r(t.points,function(r){var l=r.graphic,u=l&&n.pointCount<c?"animate":"attr";o(r.plotY)&&null!==r.y?(e=r.shapeArgs,l?l[u](s(e)):r.graphic=l=i[r.shapeType](e).add(r.group||t.group),a.borderRadius&&l.attr({r:a.borderRadius}),l[u](t.pointAttribs(r,r.selected&&"select")).shadow(a.shadow,null,a.stacking&&!a.borderRadius),l.addClass(r.getClassName(),!0)):l&&(r.graphic=l.destroy())})},animate:function(e){var n,r=this,i=this.yAxis,o=r.options,s=this.chart.inverted,c={},l=s?"translateX":"translateY";d&&(e?(c.scaleY=.001,e=Math.min(i.pos+i.len,Math.max(i.pos,i.toPixels(o.threshold))),s?c.translateX=e-i.len:c.translateY=e,r.group.attr(c)):(n=r.group.attr(l),r.group.animate({scaleY:1},a(t(r.options.animation),{step:function(e,t){c[l]=n+t.pos*(i.pos-n),r.group.attr(c)}})),r.animate=null))},remove:function(){var e=this,t=e.chart;t.hasRendered&&r(t.series,function(t){t.type===e.type&&(t.isDirty=!0)}),l.prototype.remove.apply(e,arguments)}})}(l),function(e){(e=e.seriesType)("bar","column",null,{inverted:!0})}(l),function(e){var t=e.Series;(e=e.seriesType)("scatter","line",{lineWidth:0,findNearestPointBy:"xy",marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}">●</span> <span style="font-size: 0.85em"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}},{sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1,drawGraph:function(){this.options.lineWidth&&t.prototype.drawGraph.call(this)}})}(l),function(e){var t=e.deg2rad,n=e.isNumber,r=e.pick,a=e.relativeLength;e.CenteredSeriesMixin={getCenter:function(){var e,t,n=this.options,i=this.chart,o=2*(n.slicedOffset||0),s=i.plotWidth-2*o,c=(i=i.plotHeight-2*o,n.center),l=(c=[r(c[0],"50%"),r(c[1],"50%"),n.size||"100%",n.innerSize||0],Math.min(s,i));for(e=0;4>e;++e)t=c[e],n=2>e||2===e&&/%$/.test(t),c[e]=a(t,[s,i,l,c[2]][e])+(n?o:0);return c[3]>c[2]&&(c[3]=c[2]),c},getStartAndEndRadians:function(e,r){return e=n(e)?e:0,r=n(r)&&r>e&&360>r-e?r:e+360,{start:t*(e+-90),end:t*(r+-90)}}}}(l),function(e){var t=e.addEvent,n=e.CenteredSeriesMixin,r=e.defined,a=e.each,i=e.extend,o=n.getStartAndEndRadians,s=e.inArray,c=e.noop,l=e.pick,u=e.Point,d=e.Series,p=e.seriesType,f=e.setAnimation;p("pie","line",{center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{allowOverlap:!0,distance:30,enabled:!0,formatter:function(){return this.point.isNull?void 0:this.point.name},x:0},ignoreHiddenPoint:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:"#ffffff",borderWidth:1,states:{hover:{brightness:.1}}},{isCartesian:!1,requireSorting:!1,directTouch:!0,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],axisTypes:[],pointAttribs:e.seriesTypes.column.prototype.pointAttribs,animate:function(e){var t=this,n=t.points,r=t.startAngleRad;e||(a(n,function(e){var n=e.graphic,a=e.shapeArgs;n&&(n.attr({r:e.startR||t.center[3]/2,start:r,end:r}),n.animate({r:a.r,start:a.start,end:a.end},t.options.animation))}),t.animate=null)},updateTotals:function(){var e,t,n=0,r=this.points,a=r.length,i=this.options.ignoreHiddenPoint;for(e=0;e<a;e++)t=r[e],n+=i&&!t.visible?0:t.isNull?0:t.y;for(this.total=n,e=0;e<a;e++)(t=r[e]).percentage=0<n&&(t.visible||!i)?t.y/n*100:0,t.total=n},generatePoints:function(){d.prototype.generatePoints.call(this),this.updateTotals()},translate:function(e){this.generatePoints();var t,n,r,a,i,s,c=0,u=(g=this.options).slicedOffset,d=u+(g.borderWidth||0),p=o(g.startAngle,g.endAngle),f=this.startAngleRad=p.start,h=(p=(this.endAngleRad=p.end)-f,this.points),m=g.dataLabels.distance,g=g.ignoreHiddenPoint,v=h.length;for(e||(this.center=e=this.getCenter()),this.getX=function(t,n,a){return r=Math.asin(Math.min((t-e[1])/(e[2]/2+a.labelDistance),1)),e[0]+(n?-1:1)*Math.cos(r)*(e[2]/2+a.labelDistance)},i=0;i<v;i++)(s=h[i]).labelDistance=l(s.options.dataLabels&&s.options.dataLabels.distance,m),this.maxLabelDistance=Math.max(this.maxLabelDistance||0,s.labelDistance),t=f+c*p,g&&!s.visible||(c+=s.percentage/100),n=f+c*p,s.shapeType="arc",s.shapeArgs={x:e[0],y:e[1],r:e[2]/2,innerR:e[3]/2,start:Math.round(1e3*t)/1e3,end:Math.round(1e3*n)/1e3},(r=(n+t)/2)>1.5*Math.PI?r-=2*Math.PI:r<-Math.PI/2&&(r+=2*Math.PI),s.slicedTranslation={translateX:Math.round(Math.cos(r)*u),translateY:Math.round(Math.sin(r)*u)},n=Math.cos(r)*e[2]/2,a=Math.sin(r)*e[2]/2,s.tooltipPos=[e[0]+.7*n,e[1]+.7*a],s.half=r<-Math.PI/2||r>Math.PI/2?1:0,s.angle=r,t=Math.min(d,s.labelDistance/5),s.labelPos=[e[0]+n+Math.cos(r)*s.labelDistance,e[1]+a+Math.sin(r)*s.labelDistance,e[0]+n+Math.cos(r)*t,e[1]+a+Math.sin(r)*t,e[0]+n,e[1]+a,0>s.labelDistance?"center":s.half?"right":"left",r]},drawGraph:null,drawPoints:function(){var e,t,n,r,o=this,s=o.chart.renderer,c=o.options.shadow;c&&!o.shadowGroup&&(o.shadowGroup=s.g("shadow").add(o.group)),a(o.points,function(a){if(t=a.graphic,a.isNull)t&&(a.graphic=t.destroy());else{r=a.shapeArgs,e=a.getTranslate();var l=a.shadowGroup;c&&!l&&(l=a.shadowGroup=s.g("shadow").add(o.shadowGroup)),l&&l.attr(e),n=o.pointAttribs(a,a.selected&&"select"),t?t.setRadialReference(o.center).attr(n).animate(i(r,e)):(a.graphic=t=s[a.shapeType](r).setRadialReference(o.center).attr(e).add(o.group),t.attr(n).attr({"stroke-linejoin":"round"}).shadow(c,l)),t.attr({visibility:a.visible?"inherit":"hidden"}),t.addClass(a.getClassName())}})},searchPoint:c,sortByAngle:function(e,t){e.sort(function(e,n){return void 0!==e.angle&&(n.angle-e.angle)*t})},drawLegendSymbol:e.LegendSymbolMixin.drawRectangle,getCenter:n.getCenter,getSymbol:c},{init:function(){u.prototype.init.apply(this,arguments);var e,n=this;return n.name=l(n.name,"Slice"),e=function(e){n.slice("select"===e.type)},t(n,"select",e),t(n,"unselect",e),n},isValid:function(){return e.isNumber(this.y,!0)&&0<=this.y},setVisible:function(e,t){var n=this,r=n.series,i=r.chart,o=r.options.ignoreHiddenPoint;t=l(t,o),e!==n.visible&&(n.visible=n.options.visible=e=void 0===e?!n.visible:e,r.options.data[s(n,r.data)]=n.options,a(["graphic","dataLabel","connector","shadowGroup"],function(t){n[t]&&n[t][e?"show":"hide"](!0)}),n.legendItem&&i.legend.colorizeItem(n,e),e||"hover"!==n.state||n.setState(""),o&&(r.isDirty=!0),t&&i.redraw())},slice:function(e,t,n){var a=this.series;f(n,a.chart),l(t,!0),this.sliced=this.options.sliced=r(e)?e:!this.sliced,a.options.data[s(this,a.data)]=this.options,this.graphic.animate(this.getTranslate()),this.shadowGroup&&this.shadowGroup.animate(this.getTranslate())},getTranslate:function(){return this.sliced?this.slicedTranslation:{translateX:0,translateY:0}},haloPath:function(e){var t=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(t.x,t.y,t.r+e,t.r+e,{innerR:this.shapeArgs.r-1,start:t.start,end:t.end})}})}(l),function(e){var t=e.addEvent,n=e.arrayMax,r=e.defined,a=e.each,i=e.extend,o=e.format,s=e.map,c=e.merge,l=e.noop,u=e.pick,d=e.relativeLength,p=e.Series,f=e.seriesTypes,h=e.some,m=e.stableSort,g=e.isArray,v=e.splat;e.distribute=function(t,n,r){function i(e,t){return e.target-t.target}var o,c,l=!0,d=t,p=[];c=0;var f=d.reducedLen||n;for(o=t.length;o--;)c+=t[o].size;if(c>f){for(m(t,function(e,t){return(t.rank||0)-(e.rank||0)}),c=o=0;c<=f;)c+=t[o].size,o++;p=t.splice(o-1,t.length)}for(m(t,i),t=s(t,function(e){return{size:e.size,targets:[e.target],align:u(e.align,.5)}});l;){for(o=t.length;o--;)l=t[o],c=(Math.min.apply(0,l.targets)+Math.max.apply(0,l.targets))/2,l.pos=Math.min(Math.max(0,c-l.size*l.align),n-l.size);for(o=t.length,l=!1;o--;)0<o&&t[o-1].pos+t[o-1].size>t[o].pos&&(t[o-1].size+=t[o].size,t[o-1].targets=t[o-1].targets.concat(t[o].targets),t[o-1].align=.5,t[o-1].pos+t[o-1].size>n&&(t[o-1].pos=n-t[o-1].size),t.splice(o,1),l=!0)}d.push.apply(d,p),o=0,h(t,function(t){var i=0;if(h(t.targets,function(){if(d[o].pos=t.pos+i,Math.abs(d[o].pos-d[o].target)>r)return a(d.slice(0,o+1),function(e){delete e.pos}),d.reducedLen=(d.reducedLen||n)-.1*n,d.reducedLen>.1*n&&e.distribute(d,n,r),!0;i+=d[o].size,o++}))return!0}),m(d,i)},p.prototype.drawDataLabels=function(){function n(e,t){var n,r=[];if(g(e)&&!g(t))r=s(e,function(e){return c(e,t)});else if(g(t)&&!g(e))r=s(t,function(t){return c(e,t)});else if(g(e)||g(t))for(n=Math.max(e.length,t.length);n--;)r[n]=c(e[n],t[n]);else r=c(e,t);return r}var i,l,d=this,p=d.chart,f=d.options,h=f.dataLabels,m=d.points,b=d.hasRendered||0,y=u(h.defer,!!f.animation),E=p.renderer;h=n(n(p.options.plotOptions&&p.options.plotOptions.series&&p.options.plotOptions.series.dataLabels,p.options.plotOptions&&p.options.plotOptions[d.type]&&p.options.plotOptions[d.type].dataLabels),h);(g(h)||h.enabled||d._hasPointLabels)&&(l=d.plotGroup("dataLabelsGroup","data-labels",y&&!b?"hidden":"visible",h.zIndex||6),y&&(l.attr({opacity:+b}),b||t(d,"afterAnimate",function(){d.visible&&l.show(!0),l[f.animation?"animate":"attr"]({opacity:1},{duration:200})})),a(m,function(t){i=v(n(h,t.dlOptions||t.options&&t.options.dataLabels)),a(i,function(n,a){var i,s,c,h,m=n.enabled&&!t.isNull&&function(e,t){var n=t.filter;return!n||(t=n.operator,e=e[n.property],n=n.value,">"===t&&e>n||"<"===t&&e<n||">="===t&&e>=n||"<="===t&&e<=n||"=="===t&&e==n||"==="===t&&e===n)}(t,n),g=t.dataLabels?t.dataLabels[a]:t.dataLabel,v=t.connectors?t.connectors[a]:t.connector,b=!g;m&&(i=t.getLabelConfig(),s=n[t.formatPrefix+"Format"]||n.format,i=r(s)?o(s,i,p.time):(n[t.formatPrefix+"Formatter"]||n.formatter).call(i,n),s=n.style,c=n.rotation,s.color=u(n.color,s.color,d.color,"#000000"),"contrast"===s.color&&(t.contrastColor=E.getContrast(t.color||d.color),s.color=n.inside||0>u(n.distance,t.labelDistance)||f.stacking?t.contrastColor:"#000000"),f.cursor&&(s.cursor=f.cursor),h={fill:n.backgroundColor,stroke:n.borderColor,"stroke-width":n.borderWidth,r:n.borderRadius||0,rotation:c,padding:n.padding,zIndex:1},e.objectEach(h,function(e,t){void 0===e&&delete h[t]})),!g||m&&r(i)?m&&r(i)&&(g?h.text=i:(t.dataLabels=t.dataLabels||[],g=t.dataLabels[a]=c?E.text(i,0,-9999).addClass("highcharts-data-label"):E.label(i,0,-9999,n.shape,null,null,n.useHTML,null,"data-label"),a||(t.dataLabel=g),g.addClass(" highcharts-data-label-color-"+t.colorIndex+" "+(n.className||"")+(n.useHTML?" highcharts-tracker":""))),g.options=n,g.attr(h),g.css(s).shadow(n.shadow),g.added||g.add(l),d.alignDataLabel(t,g,n,null,b)):(t.dataLabel=t.dataLabel.destroy(),t.dataLabels&&(1===t.dataLabels.length?delete t.dataLabels:delete t.dataLabels[a]),a||delete t.dataLabel,v&&(t.connector=t.connector.destroy(),t.connectors&&(1===t.connectors.length?delete t.connectors:delete t.connectors[a])))})})),e.fireEvent(this,"afterDrawDataLabels")},p.prototype.alignDataLabel=function(e,t,n,r,a){var o,s=this.chart,c=s.inverted,l=u(e.dlBox&&e.dlBox.centerX,e.plotX,-9999),d=u(e.plotY,-9999),p=t.getBBox(),f=n.rotation,h=n.align,m=this.visible&&(e.series.forceDL||s.isInsidePlot(l,Math.round(d),c)||r&&s.isInsidePlot(l,c?r.x+1:r.y+r.height-1,c)),g="justify"===u(n.overflow,"justify");m&&(o=n.style.fontSize,o=s.renderer.fontMetrics(o,t).b,r=i({x:c?this.yAxis.len-d:l,y:Math.round(c?this.xAxis.len-l:d),width:0,height:0},r),i(n,{width:p.width,height:p.height}),f?(g=!1,l=s.renderer.rotCorr(o,f),l={x:r.x+n.x+r.width/2+l.x,y:r.y+n.y+{top:0,middle:.5,bottom:1}[n.verticalAlign]*r.height},t[a?"attr":"animate"](l).attr({align:h}),d=180<(d=(f+720)%360)&&360>d,"left"===h?l.y-=d?p.height:0:"center"===h?(l.x-=p.width/2,l.y-=p.height/2):"right"===h&&(l.x-=p.width,l.y-=d?0:p.height),t.placed=!0,t.alignAttr=l):(t.align(n,null,r),l=t.alignAttr),g&&0<=r.height?e.isLabelJustified=this.justifyDataLabel(t,n,l,p,r,a):u(n.crop,!0)&&(m=s.isInsidePlot(l.x,l.y)&&s.isInsidePlot(l.x+p.width,l.y+p.height)),n.shape&&!f)&&t[a?"attr":"animate"]({anchorX:c?s.plotWidth-e.plotY:e.plotX,anchorY:c?s.plotHeight-e.plotX:e.plotY}),m||(t.attr({y:-9999}),t.placed=!1)},p.prototype.justifyDataLabel=function(e,t,n,r,a,i){var o,s,c=this.chart,l=t.align,u=t.verticalAlign,d=e.box?0:e.padding||0;return 0>(o=n.x+d)&&("right"===l?t.align="left":t.x=-o,s=!0),(o=n.x+r.width-d)>c.plotWidth&&("left"===l?t.align="right":t.x=c.plotWidth-o,s=!0),0>(o=n.y+d)&&("bottom"===u?t.verticalAlign="top":t.y=-o,s=!0),(o=n.y+r.height-d)>c.plotHeight&&("top"===u?t.verticalAlign="bottom":t.y=c.plotHeight-o,s=!0),s&&(e.placed=!i,e.align(t,null,a)),s},f.pie&&(f.pie.prototype.drawDataLabels=function(){var t,i,o,s,c,l,d,f,h,m,g=this,v=g.data,b=g.chart,y=g.options.dataLabels,E=u(y.connectorPadding,10),_=u(y.connectorWidth,1),w=b.plotWidth,S=b.plotHeight,k=Math.round(b.chartWidth/3),C=g.center,N=C[2]/2,O=C[1],x=[[],[]],T=[0,0,0,0];g.visible&&(y.enabled||g._hasPointLabels)&&(a(v,function(e){e.dataLabel&&e.visible&&e.dataLabel.shortened&&(e.dataLabel.attr({width:"auto"}).css({width:"auto",textOverflow:"clip"}),e.dataLabel.shortened=!1)}),p.prototype.drawDataLabels.apply(g),a(v,function(e){e.dataLabel&&(e.visible?(x[e.half].push(e),e.dataLabel._pos=null,!r(y.style.width)&&!r(e.options.dataLabels&&e.options.dataLabels.style&&e.options.dataLabels.style.width)&&e.dataLabel.getBBox().width>k&&(e.dataLabel.css({width:.7*k}),e.dataLabel.shortened=!0)):(e.dataLabel=e.dataLabel.destroy(),e.dataLabels&&1===e.dataLabels.length&&delete e.dataLabels))}),a(x,function(n,i){var p,v,_,k=n.length,x=[];if(k)for(g.sortByAngle(n,i-.5),0<g.maxLabelDistance&&(p=Math.max(0,O-N-g.maxLabelDistance),v=Math.min(O+N+g.maxLabelDistance,b.plotHeight),a(n,function(e){0<e.labelDistance&&e.dataLabel&&(e.top=Math.max(0,O-N-e.labelDistance),e.bottom=Math.min(O+N+e.labelDistance,b.plotHeight),_=e.dataLabel.getBBox().height||21,e.distributeBox={target:e.labelPos[1]-e.top+_/2,size:_,rank:e.y},x.push(e.distributeBox))}),p=v+_-p,e.distribute(x,p,p/5)),m=0;m<k;m++)t=n[m],c=t.labelPos,o=t.dataLabel,h=!1===t.visible?"hidden":"inherit",f=p=c[1],x&&r(t.distributeBox)&&(void 0===t.distributeBox.pos?h="hidden":(l=t.distributeBox.size,f=t.top+t.distributeBox.pos)),delete t.positionIndex,d=y.justify?C[0]+(i?-1:1)*(N+t.labelDistance):g.getX(f<t.top+2||f>t.bottom-2?p:f,i,t),o._attr={visibility:h,align:c[6]},o._pos={x:d+y.x+({left:E,right:-E}[c[6]]||0),y:f+y.y-10},c.x=d,c.y=f,u(y.crop,!0)&&(s=o.getBBox().width,p=null,d-s<E&&1===i?(p=Math.round(s-d+E),T[3]=Math.max(p,T[3])):d+s>w-E&&0===i&&(p=Math.round(d+s-w+E),T[1]=Math.max(p,T[1])),0>f-l/2?T[0]=Math.max(Math.round(l/2-f),T[0]):f+l/2>S&&(T[2]=Math.max(Math.round(f+l/2-S),T[2])),o.sideOverflow=p)}),0===n(T)||this.verifyDataLabelOverflow(T))&&(this.placeDataLabels(),_&&a(this.points,function(e){var t;i=e.connector,(o=e.dataLabel)&&o._pos&&e.visible&&0<e.labelDistance?(h=o._attr.visibility,(t=!i)&&(e.connector=i=b.renderer.path().addClass("highcharts-data-label-connector  highcharts-color-"+e.colorIndex+(e.className?" "+e.className:"")).add(g.dataLabelsGroup),i.attr({"stroke-width":_,stroke:y.connectorColor||e.color||"#666666"})),i[t?"attr":"animate"]({d:g.connectorPath(e.labelPos)}),i.attr("visibility",h)):i&&(e.connector=i.destroy())}))},f.pie.prototype.connectorPath=function(e){var t=e.x,n=e.y;return u(this.options.dataLabels.softConnector,!0)?["M",t+("left"===e[6]?5:-5),n,"C",t,n,2*e[2]-e[4],2*e[3]-e[5],e[2],e[3],"L",e[4],e[5]]:["M",t+("left"===e[6]?5:-5),n,"L",e[2],e[3],"L",e[4],e[5]]},f.pie.prototype.placeDataLabels=function(){a(this.points,function(e){var t=e.dataLabel;t&&e.visible&&((e=t._pos)?(t.sideOverflow&&(t._attr.width=t.getBBox().width-t.sideOverflow,t.css({width:t._attr.width+"px",textOverflow:(this.options.dataLabels.style||{}).textOverflow||"ellipsis"}),t.shortened=!0),t.attr(t._attr),t[t.moved?"animate":"attr"](e),t.moved=!0):t&&t.attr({y:-9999}))},this)},f.pie.prototype.alignDataLabel=l,f.pie.prototype.verifyDataLabelOverflow=function(e){var t,n=this.center,r=this.options,a=r.center,i=r.minSize||80,o=null!==r.size;return o||(null!==a[0]?t=Math.max(n[2]-Math.max(e[1],e[3]),i):(t=Math.max(n[2]-e[1]-e[3],i),n[0]+=(e[3]-e[1])/2),null!==a[1]?t=Math.max(Math.min(t,n[2]-Math.max(e[0],e[2])),i):(t=Math.max(Math.min(t,n[2]-e[0]-e[2]),i),n[1]+=(e[0]-e[2])/2),t<n[2]?(n[2]=t,n[3]=Math.min(d(r.innerSize||0,t),t),this.translate(n),this.drawDataLabels&&this.drawDataLabels()):o=!0),o}),f.column&&(f.column.prototype.alignDataLabel=function(e,t,n,r,a){var i=this.chart.inverted,o=e.series,s=e.dlBox||e.shapeArgs,l=u(e.below,e.plotY>u(this.translatedThreshold,o.yAxis.len)),d=u(n.inside,!!this.options.stacking);s&&(0>(r=c(s)).y&&(r.height+=r.y,r.y=0),0<(s=r.y+r.height-o.yAxis.len)&&(r.height-=s),i&&(r={x:o.yAxis.len-r.y-r.height,y:o.xAxis.len-r.x-r.width,width:r.height,height:r.width}),d||(i?(r.x+=l?0:r.width,r.width=0):(r.y+=l?r.height:0,r.height=0))),n.align=u(n.align,!i||d?"center":l?"right":"left"),n.verticalAlign=u(n.verticalAlign,i||d?"middle":l?"top":"bottom"),p.prototype.alignDataLabel.call(this,e,t,n,r,a),e.isLabelJustified&&e.contrastColor&&t.css({color:e.contrastColor})})}(l),function(e){var t=e.Chart,n=e.each,r=e.isArray,a=e.objectEach,i=e.pick;(e=e.addEvent)(t,"render",function(){var e=[];n(this.labelCollectors||[],function(t){e=e.concat(t())}),n(this.yAxis||[],function(t){t.options.stackLabels&&!t.options.stackLabels.allowOverlap&&a(t.stacks,function(t){a(t,function(t){e.push(t.label)})})}),n(this.series||[],function(t){var a=t.options.dataLabels;t.visible&&(!1!==a.enabled||t._hasPointLabels)&&n(t.points,function(t){if(t.visible){var a=r(t.dataLabels)?t.dataLabels:t.dataLabel?[t.dataLabel]:[];n(a,function(n){var r=n.options;n.labelrank=i(r.labelrank,t.labelrank,t.shapeArgs&&t.shapeArgs.height),r.allowOverlap||e.push(n)})}})}),this.hideOverlappingLabels(e)}),t.prototype.hideOverlappingLabels=function(e){var t,r,a,i,o,s,c=e.length,l=this.renderer,u=function(e,t,n,r,a,i,o,s){return!(a>e+n||a+o<e||i>t+r||i+s<t)};for(a=function(e){var t,n,r,a=e.box?0:e.padding||0;if(r=0,e&&(!e.alignAttr||e.placed))return t=e.alignAttr||{x:e.attr("x"),y:e.attr("y")},n=e.parentGroup,e.width||(r=e.getBBox(),e.width=r.width,e.height=r.height,r=l.fontMetrics(null,e.element).h),{x:t.x+(n.translateX||0)+a,y:t.y+(n.translateY||0)+a-r,width:e.width-2*a,height:e.height-2*a}},r=0;r<c;r++)(t=e[r])&&(t.oldOpacity=t.opacity,t.newOpacity=1,t.absoluteBox=a(t));for(e.sort(function(e,t){return(t.labelrank||0)-(e.labelrank||0)}),r=0;r<c;r++)for(s=(a=e[r])&&a.absoluteBox,t=r+1;t<c;++t)o=(i=e[t])&&i.absoluteBox,s&&o&&a!==i&&0!==a.newOpacity&&0!==i.newOpacity&&(o=u(s.x,s.y,s.width,s.height,o.x,o.y,o.width,o.height))&&((a.labelrank<i.labelrank?a:i).newOpacity=0);n(e,function(e){var t,n;e&&(n=e.newOpacity,e.oldOpacity!==n&&(e.alignAttr&&e.placed?(n?e.show(!0):t=function(){e.hide()},e.alignAttr.opacity=n,e[e.isOld?"animate":"attr"](e.alignAttr,null,t)):e.attr({opacity:n})),e.isOld=!0)})}}(l),function(e){var t,n=e.addEvent,r=e.Chart,a=e.createElement,i=e.css,o=e.defaultOptions,s=e.defaultPlotOptions,c=e.each,l=e.extend,u=e.fireEvent,d=e.hasTouch,p=e.inArray,f=e.isObject,h=e.Legend,m=e.merge,g=e.pick,v=e.Point,b=e.Series,y=e.seriesTypes,E=e.svg;t=e.TrackerMixin={drawTrackerPoint:function(){var e=this,t=e.chart.pointer,n=function(e){var n=t.getPointFromEvent(e);void 0!==n&&(t.isDirectTouch=!0,n.onMouseOver(e))};c(e.points,function(e){e.graphic&&(e.graphic.element.point=e),e.dataLabel&&(e.dataLabel.div?e.dataLabel.div.point=e:e.dataLabel.element.point=e)}),e._hasTracking||(c(e.trackerGroups,function(r){e[r]&&(e[r].addClass("highcharts-tracker").on("mouseover",n).on("mouseout",function(e){t.onTrackerMouseOut(e)}),d&&e[r].on("touchstart",n),e.options.cursor&&e[r].css(i).css({cursor:e.options.cursor}))}),e._hasTracking=!0),u(this,"afterDrawTracker")},drawTrackerGraph:function(){var e,t=this,n=t.options,r=n.trackByArea,a=[].concat(r?t.areaPath:t.graphPath),i=a.length,o=t.chart,s=o.pointer,l=o.renderer,p=o.options.tooltip.snap,f=t.tracker,h=function(){o.hoverSeries!==t&&t.onMouseOver()},m="rgba(192,192,192,"+(E?1e-4:.002)+")";if(i&&!r)for(e=i+1;e--;)"M"===a[e]&&a.splice(e+1,0,a[e+1]-p,a[e+2],"L"),(e&&"M"===a[e]||e===i)&&a.splice(e,0,"L",a[e-2]+p,a[e-1]);f?f.attr({d:a}):t.graph&&(t.tracker=l.path(a).attr({"stroke-linejoin":"round",stroke:m,fill:r?m:"none","stroke-width":t.graph.strokeWidth()+(r?0:2*p),visibility:t.visible?"visible":"hidden",zIndex:2}).addClass(r?"highcharts-tracker-area":"highcharts-tracker-line").add(t.group),c([t.tracker,t.markerGroup],function(e){e.addClass("highcharts-tracker").on("mouseover",h).on("mouseout",function(e){s.onTrackerMouseOut(e)}),n.cursor&&e.css({cursor:n.cursor}),d&&e.on("touchstart",h)})),u(this,"afterDrawTracker")}},y.column&&(y.column.prototype.drawTracker=t.drawTrackerPoint),y.pie&&(y.pie.prototype.drawTracker=t.drawTrackerPoint),y.scatter&&(y.scatter.prototype.drawTracker=t.drawTrackerPoint),o.legend.itemStyle.cursor="pointer",l(h.prototype,{setItemEvents:function(e,t,n){var r=this,a=r.chart.renderer.boxWrapper,i="highcharts-legend-"+(e instanceof v?"point":"series")+"-active";(n?t:e.legendGroup).on("mouseover",function(){e.setState("hover"),a.addClass(i),t.css(r.options.itemHoverStyle)}).on("mouseout",function(){t.css(m(e.visible?r.itemStyle:r.itemHiddenStyle)),a.removeClass(i),e.setState()}).on("click",function(t){var n=function(){e.setVisible&&e.setVisible()};a.removeClass(i),t={browserEvent:t},e.firePointEvent?e.firePointEvent("legendItemClick",t,n):u(e,"legendItemClick",t,n)})},createCheckboxForItem:function(e){e.checkbox=a("input",{type:"checkbox",className:"highcharts-legend-checkbox",checked:e.selected,defaultChecked:e.selected},this.options.itemCheckboxStyle,this.chart.container),n(e.checkbox,"click",function(t){u(e.series||e,"checkboxClick",{checked:t.target.checked,item:e},function(){e.select()})})}}),l(r.prototype,{showResetZoom:function(){function e(){t.zoomOut()}var t=this,n=o.lang,r=t.options.chart.resetZoomButton,a=r.theme,i=a.states,s="chart"===r.relativeTo?null:"plotBox";u(this,"beforeShowResetZoom",null,function(){t.resetZoomButton=t.renderer.button(n.resetZoom,null,null,e,a,i&&i.hover).attr({align:r.position.align,title:n.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(r.position,!1,s)})},zoomOut:function(){u(this,"selection",{resetSelection:!0},this.zoom)},zoom:function(e){var t,n,r=this.pointer,a=!1;!e||e.resetSelection?(c(this.axes,function(e){t=e.zoom()}),r.initiated=!1):c(e.xAxis.concat(e.yAxis),function(e){var n=e.axis;r[n.isXAxis?"zoomX":"zoomY"]&&(t=n.zoom(e.min,e.max),n.displayBtn&&(a=!0))}),n=this.resetZoomButton,a&&!n?this.showResetZoom():!a&&f(n)&&(this.resetZoomButton=n.destroy()),t&&this.redraw(g(this.options.chart.animation,e&&e.animation,100>this.pointCount))},pan:function(e,t){var n,r=this,a=r.hoverPoints;a&&c(a,function(e){e.setState()}),c("xy"===t?[1,0]:[1],function(t){var a,i=(t=r[t?"xAxis":"yAxis"][0]).horiz,o=e[i?"chartX":"chartY"],s=r[i=i?"mouseDownX":"mouseDownY"],c=(t.pointRange||0)/2,l=t.reversed&&!r.inverted||!t.reversed&&r.inverted?-1:1,u=t.getExtremes(),d=t.toValue(s-o,!0)+c*l;s=(a=(l=t.toValue(s+t.len-o,!0)-c*l)<d)?l:d,d=a?d:l;0<(a=(l=Math.min(u.dataMin,c?u.min:t.toValue(t.toPixels(u.min)-t.minPixelPadding)))-s)&&(d+=a,s=l),0<(a=d-(c=Math.max(u.dataMax,c?u.max:t.toValue(t.toPixels(u.max)+t.minPixelPadding))))&&(d=c,s-=a),t.series.length&&s!==u.min&&d!==u.max&&(t.setExtremes(s,d,!1,!1,{trigger:"pan"}),n=!0),r[i]=o}),n&&r.redraw(!1),i(r.container,{cursor:"move"})}}),l(v.prototype,{select:function(e,t){var n=this,r=n.series,a=r.chart;e=g(e,!n.selected),n.firePointEvent(e?"select":"unselect",{accumulate:t},function(){n.selected=n.options.selected=e,r.options.data[p(n,r.data)]=n.options,n.setState(e&&"select"),t||c(a.getSelectedPoints(),function(e){e.selected&&e!==n&&(e.selected=e.options.selected=!1,r.options.data[p(e,r.data)]=e.options,e.setState(""),e.firePointEvent("unselect"))})})},onMouseOver:function(e){var t=this.series.chart,n=t.pointer;e=e?n.normalize(e):n.getChartCoordinatesFromPoint(this,t.inverted),n.runPointActions(e,this)},onMouseOut:function(){var e=this.series.chart;this.firePointEvent("mouseOut"),c(e.hoverPoints||[],function(e){e.setState()}),e.hoverPoints=e.hoverPoint=null},importEvents:function(){if(!this.hasImportedEvents){var t=this,r=m(t.series.options.point,t.options).events;t.events=r,e.objectEach(r,function(e,r){n(t,r,e)}),this.hasImportedEvents=!0}},setState:function(e,t){var n,r=Math.floor(this.plotX),a=this.plotY,i=this.series,o=i.options.states[e||"normal"]||{},c=s[i.type].marker&&i.options.marker,d=c&&!1===c.enabled,p=c&&c.states&&c.states[e||"normal"]||{},f=!1===p.enabled,h=i.stateMarkerGraphic,m=this.marker||{},v=i.chart,b=i.halo,y=c&&i.markerAttribs;(e=e||"")===this.state&&!t||this.selected&&"select"!==e||!1===o.enabled||e&&(f||d&&!1===p.enabled)||e&&m.states&&m.states[e]&&!1===m.states[e].enabled||(y&&(n=i.markerAttribs(this,e)),this.graphic?(this.state&&this.graphic.removeClass("highcharts-point-"+this.state),e&&this.graphic.addClass("highcharts-point-"+e),this.graphic.animate(i.pointAttribs(this,e),g(v.options.chart.animation,o.animation)),n&&this.graphic.animate(n,g(v.options.chart.animation,p.animation,c.animation)),h&&h.hide()):(e&&p&&(c=m.symbol||i.symbol,h&&h.currentSymbol!==c&&(h=h.destroy()),h?h[t?"animate":"attr"]({x:n.x,y:n.y}):c&&(i.stateMarkerGraphic=h=v.renderer.symbol(c,n.x,n.y,n.width,n.height).add(i.markerGroup),h.currentSymbol=c),h&&h.attr(i.pointAttribs(this,e))),h&&(h[e&&v.isInsidePlot(r,a,v.inverted)?"show":"hide"](),h.element.point=this)),(r=o.halo)&&r.size?(b||(i.halo=b=v.renderer.path().add((this.graphic||h).parentGroup)),b.show()[t?"animate":"attr"]({d:this.haloPath(r.size)}),b.attr({class:"highcharts-halo highcharts-color-"+g(this.colorIndex,i.colorIndex)+(this.className?" "+this.className:""),zIndex:-1}),b.point=this,b.attr(l({fill:this.color||i.color,"fill-opacity":r.opacity},r.attributes))):b&&b.point&&b.point.haloPath&&b.animate({d:b.point.haloPath(0)},null,b.hide),this.state=e,u(this,"afterSetState"))},haloPath:function(e){return this.series.chart.renderer.symbols.circle(Math.floor(this.plotX)-e,this.plotY-e,2*e,2*e)}}),l(b.prototype,{onMouseOver:function(){var e=this.chart,t=e.hoverSeries;t&&t!==this&&t.onMouseOut(),this.options.events.mouseOver&&u(this,"mouseOver"),this.setState("hover"),e.hoverSeries=this},onMouseOut:function(){var e=this.options,t=this.chart,n=t.tooltip,r=t.hoverPoint;t.hoverSeries=null,r&&r.onMouseOut(),this&&e.events.mouseOut&&u(this,"mouseOut"),!n||this.stickyTracking||n.shared&&!this.noSharedTooltip||n.hide(),this.setState()},setState:function(e){var t=this,n=t.options,r=t.graph,a=n.states,i=n.lineWidth;n=0;if(e=e||"",t.state!==e&&(c([t.group,t.markerGroup,t.dataLabelsGroup],function(n){n&&(t.state&&n.removeClass("highcharts-series-"+t.state),e&&n.addClass("highcharts-series-"+e))}),t.state=e,!a[e]||!1!==a[e].enabled)&&(e&&(i=a[e].lineWidth||i+(a[e].lineWidthPlus||0)),r&&!r.dashstyle))for(i={"stroke-width":i},r.animate(i,g(a[e||"normal"]&&a[e||"normal"].animation,t.chart.options.chart.animation));t["zone-graph-"+n];)t["zone-graph-"+n].attr(i),n+=1},setVisible:function(e,t){var n,r=this,a=r.chart,i=r.legendItem,o=a.options.chart.ignoreHiddenSeries,s=r.visible;n=(r.visible=e=r.options.visible=r.userOptions.visible=void 0===e?!s:e)?"show":"hide",c(["group","dataLabelsGroup","markerGroup","tracker","tt"],function(e){r[e]&&r[e][n]()}),a.hoverSeries!==r&&(a.hoverPoint&&a.hoverPoint.series)!==r||r.onMouseOut(),i&&a.legend.colorizeItem(r,e),r.isDirty=!0,r.options.stacking&&c(a.series,function(e){e.options.stacking&&e.visible&&(e.isDirty=!0)}),c(r.linkedSeries,function(t){t.setVisible(e,!1)}),o&&(a.isDirtyBox=!0),u(r,n),!1!==t&&a.redraw()},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(e){this.selected=e=void 0===e?!this.selected:e,this.checkbox&&(this.checkbox.checked=e),u(this,e?"select":"unselect")},drawTracker:t.drawTrackerGraph})}(l),function(e){var t=e.Chart,n=e.each,r=e.inArray,a=e.isArray,i=e.isObject,o=e.pick,s=e.splat;t.prototype.setResponsive=function(t){var r=this.options.responsive,a=[],i=this.currentResponsive;r&&r.rules&&n(r.rules,function(n){void 0===n._id&&(n._id=e.uniqueKey()),this.matchResponsiveRule(n,a,t)},this);var o=e.merge.apply(0,e.map(a,function(t){return e.find(r.rules,function(e){return e._id===t}).chartOptions}));(a=a.toString()||void 0)!==(i&&i.ruleIds)&&(i&&this.update(i.undoOptions,t),a?(this.currentResponsive={ruleIds:a,mergedOptions:o,undoOptions:this.currentOptions(o)},this.update(o,t)):this.currentResponsive=void 0)},t.prototype.matchResponsiveRule=function(e,t){var n=e.condition;(n.callback||function(){return this.chartWidth<=o(n.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=o(n.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=o(n.minWidth,0)&&this.chartHeight>=o(n.minHeight,0)}).call(this)&&t.push(e._id)},t.prototype.currentOptions=function(t){var n={};return function t(n,o,c,l){var u;e.objectEach(n,function(e,n){if(!l&&-1<r(n,["series","xAxis","yAxis"]))for(e=s(e),c[n]=[],u=0;u<e.length;u++)o[n][u]&&(c[n][u]={},t(e[u],o[n][u],c[n][u],l+1));else i(e)?(c[n]=a(e)?[]:{},t(e,o[n]||{},c[n],l+1)):c[n]=o[n]||null})}(t,this.options,n,0),n}}(l),l},e.exports?e.exports=a.document?i(a):i:void 0===(r=function(){return i(a)}.call(t,n,t,e))||(e.exports=r)},function(e,t,n){var r=n(160),a=n(59)("toStringTag"),i="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,n,o;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),a))?n:i?r(t):"Object"==(o=r(t))&&"function"==typeof t.callee?"Arguments":o}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){var r=n(48),a=n(104),i=n(59)("species");e.exports=function(e,t){var n,o=r(e).constructor;return void 0===o||null==(n=r(o)[i])?t:a(n)}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var r=n(492),a=n(366);e.exports=Object.keys||function(e){return r(e,a)}},function(e,t){e.exports={}},function(e,t){var n=9007199254740991,r=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var a=typeof e;return!!(t=null==t?n:t)&&("number"==a||"symbol"!=a&&r.test(e))&&e>-1&&e%1==0&&e<t}},function(e,t,n){var r=n(519),a=n(991),i=n(138);e.exports=function(e){return i(e)?r(e,!0):a(e)}},function(e,t,n){var r=n(988),a=n(108),i=Object.prototype,o=i.hasOwnProperty,s=i.propertyIsEnumerable,c=r(function(){return arguments}())?r:function(e){return a(e)&&o.call(e,"callee")&&!s.call(e,"callee")};e.exports=c},function(e,t,n){(function(e){var r=n(85),a=n(989),i=t&&!t.nodeType&&t,o=i&&"object"==typeof e&&e&&!e.nodeType&&e,s=o&&o.exports===i?r.Buffer:void 0,c=(s?s.isBuffer:void 0)||a;e.exports=c}).call(this,n(144)(e))},function(e,t,n){var r=n(521),a=n(1016),i=n(1017);e.exports=function(e,t,n){return t==t?i(e,t,n):r(e,a,n)}},function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},function(e,t,n){var r=n(1109),a=n(394),i=n(1110),o=n(1111),s=n(550),c=n(172),l=n(540),u=l(r),d=l(a),p=l(i),f=l(o),h=l(s),m=c;(r&&"[object DataView]"!=m(new r(new ArrayBuffer(1)))||a&&"[object Map]"!=m(new a)||i&&"[object Promise]"!=m(i.resolve())||o&&"[object Set]"!=m(new o)||s&&"[object WeakMap]"!=m(new s))&&(m=function(e){var t=c(e),n="[object Object]"==t?e.constructor:void 0,r=n?l(n):"";if(r)switch(r){case u:return"[object DataView]";case d:return"[object Map]";case p:return"[object Promise]";case f:return"[object Set]";case h:return"[object WeakMap]"}return t}),e.exports=m},function(e,t,n){var r=n(172),a=n(109),i="[object Symbol]";e.exports=function(e){return"symbol"==typeof e||a(e)&&r(e)==i}},function(e,t,n){var r=n(228),a=1/0;e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-a?"-0":t}},function(e,t,n){var r=n(515);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},function(e,t,n){var r=n(1159),a=n(383),i=n(1160),o=n(522),s=n(571),c=n(146),l=n(517),u=l(r),d=l(a),p=l(i),f=l(o),h=l(s),m=c;(r&&"[object DataView]"!=m(new r(new ArrayBuffer(1)))||a&&"[object Map]"!=m(new a)||i&&"[object Promise]"!=m(i.resolve())||o&&"[object Set]"!=m(new o)||s&&"[object WeakMap]"!=m(new s))&&(m=function(e){var t=c(e),n="[object Object]"==t?e.constructor:void 0,r=n?l(n):"";if(r)switch(r){case u:return"[object DataView]";case d:return"[object Map]";case p:return"[object Promise]";case f:return"[object Set]";case h:return"[object WeakMap]"}return t}),e.exports=m},function(e,t,n){var r=n(146),a=n(108),i="[object Symbol]";e.exports=function(e){return"symbol"==typeof e||a(e)&&r(e)==i}},function(e,t){e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},function(e,t,n){var r=n(602),a=n(426);e.exports=function(e,t,n,i){var o=!n;n||(n={});for(var s=-1,c=t.length;++s<c;){var l=t[s],u=i?i(n[l],e[l],l,n,e):void 0;void 0===u&&(u=e[l]),o?a(n,l,u):r(n,l,u)}return n}},function(e,t,n){var r=n(611),a=n(88);e.exports=function(e,t){return e&&r(e,t,a)}},function(e,t,n){var r=n(1250),a=n(304),i=n(130),o=n(1251),s=n(60);e.exports=function(e,t,n){var c=s(e)?r:o,l=arguments.length<3;return c(e,i(t,4),n,l,a)}},function(e,t,n){var r=n(618);e.exports=function(e){var t=r(e),n=t%1;return t==t?n?t-n:t:0}},function(e,t,n){var r=n(146),a=n(60),i=n(108),o="[object String]";e.exports=function(e){return"string"==typeof e||!a(e)&&i(e)&&r(e)==o}},function(e,t){e.exports=function(e){return e.placeholder}},function(e,t,n){var r=n(1273),a=n(60);e.exports=function(e,t,n,i){return null==e?[]:(a(t)||(t=null==t?[]:[t]),a(n=i?void 0:n)||(n=null==n?[]:[n]),r(e,t,n))}},function(e,t,n){"use strict";var r=n(0),a=n.n(r);t.a=function(e){return a.a.createElement("div",{className:"NewBlankSlate-description"},e.children)}},function(e,t,n){var r=n(141),a=n(44),i=a["__core-js_shared__"]||(a["__core-js_shared__"]={});(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n(142)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(e,t,n){var r=n(160);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t,n){var r=n(160);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(59)("iterator"),a=!1;try{var i=[7][r]();i.return=function(){a=!0},Array.from(i,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!a)return!1;var n=!1;try{var i=[7],o=i[r]();o.next=function(){return{done:n=!0}},i[r]=function(){return o},e(i)}catch(e){}return n}},function(e,t,n){var r=n(116),a=n(66),i=n(175);e.exports=function(e){return function(t,n,o){var s,c=r(t),l=a(c.length),u=i(o,l);if(e&&n!=n){for(;l>u;)if((s=c[u++])!=s)return!0}else for(;l>u;u++)if((e||u in c)&&c[u]===n)return e||u||0;return!e&&-1}}},function(e,t,n){var r=n(123),a=n(463),i=n(338),o=n(48),s=n(66),c=n(340),l={},u={};(t=e.exports=function(e,t,n,d,p){var f,h,m,g,v=p?function(){return e}:c(e),b=r(n,d,t?2:1),y=0;if("function"!=typeof v)throw TypeError(e+" is not iterable!");if(i(v)){for(f=s(e.length);f>y;y++)if((g=t?b(o(h=e[y])[0],h[1]):b(e[y]))===l||g===u)return g}else for(m=v.call(e);!(h=m.next()).done;)if((g=a(m,b,h.value,t))===l||g===u)return g}).BREAK=l,t.RETURN=u},function(e,t,n){"use strict";var r=n(44),a=n(26),i=n(97),o=n(179),s=n(143),c=n(247),l=n(180),u=n(45),d=n(50),p=n(245),f=n(177),h=n(345);e.exports=function(e,t,n,m,g,v){var b=r[e],y=b,E=g?"set":"add",_=y&&y.prototype,w={},S=function(e){var t=_[e];i(_,e,"delete"==e?function(e){return!(v&&!u(e))&&t.call(this,0===e?0:e)}:"has"==e?function(e){return!(v&&!u(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return v&&!u(e)?void 0:t.call(this,0===e?0:e)}:"add"==e?function(e){return t.call(this,0===e?0:e),this}:function(e,n){return t.call(this,0===e?0:e,n),this})};if("function"==typeof y&&(v||_.forEach&&!d(function(){(new y).entries().next()}))){var k=new y,C=k[E](v?{}:-0,1)!=k,N=d(function(){k.has(1)}),O=p(function(e){new y(e)}),x=!v&&d(function(){for(var e=new y,t=5;t--;)e[E](t,t);return!e.has(-0)});O||((y=t(function(t,n){l(t,y,e);var r=h(new b,t,y);return null!=n&&c(n,g,r[E],r),r})).prototype=_,_.constructor=y),(N||x)&&(S("delete"),S("has"),g&&S("get")),(x||C)&&S(E),v&&_.clear&&delete _.clear}else y=m.getConstructor(t,e,g,E),o(y.prototype,n),s.NEED=!0;return f(y,e),w[e]=y,a(a.G+a.W+a.F*(y!=b),w),v||m.setStrong(y,e,g),y}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){"use strict";e.exports=n(142)||!n(50)(function(){var e=Math.random();__defineSetter__.call(null,e,function(){}),delete n(44)[e]})},function(e,t,n){var r=n(44).navigator;e.exports=r&&r.userAgent||""},function(e,t,n){"use strict";var r=n(48);e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t,n){"use strict";var r=n(215),a=RegExp.prototype.exec;e.exports=function(e,t){var n=e.exec;if("function"==typeof n){var i=n.call(e,t);if("object"!=typeof i)throw new TypeError("RegExp exec method returned something other than an Object or null");return i}if("RegExp"!==r(e))throw new TypeError("RegExp#exec called on incompatible receiver");return a.call(e,t)}},function(e,t,n){"use strict";n(835);var r=n(97),a=n(102),i=n(50),o=n(133),s=n(59),c=n(354),l=s("species"),u=!i(function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}),d=function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();e.exports=function(e,t,n){var p=s(e),f=!i(function(){var t={};return t[p]=function(){return 7},7!=""[e](t)}),h=f?!i(function(){var t=!1,n=/a/;return n.exec=function(){return t=!0,null},"split"===e&&(n.constructor={},n.constructor[l]=function(){return n}),n[p](""),!t}):void 0;if(!f||!h||"replace"===e&&!u||"split"===e&&!d){var m=/./[p],g=n(o,p,""[e],function(e,t,n,r,a){return t.exec===c?f&&!a?{done:!0,value:m.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}}),v=g[0],b=g[1];r(String.prototype,e,v),a(RegExp.prototype,p,2==t?function(e,t){return b.call(e,this,t)}:function(e){return b.call(e,this)})}}},function(e,t,n){for(var r,a=n(44),i=n(102),o=n(158),s=o("typed_array"),c=o("view"),l=!(!a.ArrayBuffer||!a.DataView),u=l,d=0,p="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");d<9;)(r=a[p[d++]])?(i(r.prototype,s,!0),i(r.prototype,c,!0)):u=!1;e.exports={ABV:l,CONSTR:u,TYPED:s,VIEW:c}},function(e,t,n){var r=n(363),a=Math.min;e.exports=function(e){return e>0?a(r(e),9007199254740991):0}},function(e,t){e.exports=!0},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,n){e.exports={default:n(907),__esModule:!0}},function(e,t,n){var r=n(166),a=n(920),i=n(366),o=n(364)("IE_PROTO"),s=function(){},c=function(){var e,t=n(491)("iframe"),r=i.length;for(t.style.display="none",n(921).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),c=e.F;r--;)delete c.prototype[i[r]];return c()};e.exports=Object.create||function(e,t){var n;return null!==e?(s.prototype=r(e),n=new s,s.prototype=null,n[o]=e):n=c(),void 0===t?n:a(n,t)}},function(e,t,n){var r=n(117).f,a=n(168),i=n(107)("toStringTag");e.exports=function(e,t,n){e&&!a(e=n?e:e.prototype,i)&&r(e,i,{configurable:!0,value:t})}},function(e,t,n){var r=n(165),a=n(498),i=n(499),o=n(166),s=n(256),c=n(500),l={},u={};(t=e.exports=function(e,t,n,d,p){var f,h,m,g,v=p?function(){return e}:c(e),b=r(n,d,t?2:1),y=0;if("function"!=typeof v)throw TypeError(e+" is not iterable!");if(i(v)){for(f=s(e.length);f>y;y++)if((g=t?b(o(h=e[y])[0],h[1]):b(e[y]))===l||g===u)return g}else for(m=v.call(e);!(h=m.next()).done;)if((g=a(m,b,h.value,t))===l||g===u)return g}).BREAK=l,t.RETURN=u},function(e,t,n){var r=n(129),a=n(186),i=n(378),o=n(222),s=Object.prototype,c=s.hasOwnProperty,l=r(function(e,t){e=Object(e);var n=-1,r=t.length,l=r>2?t[2]:void 0;for(l&&i(t[0],t[1],l)&&(r=1);++n<r;)for(var u=t[n],d=o(u),p=-1,f=d.length;++p<f;){var h=d[p],m=e[h];(void 0===m||a(m,s[h])&&!c.call(e,h))&&(e[h]=u[h])}return e});e.exports=l},function(e,t,n){var r=n(990),a=n(187),i=n(380),o=i&&i.isTypedArray,s=o?a(o):r;e.exports=s},function(e,t){var n=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}},function(e,t,n){var r=n(381),a=n(996);e.exports=function e(t,n,i,o,s){var c=-1,l=t.length;for(i||(i=a),s||(s=[]);++c<l;){var u=t[c];n>0&&i(u)?n>1?e(u,n-1,i,o,s):r(s,u):o||(s[s.length]=u)}return s}},function(e,t,n){var r=n(382),a=n(1014),i=n(1015);function o(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}o.prototype.add=o.prototype.push=a,o.prototype.has=i,e.exports=o},function(e,t,n){var r=n(170)(Object,"create");e.exports=r},function(e,t,n){var r=n(1004),a=n(1005),i=n(1006),o=n(1007),s=n(1008);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=a,c.prototype.get=i,c.prototype.has=o,c.prototype.set=s,e.exports=c},function(e,t,n){var r=n(186);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},function(e,t,n){var r=n(1010);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},function(e,t,n){var r=n(225);e.exports=function(e,t){return!(null==e||!e.length)&&r(e,t,0)>-1}},function(e,t){e.exports=function(e,t){return e.has(t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.END_DRAG=t.DROP=t.HOVER=t.PUBLISH_DRAG_SOURCE=t.BEGIN_DRAG=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.beginDrag=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{publishSource:!0,clientOffset:null},n=t.publishSource,r=t.clientOffset,s=t.getSourceClientOffset;(0,a.default)((0,i.default)(e),"Expected sourceIds to be an array.");var c=this.getMonitor(),u=this.getRegistry();(0,a.default)(!c.isDragging(),"Cannot call beginDrag while dragging.");for(var d=0;d<e.length;d++)(0,a.default)(u.getSource(e[d]),"Expected sourceIds to be registered.");for(var p=null,f=e.length-1;f>=0;f--)if(c.canDragSource(e[f])){p=e[f];break}if(null===p)return;var h=null;r&&((0,a.default)("function"==typeof s,"When clientOffset is provided, getSourceClientOffset must be a function."),h=s(p));var m=u.getSource(p).beginDrag(c,p);(0,a.default)((0,o.default)(m),"Item must be an object."),u.pinSource(p);var g=u.getSourceType(p);return{type:l,itemType:g,item:m,sourceId:p,clientOffset:r,sourceClientOffset:h,isSourcePublic:n}},t.publishDragSource=function(){if(!this.getMonitor().isDragging())return;return{type:u}},t.hover=function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).clientOffset,n=void 0===t?null:t;(0,a.default)((0,i.default)(e),"Expected targetIds to be an array.");var r=e.slice(0),o=this.getMonitor(),c=this.getRegistry();(0,a.default)(o.isDragging(),"Cannot call hover while not dragging."),(0,a.default)(!o.didDrop(),"Cannot call hover after drop.");for(var l=0;l<r.length;l++){var u=r[l];(0,a.default)(r.lastIndexOf(u)===l,"Expected targetIds to be unique in the passed array.");var p=c.getTarget(u);(0,a.default)(p,"Expected targetIds to be registered.")}for(var f=o.getItemType(),h=r.length-1;h>=0;h--){var m=r[h],g=c.getTargetType(m);(0,s.default)(g,f)||r.splice(h,1)}for(var v=0;v<r.length;v++){var b=r[v],y=c.getTarget(b);y.hover(o,b)}return{type:d,targetIds:r,clientOffset:n}},t.drop=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.getMonitor(),i=this.getRegistry();(0,a.default)(n.isDragging(),"Cannot call drop while not dragging."),(0,a.default)(!n.didDrop(),"Cannot call drop twice during one drag operation.");var s=n.getTargetIds().filter(n.canDropOnTarget,n);s.reverse(),s.forEach(function(s,c){var l=i.getTarget(s),u=l.drop(n,s);(0,a.default)(void 0===u||(0,o.default)(u),"Drop result must either be an object or undefined."),void 0===u&&(u=0===c?{}:n.getDropResult()),e.store.dispatch({type:p,dropResult:r({},t,u)})})},t.endDrag=function(){var e=this.getMonitor(),t=this.getRegistry();(0,a.default)(e.isDragging(),"Cannot call endDrag while not dragging.");var n=e.getSourceId();return t.getSource(n,!0).endDrag(e,n),t.unpinSource(),{type:f}};var a=c(n(73)),i=c(n(60)),o=c(n(99)),s=c(n(529));function c(e){return e&&e.__esModule?e:{default:e}}var l=t.BEGIN_DRAG="dnd-core/BEGIN_DRAG",u=t.PUBLISH_DRAG_SOURCE="dnd-core/PUBLISH_DRAG_SOURCE",d=t.HOVER="dnd-core/HOVER",p=t.DROP="dnd-core/DROP",f=t.END_DRAG="dnd-core/END_DRAG"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addSource=function(e){return{type:r,sourceId:e}},t.addTarget=function(e){return{type:a,targetId:e}},t.removeSource=function(e){return{type:i,sourceId:e}},t.removeTarget=function(e){return{type:o,targetId:e}};var r=t.ADD_SOURCE="dnd-core/ADD_SOURCE",a=t.ADD_TARGET="dnd-core/ADD_TARGET",i=t.REMOVE_SOURCE="dnd-core/REMOVE_SOURCE",o=t.REMOVE_TARGET="dnd-core/REMOVE_TARGET"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){0}},function(e,t,n){var r=n(279),a=n(1070),i=n(1071),o=n(1072),s=n(1073),c=n(1074);function l(e){var t=this.__data__=new r(e);this.size=t.size}l.prototype.clear=a,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=s,l.prototype.set=c,e.exports=l},function(e,t,n){var r=n(1065),a=n(1066),i=n(1067),o=n(1068),s=n(1069);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=a,c.prototype.get=i,c.prototype.has=o,c.prototype.set=s,e.exports=c},function(e,t,n){var r=n(226);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},function(e,t,n){var r=n(172),a=n(118),i="[object AsyncFunction]",o="[object Function]",s="[object GeneratorFunction]",c="[object Proxy]";e.exports=function(e){if(!a(e))return!1;var t=r(e);return t==o||t==s||t==i||t==c}},function(e,t,n){var r=n(171)(Object,"create");e.exports=r},function(e,t,n){var r=n(1089);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},function(e,t,n){var r=n(547),a=n(548),i=n(288);e.exports=function(e){return i(e)?r(e):a(e)}},function(e,t,n){var r=n(1105),a=n(109),i=Object.prototype,o=i.hasOwnProperty,s=i.propertyIsEnumerable,c=r(function(){return arguments}())?r:function(e){return a(e)&&o.call(e,"callee")&&!s.call(e,"callee")};e.exports=c},function(e,t,n){(function(e){var r=n(93),a=n(1106),i=t&&!t.nodeType&&t,o=i&&"object"==typeof e&&e&&!e.nodeType&&e,s=o&&o.exports===i?r.Buffer:void 0,c=(s?s.isBuffer:void 0)||a;e.exports=c}).call(this,n(144)(e))},function(e,t){var n=9007199254740991,r=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var a=typeof e;return!!(t=null==t?n:t)&&("number"==a||"symbol"!=a&&r.test(e))&&e>-1&&e%1==0&&e<t}},function(e,t,n){var r=n(281),a=n(399);e.exports=function(e){return null!=e&&a(e.length)&&!r(e)}},function(e,t){e.exports=function(e){return e}},function(e,t,n){"use strict";t.__esModule=!0;var r,a=n(358),i=(r=a)&&r.__esModule?r:{default:r};t.default=i.default||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}},function(e,t,n){e.exports={default:n(1126),__esModule:!0}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,n){"use strict";t.__esModule=!0;var r,a=n(1128),i=(r=a)&&r.__esModule?r:{default:r};t.default=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,i.default)(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()},function(e,t,n){"use strict";t.__esModule=!0;var r,a=n(561),i=(r=a)&&r.__esModule?r:{default:r};t.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,i.default)(t))&&"function"!=typeof t?e:t}},function(e,t,n){"use strict";t.__esModule=!0;var r=o(n(1140)),a=o(n(1144)),i=o(n(561));function o(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,i.default)(t)));e.prototype=(0,a.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(r.default?(0,r.default)(e,t):e.__proto__=t)}},function(e,t,n){var r=n(270),a=n(1150),i=n(1151),o=n(1152),s=n(1153),c=n(1154);function l(e){var t=this.__data__=new r(e);this.size=t.size}l.prototype.clear=a,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=s,l.prototype.set=c,e.exports=l},function(e,t){e.exports=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}},function(e,t,n){var r=n(99),a=Object.create,i=function(){function e(){}return function(t){if(!r(t))return{};if(a)return a(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=i},function(e,t,n){var r=n(191),a=n(192);e.exports=function(e,t){for(var n=0,i=(t=r(t,e)).length;null!=e&&n<i;)e=e[a(t[n++])];return n&&n==i?e:void 0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=t.keys=function(e){return e===Object(e)?Object.keys(e):[]};t.values=function(e){return e===Object(e)?Object.values(e):[]};t.merge=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reduce(function(e,t){return function e(t,n){var r=o({},t);return s(t)&&s(n)&&i(n).forEach(function(i){s(n[i])&&i in t?r[i]=e(t[i],n[i]):o(r,a({},i,n[i]))}),r}(e,t)},e)};var o=t.assign=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Object.assign.apply(Object,[e].concat(n))};t.identity=function(e){return e};t.omit=function(e,t){var n=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(r({},e),[]);if(t){var a=!0,i=!1,o=void 0;try{for(var s,c=t[Symbol.iterator]();!(a=(s=c.next()).done);a=!0)delete n[s.value]}catch(e){i=!0,o=e}finally{try{!a&&c.return&&c.return()}finally{if(i)throw o}}}return n};var s=t.isPlainObject=function(e){return!(e!==Object(e)||e instanceof Date||Array.isArray(e))};t.compact=function(e){return(e||[]).filter(Boolean)}},function(e,t,n){var r=n(302),a=n(118);e.exports=function(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=r(e.prototype),i=e.apply(n,t);return a(i)?i:n}}},function(e,t,n){var r=n(118),a=Object.create,i=function(){function e(){}return function(t){if(!r(t))return{};if(a)return a(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();e.exports=i},function(e,t,n){var r=n(547),a=n(1212),i=n(288);e.exports=function(e){return i(e)?r(e,!0):a(e)}},function(e,t,n){var r=n(235),a=n(1240)(r);e.exports=a},function(e,t,n){var r=n(225),a=n(237),i=Math.max;e.exports=function(e,t,n){var o=null==e?0:e.length;if(!o)return-1;var s=null==n?0:a(n);return s<0&&(s=i(o+s,0)),r(e,t,s)}},function(e,t,n){var r=n(298),a=n(99);e.exports=function(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=r(e.prototype),i=e.apply(n,t);return a(i)?i:n}}},function(e,t,n){"use strict";var r=n(644);function a(e,t){var r=n(196),a=this;"function"==typeof Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):a.stack=(new Error).stack||"Cannot get a stacktrace, browser is too old",this.name="AlgoliaSearchError",this.message=e||"Unknown error",t&&r(t,function(e,t){a[t]=e})}function i(e,t){function n(){var n=Array.prototype.slice.call(arguments,0);"string"!=typeof n[0]&&n.unshift(t),a.apply(this,n),this.name="AlgoliaSearch"+e+"Error"}return r(n,a),n}r(a,Error),e.exports={AlgoliaSearchError:a,UnparsableJSON:i("UnparsableJSON","Could not parse the incoming response as JSON, see err.more for details"),RequestTimeout:i("RequestTimeout","Request timed out before getting a response"),Network:i("Network","Network issue, see err.more for details"),JSONPScriptFail:i("JSONPScriptFail","<script> was loaded but did not call our provided callback"),JSONPScriptError:i("JSONPScriptError","<script> unable to load due to an `error` event on it"),Unknown:i("Unknown","Unknown error occured")}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){var r=n(196);e.exports=function(e,t){var n=[];return r(e,function(r,a){n.push(t(r,a,e))}),n}},function(e,t,n){(function(r){function a(){var e;try{e=t.storage.debug}catch(e){}return!e&&void 0!==r&&"env"in r&&(e=r.env.DEBUG),e}(t=e.exports=n(1319)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),!n)return;var r="color: "+this.color;e.splice(1,0,r,"color: inherit");var a=0,i=0;e[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&(a++,"%c"===e&&(i=a))}),e.splice(i,0,r)},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}},t.load=a,t.useColors=function(){if("undefined"!=typeof window&&window.process&&"renderer"===window.process.type)return!0;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},t.enable(a())}).call(this,n(436))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),i=l(a),o=l(n(11)),s=l(n(31)),c=l(n(665));function l(e){return e&&e.__esModule?e:{default:e}}var u=o.default.arrayOf(o.default.shape({value:o.default.any,label:o.default.node.isRequired,items:function(){return u.apply(void 0,arguments)}})),d=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.onShowMoreClick=function(){e.setState(function(e){return{extended:!e.extended}})},e.getLimit=function(){var t=e.props,n=t.limit,r=t.showMoreLimit;return e.state.extended?r:n},e.resetQuery=function(){e.setState({query:""})},e.renderItem=function(t,n){var r=t.items&&i.default.createElement("ul",{className:e.props.cx("list","list--child")},t.items.slice(0,e.getLimit()).map(function(n){return e.renderItem(n,t)}));return i.default.createElement("li",{key:t.key||t.label,className:e.props.cx("item",t.isRefined&&"item--selected",t.noRefinement&&"item--noRefinement",r&&"item--parent")},e.props.renderItem(t,n),r)},e.state={extended:!1,query:""},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"renderShowMore",value:function(){var e=this.props,t=e.showMore,n=e.translate,r=e.cx,a=this.state.extended,o=this.props.limit>=this.props.items.length;return t?i.default.createElement("button",{disabled:o,className:r("showMore",o&&"showMore--disabled"),onClick:this.onShowMoreClick},n("showMore",a)):null}},{key:"renderSearchBox",value:function(){var e=this,t=this.props,n=t.cx,r=t.searchForItems,a=t.isFromSearch,o=t.translate,s=t.items,l=t.selectItem,u=0===s.length&&""!==this.state.query?i.default.createElement("div",{className:n("noResults")},o("noResults")):null;return i.default.createElement("div",{className:n("searchBox")},i.default.createElement(c.default,{currentRefinement:this.state.query,refine:function(t){e.setState({query:t}),r(t)},focusShortcuts:[],translate:o,onSubmit:function(t){t.preventDefault(),t.stopPropagation(),a&&l(s[0],e.resetQuery)}}),u)}},{key:"render",value:function(){var e=this,t=this.props,n=t.cx,r=t.items,a=t.className,o=t.searchable,c=t.canRefine,l=o?this.renderSearchBox():null,u=(0,s.default)(n("",!c&&"-noRefinement"),a);return 0===r.length?i.default.createElement("div",{className:u},l):i.default.createElement("div",{className:u},l,i.default.createElement("ul",{className:n("list",!c&&"list--noRefinement")},r.slice(0,this.getLimit()).map(function(t){return e.renderItem(t,e.resetQuery)})),this.renderShowMore())}}]),t}();d.propTypes={cx:o.default.func.isRequired,translate:o.default.func,items:u,renderItem:o.default.func.isRequired,selectItem:o.default.func,className:o.default.string,showMore:o.default.bool,limit:o.default.number,showMoreLimit:o.default.number,show:o.default.func,searchForItems:o.default.func,searchable:o.default.bool,isFromSearch:o.default.bool,canRefine:o.default.bool},d.defaultProps={className:"",isFromSearch:!1},t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(55)),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=u(n(11)),s=n(0),c=u(s),l=n(198);function u(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=Array(a),o=0;o<a;o++)i[o]=arguments[o];return n=r=d(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.onClick=function(e){(0,l.isSpecialClick)(e)||(r.props.onClick(),e.preventDefault())},d(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.Component),i(t,[{key:"render",value:function(){return c.default.createElement("a",a({},(0,r.default)(this.props,"onClick"),{onClick:this.onClick}))}}]),t}();p.propTypes={onClick:o.default.func.isRequired},t.default=p},function(e,t,n){"use strict";var r=n(0),a=n.n(r),i=n(3);t.a=function(e){var t=e.name,n=e.src;return a.a.createElement("div",{className:"NewBlankSlate-icon",style:{backgroundImage:"url(".concat(n||"".concat(i.k.ASSETS_BLANK_SLATES,"/").concat(t,".svg"),")")}})}},function(e,t,n){"use strict";var r=n(0),a=n.n(r);t.a=function(e){return a.a.createElement("h2",{className:"NewBlankSlate-heading"},e.children)}},function(e,t,n){"use strict";n.r(t),function(e,r){var a,i=n(672);a="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:r;var o=Object(i.a)(a);t.default=o}.call(this,n(43),n(963)(e))},function(e,t,n){
/*!
 * clipboard.js v2.0.4
 * https://zenorocha.github.io/clipboard.js
 * 
 * Licensed MIT © Zeno Rocha
 */
var r;r=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=c(n(1)),o=c(n(3)),s=c(n(4));function c(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.resolveOptions(n),r.listenClick(e),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default),a(t,[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof e.action?e.action:this.defaultAction,this.target="function"==typeof e.target?e.target:this.defaultTarget,this.text="function"==typeof e.text?e.text:this.defaultText,this.container="object"===r(e.container)?e.container:document.body}},{key:"listenClick",value:function(e){var t=this;this.listener=(0,s.default)(e,"click",function(e){return t.onClick(e)})}},{key:"onClick",value:function(e){var t=e.delegateTarget||e.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new i.default({action:this.action(t),target:this.target(t),text:this.text(t),container:this.container,trigger:t,emitter:this})}},{key:"defaultAction",value:function(e){return u("action",e)}},{key:"defaultTarget",value:function(e){var t=u("target",e);if(t)return document.querySelector(t)}},{key:"defaultText",value:function(e){return u("text",e)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["copy","cut"],t="string"==typeof e?[e]:e,n=!!document.queryCommandSupported;return t.forEach(function(e){n=n&&!!document.queryCommandSupported(e)}),n}}]),t}();function u(e,t){var n="data-clipboard-"+e;if(t.hasAttribute(n))return t.getAttribute(n)}e.exports=l},function(e,t,n){"use strict";var r,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(2),s=(r=o)&&r.__esModule?r:{default:r};var c=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.resolveOptions(t),this.initSelection()}return i(e,[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action=e.action,this.container=e.container,this.emitter=e.emitter,this.target=e.target,this.text=e.text,this.trigger=e.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var e=this,t="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return e.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[t?"right":"left"]="-9999px";var n=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=n+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=(0,s.default)(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=(0,s.default)(this.target),this.copyText()}},{key:"copyText",value:function(){var e=void 0;try{e=document.execCommand(this.action)}catch(t){e=!1}this.handleResult(e)}},{key:"handleResult",value:function(e){this.emitter.emit(e?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=e,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(e){if(void 0!==e){if(!e||"object"!==(void 0===e?"undefined":a(e))||1!==e.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&e.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(e.hasAttribute("readonly")||e.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=e}},get:function(){return this._target}}]),e}();e.exports=c},function(e,t){e.exports=function(e){var t;if("SELECT"===e.nodeName)e.focus(),t=e.value;else if("INPUT"===e.nodeName||"TEXTAREA"===e.nodeName){var n=e.hasAttribute("readonly");n||e.setAttribute("readonly",""),e.select(),e.setSelectionRange(0,e.value.length),n||e.removeAttribute("readonly"),t=e.value}else{e.hasAttribute("contenteditable")&&e.focus();var r=window.getSelection(),a=document.createRange();a.selectNodeContents(e),r.removeAllRanges(),r.addRange(a),t=r.toString()}return t}},function(e,t){function n(){}n.prototype={on:function(e,t,n){var r=this.e||(this.e={});return(r[e]||(r[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){var r=this;function a(){r.off(e,a),t.apply(n,arguments)}return a._=t,this.on(e,a,n)},emit:function(e){for(var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),r=0,a=n.length;r<a;r++)n[r].fn.apply(n[r].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),r=n[e],a=[];if(r&&t)for(var i=0,o=r.length;i<o;i++)r[i].fn!==t&&r[i].fn._!==t&&a.push(r[i]);return a.length?n[e]=a:delete n[e],this}},e.exports=n},function(e,t,n){var r=n(5),a=n(6);e.exports=function(e,t,n){if(!e&&!t&&!n)throw new Error("Missing required arguments");if(!r.string(t))throw new TypeError("Second argument must be a String");if(!r.fn(n))throw new TypeError("Third argument must be a Function");if(r.node(e))return function(e,t,n){return e.addEventListener(t,n),{destroy:function(){e.removeEventListener(t,n)}}}(e,t,n);if(r.nodeList(e))return function(e,t,n){return Array.prototype.forEach.call(e,function(e){e.addEventListener(t,n)}),{destroy:function(){Array.prototype.forEach.call(e,function(e){e.removeEventListener(t,n)})}}}(e,t,n);if(r.string(e))return function(e,t,n){return a(document.body,e,t,n)}(e,t,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}},function(e,t){t.node=function(e){return void 0!==e&&e instanceof HTMLElement&&1===e.nodeType},t.nodeList=function(e){var n=Object.prototype.toString.call(e);return void 0!==e&&("[object NodeList]"===n||"[object HTMLCollection]"===n)&&"length"in e&&(0===e.length||t.node(e[0]))},t.string=function(e){return"string"==typeof e||e instanceof String},t.fn=function(e){return"[object Function]"===Object.prototype.toString.call(e)}},function(e,t,n){var r=n(7);function a(e,t,n,a,i){var o=function(e,t,n,a){return function(n){n.delegateTarget=r(n.target,t),n.delegateTarget&&a.call(e,n)}}.apply(this,arguments);return e.addEventListener(n,o,i),{destroy:function(){e.removeEventListener(n,o,i)}}}e.exports=function(e,t,n,r,i){return"function"==typeof e.addEventListener?a.apply(null,arguments):"function"==typeof n?a.bind(null,document).apply(null,arguments):("string"==typeof e&&(e=document.querySelectorAll(e)),Array.prototype.map.call(e,function(e){return a(e,t,n,r,i)}))}},function(e,t){var n=9;if("undefined"!=typeof Element&&!Element.prototype.matches){var r=Element.prototype;r.matches=r.matchesSelector||r.mozMatchesSelector||r.msMatchesSelector||r.oMatchesSelector||r.webkitMatchesSelector}e.exports=function(e,t){for(;e&&e.nodeType!==n;){if("function"==typeof e.matches&&e.matches(t))return e;e=e.parentNode}}}])},e.exports=r()},function(e,t){e.exports="/assets/ollie_calendar-78a0b1b22db9c6eafcebe8391870ac8f8d9f3cb82030c426507ea80f7bea0078.svg"},function(e,t){e.exports="/assets/error-2e7c97eee5aaa8cebd28c2ae5cbebe37609c2abb7e0b859abc2f4b194a9a9b2f.svg"},function(e,t,n){"use strict";var r=n(4),a=n.n(r),i=n(5),o=n.n(i),s=n(6),c=n.n(s),l=n(7),u=n.n(l),d=n(1),p=n.n(d),f=n(8),h=n.n(f),m=n(0),g=n.n(m),v=n(15),b=n.n(v),y=n(81),E=n.n(y),_=n(29),w=n(212),S=n(10),k=function(e){function t(){var e;return a()(this,t),(e=c()(this,u()(t).call(this))).state={tagsVisible:!1},e.handleTagsPillClick=e.handleTagsPillClick.bind(p()(e)),e.toggleTagsVisibility=e.toggleTagsVisibility.bind(p()(e)),e.setTagsPopoverWidth=e.setTagsPopoverWidth.bind(p()(e)),e.handleClick=e.handleClick.bind(p()(e)),e}return h()(t,e),o()(t,[{key:"toggleTagsVisibility",value:function(){this.setState(function(e){return{tagsVisible:!e.tagsVisible}})}},{key:"handleTagsPillClick",value:function(e){e.stopPropagation()}},{key:"setTagsPopoverWidth",value:function(e){if("list"===this.props.layout&&e&&this.tagsPill){var t=parseInt(getComputedStyle(e).right,10),n=this.tagsPill.getBoundingClientRect().width;e.style.right="".concat(t+n+14,"px"),e.style.maxWidth="calc(100% - ".concat(t+n+24,"px)")}}},{key:"handleClick",value:function(){this.props.onClick&&!this.props.invalid&&this.props.onClick(this.props.id)}},{key:"render",value:function(){var e=this,t=this.props,n=t.title,r=t.iconName,a=t.onClick,i=t.count,o=t.countLabel,s=t.tags,c=t.layout,l=t.active,u=t.clamp,d=t.infoTooltip,p=t.invalidTooltip,f=t.showCount,h=t.invalid,m=s.length>=2,v=b()("ContentItem",{"ContentItem--card":"card"===c,"ContentItem--list":"list"===c,"ContentItem--active":l,"ContentItem--clickable":!!a&&!h,"ContentItem--disabled":h}),y=b()("ContentItem-tagsPill",{"Pill Pill--gray tt-u Pill--small":!0,"ContentItem-tagsPill--withTooltip":m});return g.a.createElement("div",{onClick:this.handleClick,className:v},g.a.createElement("div",{className:"ContentItem-info"},r&&g.a.createElement(S.a,{name:r,customClass:"ContentItem-icon"}),g.a.createElement(E.a,{className:"ContentItem-title ws-pr",lines:u[c].title,children:n})),m&&this.state.tagsVisible&&g.a.createElement("div",{ref:this.setTagsPopoverWidth,className:"ContentItem-tagsPopover"},g.a.createElement(E.a,{lines:u[c].tags,tagName:"span"},Object(_.g)(s.map(function(e){return e.name}),!0))),g.a.createElement("div",{className:"ContentItem-meta"},(f||!!i)&&g.a.createElement("div",null,g.a.createElement("span",{className:"ContentItem-count"},i," ",o),h&&g.a.createElement(w.a,{className:"ml-4",tooltip:p,dataPlacement:"top",iconName:"warning_sign",iconClasses:"c-brand-red"}),d&&!h&&g.a.createElement(w.a,{className:"ml-4",tooltip:d,dataPlacement:"top",iconName:"info",iconClasses:"ContentItem--hoverColorStyles c-brand-gray-light"})),!!s.length&&g.a.createElement("button",{type:"button",className:y,onMouseEnter:this.toggleTagsVisibility,onMouseLeave:this.toggleTagsVisibility,onClick:this.handleTagsPillClick,children:this.tagsLabel,ref:function(t){t&&(e.tagsPill=t)}})))}},{key:"tagsLabel",get:function(){var e=this.props.tags;return 1===e.length?e[0].name:"".concat(e.length," Tags")}}]),t}(m.Component);k.defaultProps={tags:[],layout:"card",clamp:{list:{tags:2,title:1},card:{tags:3,title:2}}},t.a=k},function(e,t,n){var r=n(537),a=n(538),i=n(404),o=Math.max;e.exports=function(e,t,n){var s=null==e?0:e.length;if(!s)return-1;var c=null==n?0:i(n);return c<0&&(c=o(s+c,0)),r(e,a(t,3),c)}},function(e,n,r){"use strict";var a=r(4),i=r.n(a),o=r(5),s=r.n(o),c=r(6),l=r.n(c),u=r(7),d=r.n(u),p=r(1),f=r.n(p),h=r(8),m=r.n(h),g=r(2),v=r.n(g),b=r(0),y=r.n(b),E=r(15),_=r.n(E),w=r(91),S=r(13),k=r(322),C=function(e){function t(e){var n;return i()(this,t),(n=l()(this,d()(t).call(this,e))).state={loading:!0,image:w.a.url(e.image)},n.handleImageLoad=n.handleImageLoad.bind(f()(n)),n}return m()(t,e),s()(t,[{key:"componentDidUpdate",value:function(e){this.props.uploading!==e.uploading&&this.setState({loading:!0}),this.props.image.handle!==e.image.handle&&this.setState({image:w.a.url(this.props.image)})}},{key:"handleImageLoad",value:function(){this.setState({loading:!1})}},{key:"render",value:function(){var e=this.state.loading,n=this.props,r=n.onUpload,a=n.caption,i=n.uploading,o=n.elementId,s=_()({"Animated Animated--fadeIn":!e,"clickable-image-upload":!e,hidden:e});return y.a.createElement("div",null,e&&y.a.createElement(t.LoadingSpinner,null),this.props.connectDropTarget(y.a.createElement("div",{className:s},y.a.createElement("label",{className:"m-0 c-p",htmlFor:"".concat(o,"_image")},y.a.createElement("img",{alt:a,src:this.state.image,onLoad:this.handleImageLoad})),y.a.createElement("input",{hidden:!0,id:"".concat(o,"_image"),type:"file",accept:"image/*",onChange:function(e){return r(e.target.files[0])},disabled:i||e}))))}}]),t}(b.Component);v()(C,"LoadingSpinner",function(){return y.a.createElement("div",null,y.a.createElement(S.k,{color:"darker"}),y.a.createElement("span",{className:"ml-16 c-gray"},t("common.loading")))}),n.a=Object(k.a)(C)},function(e,t,n){"use strict";var r=n(51),a=n(113),i=[a.NativeTypes.FILE];t.a=Object(r.DropTarget)(i,{drop:function(e,t){var n=t.getItem().files[0];n&&e.onUpload(n)}},function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver()}})},function(e,n,r){"use strict";var a=r(4),i=r.n(a),o=r(5),s=r.n(o),c=r(6),l=r.n(c),u=r(7),d=r.n(u),p=r(1),f=r.n(p),h=r(8),m=r.n(h),g=r(0),v=r.n(g),b=r(12),y=r(15),E=r.n(y),_=r(20),w=r(324),S=r.n(w),k=r(152),C=r(322),N=function(e){function n(e){var t;return i()(this,n),(t=l()(this,d()(n).call(this,e))).state={pickerVisible:!1},t.togglePicker=t.togglePicker.bind(f()(t)),t}return m()(n,e),s()(n,[{key:"togglePicker",value:function(){this.setState(function(e){return{pickerVisible:!e.pickerVisible}})}},{key:"render",value:function(){var e=this.state.pickerVisible,n=this.props,r=n.isOver,a=n.uploading,i=n.onUpload,o=n.connectDropTarget,s=n.hideImageIcon,c=n.canUseImageLibrary,l=E()("EditorElement-uploadArea",{"EditorElement-uploadArea--dropZone":!0,"is-over":r}),u=E()("EditorElement-uploadButton","NewButton NewButton--center NewButton--white");return o(v.a.createElement("div",{className:l},!s&&v.a.createElement("img",{className:"EditorElement-icon",src:S.a,alt:t("image_library.upload")}),v.a.createElement("p",{className:"EditorElement-description"},t("image_library.drag_and_drop_file")," ",t("conjunctions.or")),v.a.createElement("div",{className:"".concat(u," mb-8"),disabled:a},v.a.createElement("span",null,a?t("image_library.uploading"):t("image_library.upload")),v.a.createElement("input",{type:"file",accept:"image/*",onChange:function(e){return i(e.target.files[0])},disabled:a})),c&&v.a.createElement("button",{type:"button",className:u,onClick:this.togglePicker,disabled:a},t("image_library.select_from_library")),c&&v.a.createElement("div",{className:"mt-32 c-gray-dark td-i fs-i"},t("image_library.memorable_names_description_note")),e&&v.a.createElement(k.a,{onSelect:i,onDismiss:this.togglePicker})))}}]),n}(g.Component);n.a=Object(b.b)(function(e){return{canUseImageLibrary:Object(_.j)(e,"can_use_image_library")}})(Object(C.a)(N))},function(e,t){e.exports="/assets/image_el-e8e631691987efe8700d1f5a87bae6d8d5c6368c3cd7a47a93db0a6c08d4d3d2.svg"},function(e,t,n){"use strict";var r=n(4),a=n.n(r),i=n(5),o=n.n(i),s=n(6),c=n.n(s),l=n(7),u=n.n(l),d=n(1),p=n.n(d),f=n(8),h=n.n(f),m=n(2),g=n.n(m),v=n(0),b=n.n(v),y=n(10),E=n(91),_=n(13),w=function(e){function t(e){var n;return a()(this,t),(n=c()(this,u()(t).call(this,e))).state={loading:!0},n.image=new E.a({policy:e.image.policy,signature:e.image.signature,handle:e.image.handle,transform:{resize:{width:400,height:400}}}),n.src=n.image.url,n.handleImageClick=n.handleImageClick.bind(p()(n)),n}return h()(t,e),o()(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.image.handle!==this.props.image.handle&&(this.src=this.image.updateParams(e.image).url)}},{key:"componentDidMount",value:function(){var e=this,t=new Image;t.src=this.src,t.onload=function(){return e.setState({loading:!1})}}},{key:"handleImageClick",value:function(){this.props.onClick(this.props.image)}},{key:"render",value:function(){return b.a.createElement("div",{className:"Image",onClick:this.handleImageClick},b.a.createElement("div",{className:"Image-imageContainer"},this.state.loading&&b.a.createElement(_.k,null),!this.state.loading&&b.a.createElement("img",{className:"Animated Animated--fadeIn",src:this.src,alt:this.props.file_name})),b.a.createElement("div",{className:"Image-info fz-base"},b.a.createElement(y.a,{name:"lesson",customClass:"c-gray mr-4"}),this.props.image.times_used))}}]),t}(v.Component);g()(w,"defaultProps",{onClick:function(){}}),t.a=w},function(e,t,n){"use strict";var r=n(4),a=n.n(r),i=n(5),o=n.n(i),s=n(6),c=n.n(s),l=n(7),u=n.n(l),d=n(1),p=n.n(d),f=n(8),h=n.n(f),m=n(2),g=n.n(m),v=n(0),b=n(9),y=n(40),E=n(3),_=n(17),w=function(e){function t(e){var n;return a()(this,t),n=c()(this,u()(t).call(this,e)),g()(p()(n),"updateQuery",Object(b.debounce)(300,function(e){n.setState({query:e,page:1},n.fetchImages)})),n.state={images:[],totalImages:0,loading:!0,page:1,totalPages:0,query:""},n.fetchImages=n.fetchImages.bind(p()(n)),n.handlePageChange=n.handlePageChange.bind(p()(n)),n.reloadOnDelete=n.reloadOnDelete.bind(p()(n)),n.loadMore=n.loadMore.bind(p()(n)),n.firstPage=n.firstPage.bind(p()(n)),n}return h()(t,e),o()(t,[{key:"componentDidMount",value:function(){this.fetchImages()}},{key:"fetchImages",value:function(){var e=this,t=this.props.infinite;this.setState({loading:!0},function(){_.a.get(Object(y.b)(E.k.IMAGES,{page:e.state.page,query:e.state.query})).then(function(n){e.setState(function(e){return{images:t&&e.page>1?e.images.concat(n.data):n.data,totalImages:n.totalImages,totalPages:n.totalPages,loading:!1}})})})}},{key:"handlePageChange",value:function(e){this.setState({page:e},this.fetchImages)}},{key:"getNextPageNumberOnDelete",value:function(){var e=this.state,t=e.page;return 1===e.images.length?Math.max(t-1,1):t}},{key:"reloadOnDelete",value:function(){this.setState({page:this.getNextPageNumberOnDelete()},this.fetchImages)}},{key:"loadMore",value:function(){this.hasMore&&this.setState(function(e){return{page:e.page+1}},this.fetchImages)}},{key:"firstPage",value:function(){this.setState({page:1},this.fetchImages)}},{key:"render",value:function(){var e=this.state,t=e.page,n=e.loading,r=e.totalPages,a=e.images,i=e.totalImages,o=e.query;return this.props.children({loading:n,images:a,totalImages:i,page:t,query:o,hasMore:this.hasMore,loadMore:this.loadMore,firstPage:this.firstPage,reloadOnDelete:this.reloadOnDelete,updateQuery:this.updateQuery,reload:this.fetchImages,paginationProps:{page:t,onPageChange:this.handlePageChange,pageCount:r}})}},{key:"hasMore",get:function(){return this.state.totalPages>this.state.page}}]),t}(v.Component);g()(w,"default",{infinite:!1}),t.a=w},function(e,n,r){"use strict";(function(e){var a=r(4),i=r.n(a),o=r(5),s=r.n(o),c=r(6),l=r.n(c),u=r(7),d=r.n(u),p=r(1),f=r.n(p),h=r(8),m=r.n(h),g=r(2),v=r.n(g),b=r(0),y=r.n(b),E=r(10),_=r(30),w=r(206),S=r(720),k=r(207),C=r(693),N=r(153),O=function(n){function r(t){var n;return i()(this,r),n=l()(this,d()(r).call(this,t)),v()(f()(n),"saveGradeResponse",function(){var t=n.props.usePubSub;n.props.setCorrect(n.props.data.id,n.state.correctAnswer),t&&e.pubsub.publish("gradingTable:correct",n.props.data.id,n.state.correctAnswer),n.props.setFeedback(n.props.data.id,n.state.feedback),t&&e.pubsub.publish("gradingTable:feedback",n.props.data.id,n.state.feedback),n.props.closeModal()}),v()(f()(n),"handleCorrectClick",function(e){n.setState({correctAnswer:e.target.value})}),v()(f()(n),"handleFeedbackUpdate",function(e){n.setState({feedback:e.target.value})}),n.state={correctAnswer:t.correctAnswer,feedback:t.feedback},n}return m()(r,n),s()(r,[{key:"render",value:function(){var e,n=this.props,r=n.data,a=n.modalVisible,i=n.correctAnswer,o=n.criteriaRatings,s=n.ratingOptions,c=n.apiKey,l=n.canViewSharableRecordingLink,u=n.feedbackCriteriaPresent;return"hippo_video"===r.givenAnswerProvider?e=y.a.createElement(C.a,{mediaVisible:a,mediaEmbedUrl:r.mediaEmbedUrl}):"ilos"===r.givenAnswerProvider?e=y.a.createElement(w.a,{modalVisible:a,randtag:r.givenAnswer}):"ziggeo"===r.givenAnswerProvider&&(e=y.a.createElement(k.a,{apiKey:c,givenAnswer:r.givenAnswer,questionId:r.questionId})),y.a.createElement("div",{className:"ModalTakeover-container"},y.a.createElement("button",{type:"button",className:"u-resetBtn ModalTakeover-closeButton",onClick:this.saveGradeResponse},y.a.createElement(E.a,{name:"error"})),y.a.createElement("div",{className:"VideoResponseModal-body"},y.a.createElement("div",{className:"VideoResponseModal-userResponse f-1"},e,y.a.createElement("div",{className:"VideoResponseModal-information"},y.a.createElement("div",{className:"VideoResponseModal-heading"},r.question),y.a.createElement("div",{className:"c-gray-darker"},r.currentUser)),l&&y.a.createElement("div",{className:"VideoResponseModal-sharableLink"},y.a.createElement(N.a,{mediaShareLink:r.mediaShareLink,mediaShareText:r.mediaShareText,modalView:!0}))),r.gradable&&y.a.createElement("div",{className:"VideoResponseModal-form"},y.a.createElement(S.a,{correctAnswer:i,feedback:this.state.feedback,preview:r.preview,answerId:r.id,handleCorrectClick:this.handleCorrectClick,handleFeedbackUpdate:this.handleFeedbackUpdate,criteriaRatings:o,ratingOptions:s,feedbackCriteriaPresent:u}),!r.preview&&y.a.createElement("button",{type:"button",onClick:this.saveGradeResponse,className:"VideoResponseModal-saveButton fz-base d-f jc-c mt-24 ".concat(Object(_.a)("NewButton",["tallAndWide","blue"]))},t("grades.save_return_to_grading_station")))))}}]),r}(y.a.Component);v()(O,"defaultProps",{usePubSub:!0}),n.a=O}).call(this,r(43))},function(e,t){e.exports="/assets/brain-397df1601e89536ce836d2ad12ebfb880bc11b460c1ac0fde95f1b7b97d65350.svg"},function(e,t){e.exports="/assets/lesson_card-4ae163907dc62792915cadce0bccdcd8bb672c8fe48e778c751ef8530afebb24.svg"},function(e,t,n){var r=n(1331)();e.exports=r},function(e,t,n){"use strict";n.d(t,"a",function(){return u});var r,a=n(2),i=n.n(a),o=n(3),s=n(202),c=(r={},i()(r,o.i.LESSON,"Lesson"),i()(r,o.i.PATH,"Path"),i()(r,o.i.PLACEHOLDER,"Placeholder"),i()(r,o.i.WAITSTEP,"Wait Step"),r),l="Content";function u(e){return Object(s.a)(c[e],l)}},function(e,t,n){"use strict";(function(e){var r=n(4),a=n.n(r),i=n(5),o=n.n(i),s=n(6),c=n.n(s),l=n(7),u=n.n(l),d=n(1),p=n.n(d),f=n(8),h=n.n(f),m=n(0),g=n.n(m),v=n(9),b=n(3);function y(e){var t=e.getBoundingClientRect(),n=document.body,r=document.documentElement,a=window.pageYOffset||r.scrollTop||n.scrollTop,i=r.clientTop||n.clientTop||0;return{top:t.top+a-i,height:t.height}}var E=function(t){function n(e){var t;return a()(this,n),(t=c()(this,u()(n).call(this,e))).state={top:0},t.setPosition=Object(v.throttle)(100)(t.setPosition.bind(p()(t))),t.timerId=null,t}return h()(n,t),o()(n,[{key:"setPosition",value:function(){var e=this;clearTimeout(this.timerId),this.timerId=setTimeout(function(){var t=document.querySelectorAll(".PathContentStep"),n=document.querySelector(".PathContentsList");if(1===t.length)e.setState({top:0,bottom:null});else if(t.length>1){var r=y(Object(v.first)(t)),a=y(Object(v.last)(t)),i=y(n);e.setState({top:r.top+r.height-n.offsetTop-1,bottom:i.height-a.top+i.top-1})}},50)}},{key:"componentDidMount",value:function(){window.addEventListener("resize",this.setPosition),e.pubsub.subscribe(b.d.SET_STEP_CONNECTOR_POSITION,this.setPosition),this.setPosition()}},{key:"componentWillUnmount",value:function(){e.pubsub.unsubscribe(b.d.SET_STEP_CONNECTOR_POSITION,this.setPosition),window.removeEventListener("resize",this.setPosition)}},{key:"render",value:function(){var e=this.state,t=e.top,n=e.bottom;return g.a.createElement("div",{className:"StepsConnector",style:{top:t,bottom:n}})}}]),n}(m.PureComponent);t.a=E}).call(this,n(43))},function(e,t,n){"use strict";var r,a=n(19),i=n.n(a),o=n(18),s=n.n(o),c=n(21),l=n.n(c),u=n(4),d=n.n(u),p=n(5),f=n.n(p),h=n(6),m=n.n(h),g=n(7),v=n.n(g),b=n(1),y=n.n(b),E=n(8),_=n.n(E),w=n(2),S=n.n(w),k=n(0),C=n.n(k),N=n(32),O=n.n(N),x=n(15),T=n.n(x),R=n(9),P=n(3),I=n(319),A=n(42),M=n(58),D=n(10),j=n(29),L=n(17),F=n(63),B=n(13),U=n(46),H=function(e){var t=e.icon,n=e.description;return C.a.createElement(U.a,{large:!0},C.a.createElement(U.d,{name:t}),C.a.createElement(U.b,null,n))},q=function(e){function t(e){var n;return d()(this,t),(n=m()(this,v()(t).call(this,e))).state={viewLayout:"card",loading:!0,success:!0,data:[],page:1,query:"",error:null,sort:{order:P.g.DESC,type:P.b.LAST_MODIFIED},filter:{type:t.contentTypes[e.type]}},n.handleQueryChange=n.handleQueryChange.bind(y()(n)),n.handleLayoutChange=n.handleLayoutChange.bind(y()(n)),n.handleSortChange=n.handleSortChange.bind(y()(n)),n.handleShowMoreBtnClick=n.handleShowMoreBtnClick.bind(y()(n)),n}return _()(t,e),f()(t,[{key:"componentDidMount",value:function(){this.fetchData(this.state.page)}},{key:"handleLayoutChange",value:function(e){var t=e.target;this.setState({viewLayout:t.value})}},{key:"handleQueryChange",value:function(e){this.setState({query:e},this.fetchData)}},{key:"handleSortChange",value:function(e){var n=e.target;this.setState({sort:Object(R.omit)("label",t.sortOptions[n.value])},this.fetchData)}},{key:"handleShowMoreBtnClick",value:function(){this.fetchData(this.state.page+1)}},{key:"fetchData",value:function(e){var t=this;this.setState({loading:!0},function(){var n=t.state,r=n.data,a=n.query,i=n.sort,o=n.filter;L.a.get(t.contentsRoute,{page:e,query:a,sort:i,filter:o}).then(function(n){var a=n.data,i=l()(n,["data"]);t.pickerNode&&(t.setState(s()({loading:!1,success:!0,data:e?r.concat(a):a},i)),e||$(t.pickerNode).find(".ScrollableContainer").scrollTop(0))}).fail(function(){t.setState({loading:!1,success:!1})})})}},{key:"selectContent",value:function(e){var t=this.context.store.getState().pathBuilder.contents,n=Object(R.find)({id:e.id,type:e.type})(t),r=e.id===this.props.id;n&&!r?this.setState({error:"Content is already selected"}):this.props.onChange(e)}},{key:"renderContent",value:function(){var e=this;return this.state.data.map(function(t){var n=t.type===P.i.PATH;return C.a.createElement(I.a,i()({},t,{key:t.id,tags:t.meta.tags,layout:e.state.viewLayout,iconName:n&&"path",onClick:function(){return e.selectContent(t)},count:t.meta.stepsCount,countLabel:n&&Object(j.d)(t.meta.stepsCount,"Lesson")}))})}},{key:"render",value:function(){var e=this,n="card"===this.state.viewLayout,r="list"===this.state.viewLayout,a=this.state.loading,i=!a&&this.state.success,o=!a&&!this.state.success,s=this.pagination,c=s.hasMore,l=s.moreCount,u=T()("PathContentPicker-dataView",{"PathContentPicker-dataView--card":n,"PathContentPicker-dataView--list":r}),d=T()("u-resetBtn PathContentPicker-layoutBtn",{"is-active":n}),p=T()("u-resetBtn PathContentPicker-layoutBtn",{"is-active":r});return C.a.createElement("div",{className:"PathContent PathContentPicker",ref:function(t){e.pickerNode=t}},C.a.createElement("div",{className:"PathContent-header"},C.a.createElement("div",{className:"PathContent-title f-smooth"},this.props.title),C.a.createElement("button",{type:"button",className:"u-linkBtn u-linkBtn--dark td-u",onClick:this.props.onCancel,children:"Cancel"})),C.a.createElement("div",{className:"PathContent-body"},C.a.createElement(M.a,{onChange:this.handleQueryChange,className:"AssignModal-searchInput",placeholder:"Search content",singleLine:!0}),C.a.createElement("div",{className:"d-f jc-sb ai-c mb-12"},C.a.createElement("div",{className:"PathContentPicker-layoutOptions"},C.a.createElement("button",{className:d,onClick:this.handleLayoutChange,value:"card",type:"button"},C.a.createElement(D.a,{name:"thumb",stabilize:!1})),C.a.createElement("button",{className:p,onClick:this.handleLayoutChange,value:"list",type:"button"},C.a.createElement(D.a,{name:"thumb-list",stabilize:!1}))),C.a.createElement("div",{className:"AssignModal-sortButton"},C.a.createElement("select",{className:"NewButton NewButton--white",onChange:this.handleSortChange,value:this.selectedSortIndex},t.sortOptions.map(function(e,t){return C.a.createElement("option",{key:Object(R.uniqueId)("option"),value:t,children:e.label})})),C.a.createElement("div",{className:"AssignModal-sortIcon"},C.a.createElement(D.a,{name:"sort"})))),this.state.error&&C.a.createElement("div",{className:"CommentForm-errorMessage mb-12"},this.state.error),a&&Object(R.isEmpty)(this.state.data)&&C.a.createElement(F.a,{className:"d-f jc-c ai-c",maxHeight:null},C.a.createElement("div",null,C.a.createElement(B.k,null),C.a.createElement("span",{className:"ml-8 c-brand-gray-darker"},"Loading..."))),o&&C.a.createElement(H,{icon:"danger",description:"Something went wrong. Please try again."}),i&&Object(R.isEmpty)(this.state.data)&&C.a.createElement(H,{icon:"filter",description:"We couldn't find any Learning Content"}),!Object(R.isEmpty)(this.state.data)&&C.a.createElement(F.a,{maxHeight:null},C.a.createElement(A.a,{loading:a},C.a.createElement("div",{className:u,children:this.renderContent()}),c&&C.a.createElement("button",{type:"button",className:"AssignModal-showMoreButton",onClick:this.handleShowMoreBtnClick},C.a.createElement(D.a,{name:"add"}),"Show ",l," More")))))}},{key:"selectedSortIndex",get:function(){return Object(R.findIndex)(this.state.sort,t.sortOptions)}},{key:"pagination",get:function(){var e=this.state,t=e.data,n=e.perPage,r=e.totalResults;return{hasMore:t.length<r,moreCount:Math.min(n,r-t.length)}}},{key:"contentsRoute",get:function(){return this.props.pathId?P.k.PATH_ADD_OWN_CONTENT(this.props.pathId):P.k.PATH_ADD_CONTENT}}]),t}(k.PureComponent);S()(q,"sortOptions",[{order:P.g.DESC,type:P.b.LAST_MODIFIED,label:"Recently Updated"},{order:P.g.ASC,type:P.b.TITLE,label:"Name A-Z"},{order:P.g.DESC,type:P.b.TITLE,label:"Name Z-A"}]),S()(q,"contentTypes",(r={},S()(r,P.i.LESSON,[P.i.LESSON,P.i.RESOURCE]),S()(r,P.i.PATH,[P.i.PATH]),r)),q.contextTypes={store:O.a.object.isRequired};t.a=q},function(e,t,n){"use strict";(function(e){var r=n(18),a=n.n(r),i=n(24),o=n.n(i),s=n(21),c=n.n(s),l=n(9),u=n(14),d=n(3),p=n(37);t.a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0,r=n.type,i=c()(n,["type"]),s=arguments.length>2?arguments[2]:void 0;switch(e.pubsub.publish(d.d.SET_STEP_CONNECTOR_POSITION),r){case u.j.CONTENT.UPDATE:return Object(p.j)(t,{id:i.id,type:i.contentType},i.changes,!1);case u.j.CONTENT.ADD:var f=i.contentType,h=i.position,m=c()(i,["contentType","position"]),g=h-1;return Object(p.g)([].concat(o()(t.slice(0,g)),[a()({type:f,position:h},m)],o()(t.slice(g))));case u.j.CONTENT.PERSIST:var v={id:i.id,type:i.contentType};return Object(p.j)(t,v,{justAdded:!1},!1);case u.j.CONTENT.REMOVE:return Object(p.d)(i.id,i.contentType)(t);case u.j.CONTENT.REORDER:var b=i.position,y=i.newPosition;return Object(p.f)(b,y)(t);case u.j.PATH.RESTORE_REVISION:return s.map(function(e){var n={id:e.id,type:e.type},r=Object(l.find)(n,t);return["dueIn"].forEach(function(t){!Object(p.b)(e,t)&&Object(p.b)(r,t)&&delete r[t]}),a()({},r,e)});default:return t}}}).call(this,n(43))},,function(e,t,n){var r=n(45),a=n(44).document,i=r(a)&&r(a.createElement);e.exports=function(e){return i?a.createElement(e):{}}},function(e,t,n){"use strict";var r=n(72),a=n(175),i=n(66);e.exports=function(e){for(var t=r(this),n=i(t.length),o=arguments.length,s=a(o>1?arguments[1]:void 0,n),c=o>2?arguments[2]:void 0,l=void 0===c?n:a(c,n);l>s;)t[s++]=e;return t}},function(e,t,n){var r=n(176),a=n(59)("iterator"),i=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||i[a]===e)}},function(e,t,n){"use strict";var r=n(65),a=n(157);e.exports=function(e,t,n){t in e?r.f(e,t,a(0,n)):e[t]=n}},function(e,t,n){var r=n(215),a=n(59)("iterator"),i=n(176);e.exports=n(141).getIteratorMethod=function(e){if(null!=e)return e[a]||e["@@iterator"]||i[r(e)]}},function(e,t,n){"use strict";var r=n(159),a=n(464),i=n(176),o=n(116);e.exports=n(342)(Array,"Array",function(e,t){this._t=o(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,a(1)):a(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])},"values"),i.Arguments=i.Array,r("keys"),r("values"),r("entries")},function(e,t,n){"use strict";var r=n(142),a=n(26),i=n(97),o=n(102),s=n(176),c=n(742),l=n(177),u=n(135),d=n(59)("iterator"),p=!([].keys&&"next"in[].keys()),f=function(){return this};e.exports=function(e,t,n,h,m,g,v){c(n,t,h);var b,y,E,_=function(e){if(!p&&e in C)return C[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},w=t+" Iterator",S="values"==m,k=!1,C=e.prototype,N=C[d]||C["@@iterator"]||m&&C[m],O=N||_(m),x=m?S?_("entries"):O:void 0,T="Array"==t&&C.entries||N;if(T&&(E=u(T.call(new e)))!==Object.prototype&&E.next&&(l(E,w,!0),r||"function"==typeof E[d]||o(E,d,f)),S&&N&&"values"!==N.name&&(k=!0,O=function(){return N.call(this)}),r&&!v||!p&&!k&&C[d]||o(C,d,O),s[t]=O,s[w]=f,m)if(b={values:S?O:_("values"),keys:g?O:_("keys"),entries:x},v)for(y in b)y in C||i(C,y,b[y]);else a(a.P+a.F*(p||k),t,b);return b}},function(e,t,n){var r=n(242)("keys"),a=n(158);e.exports=function(e){return r[e]||(r[e]=a(e))}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,n){var r=n(45),a=n(346).set;e.exports=function(e,t,n){var i,o=t.constructor;return o!==n&&"function"==typeof o&&(i=o.prototype)!==n.prototype&&r(i)&&a&&a(e,i),e}},function(e,t,n){var r=n(45),a=n(48),i=function(e,t){if(a(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{(r=n(123)(Function.call,n(105).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return i(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):void 0),check:i}},function(e,t){e.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},function(e,t){var n=Math.expm1;e.exports=!n||n(10)>22025.465794806718||n(10)<22025.465794806718||-2e-17!=n(-2e-17)?function(e){return 0==(e=+e)?e:e>-1e-6&&e<1e-6?e+e*e/2:Math.exp(e)-1}:n},function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},function(e,t,n){var r,a,i,o=n(123),s=n(470),c=n(467),l=n(336),u=n(44),d=u.process,p=u.setImmediate,f=u.clearImmediate,h=u.MessageChannel,m=u.Dispatch,g=0,v={},b=function(){var e=+this;if(v.hasOwnProperty(e)){var t=v[e];delete v[e],t()}},y=function(e){b.call(e.data)};p&&f||(p=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return v[++g]=function(){s("function"==typeof e?e:Function(e),t)},r(g),g},f=function(e){delete v[e]},"process"==n(160)(d)?r=function(e){d.nextTick(o(b,e,1))}:m&&m.now?r=function(e){m.now(o(b,e,1))}:h?(i=(a=new h).port2,a.port1.onmessage=y,r=o(i.postMessage,i,1)):u.addEventListener&&"function"==typeof postMessage&&!u.importScripts?(r=function(e){u.postMessage(e+"","*")},u.addEventListener("message",y,!1)):r="onreadystatechange"in l("script")?function(e){c.appendChild(l("script")).onreadystatechange=function(){c.removeChild(this),b.call(e)}}:function(e){setTimeout(o(b,e,1),0)}),e.exports={set:p,clear:f}},function(e,t,n){var r=n(45),a=n(160),i=n(59)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[i])?!!t:"RegExp"==a(e))}},function(e,t,n){"use strict";var r=n(353)(!0);e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},function(e,t,n){var r=n(134),a=n(133);e.exports=function(e){return function(t,n){var i,o,s=String(a(t)),c=r(n),l=s.length;return c<0||c>=l?e?"":void 0:(i=s.charCodeAt(c))<55296||i>56319||c+1===l||(o=s.charCodeAt(c+1))<56320||o>57343?e?s.charAt(c):i:e?s.slice(c,c+2):o-56320+(i-55296<<10)+65536}}},function(e,t,n){"use strict";var r,a,i=n(252),o=RegExp.prototype.exec,s=String.prototype.replace,c=o,l=(r=/a/,a=/b*/g,o.call(r,"a"),o.call(a,"a"),0!==r.lastIndex||0!==a.lastIndex),u=void 0!==/()??/.exec("")[1];(l||u)&&(c=function(e){var t,n,r,a,c=this;return u&&(n=new RegExp("^"+c.source+"$(?!\\s)",i.call(c))),l&&(t=c.lastIndex),r=o.call(c,e),l&&r&&(c.lastIndex=c.global?r.index+r[0].length:t),u&&r&&r.length>1&&s.call(r[0],n,function(){for(a=1;a<arguments.length-2;a++)void 0===arguments[a]&&(r[a]=void 0)}),r}),e.exports=c},function(e,t,n){var r=n(351),a=n(133);e.exports=function(e,t,n){if(r(t))throw TypeError("String#"+n+" doesn't accept regex!");return String(a(e))}},function(e,t,n){var r=n(59)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,!"/./"[e](t)}catch(e){}}return!0}},function(e,t,n){"use strict";var r=n(44),a=n(61),i=n(142),o=n(255),s=n(102),c=n(179),l=n(50),u=n(180),d=n(134),p=n(66),f=n(486),h=n(164).f,m=n(65).f,g=n(337),v=n(177),b="prototype",y="Wrong index!",E=r.ArrayBuffer,_=r.DataView,w=r.Math,S=r.RangeError,k=r.Infinity,C=E,N=w.abs,O=w.pow,x=w.floor,T=w.log,R=w.LN2,P=a?"_b":"buffer",I=a?"_l":"byteLength",A=a?"_o":"byteOffset";function M(e,t,n){var r,a,i,o=new Array(n),s=8*n-t-1,c=(1<<s)-1,l=c>>1,u=23===t?O(2,-24)-O(2,-77):0,d=0,p=e<0||0===e&&1/e<0?1:0;for((e=N(e))!=e||e===k?(a=e!=e?1:0,r=c):(r=x(T(e)/R),e*(i=O(2,-r))<1&&(r--,i*=2),(e+=r+l>=1?u/i:u*O(2,1-l))*i>=2&&(r++,i/=2),r+l>=c?(a=0,r=c):r+l>=1?(a=(e*i-1)*O(2,t),r+=l):(a=e*O(2,l-1)*O(2,t),r=0));t>=8;o[d++]=255&a,a/=256,t-=8);for(r=r<<t|a,s+=t;s>0;o[d++]=255&r,r/=256,s-=8);return o[--d]|=128*p,o}function D(e,t,n){var r,a=8*n-t-1,i=(1<<a)-1,o=i>>1,s=a-7,c=n-1,l=e[c--],u=127&l;for(l>>=7;s>0;u=256*u+e[c],c--,s-=8);for(r=u&(1<<-s)-1,u>>=-s,s+=t;s>0;r=256*r+e[c],c--,s-=8);if(0===u)u=1-o;else{if(u===i)return r?NaN:l?-k:k;r+=O(2,t),u-=o}return(l?-1:1)*r*O(2,u-t)}function j(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]}function L(e){return[255&e]}function F(e){return[255&e,e>>8&255]}function B(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]}function U(e){return M(e,52,8)}function H(e){return M(e,23,4)}function q(e,t,n){m(e[b],t,{get:function(){return this[n]}})}function G(e,t,n,r){var a=f(+n);if(a+t>e[I])throw S(y);var i=e[P]._b,o=a+e[A],s=i.slice(o,o+t);return r?s:s.reverse()}function W(e,t,n,r,a,i){var o=f(+n);if(o+t>e[I])throw S(y);for(var s=e[P]._b,c=o+e[A],l=r(+a),u=0;u<t;u++)s[c+u]=l[i?u:t-u-1]}if(o.ABV){if(!l(function(){E(1)})||!l(function(){new E(-1)})||l(function(){return new E,new E(1.5),new E(NaN),"ArrayBuffer"!=E.name})){for(var V,z=(E=function(e){return u(this,E),new C(f(e))})[b]=C[b],Y=h(C),Q=0;Y.length>Q;)(V=Y[Q++])in E||s(E,V,C[V]);i||(z.constructor=E)}var K=new _(new E(2)),X=_[b].setInt8;K.setInt8(0,2147483648),K.setInt8(1,2147483649),!K.getInt8(0)&&K.getInt8(1)||c(_[b],{setInt8:function(e,t){X.call(this,e,t<<24>>24)},setUint8:function(e,t){X.call(this,e,t<<24>>24)}},!0)}else E=function(e){u(this,E,"ArrayBuffer");var t=f(e);this._b=g.call(new Array(t),0),this[I]=t},_=function(e,t,n){u(this,_,"DataView"),u(e,E,"DataView");var r=e[I],a=d(t);if(a<0||a>r)throw S("Wrong offset!");if(a+(n=void 0===n?r-a:p(n))>r)throw S("Wrong length!");this[P]=e,this[A]=a,this[I]=n},a&&(q(E,"byteLength","_l"),q(_,"buffer","_b"),q(_,"byteLength","_l"),q(_,"byteOffset","_o")),c(_[b],{getInt8:function(e){return G(this,1,e)[0]<<24>>24},getUint8:function(e){return G(this,1,e)[0]},getInt16:function(e){var t=G(this,2,e,arguments[1]);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=G(this,2,e,arguments[1]);return t[1]<<8|t[0]},getInt32:function(e){return j(G(this,4,e,arguments[1]))},getUint32:function(e){return j(G(this,4,e,arguments[1]))>>>0},getFloat32:function(e){return D(G(this,4,e,arguments[1]),23,4)},getFloat64:function(e){return D(G(this,8,e,arguments[1]),52,8)},setInt8:function(e,t){W(this,1,e,L,t)},setUint8:function(e,t){W(this,1,e,L,t)},setInt16:function(e,t){W(this,2,e,F,t,arguments[2])},setUint16:function(e,t){W(this,2,e,F,t,arguments[2])},setInt32:function(e,t){W(this,4,e,B,t,arguments[2])},setUint32:function(e,t){W(this,4,e,B,t,arguments[2])},setFloat32:function(e,t){W(this,4,e,H,t,arguments[2])},setFloat64:function(e,t){W(this,8,e,U,t,arguments[2])}});v(E,"ArrayBuffer"),v(_,"DataView"),s(_[b],o.VIEW,!0),t.ArrayBuffer=E,t.DataView=_},function(e,t,n){e.exports={default:n(902),__esModule:!0}},function(e,t,n){var r=n(137);e.exports=function(e,t){if(!r(e))return e;var n,a;if(t&&"function"==typeof(n=e.toString)&&!r(a=n.call(e)))return a;if("function"==typeof(n=e.valueOf)&&!r(a=n.call(e)))return a;if(!t&&"function"==typeof(n=e.toString)&&!r(a=n.call(e)))return a;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){var r=n(361);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){var r=n(365)("keys"),a=n(258);e.exports=function(e){return r[e]||(r[e]=a(e))}},function(e,t,n){var r=n(79),a=n(127),i=a["__core-js_shared__"]||(a["__core-js_shared__"]={});(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n(257)?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){e.exports={default:n(908),__esModule:!0}},function(e,t,n){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var r=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,o,s=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),c=1;c<arguments.length;c++){for(var l in n=Object(arguments[c]))a.call(n,l)&&(s[l]=n[l]);if(r){o=r(n);for(var u=0;u<o.length;u++)i.call(n,o[u])&&(s[o[u]]=n[o[u]])}}return s}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.name,n=e.props,i=e.railsContext,o=e.domNodeId;e.trace&&(i&&i.serverSide?console.log("RENDERED "+t+" to dom node with id: "+o+" with railsContext:",i):console.log("RENDERED "+t+" to dom node with id: "+o+" with props, railsContext:",n,i));var s=a.default.getComponent(t),c=s.component;if(s.generatorFunction)return c(n,i);return r.default.createElement(c,n)};var r=i(n(0)),a=i(n(443));function i(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){e.exports={default:n(917),__esModule:!0}},function(e,t,n){"use strict";var r=n(918)(!0);n(373)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})})},function(e,t,n){"use strict";var r=n(257),a=n(106),i=n(496),o=n(145),s=n(220),c=n(919),l=n(262),u=n(497),d=n(107)("iterator"),p=!([].keys&&"next"in[].keys()),f=function(){return this};e.exports=function(e,t,n,h,m,g,v){c(n,t,h);var b,y,E,_=function(e){if(!p&&e in C)return C[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},w=t+" Iterator",S="values"==m,k=!1,C=e.prototype,N=C[d]||C["@@iterator"]||m&&C[m],O=N||_(m),x=m?S?_("entries"):O:void 0,T="Array"==t&&C.entries||N;if(T&&(E=u(T.call(new e)))!==Object.prototype&&E.next&&(l(E,w,!0),r||"function"==typeof E[d]||o(E,d,f)),S&&N&&"values"!==N.name&&(k=!0,O=function(){return N.call(this)}),r&&!v||!p&&!k&&C[d]||o(C,d,O),s[t]=O,s[w]=f,m)if(b={values:S?O:_("values"),keys:g?O:_("keys"),entries:x},v)for(y in b)y in C||i(C,y,b[y]);else a(a.P+a.F*(p||k),t,b);return b}},function(e,t,n){var r=n(258)("meta"),a=n(137),i=n(168),o=n(117).f,s=0,c=Object.isExtensible||function(){return!0},l=!n(167)(function(){return c(Object.preventExtensions({}))}),u=function(e){o(e,r,{value:{i:"O"+ ++s,w:{}}})},d=e.exports={KEY:r,NEED:!1,fastKey:function(e,t){if(!a(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!i(e,r)){if(!c(e))return"F";if(!t)return"E";u(e)}return e[r].i},getWeak:function(e,t){if(!i(e,r)){if(!c(e))return!0;if(!t)return!1;u(e)}return e[r].w},onFreeze:function(e){return l&&d.NEED&&c(e)&&!i(e,r)&&u(e),e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(e===t)return!1;var a=Object.keys(e),i=Object.keys(t);if(a.length!==i.length)return!0;var o={},s=void 0,c=void 0;for(s=0,c=n.length;s<c;s++)o[n[s]]=!0;for(s=0,c=a.length;s<c;s++){var l=a[s],u=e[l],d=t[l];if(u!==d){if(!o[l]||null===u||null===d||"object"!==(void 0===u?"undefined":r(u))||"object"!==(void 0===d?"undefined":r(d)))return!0;var p=Object.keys(u),f=Object.keys(d);if(p.length!==f.length)return!0;for(var h=0,m=p.length;h<m;h++){var g=p[h];if(u[g]!==d[g])return!0}}}return!1}},function(e,t){e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},function(e,t,n){var r=n(980),a=n(518)(r);e.exports=a},function(e,t,n){var r=n(186),a=n(138),i=n(221),o=n(99);e.exports=function(e,t,n){if(!o(n))return!1;var s=typeof t;return!!("number"==s?a(n)&&i(t,n.length):"string"==s&&t in n)&&r(n[t],e)}},function(e,t){var n=9007199254740991;e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=n}},function(e,t,n){(function(e){var r=n(516),a=t&&!t.nodeType&&t,i=a&&"object"==typeof e&&e&&!e.nodeType&&e,o=i&&i.exports===a&&r.process,s=function(){try{var e=i&&i.require&&i.require("util").types;return e||o&&o.binding&&o.binding("util")}catch(e){}}();e.exports=s}).call(this,n(144)(e))},function(e,t){e.exports=function(e,t){for(var n=-1,r=t.length,a=e.length;++n<r;)e[a+n]=t[n];return e}},function(e,t,n){var r=n(997),a=n(1009),i=n(1011),o=n(1012),s=n(1013);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=a,c.prototype.get=i,c.prototype.has=o,c.prototype.set=s,e.exports=c},function(e,t,n){var r=n(170)(n(85),"Map");e.exports=r},function(e,t){e.exports=function(e,t,n){for(var r=-1,a=null==e?0:e.length;++r<a;)if(n(t,e[r]))return!0;return!1}},function(e,t){e.exports=function(){}},function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}},function(e,t,n){var r=n(268),a=n(273),i=n(384),o=n(139),s=n(187),c=n(274),l=200;e.exports=function(e,t,n,u){var d=-1,p=a,f=!0,h=e.length,m=[],g=t.length;if(!h)return m;n&&(t=o(t,s(n))),u?(p=i,f=!1):t.length>=l&&(p=c,f=!1,t=new r(t));e:for(;++d<h;){var v=e[d],b=null==n?v:n(v);if(v=u||0!==v?v:0,f&&b==b){for(var y=g;y--;)if(t[y]===b)continue e;m.push(v)}else p(t,b,u)||m.push(v)}return m}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.FILE="__NATIVE_FILE__",t.URL="__NATIVE_URL__",t.TEXT="__NATIVE_TEXT__"},function(e,t,n){var r=n(527)(Object.getPrototypeOf,Object);e.exports=r},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,a=0,i=[];++n<r;){var o=e[n];t(o,n,e)&&(i[a++]=o)}return i}},function(e,t,n){"use strict";var r={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i=Object.defineProperty,o=Object.getOwnPropertyNames,s=Object.getOwnPropertySymbols,c=Object.getOwnPropertyDescriptor,l=Object.getPrototypeOf,u=l&&l(Object);e.exports=function e(t,n,d){if("string"!=typeof n){if(u){var p=l(n);p&&p!==u&&e(t,p,d)}var f=o(n);s&&(f=f.concat(s(n)));for(var h=0;h<f.length;++h){var m=f[h];if(!(r[m]||a[m]||d&&d[m])){var g=c(n,m);try{i(t,m,g)}catch(e){}}}return t}return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(e===t)return!0;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var a=Object.prototype.hasOwnProperty,i=0;i<n.length;i+=1){if(!a.call(t,n[i])||e[n[i]]!==t[n[i]])return!1;var o=e[n[i]],s=t[n[i]];if(o!==s)return!1}return!0}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){return Boolean(e&&"function"==typeof e.dispose)},e.exports=t.default},function(e,t,n){var r=n(171)(n(93),"Map");e.exports=r},function(e,t,n){var r=n(1081),a=n(1088),i=n(1090),o=n(1091),s=n(1092);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=a,c.prototype.get=i,c.prototype.has=o,c.prototype.set=s,e.exports=c},function(e,t){e.exports=function(e,t){for(var n=-1,r=t.length,a=e.length;++n<r;)e[a+n]=t[n];return e}},function(e,t,n){var r=n(1103),a=n(546),i=Object.prototype.propertyIsEnumerable,o=Object.getOwnPropertySymbols,s=o?function(e){return null==e?[]:(e=Object(e),r(o(e),function(t){return i.call(e,t)}))}:a;e.exports=s},function(e,t,n){var r=n(1107),a=n(400),i=n(401),o=i&&i.isTypedArray,s=o?a(o):r;e.exports=s},function(e,t){var n=9007199254740991;e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=n}},function(e,t){e.exports=function(e){return function(t){return e(t)}}},function(e,t,n){(function(e){var r=n(539),a=t&&!t.nodeType&&t,i=a&&"object"==typeof e&&e&&!e.nodeType&&e,o=i&&i.exports===a&&r.process,s=function(){try{var e=i&&i.require&&i.require("util").types;return e||o&&o.binding&&o.binding("util")}catch(e){}}();e.exports=s}).call(this,n(144)(e))},function(e,t){var n=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}},function(e,t,n){var r=n(86),a=n(228),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!a(e))||o.test(e)||!i.test(e)||null!=t&&e in Object(t)}},function(e,t,n){var r=n(1123);e.exports=function(e){var t=r(e),n=t%1;return t==t?n?t-n:t:0}},function(e,t,n){t.f=n(107)},function(e,t,n){var r=n(127),a=n(79),i=n(257),o=n(405),s=n(117).f;e.exports=function(e){var t=a.Symbol||(a.Symbol=i?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:o.f(e)})}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},function(e,t,n){var r=n(230),a=n(186),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var o=e[t];i.call(e,t)&&a(o,n)&&(void 0!==n||t in e)||r(e,t,n)}},function(e,t,n){var r=n(390),a=n(567),i=Object.prototype.propertyIsEnumerable,o=Object.getOwnPropertySymbols,s=o?function(e){return null==e?[]:(e=Object(e),r(o(e),function(t){return i.call(e,t)}))}:a;e.exports=s},function(e,t,n){var r=n(570),a=n(568),i=n(222);e.exports=function(e){return r(e,i,a)}},function(e,t,n){var r=n(572);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},function(e,t,n){var r=n(60),a=n(232),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!a(e))||o.test(e)||!i.test(e)||null!=t&&e in Object(t)}},function(e,t,n){var r=n(414);e.exports=function(e){return null==e?"":r(e)}},function(e,t,n){var r=n(185),a=n(139),i=n(60),o=n(232),s=1/0,c=r?r.prototype:void 0,l=c?c.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(i(t))return a(t,e)+"";if(o(t))return l?l.call(t):"";var n=t+"";return"0"==n&&1/t==-s?"-0":n}},function(e,t,n){var r=n(1175),a=n(108);e.exports=function e(t,n,i,o,s){return t===n||(null==t||null==n||!a(t)&&!a(n)?t!=t&&n!=n:r(t,n,i,o,e,s))}},function(e,t,n){"use strict";var r,a=n(586),i=(r=a)&&r.__esModule?r:{default:r};var o="__id__",s="__display__",c="__type__",l=function(e,t){return(e=null===e?Number.MAX_VALUE:e)-(t=null===t?Number.MAX_VALUE:t)};e.exports={escapeHtml:function(e){var t=function(t){return e[t]},n=[];for(var r in e)e.hasOwnProperty(r)&&n.push(r);var a="(?:"+n.join("|")+")",i=RegExp(a),o=RegExp(a,"g");return function(e){return e=null==e?"":""+e,i.test(e)?e.replace(o,t):e}}({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"}),escapeRegex:function(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")},markupToRegex:function(e,t){var n=this.escapeRegex(e);return n=(n=(n=n.replace(s,"(.+?)")).replace(o,"(.+?)")).replace(c,"(.+?)"),t&&(n+="$"),new RegExp(n,"g")},spliceString:function(e,t,n,r){return e.substring(0,t)+r+e.substring(n)},extend:function(e){for(var t,n,r=1,a=arguments.length;r<a;r++)for(n in t=arguments[r])hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},isNumber:function(e){return"[object Number]"===Object.prototype.toString.call(e)},getPositionOfCapturingGroup:function(e,t){if("id"!==t&&"display"!==t&&"type"!==t)throw new Error("parameterName must be 'id', 'display', or 'type'");var n=e.indexOf(s),r=e.indexOf(o),a=e.indexOf(c);if(n<0&&(n=null),r<0&&(r=null),a<0&&(a=null),null===n&&null===r)throw new Error("The markup `"+e+"` must contain at least one of the placeholders `__id__` or `__display__`");if(null===a&&"type"===t)return null;var i=[n,r,a].sort(l);return null===n&&(n=r),null===r&&(r=n),"id"===t?i.indexOf(r):"display"===t?i.indexOf(n):"type"===t?null===a?null:i.indexOf(a):void 0},iterateMentionsMarkup:function(e,t,n,r,a){for(var i,o=this.markupToRegex(t),s=this.getPositionOfCapturingGroup(t,"display"),c=this.getPositionOfCapturingGroup(t,"id"),l=this.getPositionOfCapturingGroup(t,"type"),u=0,d=0;null!==(i=o.exec(e));){var p=i[c+1],f=i[s+1],h=null!==l?i[l+1]:null;a&&(f=a(p,f,h));var m=e.substring(u,i.index);n(m,u,d),d+=m.length,r(i[0],i.index,d,p,f,h,u),d+=f.length,u=o.lastIndex}u<e.length&&n(e.substring(u),u,d)},mapPlainTextIndex:function(e,t,n){var r,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"START",i=arguments[4];if(!this.isNumber(n))return n;return this.iterateMentionsMarkup(e,t,function(e,t,a){void 0===r&&a+e.length>=n&&(r=t+n-a)},function(e,t,i,o,s,c,l){void 0===r&&i+s.length>n&&(r="NULL"===a?null:t+("END"===a?e.length:0))},i),void 0===r?e.length:r},findStartOfMentionInPlainText:function(e,t,n,r){var a=n,i=!1;if(this.iterateMentionsMarkup(e,t,function(){},function(e,t,r,o,s,c,l){r<=n&&r+s.length>n&&(a=r,i=!0)},r),i)return a},isInsideOfMention:function(e,t,n,r){var a=this.findStartOfMentionInPlainText(e,t,n,r);return void 0!==a&&a!==n},applyChangeToValue:function(e,t,n,r,a,i,o){var s=this.getPlainText(e,t,o),c=s.length-n.length;"undefined"===r&&(r=i+c),"undefined"===a&&(a=r),r===a&&a===i&&s.length===n.length&&(r-=1);var l=n.slice(r,i),u=Math.min(r,i),d=a;r===i&&(d=Math.max(a,r+c));var p=this.mapPlainTextIndex(e,t,u,"START",o),f=this.mapPlainTextIndex(e,t,d,"END",o),h=this.mapPlainTextIndex(e,t,u,"NULL",o),m=this.mapPlainTextIndex(e,t,d,"NULL",o),g=null===h||null===m,v=this.spliceString(e,p,f,l);if(!g){var b=this.getPlainText(v,t,o);if(b!==n){for(u=0;n[u]===b[u];)u++;l=n.slice(u,i),d=s.lastIndexOf(n.substring(i)),p=this.mapPlainTextIndex(e,t,u,"START",o),f=this.mapPlainTextIndex(e,t,d,"END",o),v=this.spliceString(e,p,f,l)}}return v},getPlainText:function(e,t,n){var r=this.markupToRegex(t),a=this.getPositionOfCapturingGroup(t,"id"),i=this.getPositionOfCapturingGroup(t,"display"),o=this.getPositionOfCapturingGroup(t,"type");return e.replace(r,function(){var e=arguments[a+1],t=arguments[i+1],r=arguments[o+1];return n&&(t=n(e,t,r)),t})},getMentions:function(e,t,n){var r=[];return this.iterateMentionsMarkup(e,t,function(){},function(e,t,n,a,i,o,s){r.push({id:a,display:i,type:o,index:t,plainTextIndex:n})},n),r},getEndOfLastMention:function(e,t,n){var r=this.getMentions(e,t,n),a=r[r.length-1];return a?a.plainTextIndex+a.display.length:0},makeMentionsMarkup:function(e,t,n,r){var a=e.replace(o,t);return a=(a=a.replace(s,n)).replace(c,r)},countSuggestions:function(e){var t=0;for(var n in e)e.hasOwnProperty(n)&&(t+=e[n].results.length);return t},getSuggestions:function(e){var t=[];for(var n in e){if(!e.hasOwnProperty(n))return;t=t.concat({suggestions:e[n].results,descriptor:e[n]})}return t},getSuggestion:function(e,t){return this.getSuggestions(e).reduce(function(e,t){var n=t.suggestions,r=t.descriptor;return[].concat((0,i.default)(e),(0,i.default)(n.map(function(e){return{suggestion:e,descriptor:r}})))},[])[t]}}},function(e,t,n){var r=n(588),a=n(1192),i=n(1193),o=n(590),s=n(1208),c=n(421),l=n(1209),u=n(596),d=n(598),p=n(404),f="Expected a function",h=1,m=2,g=8,v=16,b=32,y=64,E=Math.max;e.exports=function(e,t,n,_,w,S,k,C){var N=t&m;if(!N&&"function"!=typeof e)throw new TypeError(f);var O=_?_.length:0;if(O||(t&=~(b|y),_=w=void 0),k=void 0===k?k:E(p(k),0),C=void 0===C?C:p(C),O-=w?w.length:0,t&y){var x=_,T=w;_=w=void 0}var R=N?void 0:c(e),P=[e,t,n,_,w,x,T,S,k,C];if(R&&l(P,R),e=P[0],t=P[1],n=P[2],_=P[3],w=P[4],!(C=P[9]=void 0===P[9]?N?0:e.length:E(P[9]-O,0))&&t&(g|v)&&(t&=~(g|v)),t&&t!=h)I=t==g||t==v?i(e,t,C):t!=b&&t!=(h|b)||w.length?o.apply(void 0,P):s(e,t,n,_);else var I=a(e,t,n);return d((R?r:u)(I,P),e,t)}},function(e,t){e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},function(e,t,n){var r=n(302),a=n(420),i=4294967295;function o(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=i,this.__views__=[]}o.prototype=r(a.prototype),o.prototype.constructor=o,e.exports=o},function(e,t){e.exports=function(){}},function(e,t,n){var r=n(589),a=n(445),i=r?function(e){return r.get(e)}:a;e.exports=i},function(e,t,n){var r=n(302),a=n(420);function i(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}i.prototype=r(a.prototype),i.prototype.constructor=i,e.exports=i},function(e,t,n){var r=n(1200),a=n(597)(r);e.exports=a},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}},function(e,t){var n="__lodash_placeholder__";e.exports=function(e,t){for(var r=-1,a=e.length,i=0,o=[];++r<a;){var s=e[r];s!==t&&s!==n||(e[r]=n,o[i++]=r)}return o}},function(e,t,n){var r=n(599);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},function(e,t,n){var r=n(549)(Object.getPrototypeOf,Object);e.exports=r},function(e,t,n){var r=n(543);e.exports=function(e){var t=new e.constructor(e.byteLength);return new r(t).set(new r(e)),t}},function(e,t,n){"use strict";var r=n(88),a=n(531),i=n(1238),o=n(194),s=n(430),c=n(147),l=n(236),u=n(55),d=n(305),p=n(1253),f=n(89),h=n(199),m=n(620),g=n(238),v=n(184),b=n(120),y=n(622),E=n(264),_=n(431),w=n(1266),S=n(1267),k=n(1268);function C(e){var t=e?C._parseNumbers(e):{};this.index=t.index||"",this.query=t.query||"",this.facets=t.facets||[],this.disjunctiveFacets=t.disjunctiveFacets||[],this.hierarchicalFacets=t.hierarchicalFacets||[],this.facetsRefinements=t.facetsRefinements||{},this.facetsExcludes=t.facetsExcludes||{},this.disjunctiveFacetsRefinements=t.disjunctiveFacetsRefinements||{},this.numericRefinements=t.numericRefinements||{},this.tagRefinements=t.tagRefinements||[],this.hierarchicalFacetsRefinements=t.hierarchicalFacetsRefinements||{},this.numericFilters=t.numericFilters,this.tagFilters=t.tagFilters,this.optionalTagFilters=t.optionalTagFilters,this.optionalFacetFilters=t.optionalFacetFilters,this.hitsPerPage=t.hitsPerPage,this.maxValuesPerFacet=t.maxValuesPerFacet,this.page=t.page||0,this.queryType=t.queryType,this.typoTolerance=t.typoTolerance,this.minWordSizefor1Typo=t.minWordSizefor1Typo,this.minWordSizefor2Typos=t.minWordSizefor2Typos,this.minProximity=t.minProximity,this.allowTyposOnNumericTokens=t.allowTyposOnNumericTokens,this.ignorePlurals=t.ignorePlurals,this.restrictSearchableAttributes=t.restrictSearchableAttributes,this.advancedSyntax=t.advancedSyntax,this.analytics=t.analytics,this.analyticsTags=t.analyticsTags,this.synonyms=t.synonyms,this.replaceSynonymsInHighlight=t.replaceSynonymsInHighlight,this.optionalWords=t.optionalWords,this.removeWordsIfNoResults=t.removeWordsIfNoResults,this.attributesToRetrieve=t.attributesToRetrieve,this.attributesToHighlight=t.attributesToHighlight,this.highlightPreTag=t.highlightPreTag,this.highlightPostTag=t.highlightPostTag,this.attributesToSnippet=t.attributesToSnippet,this.getRankingInfo=t.getRankingInfo,this.distinct=t.distinct,this.aroundLatLng=t.aroundLatLng,this.aroundLatLngViaIP=t.aroundLatLngViaIP,this.aroundRadius=t.aroundRadius,this.minimumAroundRadius=t.minimumAroundRadius,this.aroundPrecision=t.aroundPrecision,this.insideBoundingBox=t.insideBoundingBox,this.insidePolygon=t.insidePolygon,this.snippetEllipsisText=t.snippetEllipsisText,this.disableExactOnAttributes=t.disableExactOnAttributes,this.enableExactOnSingleWordQuery=t.enableExactOnSingleWordQuery,this.offset=t.offset,this.length=t.length;var n=this;i(t,function(e,t){-1===C.PARAMETERS.indexOf(t)&&(n[t]=e)})}C.PARAMETERS=r(new C),C._parseNumbers=function(e){if(e instanceof C)return e;var t={};if(o(["aroundPrecision","aroundRadius","getRankingInfo","minWordSizefor2Typos","minWordSizefor1Typo","page","maxValuesPerFacet","distinct","minimumAroundRadius","hitsPerPage","minProximity"],function(n){var r=e[n];if(g(r)){var a=parseFloat(r);t[n]=p(a)?r:a}}),Array.isArray(e.insideBoundingBox)&&(t.insideBoundingBox=e.insideBoundingBox.map(function(e){return e.map(function(e){return parseFloat(e)})})),e.numericRefinements){var n={};o(e.numericRefinements,function(e,t){n[t]={},o(e,function(e,r){var a=c(e,function(e){return Array.isArray(e)?c(e,function(e){return g(e)?parseFloat(e):e}):g(e)?parseFloat(e):e});n[t][r]=a})}),t.numericRefinements=n}return _({},e,t)},C.make=function(e){var t=new C(e);return o(e.hierarchicalFacets,function(e){if(e.rootPath){var n=t.getHierarchicalRefinement(e.name);n.length>0&&0!==n[0].indexOf(e.rootPath)&&(t=t.clearRefinements(e.name)),0===(n=t.getHierarchicalRefinement(e.name)).length&&(t=t.toggleHierarchicalFacetRefinement(e.name,e.rootPath))}}),t},C.validate=function(e,t){var n=t||{};return e.tagFilters&&n.tagRefinements&&n.tagRefinements.length>0?new Error("[Tags] Cannot switch from the managed tag API to the advanced API. It is probably an error, if it is really what you want, you should first clear the tags with clearTags method."):e.tagRefinements.length>0&&n.tagFilters?new Error("[Tags] Cannot switch from the advanced tag API to the managed API. It is probably an error, if it is not, you should first clear the tags with clearTags method."):e.numericFilters&&n.numericRefinements&&!f(n.numericRefinements)?new Error("[Numeric filters] Can't switch from the advanced to the managed API. It is probably an error, if this is really what you want, you have to first clear the numeric filters."):!f(e.numericRefinements)&&n.numericFilters?new Error("[Numeric filters] Can't switch from the managed API to the advanced. It is probably an error, if this is really what you want, you have to first clear the numeric filters."):null},C.prototype={constructor:C,clearRefinements:function(e){var t=k.clearRefinement,n={numericRefinements:this._clearNumericRefinements(e),facetsRefinements:t(this.facetsRefinements,e,"conjunctiveFacet"),facetsExcludes:t(this.facetsExcludes,e,"exclude"),disjunctiveFacetsRefinements:t(this.disjunctiveFacetsRefinements,e,"disjunctiveFacet"),hierarchicalFacetsRefinements:t(this.hierarchicalFacetsRefinements,e,"hierarchicalFacet")};return n.numericRefinements===this.numericRefinements&&n.facetsRefinements===this.facetsRefinements&&n.facetsExcludes===this.facetsExcludes&&n.disjunctiveFacetsRefinements===this.disjunctiveFacetsRefinements&&n.hierarchicalFacetsRefinements===this.hierarchicalFacetsRefinements?this:this.setQueryParameters(n)},clearTags:function(){return void 0===this.tagFilters&&0===this.tagRefinements.length?this:this.setQueryParameters({tagFilters:void 0,tagRefinements:[]})},setIndex:function(e){return e===this.index?this:this.setQueryParameters({index:e})},setQuery:function(e){return e===this.query?this:this.setQueryParameters({query:e})},setPage:function(e){return e===this.page?this:this.setQueryParameters({page:e})},setFacets:function(e){return this.setQueryParameters({facets:e})},setDisjunctiveFacets:function(e){return this.setQueryParameters({disjunctiveFacets:e})},setHitsPerPage:function(e){return this.hitsPerPage===e?this:this.setQueryParameters({hitsPerPage:e})},setTypoTolerance:function(e){return this.typoTolerance===e?this:this.setQueryParameters({typoTolerance:e})},addNumericRefinement:function(e,t,n){var r=w(n);if(this.isNumericRefined(e,t,r))return this;var a=_({},this.numericRefinements);return a[e]=_({},a[e]),a[e][t]?(a[e][t]=a[e][t].slice(),a[e][t].push(r)):a[e][t]=[r],this.setQueryParameters({numericRefinements:a})},getConjunctiveRefinements:function(e){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return this.facetsRefinements[e]||[]},getDisjunctiveRefinements:function(e){if(!this.isDisjunctiveFacet(e))throw new Error(e+" is not defined in the disjunctiveFacets attribute of the helper configuration");return this.disjunctiveFacetsRefinements[e]||[]},getHierarchicalRefinement:function(e){return this.hierarchicalFacetsRefinements[e]||[]},getExcludeRefinements:function(e){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return this.facetsExcludes[e]||[]},removeNumericRefinement:function(e,t,n){if(void 0!==n){var r=w(n);return this.isNumericRefined(e,t,r)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements(function(n,a){return a===e&&n.op===t&&h(n.val,r)})}):this}return void 0!==t?this.isNumericRefined(e,t)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements(function(n,r){return r===e&&n.op===t})}):this:this.isNumericRefined(e)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements(function(t,n){return n===e})}):this},getNumericRefinements:function(e){return this.numericRefinements[e]||{}},getNumericRefinement:function(e,t){return this.numericRefinements[e]&&this.numericRefinements[e][t]},_clearNumericRefinements:function(e){if(m(e))return f(this.numericRefinements)?this.numericRefinements:{};if(g(e))return f(this.numericRefinements[e])?this.numericRefinements:u(this.numericRefinements,e);if(v(e)){var t=!1,n=l(this.numericRefinements,function(n,r,a){var i={};return o(r,function(n,r){var s=[];o(n,function(t){e({val:t,op:r},a,"numeric")||s.push(t)}),f(s)?t=!0:(s.length!==n.length&&(t=!0),i[r]=s)}),f(i)||(n[a]=i),n},{});return t?n:this.numericRefinements}},addFacet:function(e){return this.isConjunctiveFacet(e)?this:this.setQueryParameters({facets:this.facets.concat([e])})},addDisjunctiveFacet:function(e){return this.isDisjunctiveFacet(e)?this:this.setQueryParameters({disjunctiveFacets:this.disjunctiveFacets.concat([e])})},addHierarchicalFacet:function(e){if(this.isHierarchicalFacet(e.name))throw new Error("Cannot declare two hierarchical facets with the same name: `"+e.name+"`");return this.setQueryParameters({hierarchicalFacets:this.hierarchicalFacets.concat([e])})},addFacetRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return k.isRefined(this.facetsRefinements,e,t)?this:this.setQueryParameters({facetsRefinements:k.addRefinement(this.facetsRefinements,e,t)})},addExcludeRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return k.isRefined(this.facetsExcludes,e,t)?this:this.setQueryParameters({facetsExcludes:k.addRefinement(this.facetsExcludes,e,t)})},addDisjunctiveFacetRefinement:function(e,t){if(!this.isDisjunctiveFacet(e))throw new Error(e+" is not defined in the disjunctiveFacets attribute of the helper configuration");return k.isRefined(this.disjunctiveFacetsRefinements,e,t)?this:this.setQueryParameters({disjunctiveFacetsRefinements:k.addRefinement(this.disjunctiveFacetsRefinements,e,t)})},addTagRefinement:function(e){if(this.isTagRefined(e))return this;var t={tagRefinements:this.tagRefinements.concat(e)};return this.setQueryParameters(t)},removeFacet:function(e){return this.isConjunctiveFacet(e)?this.clearRefinements(e).setQueryParameters({facets:s(this.facets,function(t){return t!==e})}):this},removeDisjunctiveFacet:function(e){return this.isDisjunctiveFacet(e)?this.clearRefinements(e).setQueryParameters({disjunctiveFacets:s(this.disjunctiveFacets,function(t){return t!==e})}):this},removeHierarchicalFacet:function(e){return this.isHierarchicalFacet(e)?this.clearRefinements(e).setQueryParameters({hierarchicalFacets:s(this.hierarchicalFacets,function(t){return t.name!==e})}):this},removeFacetRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return k.isRefined(this.facetsRefinements,e,t)?this.setQueryParameters({facetsRefinements:k.removeRefinement(this.facetsRefinements,e,t)}):this},removeExcludeRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return k.isRefined(this.facetsExcludes,e,t)?this.setQueryParameters({facetsExcludes:k.removeRefinement(this.facetsExcludes,e,t)}):this},removeDisjunctiveFacetRefinement:function(e,t){if(!this.isDisjunctiveFacet(e))throw new Error(e+" is not defined in the disjunctiveFacets attribute of the helper configuration");return k.isRefined(this.disjunctiveFacetsRefinements,e,t)?this.setQueryParameters({disjunctiveFacetsRefinements:k.removeRefinement(this.disjunctiveFacetsRefinements,e,t)}):this},removeTagRefinement:function(e){if(!this.isTagRefined(e))return this;var t={tagRefinements:s(this.tagRefinements,function(t){return t!==e})};return this.setQueryParameters(t)},toggleRefinement:function(e,t){return this.toggleFacetRefinement(e,t)},toggleFacetRefinement:function(e,t){if(this.isHierarchicalFacet(e))return this.toggleHierarchicalFacetRefinement(e,t);if(this.isConjunctiveFacet(e))return this.toggleConjunctiveFacetRefinement(e,t);if(this.isDisjunctiveFacet(e))return this.toggleDisjunctiveFacetRefinement(e,t);throw new Error("Cannot refine the undeclared facet "+e+"; it should be added to the helper options facets, disjunctiveFacets or hierarchicalFacets")},toggleConjunctiveFacetRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return this.setQueryParameters({facetsRefinements:k.toggleRefinement(this.facetsRefinements,e,t)})},toggleExcludeFacetRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return this.setQueryParameters({facetsExcludes:k.toggleRefinement(this.facetsExcludes,e,t)})},toggleDisjunctiveFacetRefinement:function(e,t){if(!this.isDisjunctiveFacet(e))throw new Error(e+" is not defined in the disjunctiveFacets attribute of the helper configuration");return this.setQueryParameters({disjunctiveFacetsRefinements:k.toggleRefinement(this.disjunctiveFacetsRefinements,e,t)})},toggleHierarchicalFacetRefinement:function(e,t){if(!this.isHierarchicalFacet(e))throw new Error(e+" is not defined in the hierarchicalFacets attribute of the helper configuration");var n=this._getHierarchicalFacetSeparator(this.getHierarchicalFacetByName(e)),r={};return void 0!==this.hierarchicalFacetsRefinements[e]&&this.hierarchicalFacetsRefinements[e].length>0&&(this.hierarchicalFacetsRefinements[e][0]===t||0===this.hierarchicalFacetsRefinements[e][0].indexOf(t+n))?-1===t.indexOf(n)?r[e]=[]:r[e]=[t.slice(0,t.lastIndexOf(n))]:r[e]=[t],this.setQueryParameters({hierarchicalFacetsRefinements:E({},r,this.hierarchicalFacetsRefinements)})},addHierarchicalFacetRefinement:function(e,t){if(this.isHierarchicalFacetRefined(e))throw new Error(e+" is already refined.");var n={};return n[e]=[t],this.setQueryParameters({hierarchicalFacetsRefinements:E({},n,this.hierarchicalFacetsRefinements)})},removeHierarchicalFacetRefinement:function(e){if(!this.isHierarchicalFacetRefined(e))throw new Error(e+" is not refined.");var t={};return t[e]=[],this.setQueryParameters({hierarchicalFacetsRefinements:E({},t,this.hierarchicalFacetsRefinements)})},toggleTagRefinement:function(e){return this.isTagRefined(e)?this.removeTagRefinement(e):this.addTagRefinement(e)},isDisjunctiveFacet:function(e){return d(this.disjunctiveFacets,e)>-1},isHierarchicalFacet:function(e){return void 0!==this.getHierarchicalFacetByName(e)},isConjunctiveFacet:function(e){return d(this.facets,e)>-1},isFacetRefined:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return k.isRefined(this.facetsRefinements,e,t)},isExcludeRefined:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return k.isRefined(this.facetsExcludes,e,t)},isDisjunctiveFacetRefined:function(e,t){if(!this.isDisjunctiveFacet(e))throw new Error(e+" is not defined in the disjunctiveFacets attribute of the helper configuration");return k.isRefined(this.disjunctiveFacetsRefinements,e,t)},isHierarchicalFacetRefined:function(e,t){if(!this.isHierarchicalFacet(e))throw new Error(e+" is not defined in the hierarchicalFacets attribute of the helper configuration");var n=this.getHierarchicalRefinement(e);return t?-1!==d(n,t):n.length>0},isNumericRefined:function(e,t,n){if(m(n)&&m(t))return!!this.numericRefinements[e];var r=this.numericRefinements[e]&&!m(this.numericRefinements[e][t]);if(m(n)||!r)return r;var a,i,o=w(n),s=!m((a=this.numericRefinements[e][t],i=o,b(a,function(e){return h(e,i)})));return r&&s},isTagRefined:function(e){return-1!==d(this.tagRefinements,e)},getRefinedDisjunctiveFacets:function(){var e=a(r(this.numericRefinements),this.disjunctiveFacets);return r(this.disjunctiveFacetsRefinements).concat(e).concat(this.getRefinedHierarchicalFacets())},getRefinedHierarchicalFacets:function(){return a(c(this.hierarchicalFacets,"name"),r(this.hierarchicalFacetsRefinements))},getUnrefinedDisjunctiveFacets:function(){var e=this.getRefinedDisjunctiveFacets();return s(this.disjunctiveFacets,function(t){return-1===d(e,t)})},managedParameters:["index","facets","disjunctiveFacets","facetsRefinements","facetsExcludes","disjunctiveFacetsRefinements","numericRefinements","tagRefinements","hierarchicalFacets","hierarchicalFacetsRefinements"],getQueryParams:function(){var e=this.managedParameters,t={};return i(this,function(n,r){-1===d(e,r)&&void 0!==n&&(t[r]=n)}),t},getQueryParameter:function(e){if(!this.hasOwnProperty(e))throw new Error("Parameter '"+e+"' is not an attribute of SearchParameters (http://algolia.github.io/algoliasearch-helper-js/docs/SearchParameters.html)");return this[e]},setQueryParameter:function(e,t){if(this[e]===t)return this;var n={};return n[e]=t,this.setQueryParameters(n)},setQueryParameters:function(e){if(!e)return this;var t=C.validate(this,e);if(t)throw t;var n=C._parseNumbers(e);return this.mutateMe(function(t){var a=r(e);return o(a,function(e){t[e]=n[e]}),t})},filter:function(e){return S(this,e)},mutateMe:function(e){var t=new this.constructor(this);return e(t,this),t},_getHierarchicalFacetSortBy:function(e){return e.sortBy||["isRefined:desc","name:asc"]},_getHierarchicalFacetSeparator:function(e){return e.separator||" > "},_getHierarchicalRootPath:function(e){return e.rootPath||null},_getHierarchicalShowParentLevel:function(e){return"boolean"!=typeof e.showParentLevel||e.showParentLevel},getHierarchicalFacetByName:function(e){return b(this.hierarchicalFacets,{name:e})},getHierarchicalFacetBreadcrumb:function(e){if(!this.isHierarchicalFacet(e))throw new Error("Cannot get the breadcrumb of an unknown hierarchical facet: `"+e+"`");var t=this.getHierarchicalRefinement(e)[0];if(!t)return[];var n=this._getHierarchicalFacetSeparator(this.getHierarchicalFacetByName(e)),r=t.split(n);return c(r,y)},toString:function(){return JSON.stringify(this,null,2)}},e.exports=C},function(e,t,n){var r=n(390),a=n(1241),i=n(130),o=n(60);e.exports=function(e,t){return(o(e)?r:a)(e,i(t,3))}},function(e,t,n){var r=n(1262),a=n(1265)(function(e,t,n){r(e,t,n)});e.exports=a},function(e,t,n){var r=n(626),a=n(1278),i=n(1279),o=n(628),s=n(1290),c=n(632),l=n(1291),u=n(634),d=n(635),p=n(237),f="Expected a function",h=1,m=2,g=8,v=16,b=32,y=64,E=Math.max;e.exports=function(e,t,n,_,w,S,k,C){var N=t&m;if(!N&&"function"!=typeof e)throw new TypeError(f);var O=_?_.length:0;if(O||(t&=~(b|y),_=w=void 0),k=void 0===k?k:E(p(k),0),C=void 0===C?C:p(C),O-=w?w.length:0,t&y){var x=_,T=w;_=w=void 0}var R=N?void 0:c(e),P=[e,t,n,_,w,x,T,S,k,C];if(R&&l(P,R),e=P[0],t=P[1],n=P[2],_=P[3],w=P[4],!(C=P[9]=void 0===P[9]?N?0:e.length:E(P[9]-O,0))&&t&(g|v)&&(t&=~(g|v)),t&&t!=h)I=t==g||t==v?i(e,t,C):t!=b&&t!=(h|b)||w.length?o.apply(void 0,P):s(e,t,n,_);else var I=a(e,t,n);return d((R?r:u)(I,P),e,t)}},function(e,t,n){var r=n(298),a=n(434),i=4294967295;function o(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=i,this.__views__=[]}o.prototype=r(a.prototype),o.prototype.constructor=o,e.exports=o},function(e,t){e.exports=function(){}},function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty,a=Array.isArray,i=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),o=function(e,t){for(var n=t&&t.plainObjects?Object.create(null):{},r=0;r<e.length;++r)void 0!==e[r]&&(n[r]=e[r]);return n};e.exports={arrayToObject:o,assign:function(e,t){return Object.keys(t).reduce(function(e,n){return e[n]=t[n],e},e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],n=[],r=0;r<t.length;++r)for(var i=t[r],o=i.obj[i.prop],s=Object.keys(o),c=0;c<s.length;++c){var l=s[c],u=o[l];"object"==typeof u&&null!==u&&-1===n.indexOf(u)&&(t.push({obj:o,prop:l}),n.push(u))}return function(e){for(;e.length>1;){var t=e.pop(),n=t.obj[t.prop];if(a(n)){for(var r=[],i=0;i<n.length;++i)void 0!==n[i]&&r.push(n[i]);t.obj[t.prop]=r}}}(t),e},decode:function(e,t,n){var r=e.replace(/\+/g," ");if("iso-8859-1"===n)return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch(e){return r}},encode:function(e,t,n){if(0===e.length)return e;var r="string"==typeof e?e:String(e);if("iso-8859-1"===n)return escape(r).replace(/%u[0-9a-f]{4}/gi,function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"});for(var a="",o=0;o<r.length;++o){var s=r.charCodeAt(o);45===s||46===s||95===s||126===s||s>=48&&s<=57||s>=65&&s<=90||s>=97&&s<=122?a+=r.charAt(o):s<128?a+=i[s]:s<2048?a+=i[192|s>>6]+i[128|63&s]:s<55296||s>=57344?a+=i[224|s>>12]+i[128|s>>6&63]+i[128|63&s]:(o+=1,s=65536+((1023&s)<<10|1023&r.charCodeAt(o)),a+=i[240|s>>18]+i[128|s>>12&63]+i[128|s>>6&63]+i[128|63&s])}return a},isBuffer:function(e){return!(!e||"object"!=typeof e||!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e)))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},merge:function e(t,n,i){if(!n)return t;if("object"!=typeof n){if(a(t))t.push(n);else{if(!t||"object"!=typeof t)return[t,n];(i&&(i.plainObjects||i.allowPrototypes)||!r.call(Object.prototype,n))&&(t[n]=!0)}return t}if(!t||"object"!=typeof t)return[t].concat(n);var s=t;return a(t)&&!a(n)&&(s=o(t,i)),a(t)&&a(n)?(n.forEach(function(n,a){if(r.call(t,a)){var o=t[a];o&&"object"==typeof o&&n&&"object"==typeof n?t[a]=e(o,n,i):t.push(n)}else t[a]=n}),t):Object.keys(n).reduce(function(t,a){var o=n[a];return r.call(t,a)?t[a]=e(t[a],o,i):t[a]=o,t},s)}}},function(e,t){var n,r,a=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:o}catch(e){r=o}}();var c,l=[],u=!1,d=-1;function p(){u&&c&&(u=!1,c.length?l=c.concat(l):d=-1,l.length&&f())}function f(){if(!u){var e=s(p);u=!0;for(var t=l.length;t;){for(c=l,l=[];++d<t;)c&&c[d].run();d=-1,t=l.length}c=null,u=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function m(){}a.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new h(e,t)),1!==l.length||u||s(f)},h.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=m,a.addListener=m,a.once=m,a.off=m,a.removeListener=m,a.removeAllListeners=m,a.emit=m,a.prependListener=m,a.prependOnceListener=m,a.listeners=function(e){return[]},a.binding=function(e){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=o(n(67)),i=o(n(11));function o(e){return e&&e.__esModule?e:{default:e}}t.default=(0,a.default)({displayName:"AlgoliaCurrentRefinements",propTypes:{transformItems:i.default.func},getProvidedProps:function(e,t,n,a){var i=a.reduce(function(t,n){return void 0!==n.items&&(e.clearsQuery||"query"!==n.id)?e.clearsQuery&&"query"===n.id&&""===n.items[0].currentRefinement?t:t.concat(n.items.map(function(e){return r({},e,{id:n.id,index:n.index})})):t},[]);return{items:e.transformItems?e.transformItems(i):i,canRefine:i.length>0}},refine:function(e,t,n){return(n instanceof Array?n.map(function(e){return e.value}):[n]).reduce(function(e,t){return t(e)},t)}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(67)),a=o(n(1333)),i=o(n(651));function o(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t=e.attribute,n=e.hit,r=e.highlightProperty;return(0,a.default)({attribute:t,hit:n,preTag:i.default.highlightPreTag,postTag:i.default.highlightPostTag,highlightProperty:r})};t.default=(0,r.default)({displayName:"AlgoliaHighlighter",propTypes:{},getProvidedProps:function(){return{highlight:s}}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(240)),a=s(n(11)),i=s(n(67)),o=n(74);function s(e){return e&&e.__esModule?e:{default:e}}var c="menu";function l(e){return e.attribute}function u(e,t,n){return(0,o.getCurrentRefinementValue)(e,t,n,c+"."+l(e),null,function(e){return""===e?null:e})}function d(e,t,n,r){return e===u(t,n,r)?"":e}function p(e){var t=e.showMore,n=e.limit,r=e.showMoreLimit;return t?r:n}function f(e,t,n,r){var a,i,s,u=l(e),d=(s=n||"",(i=u)in(a={})?Object.defineProperty(a,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):a[i]=s,a);return(0,o.refineValue)(t,d,r,!0,c)}var h=["count:desc","name:asc"];t.default=(0,i.default)({displayName:"AlgoliaMenu",propTypes:{attribute:a.default.string.isRequired,showMore:a.default.bool,limit:a.default.number,showMoreLimit:a.default.number,defaultRefinement:a.default.string,transformItems:a.default.func,searchable:a.default.bool},defaultProps:{showMore:!1,limit:10,showMoreLimit:20},getProvidedProps:function(e,t,n,a,i){var s=this,c=e.attribute,l=e.searchable,f=(0,o.getResults)(n,this.context),m=Boolean(f)&&Boolean(f.getFacetByName(c)),g=Boolean(i&&i[c]&&""!==i.query);if(l&&this.context.multiIndexContext)throw new Error("react-instantsearch: searching in *List is not available when used inside a multi index context");if(!m)return{items:[],currentRefinement:u(e,t,this.context),isFromSearch:g,searchable:l,canRefine:m};var v=g?i[c].map(function(n){return{label:n.value,value:d(n.value,e,t,s.context),_highlightResult:{label:{value:n.highlighted}},count:n.count,isRefined:n.isRefined}}):f.getFacetValues(c,{sortBy:h}).map(function(n){return{label:n.name,value:d(n.name,e,t,s.context),count:n.count,isRefined:n.isRefined}}),b=l&&!g?(0,r.default)(v,["isRefined","count","label"],["desc","desc","asc"]):v;return{items:(e.transformItems?e.transformItems(b):b).slice(0,p(e)),currentRefinement:u(e,t,this.context),isFromSearch:g,searchable:l,canRefine:v.length>0}},refine:function(e,t,n){return f(e,t,n,this.context)},searchForFacetValues:function(e,t,n){return{facetName:e.attribute,query:n,maxFacetHits:p(e)}},cleanUp:function(e,t){return function(e,t,n){return(0,o.cleanUpValue)(t,n,c+"."+l(e))}(e,t,this.context)},getSearchParameters:function(e,t,n){var r=t.attribute;e=(e=e.setQueryParameters({maxValuesPerFacet:Math.max(e.maxValuesPerFacet||0,p(t))})).addDisjunctiveFacet(r);var a=u(t,n,this.context);return null!==a&&(e=e.addDisjunctiveFacetRefinement(r,a)),e},getMetadata:function(e,t){var n=this,r=l(e),a=u(e,t,this.context);return{id:r,index:(0,o.getIndex)(this.context),items:null===a?[]:[{label:e.attribute+": "+a,attribute:e.attribute,value:function(t){return f(e,t,"",n.context)},currentRefinement:a}]}}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(156)),a=s(n(11)),i=n(74),o=s(n(67));function s(e){return e&&e.__esModule?e:{default:e}}function c(e){return e.attribute}var l="range";function u(e,t,n,r){var a=(0,i.getCurrentRefinementValue)(e,t,r,l+"."+c(e),{},function(e){var t=e.min,n=e.max;return"string"==typeof t&&(t=parseInt(t,10)),"string"==typeof n&&(n=parseInt(n,10)),{min:t,max:n}}),o=void 0!==e.min,s=void 0!==e.max,u=void 0!==a.min,d=void 0!==a.max;if(o&&u&&a.min<n.min)throw Error("You can't provide min value lower than range.");if(s&&d&&a.max>n.max)throw Error("You can't provide max value greater than range.");return o&&!u&&(a.min=n.min),s&&!d&&(a.max=n.max),a}function d(e,t){return{min:void 0!==e.min?e.min:t.min,max:void 0!==e.max?e.max:t.max}}function p(e,t,n,r){return e||n!==r?e&&t?n:r:void 0}function f(e,t,n,a,o){var s=n.min,u=n.max,d=a.min,f=a.max,h=void 0===s||""===s,m=void 0===u||""===u,g=h?void 0:parseFloat(s),v=m?void 0:parseFloat(u),b=h||(0,r.default)(g),y=m||(0,r.default)(v);if(!b||!y)throw Error("You can't provide non finite values to the range connector.");if(g<d)throw Error("You can't provide min value lower than range.");if(v>f)throw Error("You can't provide max value greater than range.");var E,_,w,S=c(e),k=(E={},_=S,w={min:p(void 0!==e.min,h,d,g),max:p(void 0!==e.max,m,f,v)},_ in E?Object.defineProperty(E,_,{value:w,enumerable:!0,configurable:!0,writable:!0}):E[_]=w,E);return(0,i.refineValue)(t,k,o,!0,l)}t.default=(0,o.default)({displayName:"AlgoliaRange",propTypes:{id:a.default.string,attribute:a.default.string.isRequired,defaultRefinement:a.default.shape({min:a.default.number,max:a.default.number}),min:a.default.number,max:a.default.number,precision:a.default.number,header:a.default.node,footer:a.default.node},defaultProps:{precision:0},getProvidedProps:function(e,t,n){var a=e.attribute,o=e.precision,s=e.min,c=e.max,l=(0,i.getResults)(n,this.context),p=l&&l.getFacetByName(a),f=p&&l.getFacetStats(a)||{},h=(p?l.getFacetValues(a):[]).map(function(e){return{value:e.name,count:e.count}}),m=function(e,t,n){var a=Math.pow(10,n),i=void 0;i=(0,r.default)(e.min)?e.min:(0,r.default)(t.min)?t.min:void 0;var o=void 0;return o=(0,r.default)(e.max)?e.max:(0,r.default)(t.max)?t.max:void 0,{min:void 0!==i?Math.floor(i*a)/a:i,max:void 0!==o?Math.ceil(o*a)/a:o}}({min:s,max:c},f,o),g=m.min,v=m.max;this._currentRange={min:g,max:v};var b=u(e,t,this._currentRange,this.context);return{min:g,max:v,canRefine:h.length>0,currentRefinement:d(b,this._currentRange),count:h,precision:o}},refine:function(e,t,n){return f(e,t,n,this._currentRange,this.context)},cleanUp:function(e,t){return function(e,t,n){return(0,i.cleanUpValue)(t,n,l+"."+c(e))}(e,t,this.context)},getSearchParameters:function(e,t,n){var r=t.attribute,a=u(t,n,this._currentRange,this.context),i=a.min,o=a.max;return e=e.addDisjunctiveFacet(r),void 0!==i&&(e=e.addNumericRefinement(r,">=",i)),void 0!==o&&(e=e.addNumericRefinement(r,"<=",o)),e},getMetadata:function(e,t){var n=this,r=this._currentRange,a=r.min,o=r.max,s=u(e,t,this._currentRange,this.context),l=s.min,p=s.max,h=[],m=void 0!==l,g=void 0!==p;if(m&&l!==a||g&&p!==o){var v=[m?l+" <= ":"",e.attribute,g?" <= "+p:""];h.push({label:v.join(""),attribute:e.attribute,value:function(t){return f(e,t,{},n._currentRange,n.context)},currentRefinement:d({min:l,max:p},{min:a,max:o})})}return{id:c(e),index:(0,i.getIndex)(this.context),items:h}}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(438)),a=i(n(1343));function i(e){return e&&e.__esModule?e:{default:e}}t.default=(0,r.default)(a.default)},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=m(n(358)),a=m(n(260)),i=m(n(368)),o=m(n(76)),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(914)),c=m(n(495)),l=m(n(916)),u=m(n(943)),d=m(n(944)),p=m(n(510)),f=m(n(370)),h=m(n(947));function m(e){return e&&e.__esModule?e:{default:e}}var g=(0,m(n(948)).default)(),v={traceTurbolinks:!1};g.ReactOnRails={register:function(e){l.default.register(e)},registerStore:function(e){if(!e)throw new Error("Called ReactOnRails.registerStores with a null or undefined, rather than an Object with keys being the store names and the values are the store generators.");u.default.register(e)},getStore:function(e){var t=arguments.length<=1||void 0===arguments[1]||arguments[1];return u.default.getStore(e,t)},setOptions:function(e){if("traceTurbolinks"in e&&(this.options.traceTurbolinks=e.traceTurbolinks,delete e.traceTurbolinks),(0,i.default)(e).length>0)throw new Error("Invalid options passed to ReactOnRails.options: ",(0,a.default)(e))},reactOnRailsPageLoaded:function(){s.reactOnRailsPageLoaded()},authenticityToken:function(){return h.default.authenticityToken()},authenticityHeaders:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return h.default.authenticityHeaders(e)},option:function(e){return this.options[e]},getStoreGenerator:function(e){return u.default.getStoreGenerator(e)},setStore:function(e,t){return u.default.setStore(e,t)},render:function(e,t,n){var r=(0,f.default)({name:e,props:t,domNodeId:n});return o.default.render(r,document.getElementById(n))},getComponent:function(e){return l.default.get(e)},serverRenderReactComponent:function(e){return(0,d.default)(e)},handleError:function(e){return(0,c.default)(e)},buildConsoleReplay:function(){return(0,p.default)()},registeredComponents:function(){return l.default.components()},storeGenerators:function(){return u.default.storeGenerators()},stores:function(){return u.default.stores()},resetOptions:function(){this.options=(0,r.default)({},v)}},g.ReactOnRails.resetOptions(),s.clientStartup(g),t.default=g.ReactOnRails},function(e,t,n){"use strict";var r=n(458),a={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function c(e){return r.isMemo(e)?o:s[e.$$typeof]||a}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0};var l=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,h=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(h){var a=f(n);a&&a!==h&&e(t,a,r)}var o=u(n);d&&(o=o.concat(d(n)));for(var s=c(t),m=c(n),g=0;g<o.length;++g){var v=o[g];if(!(i[v]||r&&r[v]||m&&m[v]||s&&s[v])){var b=p(n,v);try{l(t,v,b)}catch(e){}}}return t}return t}},function(e,t){e.exports=function(){}},function(e,t,n){var r=n(553);e.exports=function(e,t,n){var a=null==e?void 0:r(e,t);return void 0===a?n:a}},function(e,t){e.exports="/assets/drag_preview-32dbfa3ed4bdbdbce1f72475260ddad509b8c9657c7518df239dbab7541f8e04.png"},function(e,t,n){"use strict";var r=n(1310),a=n(1321);e.exports=a(r,"Browser (lite)")},function(e,t,n){var r=n(387),a=n(267),i=n(129),o=n(188),s=i(function(e,t){return o(e)?r(e,a(t,1,o,!0)):[]});e.exports=s},function(e,t){e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}},function(e,t,n){var r=n(957);e.exports=f,e.exports.parse=i,e.exports.compile=function(e,t){return s(i(e,t))},e.exports.tokensToFunction=s,e.exports.tokensToRegExp=p;var a=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function i(e,t){for(var n,r=[],i=0,o=0,s="",u=t&&t.delimiter||"/";null!=(n=a.exec(e));){var d=n[0],p=n[1],f=n.index;if(s+=e.slice(o,f),o=f+d.length,p)s+=p[1];else{var h=e[o],m=n[2],g=n[3],v=n[4],b=n[5],y=n[6],E=n[7];s&&(r.push(s),s="");var _=null!=m&&null!=h&&h!==m,w="+"===y||"*"===y,S="?"===y||"*"===y,k=n[2]||u,C=v||b;r.push({name:g||i++,prefix:m||"",delimiter:k,optional:S,repeat:w,partial:_,asterisk:!!E,pattern:C?l(C):E?".*":"[^"+c(k)+"]+?"})}}return o<e.length&&(s+=e.substr(o)),s&&r.push(s),r}function o(e){return encodeURI(e).replace(/[\/?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function s(e){for(var t=new Array(e.length),n=0;n<e.length;n++)"object"==typeof e[n]&&(t[n]=new RegExp("^(?:"+e[n].pattern+")$"));return function(n,a){for(var i="",s=n||{},c=(a||{}).pretty?o:encodeURIComponent,l=0;l<e.length;l++){var u=e[l];if("string"!=typeof u){var d,p=s[u.name];if(null==p){if(u.optional){u.partial&&(i+=u.prefix);continue}throw new TypeError('Expected "'+u.name+'" to be defined')}if(r(p)){if(!u.repeat)throw new TypeError('Expected "'+u.name+'" to not repeat, but received `'+JSON.stringify(p)+"`");if(0===p.length){if(u.optional)continue;throw new TypeError('Expected "'+u.name+'" to not be empty')}for(var f=0;f<p.length;f++){if(d=c(p[f]),!t[l].test(d))throw new TypeError('Expected all "'+u.name+'" to match "'+u.pattern+'", but received `'+JSON.stringify(d)+"`");i+=(0===f?u.prefix:u.delimiter)+d}}else{if(d=u.asterisk?encodeURI(p).replace(/[?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}):c(p),!t[l].test(d))throw new TypeError('Expected "'+u.name+'" to match "'+u.pattern+'", but received "'+d+'"');i+=u.prefix+d}}else i+=u}return i}}function c(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function l(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function u(e,t){return e.keys=t,e}function d(e){return e.sensitive?"":"i"}function p(e,t,n){r(t)||(n=t||n,t=[]);for(var a=(n=n||{}).strict,i=!1!==n.end,o="",s=0;s<e.length;s++){var l=e[s];if("string"==typeof l)o+=c(l);else{var p=c(l.prefix),f="(?:"+l.pattern+")";t.push(l),l.repeat&&(f+="(?:"+p+f+")*"),o+=f=l.optional?l.partial?p+"("+f+")?":"(?:"+p+"("+f+"))?":p+"("+f+")"}}var h=c(n.delimiter||"/"),m=o.slice(-h.length)===h;return a||(o=(m?o.slice(0,-h.length):o)+"(?:"+h+"(?=$))?"),o+=i?"$":a&&m?"":"(?="+h+"|$)",u(new RegExp("^"+o,d(n)),t)}function f(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return u(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],a=0;a<e.length;a++)r.push(f(e[a],t,n).source);return u(new RegExp("(?:"+r.join("|")+")",d(n)),t)}(e,t,n):function(e,t,n){return p(i(e,n),t,n)}(e,t,n)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Mention=t.MentionsInput=void 0;var r=i(n(1125)),a=i(n(587));function i(e){return e&&e.__esModule?e:{default:e}}t.MentionsInput=r.default,t.Mention=a.default},function(e,t,n){"use strict";var r=n(22),a=n.n(r),i=n(0),o=n.n(i);t.a=function(e){var t=e.details;return o.a.createElement("div",{className:"ws-n"},Object.entries(t).map(function(e){var t=a()(e,2),n=t[0],r=t[1];return o.a.createElement(i.Fragment,{key:n},o.a.createElement("p",{className:"fw-b mb-0 tt-c"},n,":"),o.a.createElement("p",null,r))}))}},function(e,t,n){"use strict";var r=n(2),a=n.n(r),i=n(18),o=n.n(i),s=n(9),c=n(29),l=n(14),u={editingTaggings:!1,editingOwnerships:!1};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case l.j.UI.TOGGLE_EDITING_BY_NAME:var n="editing".concat(Object(c.a)(t.name));return o()({},e,a()({},n,!Object(s.has)(n,e)||!e[n]));default:return e}}},function(e,t,n){"use strict";var r=n(9),a=n(14);t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a.j.TAGGING.CREATE:return e.concat(t.tagging);case a.j.TAGGING.REMOVE:return Object(r.reject)({id:t.taggingId},e);default:return e}}},function(e,t,n){"use strict";var r=n(9),a=n(14);t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a.j.CONTENT.TOGGLE_EDITING:var n=t.id,i=t.contentType,o=t.view;return Object(r.findIndex)({id:n,type:i})(e)>-1?Object(r.reject)({id:n,type:i})(e):Object(r.concat)({id:n,type:i,view:o})(e);case a.j.CONTENT.ADD:var s=t.id,c=t.contentType;return Object(r.concat)({id:s,type:c})(e);default:return e}}},function(e,t){e.exports="/assets/empty_frame-7fa76d8b2fcd64e0bed3bce385cab7a19d89b5b90d0288087e26b5fd19a1b58c.svg"},function(e,t,n){"use strict";e.exports=n(958)},,function(e,t,n){e.exports=!n(61)&&!n(50)(function(){return 7!=Object.defineProperty(n(336)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){"use strict";var r=n(72),a=n(175),i=n(66);e.exports=[].copyWithin||function(e,t){var n=r(this),o=i(n.length),s=a(e,o),c=a(t,o),l=arguments.length>2?arguments[2]:void 0,u=Math.min((void 0===l?o:a(l,o))-c,o-s),d=1;for(c<s&&s<c+u&&(d=-1,c+=u-1,s+=u-1);u-- >0;)c in n?n[s]=n[c]:delete n[s],s+=d,c+=d;return n}},function(e,t,n){var r=n(730);e.exports=function(e,t){return new(r(e))(t)}},function(e,t,n){var r=n(48);e.exports=function(e,t,n,a){try{return a?t(r(n)[0],n[1]):t(n)}catch(t){var i=e.return;throw void 0!==i&&r(i.call(e)),t}}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){var r=n(65),a=n(48),i=n(162);e.exports=n(61)?Object.defineProperties:function(e,t){a(e);for(var n,o=i(t),s=o.length,c=0;s>c;)r.f(e,n=o[c++],t[n]);return e}},function(e,t,n){var r=n(103),a=n(116),i=n(246)(!1),o=n(343)("IE_PROTO");e.exports=function(e,t){var n,s=a(e),c=0,l=[];for(n in s)n!=o&&r(s,n)&&l.push(n);for(;t.length>c;)r(s,n=t[c++])&&(~i(l,n)||l.push(n));return l}},function(e,t,n){var r=n(44).document;e.exports=r&&r.documentElement},function(e,t,n){var r=n(104),a=n(72),i=n(243),o=n(66);e.exports=function(e,t,n,s,c){r(t);var l=a(e),u=i(l),d=o(l.length),p=c?d-1:0,f=c?-1:1;if(n<2)for(;;){if(p in u){s=u[p],p+=f;break}if(p+=f,c?p<0:d<=p)throw TypeError("Reduce of empty array with no initial value")}for(;c?p>=0:d>p;p+=f)p in u&&(s=t(s,u[p],p,l));return s}},function(e,t,n){"use strict";var r=n(104),a=n(45),i=n(470),o=[].slice,s={};e.exports=Function.bind||function(e){var t=r(this),n=o.call(arguments,1),c=function(){var r=n.concat(o.call(arguments));return this instanceof c?function(e,t,n){if(!(t in s)){for(var r=[],a=0;a<t;a++)r[a]="a["+a+"]";s[t]=Function("F,a","return new F("+r.join(",")+")")}return s[t](e,n)}(t,r.length,r):i(t,r,e)};return a(t.prototype)&&(c.prototype=t.prototype),c}},function(e,t){e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}},function(e,t,n){"use strict";var r=n(65).f,a=n(161),i=n(179),o=n(123),s=n(180),c=n(247),l=n(342),u=n(464),d=n(178),p=n(61),f=n(143).fastKey,h=n(163),m=p?"_s":"size",g=function(e,t){var n,r=f(t);if("F"!==r)return e._i[r];for(n=e._f;n;n=n.n)if(n.k==t)return n};e.exports={getConstructor:function(e,t,n,l){var u=e(function(e,r){s(e,u,t,"_i"),e._t=t,e._i=a(null),e._f=void 0,e._l=void 0,e[m]=0,null!=r&&c(r,n,e[l],e)});return i(u.prototype,{clear:function(){for(var e=h(this,t),n=e._i,r=e._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];e._f=e._l=void 0,e[m]=0},delete:function(e){var n=h(this,t),r=g(n,e);if(r){var a=r.n,i=r.p;delete n._i[r.i],r.r=!0,i&&(i.n=a),a&&(a.p=i),n._f==r&&(n._f=a),n._l==r&&(n._l=i),n[m]--}return!!r},forEach:function(e){h(this,t);for(var n,r=o(e,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(e){return!!g(h(this,t),e)}}),p&&r(u.prototype,"size",{get:function(){return h(this,t)[m]}}),u},def:function(e,t,n){var r,a,i=g(e,t);return i?i.v=n:(e._l=i={i:a=f(t,!0),k:t,v:n,p:r=e._l,n:void 0,r:!1},e._f||(e._f=i),r&&(r.n=i),e[m]++,"F"!==a&&(e._i[a]=i)),e},getEntry:g,setStrong:function(e,t,n){l(e,t,function(e,n){this._t=h(e,t),this._k=n,this._l=void 0},function(){for(var e=this._k,t=this._l;t&&t.r;)t=t.p;return this._t&&(this._l=t=t?t.n:this._t._f)?u(0,"keys"==e?t.k:"values"==e?t.v:[t.k,t.v]):(this._t=void 0,u(1))},n?"entries":"values",!n,!0),d(t)}}},function(e,t){e.exports=Math.log1p||function(e){return(e=+e)>-1e-8&&e<1e-8?e-e*e/2:Math.log(1+e)}},function(e,t,n){var r=n(45),a=Math.floor;e.exports=function(e){return!r(e)&&isFinite(e)&&a(e)===e}},function(e,t,n){"use strict";var r=n(61),a=n(162),i=n(249),o=n(216),s=n(72),c=n(243),l=Object.assign;e.exports=!l||n(50)(function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=l({},e)[n]||Object.keys(l({},t)).join("")!=r})?function(e,t){for(var n=s(e),l=arguments.length,u=1,d=i.f,p=o.f;l>u;)for(var f,h=c(arguments[u++]),m=d?a(h).concat(d(h)):a(h),g=m.length,v=0;g>v;)f=m[v++],r&&!p.call(h,f)||(n[f]=h[f]);return n}:l},function(e,t,n){var r=n(61),a=n(162),i=n(116),o=n(216).f;e.exports=function(e){return function(t){for(var n,s=i(t),c=a(s),l=c.length,u=0,d=[];l>u;)n=c[u++],r&&!o.call(s,n)||d.push(e?[n,s[n]]:s[n]);return d}}},function(e,t,n){var r=n(164),a=n(249),i=n(48),o=n(44).Reflect;e.exports=o&&o.ownKeys||function(e){var t=r.f(i(e)),n=a.f;return n?t.concat(n(e)):t}},function(e,t,n){var r=n(116),a=n(164).f,i={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return o&&"[object Window]"==i.call(e)?function(e){try{return a(e)}catch(e){return o.slice()}}(e):a(r(e))}},function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},function(e,t,n){"use strict";var r=n(104);function a(e){var t,n;this.promise=new e(function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r}),this.resolve=r(t),this.reject=r(n)}e.exports.f=function(e){return new a(e)}},function(e,t,n){var r=n(48),a=n(45),i=n(479);e.exports=function(e,t){if(r(e),a(t)&&t.constructor===e)return t;var n=i.f(e);return(0,n.resolve)(t),n.promise}},function(e,t,n){n(61)&&"g"!=/./g.flags&&n(65).f(RegExp.prototype,"flags",{configurable:!0,get:n(252)})},function(e,t,n){t.f=n(59)},function(e,t,n){var r=n(44),a=n(141),i=n(142),o=n(482),s=n(65).f;e.exports=function(e){var t=a.Symbol||(a.Symbol=i?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:o.f(e)})}},function(e,t,n){var r=n(66),a=n(485),i=n(133);e.exports=function(e,t,n,o){var s=String(i(e)),c=s.length,l=void 0===n?" ":String(n),u=r(t);if(u<=c||""==l)return s;var d=u-c,p=a.call(l,Math.ceil(d/l.length));return p.length>d&&(p=p.slice(0,d)),o?p+s:s+p}},function(e,t,n){"use strict";var r=n(134),a=n(133);e.exports=function(e){var t=String(a(this)),n="",i=r(e);if(i<0||i==1/0)throw RangeError("Count can't be negative");for(;i>0;(i>>>=1)&&(t+=t))1&i&&(n+=t);return n}},function(e,t,n){var r=n(134),a=n(66);e.exports=function(e){if(void 0===e)return 0;var t=r(e),n=a(t);if(t!==n)throw RangeError("Wrong length!");return n}},function(e,t,n){"use strict";var r=n(179),a=n(143).getWeak,i=n(48),o=n(45),s=n(180),c=n(247),l=n(124),u=n(103),d=n(163),p=l(5),f=l(6),h=0,m=function(e){return e._l||(e._l=new g)},g=function(){this.a=[]},v=function(e,t){return p(e.a,function(e){return e[0]===t})};g.prototype={get:function(e){var t=v(this,e);if(t)return t[1]},has:function(e){return!!v(this,e)},set:function(e,t){var n=v(this,e);n?n[1]=t:this.a.push([e,t])},delete:function(e){var t=f(this.a,function(t){return t[0]===e});return~t&&this.a.splice(t,1),!!~t}},e.exports={getConstructor:function(e,t,n,i){var l=e(function(e,r){s(e,l,t,"_i"),e._t=t,e._i=h++,e._l=void 0,null!=r&&c(r,n,e[i],e)});return r(l.prototype,{delete:function(e){if(!o(e))return!1;var n=a(e);return!0===n?m(d(this,t)).delete(e):n&&u(n,this._i)&&delete n[this._i]},has:function(e){if(!o(e))return!1;var n=a(e);return!0===n?m(d(this,t)).has(e):n&&u(n,this._i)}}),l},def:function(e,t,n){var r=a(i(t),!0);return!0===r?m(e).set(t,n):r[e._i]=n,e},ufstore:m}},function(e,t,n){var r=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",o=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function c(e,t,n,r){var a=t&&t.prototype instanceof m?t:m,i=Object.create(a.prototype),o=new O(r||[]);return i._invoke=function(e,t,n){var r=u;return function(a,i){if(r===p)throw new Error("Generator is already running");if(r===f){if("throw"===a)throw i;return T()}for(n.method=a,n.arg=i;;){var o=n.delegate;if(o){var s=k(o,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===u)throw r=f,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var c=l(e,t,n);if("normal"===c.type){if(r=n.done?f:d,c.arg===h)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=f,n.method="throw",n.arg=c.arg)}}}(e,n,o),i}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var u="suspendedStart",d="suspendedYield",p="executing",f="completed",h={};function m(){}function g(){}function v(){}var b={};b[i]=function(){return this};var y=Object.getPrototypeOf,E=y&&y(y(x([])));E&&E!==n&&r.call(E,i)&&(b=E);var _=v.prototype=m.prototype=Object.create(b);function w(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function S(e){var t;this._invoke=function(n,a){function i(){return new Promise(function(t,i){!function t(n,a,i,o){var s=l(e[n],e,a);if("throw"!==s.type){var c=s.arg,u=c.value;return u&&"object"==typeof u&&r.call(u,"__await")?Promise.resolve(u.__await).then(function(e){t("next",e,i,o)},function(e){t("throw",e,i,o)}):Promise.resolve(u).then(function(e){c.value=e,i(c)},function(e){return t("throw",e,i,o)})}o(s.arg)}(n,a,t,i)})}return t=t?t.then(i,i):i()}}function k(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,k(e,n),"throw"===n.method))return h;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var a=l(r,e.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,h;var i=a.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,h):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,h)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function x(e){if(e){var n=e[i];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,o=function n(){for(;++a<e.length;)if(r.call(e,a))return n.value=e[a],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:T}}function T(){return{value:t,done:!0}}return g.prototype=_.constructor=v,v.constructor=g,v[s]=g.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,s in e||(e[s]="GeneratorFunction")),e.prototype=Object.create(_),e},e.awrap=function(e){return{__await:e}},w(S.prototype),S.prototype[o]=function(){return this},e.AsyncIterator=S,e.async=function(t,n,r,a){var i=new S(c(t,n,r,a));return e.isGeneratorFunction(n)?i:i.next().then(function(e){return e.done?e.value:i.next()})},w(_),_[s]="Generator",_[i]=function(){return this},_.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=x,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(N),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function a(r,a){return s.type="throw",s.arg=e,n.next=r,a&&(n.method="next",n.arg=t),!!a}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],s=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(c&&l){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),N(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;N(n)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:x(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),h}},e}(e.exports);try{regeneratorRuntime=r}catch(e){Function("r","regeneratorRuntime = r")(r)}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,n){e.exports=!n(128)&&!n(167)(function(){return 7!=Object.defineProperty(n(491)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){var r=n(137),a=n(127).document,i=r(a)&&r(a.createElement);e.exports=function(e){return i?a.createElement(e):{}}},function(e,t,n){var r=n(168),a=n(182),i=n(905)(!1),o=n(364)("IE_PROTO");e.exports=function(e,t){var n,s=a(e),c=0,l=[];for(n in s)n!=o&&r(s,n)&&l.push(n);for(;t.length>c;)r(s,n=t[c++])&&(~i(l,n)||l.push(n));return l}},function(e,t,n){var r=n(106),a=n(79),i=n(167);e.exports=function(e,t){var n=(a.Object||{})[e]||Object[e],o={};o[e]=t(n),r(r.S+r.F*i(function(){n(1)}),"Object",o)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return!(!e.redirectLocation&&!e.error)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(0)),a=i(n(200));function i(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=e.e,n=e.jsCode,i=e.serverSide;console.error("Exception in rendering!");var o=function(e){var t=e.e,n=e.name,r="";if(n){var a="A generator function takes a single arg of props (and the location for react-router) and returns a ReactElement.",i="ERROR: ReactOnRails is incorrectly detecting generator function to be false. The React\ncomponent '"+n+"' seems to be a generator function.\n"+a;/Can't add property context, object is not extensible/.test(t.message)&&(r+=i+"\n\n",console.error(i)),i="ERROR: ReactOnRails is incorrectly detecting generatorFunction to be true, but the React\ncomponent '"+n+"' is not a generator function.\n"+a,/Cannot call a class as a function/.test(t.message)&&(r+=i+"\n\n",console.error(i))}return r}(e);if(n&&console.error("JS code was: "+n),t.fileName&&console.error("location: "+t.fileName+":"+t.lineNumber),console.error("message: "+t.message),console.error("stack: "+t.stack),i){o+="Exception in rendering!\n"+(t.fileName?"\nlocation: "+t.fileName+":"+t.lineNumber:"")+"\nMessage: "+t.message+"\n\n"+t.stack;var s=r.default.createElement("pre",null,o);return a.default.renderToString(s)}}},function(e,t,n){e.exports=n(145)},function(e,t,n){var r=n(168),a=n(183),i=n(364)("IE_PROTO"),o=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=a(e),r(e,i)?e[i]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?o:null}},function(e,t,n){var r=n(166);e.exports=function(e,t,n,a){try{return a?t(r(n)[0],n[1]):t(n)}catch(t){var i=e.return;throw void 0!==i&&r(i.call(e)),t}}},function(e,t,n){var r=n(220),a=n(107)("iterator"),i=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||i[a]===e)}},function(e,t,n){var r=n(501),a=n(107)("iterator"),i=n(220);e.exports=n(79).getIteratorMethod=function(e){if(null!=e)return e[a]||e["@@iterator"]||i[r(e)]}},function(e,t,n){var r=n(361),a=n(107)("toStringTag"),i="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,n,o;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),a))?n:i?r(t):"Object"==(o=r(t))&&"function"==typeof t.callee?"Arguments":o}},function(e,t,n){e.exports={default:n(925),__esModule:!0}},function(e,t){},function(e,t,n){n(926);for(var r=n(127),a=n(145),i=n(220),o=n(107)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),c=0;c<s.length;c++){var l=s[c],u=r[l],d=u&&u.prototype;d&&!d[o]&&a(d,o,l),i[l]=i.Array}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,n){var r=n(145);e.exports=function(e,t,n){for(var a in t)n&&e[a]?e[a]=t[a]:r(e,a,t[a]);return e}},function(e,t){e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}},function(e,t,n){var r=n(137);e.exports=function(e,t){if(!r(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},function(e,t,n){var r=n(361);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(260));t.consoleReplay=s,t.default=function(){return a.default.wrapInScriptTags(s())};var a=o(n(945)),i=o(n(946));function o(e){return e&&e.__esModule?e:{default:e}}function s(){var e=console.history;return e&&0!==e.length?e.map(function(e){var t=e.arguments.map(function(e){var t=void 0;try{t="string"==typeof e||e instanceof String?e:(0,r.default)(e)}catch(n){t=n.message+": "+e}return(0,i.default)(t)});return"console."+e.level+".apply(console, "+(0,r.default)(t)+");"}).join("\n"):""}},function(e,t,n){var r=n(954),a=n(512),i=Array.prototype.push;function o(e,t){return 2==t?function(t,n){return e(t,n)}:function(t){return e(t)}}function s(e){for(var t=e?e.length:0,n=Array(t);t--;)n[t]=e[t];return n}function c(e,t){return function(){var n=arguments.length;if(n){for(var r=Array(n);n--;)r[n]=arguments[n];var a=r[0]=t.apply(void 0,r);return e.apply(void 0,r),a}}}e.exports=function e(t,n,l,u){var d="function"==typeof n,p=n===Object(n);if(p&&(u=l,l=n,n=void 0),null==l)throw new TypeError;u||(u={});var f={cap:!("cap"in u)||u.cap,curry:!("curry"in u)||u.curry,fixed:!("fixed"in u)||u.fixed,immutable:!("immutable"in u)||u.immutable,rearg:!("rearg"in u)||u.rearg},h=d?l:a,m="curry"in u&&u.curry,g="fixed"in u&&u.fixed,v="rearg"in u&&u.rearg,b=d?l.runInContext():void 0,y=d?l:{ary:t.ary,assign:t.assign,clone:t.clone,curry:t.curry,forEach:t.forEach,isArray:t.isArray,isError:t.isError,isFunction:t.isFunction,isWeakMap:t.isWeakMap,iteratee:t.iteratee,keys:t.keys,rearg:t.rearg,toInteger:t.toInteger,toPath:t.toPath},E=y.ary,_=y.assign,w=y.clone,S=y.curry,k=y.forEach,C=y.isArray,N=y.isError,O=y.isFunction,x=y.isWeakMap,T=y.keys,R=y.rearg,P=y.toInteger,I=y.toPath,A=T(r.aryMethod),M={castArray:function(e){return function(){var t=arguments[0];return C(t)?e(s(t)):e.apply(void 0,arguments)}},iteratee:function(e){return function(){var t=arguments[0],n=arguments[1],r=e(t,n),a=r.length;return f.cap&&"number"==typeof n?(n=n>2?n-2:1,a&&a<=n?r:o(r,n)):r}},mixin:function(e){return function(t){var n=this;if(!O(n))return e(n,Object(t));var r=[];return k(T(t),function(e){O(t[e])&&r.push([e,n.prototype[e]])}),e(n,Object(t)),k(r,function(e){var t=e[1];O(t)?n.prototype[e[0]]=t:delete n.prototype[e[0]]}),n}},nthArg:function(e){return function(t){var n=t<0?1:P(t)+1;return S(e(t),n)}},rearg:function(e){return function(t,n){var r=n?n.length:0;return S(e(t,n),r)}},runInContext:function(n){return function(r){return e(t,n(r),u)}}};function D(e,t){if(f.cap){var n=r.iterateeRearg[e];if(n)return function(e,t){return U(e,function(e){var n=t.length;return function(e,t){return 2==t?function(t,n){return e.apply(void 0,arguments)}:function(t){return e.apply(void 0,arguments)}}(R(o(e,n),t),n)})}(t,n);var a=!d&&r.iterateeAry[e];if(a)return function(e,t){return U(e,function(e){return"function"==typeof e?o(e,t):e})}(t,a)}return t}function j(e,t,n){if(f.fixed&&(g||!r.skipFixed[e])){var a=r.methodSpread[e],o=a&&a.start;return void 0===o?E(t,n):function(e,t){return function(){for(var n=arguments.length,r=n-1,a=Array(n);n--;)a[n]=arguments[n];var o=a[t],s=a.slice(0,t);return o&&i.apply(s,o),t!=r&&i.apply(s,a.slice(t+1)),e.apply(this,s)}}(t,o)}return t}function L(e,t,n){return f.rearg&&n>1&&(v||!r.skipRearg[e])?R(t,r.methodRearg[e]||r.aryRearg[n]):t}function F(e,t){for(var n=-1,r=(t=I(t)).length,a=r-1,i=w(Object(e)),o=i;null!=o&&++n<r;){var s=t[n],c=o[s];null==c||O(c)||N(c)||x(c)||(o[s]=w(n==a?c:Object(c))),o=o[s]}return i}function B(t,n){var a=r.aliasToReal[t]||t,i=r.remap[a]||a,o=u;return function(t){var r=d?b:y,s=d?b[i]:n,c=_(_({},o),t);return e(r,a,s,c)}}function U(e,t){return function(){var n=arguments.length;if(!n)return e();for(var r=Array(n);n--;)r[n]=arguments[n];var a=f.rearg?0:n-1;return r[a]=t(r[a]),e.apply(void 0,r)}}function H(e,t,n){var a,i=r.aliasToReal[e]||e,o=t,l=M[i];return l?o=l(t):f.immutable&&(r.mutate.array[i]?o=c(t,s):r.mutate.object[i]?o=c(t,function(e){return function(t){return e({},t)}}(t)):r.mutate.set[i]&&(o=c(t,F))),k(A,function(e){return k(r.aryMethod[e],function(t){if(i==t){var n=r.methodSpread[i],s=n&&n.afterRearg;return a=s?j(i,L(i,o,e),e):L(i,j(i,o,e),e),a=function(e,t,n){return m||f.curry&&n>1?S(t,n):t}(0,a=D(i,a),e),!1}}),!a}),a||(a=o),a==t&&(a=m?S(a,1):function(){return t.apply(this,arguments)}),a.convert=B(i,t),a.placeholder=t.placeholder=n,a}if(!p)return H(n,l,h);var q=l,G=[];return k(A,function(e){k(r.aryMethod[e],function(e){var t=q[r.remap[e]||e];t&&G.push([e,H(e,t,q)])})}),k(T(q),function(e){var t=q[e];if("function"==typeof t){for(var n=G.length;n--;)if(G[n][0]==e)return;t.convert=B(e,t),G.push([e,t])}}),k(G,function(e){q[e[0]]=e[1]}),q.convert=function(e){return q.runInContext.convert(e)(void 0)},q.placeholder=q,k(T(q),function(e){k(r.realToAlias[e]||[],function(t){q[t]=q[e]})}),q}},function(e,t){e.exports={}},function(e,t,n){var r=n(376),a=Math.max;e.exports=function(e,t,n){return t=a(void 0===t?e.length-1:t,0),function(){for(var i=arguments,o=-1,s=a(i.length-t,0),c=Array(s);++o<s;)c[o]=i[t+o];o=-1;for(var l=Array(t+1);++o<t;)l[o]=i[o];return l[t]=n(c),r(e,this,l)}}},function(e,t){e.exports=function(e){return function(){return e}}},function(e,t,n){var r=n(170),a=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=a},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n(43))},function(e,t){var n=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return n.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},function(e,t){var n=800,r=16,a=Date.now;e.exports=function(e){var t=0,i=0;return function(){var o=a(),s=r-(o-i);if(i=o,s>0){if(++t>=n)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}},function(e,t,n){var r=n(987),a=n(223),i=n(60),o=n(224),s=n(221),c=n(265),l=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=i(e),u=!n&&a(e),d=!n&&!u&&o(e),p=!n&&!u&&!d&&c(e),f=n||u||d||p,h=f?r(e.length,String):[],m=h.length;for(var g in e)!t&&!l.call(e,g)||f&&("length"==g||d&&("offset"==g||"parent"==g)||p&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||s(g,m))||h.push(g);return h}},function(e,t,n){var r=n(268),a=n(273),i=n(384),o=n(274),s=n(1018),c=n(386),l=200;e.exports=function(e,t,n){var u=-1,d=a,p=e.length,f=!0,h=[],m=h;if(n)f=!1,d=i;else if(p>=l){var g=t?null:s(e);if(g)return c(g);f=!1,d=o,m=new r}else m=t?[]:h;e:for(;++u<p;){var v=e[u],b=t?t(v):v;if(v=n||0!==v?v:0,f&&b==b){for(var y=m.length;y--;)if(m[y]===b)continue e;t&&m.push(b),h.push(v)}else d(m,b,n)||(m!==h&&m.push(b),h.push(v))}return h}},function(e,t){e.exports=function(e,t,n,r){for(var a=e.length,i=n+(r?1:-1);r?i--:++i<a;)if(t(e[i],i,e))return i;return-1}},function(e,t,n){var r=n(170)(n(85),"Set");e.exports=r},function(e,t,n){var r=n(387),a=n(129),i=n(188),o=a(function(e,t){return i(e)?r(e,t):[]});e.exports=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isSafari=t.isFirefox=void 0;var r,a=n(525),i=(r=a)&&r.__esModule?r:{default:r};t.isFirefox=(0,i.default)(function(){return/firefox/i.test(navigator.userAgent)}),t.isSafari=(0,i.default)(function(){return Boolean(window.safari)})},function(e,t,n){var r=n(382),a="Expected a function";function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(a);var n=function(){var r=arguments,a=t?t.apply(this,r):r[0],i=n.cache;if(i.has(a))return i.get(a);var o=e.apply(this,r);return n.cache=i.set(a,o)||i,o};return n.cache=new(i.Cache||r),n}i.Cache=r,e.exports=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unpackBackendForEs5Users=t.createChildContext=t.CHILD_CONTEXT_TYPES=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function(e){p.default.apply(void 0,["DragDropContext","backend"].concat(Array.prototype.slice.call(arguments)));var t=g(e),n=m(t);return function(e){var t,i,c=e.displayName||e.name||"Component",l=(i=t=function(t){function i(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(i,t),a(i,[{key:"getDecoratedComponentInstance",value:function(){return(0,u.default)(this.child,"In order to access an instance of the decorated component it can not be a stateless component."),this.child}},{key:"getManager",value:function(){return n.dragDropManager}},{key:"getChildContext",value:function(){return n}},{key:"render",value:function(){var t=this;return s.default.createElement(e,r({},this.props,{ref:function(e){t.child=e}}))}}]),i}(o.Component),t.DecoratedComponent=e,t.displayName="DragDropContext("+c+")",t.childContextTypes=h,i);return(0,d.default)(l,e)}};var o=n(0),s=f(o),c=f(n(11)),l=n(1023),u=f(n(73)),d=f(n(391)),p=f(n(277));function f(e){return e&&e.__esModule?e:{default:e}}var h=t.CHILD_CONTEXT_TYPES={dragDropManager:c.default.object.isRequired},m=t.createChildContext=function(e,t){return{dragDropManager:new l.DragDropManager(e,t)}},g=t.unpackBackendForEs5Users=function(e){var t=e;return"object"===(void 0===t?"undefined":i(t))&&"function"==typeof t.default&&(t=t.default),(0,u.default)("function"==typeof t,"Expected the backend to be a function or an ES6 module exporting a default function. Read more: http://react-dnd.github.io/react-dnd/docs-drag-drop-context.html"),t}},function(e,t){e.exports=function(e,t){return function(n){return e(t(n))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments[1];switch(t.type){case a.BEGIN_DRAG:return{initialSourceClientOffset:t.sourceClientOffset,initialClientOffset:t.clientOffset,clientOffset:t.clientOffset};case a.HOVER:return function(e,t){if(e===t)return!0;return e&&t&&e.x===t.x&&e.y===t.y}(e.clientOffset,t.clientOffset)?e:r({},e,{clientOffset:t.clientOffset});case a.END_DRAG:case a.DROP:return i;default:return e}},t.getSourceClientOffset=function(e){var t=e.clientOffset,n=e.initialClientOffset,r=e.initialSourceClientOffset;if(!t||!n||!r)return null;return{x:t.x+r.x-n.x,y:t.y+r.y-n.y}},t.getDifferenceFromInitialOffset=function(e){var t=e.clientOffset,n=e.initialClientOffset;if(!t||!n)return null;return{x:t.x-n.x,y:t.y-n.y}};var a=n(275),i={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,i.default)(e)?e.some(function(e){return e===t}):e===t};var r,a=n(60),i=(r=a)&&r.__esModule?r:{default:r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e=arguments[1],t=arguments[2];switch(e.type){case i.HOVER:break;case o.ADD_SOURCE:case o.ADD_TARGET:case o.REMOVE_TARGET:case o.REMOVE_SOURCE:return c;case i.BEGIN_DRAG:case i.PUBLISH_DRAG_SOURCE:case i.END_DRAG:case i.DROP:default:return l}var n=e.targetIds,a=t.targetIds,s=(0,r.default)(n,a),u=!1;if(0===s.length){for(var d=0;d<n.length;d++)if(n[d]!==a[d]){u=!0;break}}else u=!0;if(!u)return c;var p=a[a.length-1],f=n[n.length-1];p!==f&&(p&&s.push(p),f&&s.push(f));return s},t.areDirty=function(e,t){if(e===c)return!1;if(e===l||void 0===t)return!0;return(0,a.default)(t,e).length>0};var r=s(n(1029)),a=s(n(531)),i=n(275),o=n(276);function s(e){return e&&e.__esModule?e:{default:e}}var c=[],l=[]},function(e,t,n){var r=n(139),a=n(1031),i=n(129),o=n(1032),s=i(function(e){var t=r(e,o);return t.length&&t[0]===e[0]?a(t):[]});e.exports=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function(e,t){if(e===t)return!0;if("object"!==(void 0===e?"undefined":r(e))||null===e||"object"!==(void 0===t?"undefined":r(t))||null===t)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(var i=Object.prototype.hasOwnProperty,o=0;o<n.length;o+=1){if(!i.call(t,n[o]))return!1;var s=e[n[o]],c=t[n[o]];if(s!==c||"object"===(void 0===s?"undefined":r(s))||"object"===(void 0===c?"undefined":r(c)))return!1}return!0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.default=function(e){var t,n,h=e.DecoratedComponent,g=e.createHandler,v=e.createMonitor,b=e.createConnector,y=e.registerHandler,E=e.containerDisplayName,_=e.getType,w=e.collect,S=e.options.arePropsEqual,k=void 0===S?f.default:S,C=h.displayName||h.name||"Component",N=(n=t=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.handleChange=r.handleChange.bind(r),r.handleChildRef=r.handleChildRef.bind(r),(0,u.default)("object"===a(r.context.dragDropManager),"Could not find the drag and drop manager in the context of %s. Make sure to wrap the top-level component of your app with DragDropContext. Read more: http://react-dnd.github.io/react-dnd/docs-troubleshooting.html#could-not-find-the-drag-and-drop-manager-in-the-context",C,C),r.manager=r.context.dragDropManager,r.handlerMonitor=v(r.manager),r.handlerConnector=b(r.manager.getBackend()),r.handler=g(r.handlerMonitor),r.disposable=new l.SerialDisposable,r.receiveProps(e),r.state=r.getCurrentState(),r.dispose(),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"getHandlerId",value:function(){return this.handlerId}},{key:"getDecoratedComponentInstance",value:function(){return this.decoratedComponentInstance}},{key:"shouldComponentUpdate",value:function(e,t){return!k(e,this.props)||!(0,p.default)(t,this.state)}}]),i(t,[{key:"componentDidMount",value:function(){this.isCurrentlyMounted=!0,this.disposable=new l.SerialDisposable,this.currentType=null,this.receiveProps(this.props),this.handleChange()}},{key:"componentWillReceiveProps",value:function(e){k(e,this.props)||(this.receiveProps(e),this.handleChange())}},{key:"componentWillUnmount",value:function(){this.dispose(),this.isCurrentlyMounted=!1}},{key:"receiveProps",value:function(e){this.handler.receiveProps(e),this.receiveType(_(e))}},{key:"receiveType",value:function(e){if(e!==this.currentType){this.currentType=e;var t=y(e,this.handler,this.manager),n=t.handlerId,r=t.unregister;this.handlerId=n,this.handlerMonitor.receiveHandlerId(n),this.handlerConnector.receiveHandlerId(n);var a=this.manager.getMonitor(),i=a.subscribeToStateChange(this.handleChange,{handlerIds:[n]});this.disposable.setDisposable(new l.CompositeDisposable(new l.Disposable(i),new l.Disposable(r)))}}},{key:"handleChange",value:function(){if(this.isCurrentlyMounted){var e=this.getCurrentState();(0,p.default)(e,this.state)||this.setState(e)}}},{key:"dispose",value:function(){this.disposable.dispose(),this.handlerConnector.receiveHandlerId(null)}},{key:"handleChildRef",value:function(e){this.decoratedComponentInstance=e,this.handler.receiveComponent(e)}},{key:"getCurrentState",value:function(){var e=w(this.handlerConnector.hooks,this.handlerMonitor);return e}},{key:"render",value:function(){return s.default.createElement(h,r({},this.props,this.state,{ref:m(h)?this.handleChildRef:null}))}}]),t}(o.Component),t.DecoratedComponent=h,t.displayName=E+"("+C+")",t.contextTypes={dragDropManager:c.default.object.isRequired},n);return(0,d.default)(N,h)};var o=n(0),s=h(o),c=h(n(11)),l=n(1045),u=(h(n(94)),h(n(73))),d=h(n(391)),p=h(n(392)),f=h(n(532));function h(e){return e&&e.__esModule?e:{default:e}}var m=function(e){return Boolean(e&&e.prototype&&"function"==typeof e.prototype.render)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t={};return Object.keys(e).forEach(function(n){var r=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if((0,a.isValidElement)(t)){var r=t;!function(e){if("string"!=typeof e.type){var t=e.type.displayName||e.type.name||"the component";throw new Error("Only native element nodes can now be passed to React DnD connectors.You can either wrap "+t+" into a <div>, or turn it into a drag source or a drop target itself.")}}(r);var i=n?function(t){return e(t,n)}:e;return(0,o.default)(r,i)}var s=t;e(s,n)}}(e[n]);t[n]=function(){return r}}),t};var r,a=n(0),i=n(1053),o=(r=i)&&r.__esModule?r:{default:r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(t===e)return!0;return null!==t&&null!==e&&(0,i.default)(t,e)};var r,a=n(392),i=(r=a)&&r.__esModule?r:{default:r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function e(t,n){return"string"==typeof t||"symbol"===(void 0===t?"undefined":r(t))||n&&(0,o.default)(t)&&t.every(function(t){return e(t,!1)})};var a,i=n(60),o=(a=i)&&a.__esModule?a:{default:a}},function(e,t){e.exports=function(e,t,n,r){for(var a=e.length,i=n+(r?1:-1);r?i--:++i<a;)if(t(e[i],i,e))return i;return-1}},function(e,t,n){var r=n(1063),a=n(1113),i=n(289),o=n(86),s=n(1120);e.exports=function(e){return"function"==typeof e?e:null==e?i:"object"==typeof e?o(e)?a(e[0],e[1]):r(e):s(e)}},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n(43))},function(e,t){var n=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return n.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},function(e,t,n){var r=n(1093),a=n(109);e.exports=function e(t,n,i,o,s){return t===n||(null==t||null==n||!a(t)&&!a(n)?t!=t&&n!=n:r(t,n,i,o,e,s))}},function(e,t,n){var r=n(1094),a=n(1097),i=n(1098),o=1,s=2;e.exports=function(e,t,n,c,l,u){var d=n&o,p=e.length,f=t.length;if(p!=f&&!(d&&f>p))return!1;var h=u.get(e);if(h&&u.get(t))return h==t;var m=-1,g=!0,v=n&s?new r:void 0;for(u.set(e,t),u.set(t,e);++m<p;){var b=e[m],y=t[m];if(c)var E=d?c(y,b,m,t,e,u):c(b,y,m,e,t,u);if(void 0!==E){if(E)continue;g=!1;break}if(v){if(!a(t,function(e,t){if(!i(v,t)&&(b===e||l(b,e,n,c,u)))return v.push(t)})){g=!1;break}}else if(b!==y&&!l(b,y,n,c,u)){g=!1;break}}return u.delete(e),u.delete(t),g}},function(e,t,n){var r=n(93).Uint8Array;e.exports=r},function(e,t,n){var r=n(545),a=n(397),i=n(284);e.exports=function(e){return r(e,i,a)}},function(e,t,n){var r=n(396),a=n(86);e.exports=function(e,t,n){var i=t(e);return a(e)?i:r(i,n(e))}},function(e,t){e.exports=function(){return[]}},function(e,t,n){var r=n(1104),a=n(285),i=n(86),o=n(286),s=n(287),c=n(398),l=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=i(e),u=!n&&a(e),d=!n&&!u&&o(e),p=!n&&!u&&!d&&c(e),f=n||u||d||p,h=f?r(e.length,String):[],m=h.length;for(var g in e)!t&&!l.call(e,g)||f&&("length"==g||d&&("offset"==g||"parent"==g)||p&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||s(g,m))||h.push(g);return h}},function(e,t,n){var r=n(402),a=n(1108),i=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return a(e);var t=[];for(var n in Object(e))i.call(e,n)&&"constructor"!=n&&t.push(n);return t}},function(e,t){e.exports=function(e,t){return function(n){return e(t(n))}}},function(e,t,n){var r=n(171)(n(93),"WeakMap");e.exports=r},function(e,t,n){var r=n(118);e.exports=function(e){return e==e&&!r(e)}},function(e,t){e.exports=function(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}}},function(e,t,n){var r=n(554),a=n(229);e.exports=function(e,t){for(var n=0,i=(t=r(t,e)).length;null!=e&&n<i;)e=e[a(t[n++])];return n&&n==i?e:void 0}},function(e,t,n){var r=n(86),a=n(403),i=n(555),o=n(556);e.exports=function(e,t){return r(e)?e:a(e,t)?[e]:i(o(e))}},function(e,t,n){var r=n(1114),a=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,o=r(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(a,function(e,n,r,a){t.push(r?a.replace(i,"$1"):n||e)}),t});e.exports=o},function(e,t,n){var r=n(1116);e.exports=function(e){return null==e?"":r(e)}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,a=Array(r);++n<r;)a[n]=t(e[n],n,e);return a}},function(e,n,r){"use strict";(function(e){var a=r(2),i=r.n(a),o=r(18),s=r.n(o),c=r(4),l=r.n(c),u=r(5),d=r.n(u),p=r(6),f=r.n(p),h=r(7),m=r.n(h),g=r(1),v=r.n(g),b=r(8),y=r.n(b),E=r(0),_=r.n(E),w=r(12),S=r(9),k=r(58),C=r(20),N=r(71),O=r(213),x=function(n){function r(t){var n;return l()(this,r),(n=f()(this,m()(r).call(this,t))).defaultConfig=e.Editor.config.default,n.frontId="flipcard_".concat(t.id,"_front"),n.backId="flipcard_".concat(t.id,"_back"),n.handleUpdate=Object(S.debounce)(300,t.handleUpdate.bind(v()(n))),n}return y()(r,n),d()(r,[{key:"componentDidMount",value:function(){var e=this.frontId,n=this.backId;this.initializeRedactor(e,"front",t("lessons.editor.flipcard.front")),this.initializeRedactor(n,"back",t("lessons.editor.flipcard.back"))}},{key:"initializeRedactor",value:function(e,t,n){var r=this.props,a=this.handleUpdate,o=this.sharedRedactorConfig,c=r.applyChanges;$R("#".concat(e),s()({},o,{placeholder:n,toolbarFixed:!1,callbacks:{changed:function(e){var n=i()({},t,e||this.code.get());c(n),a(n)}}}))}},{key:"render",value:function(){var e=this.props,n=this.frontId,r=this.backId,a=e.content,i=e.handleUpdate,o=e.title,s=e.handleImageChange,c=e.id,l=e.hasImageOnFlipcardAndRevealFeature,u=a.front,d=a.instruction,p=a.back,f=a.content_image,h=a.alt_content_image;return _.a.createElement("div",{className:"EditorElement-content FlipcardElement"},_.a.createElement("div",{className:"EditorElement-header"},_.a.createElement("div",{className:"EditorElement-title",children:o})),_.a.createElement("div",{className:"EditorElement-body"},_.a.createElement("div",{className:"FlipcardElement-front"},_.a.createElement("h4",{className:"EditorElement-label"},t("lessons.editor.flipcard.front_label")),_.a.createElement("div",{className:"FlipcardElement-contentArea"},_.a.createElement("textarea",{id:n,defaultValue:u}),_.a.createElement(k.a,{className:"EditorElement-input EditorElement-input--small",placeholder:t("lessons.editor.flipcard.secondary_front"),value:d,onChange:function(e){return i({instruction:e})},singleLine:!0}))),l&&_.a.createElement(O.a,{className:"FlipcardElement-image",labelClassName:"FlipcardElement-label",label:t("lessons.editor.flipcard.content_image.label"),hint:t("lessons.editor.flipcard.content_image.hint"),elementId:c,image:f,imageType:"content",handleImageChange:s}),_.a.createElement("div",{className:"FlipcardElement-back"},_.a.createElement("h4",{className:"EditorElement-label"},t("lessons.editor.flipcard.back_label")),_.a.createElement("div",{className:"FlipcardElement-contentArea"},_.a.createElement("textarea",{id:r,defaultValue:p})))),_.a.createElement("div",{className:"EditorElement-footer"},_.a.createElement("div",{className:"EditorElement-hint"},t("lessons.editor.flipcard.back_hint")),l&&_.a.createElement(O.a,{className:"FlipcardElement-image",labelClassName:"FlipcardElement-label",label:t("lessons.editor.flipcard.alt_content_image.label"),hint:t("lessons.editor.flipcard.alt_content_image.hint"),elementId:c,image:h,imageType:"alt_content",handleImageChange:s})))}},{key:"sharedRedactorConfig",get:function(){var e=this.props,t=this.defaultConfig,n=e.canEditAsHtml;return s()({},t,{plugins:Object(S.pull)("table",t.plugins).concat(["alignment","toolbar_icon","source_button","toolbar_tooltips","strip_nbsp"]),buttons:["bold","italic","ul","ol","indent","outdent","link","html","underline"],minHeight:"128px",toolbarFixed:!1,source:n})}}]),r}(E.Component);n.a=Object(S.compose)(Object(w.b)(function(e){return{canEditAsHtml:Object(C.j)(e,"can_edit_as_html"),hasImageOnFlipcardAndRevealFeature:Object(C.j)(e,"image_library")&&Object(C.j)(e,"image_on_flipcard_and_reveal")}}),N.a)(x)}).call(this,r(43))},function(e,t,n){"use strict";(function(e){var r=n(18),a=n.n(r),i=n(4),o=n.n(i),s=n(5),c=n.n(s),l=n(6),u=n.n(l),d=n(7),p=n.n(d),f=n(1),h=n.n(f),m=n(8),g=n.n(m),v=n(2),b=n.n(v),y=n(0),E=n.n(y),w=n(32),S=n.n(w),k=n(15),C=n.n(k),N=n(20),O=n(71),x=function(t){function n(t,r){var a,i=r.store;return o()(this,n),(a=u()(this,p()(n).call(this,t))).paragraphId="paragraph_".concat(t.id),a.defaultConfig=e.Editor.config.default,a.canEditAsHtml=Object(N.j)(i.getState(),"can_edit_as_html"),a.handleUpdate=_.debounce(t.handleUpdate.bind(h()(a)),300),a}return g()(n,t),c()(n,[{key:"initializeRedactor",value:function(){var e=this.props,t=this.handleUpdate,n=this.paragraphId,r=this.plugins,i=this.formattingAdd,o=this.defaultConfig,s=this.canEditAsHtml,c=e.applyChanges,l=a()({},o,{plugins:r,formattingAdd:i,source:s,callbacks:{changed:function(e){var n={body:e||this.code.get()};c(n),t(n)}}});$R("#".concat(n),l)}},{key:"componentDidMount",value:function(){this.initializeRedactor()}},{key:"render",value:function(){var e=C()("EditorElement-content",{"no-fixed":this.props.isDragging});return E.a.createElement("div",{className:e},E.a.createElement("textarea",{id:this.paragraphId,defaultValue:this.props.content.body}))}},{key:"plugins",get:function(){return this.defaultConfig.plugins.concat(["alignment","inlineCode","toolbar_icon","source_button","toolbar_tooltips","strip_nbsp"])}},{key:"formattingAdd",get:function(){var e=this.defaultConfig.formattingAdd;return a()({},e,{pre:{title:"Code Block",api:"module.block.format",args:{tag:"pre"}}})}}]),n}(y.Component);b()(x,"contextTypes",{store:S.a.object}),t.a=Object(O.a)(x)}).call(this,n(43))},function(e,n,r){"use strict";(function(e){var a=r(2),i=r.n(a),o=r(18),s=r.n(o),c=r(4),l=r.n(c),u=r(5),d=r.n(u),p=r(6),f=r.n(p),h=r(7),m=r.n(h),g=r(1),v=r.n(g),b=r(8),y=r.n(b),E=r(0),_=r.n(E),w=r(12),S=r(9),k=r(15),C=r.n(k),N=r(58),O=r(20),x=r(71),T=r(213),R=function(n){function r(t){var n;return l()(this,r),(n=f()(this,m()(r).call(this,t))).defaultConfig=e.Editor.config.default,n.subjectId="reveal_".concat(t.id,"_subject"),n.contentId="reveal_".concat(t.id,"_content"),n.handleUpdate=Object(S.debounce)(300,t.handleUpdate.bind(v()(n))),n}return y()(r,n),d()(r,[{key:"componentDidMount",value:function(){var e=this.subjectId,n=this.contentId;this.initializeRedactor(e,"subject",t("lessons.editor.reveal.subject")),this.initializeRedactor(n,"body",t("lessons.editor.reveal.body"))}},{key:"initializeRedactor",value:function(e,t,n){var r=this.props,a=this.handleUpdate,o=this.sharedRedactorConfig,c=r.applyChanges;$R("#".concat(e),s()({},o,{placeholder:n,toolbarFixed:!1,callbacks:{changed:function(e){var n=i()({},t,e||this.code.get());c(n),a(n)}}}))}},{key:"render",value:function(){var e=this.props,n=this.subjectId,r=this.contentId,a=e.content,i=e.handleUpdate,o=e.title,s=e.handleImageChange,c=e.id,l=e.hasImageOnFlipcardAndRevealFeature,u=a.subject,d=a.instruction,p=a.body,f=a.content_image,h=a.alt_content_image;return _.a.createElement("div",{className:"EditorElement-content RevealElement"},_.a.createElement("div",{className:"EditorElement-header"},_.a.createElement("div",{className:"EditorElement-title",children:o})),_.a.createElement("div",{className:"EditorElement-body"},_.a.createElement("textarea",{id:n,defaultValue:u}),_.a.createElement(N.a,{className:"EditorElement-input EditorElement-input--small",placeholder:t("lessons.editor.reveal.secondary_subject"),value:d,onChange:function(e){return i({instruction:e})},singleLine:!0}),l&&_.a.createElement(T.a,{className:"RevealElement-image",labelClassName:"RevealElement-label",label:t("lessons.editor.reveal.content_image.label"),hint:t("lessons.editor.reveal.content_image.hint"),elementId:c,image:f,imageType:"content",handleImageChange:s}),_.a.createElement("textarea",{id:r,defaultValue:p})),_.a.createElement("div",{className:C()("EditorElement-footer",{"bb-0 bdrs-0":l})},_.a.createElement("div",{className:"EditorElement-hint"},t("lessons.editor.reveal.body_hint"))),l&&_.a.createElement(T.a,{className:"RevealElement-image RevealElement-footer",labelClassName:"RevealElement-label",label:t("lessons.editor.reveal.alt_content_image.label"),hint:t("lessons.editor.reveal.alt_content_image.hint"),elementId:c,image:h,imageType:"alt_content",handleImageChange:s}))}},{key:"sharedRedactorConfig",get:function(){var e=this.props,t=this.defaultConfig,n=e.canEditAsHtml;return s()({},t,{plugins:Object(S.pull)("table",t.plugins).concat(["alignment","toolbar_icon","source_button","toolbar_tooltips","strip_nbsp"]),buttons:["bold","italic","ul","ol","indent","outdent","link","html","underline"],minHeight:"128px",toolbarFixed:!1,source:n})}}]),r}(E.Component);n.a=Object(S.compose)(Object(w.b)(function(e){return{canEditAsHtml:Object(O.j)(e,"can_edit_as_html"),hasImageOnFlipcardAndRevealFeature:Object(O.j)(e,"image_library")&&Object(O.j)(e,"image_on_flipcard_and_reveal")}}),x.a)(R)}).call(this,r(43))},function(e,t,n){"use strict";t.__esModule=!0;var r=o(n(1131)),a=o(n(1133)),i="function"==typeof a.default&&"symbol"==typeof r.default?function(e){return typeof e}:function(e){return e&&"function"==typeof a.default&&e.constructor===a.default&&e!==a.default.prototype?"symbol":typeof e};function o(e){return e&&e.__esModule?e:{default:e}}t.default="function"==typeof a.default&&"symbol"===i(r.default)?function(e){return void 0===e?"undefined":i(e)}:function(e){return e&&"function"==typeof a.default&&e.constructor===a.default&&e!==a.default.prototype?"symbol":void 0===e?"undefined":i(e)}},function(e,t,n){var r=n(492),a=n(366).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,a)}},function(e,t,n){var r=n(259),a=n(218),i=n(182),o=n(359),s=n(168),c=n(490),l=Object.getOwnPropertyDescriptor;t.f=n(128)?l:function(e,t){if(e=i(e),t=o(t,!0),c)try{return l(e,t)}catch(e){}if(s(e,t))return a(!r.f.call(e,t),e[t])}},function(e,t,n){var r=n(266),a=n(1147),i=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return a(e);var t=[];for(var n in Object(e))i.call(e,n)&&"constructor"!=n&&t.push(n);return t}},function(e,t,n){var r=n(1148),a=n(88);e.exports=function(e){return null==e?[]:r(e,a(e))}},function(e,t,n){(function(e){var r=n(85),a=t&&!t.nodeType&&t,i=a&&"object"==typeof e&&e&&!e.nodeType&&e,o=i&&i.exports===a?r.Buffer:void 0,s=o?o.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=s?s(n):new e.constructor(n);return e.copy(r),r}}).call(this,n(144)(e))},function(e,t){e.exports=function(){return[]}},function(e,t,n){var r=n(381),a=n(389),i=n(409),o=n(567),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,i(e)),e=a(e);return t}:o;e.exports=s},function(e,t,n){var r=n(570),a=n(409),i=n(88);e.exports=function(e){return r(e,i,a)}},function(e,t,n){var r=n(381),a=n(60);e.exports=function(e,t,n){var i=t(e);return a(e)?i:r(i,n(e))}},function(e,t,n){var r=n(170)(n(85),"WeakMap");e.exports=r},function(e,t,n){var r=n(85).Uint8Array;e.exports=r},function(e,t,n){var r=n(411);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},function(e,t,n){var r=n(298),a=n(389),i=n(266);e.exports=function(e){return"function"!=typeof e.constructor||i(e)?{}:r(a(e))}},function(e,t){e.exports=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}},function(e,t){e.exports=function(e,t,n){var r=-1,a=e.length;t<0&&(t=-t>a?0:a+t),(n=n>a?a:n)<0&&(n+=a),a=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(a);++r<a;)i[r]=e[r+t];return i}},function(e,t,n){var r=n(578),a=n(513),i=n(377);e.exports=function(e){return i(a(e,void 0,r),e+"")}},function(e,t,n){var r=n(267);e.exports=function(e){return null!=e&&e.length?r(e,1):[]}},function(e,t,n){var r=n(268),a=n(1176),i=n(274),o=1,s=2;e.exports=function(e,t,n,c,l,u){var d=n&o,p=e.length,f=t.length;if(p!=f&&!(d&&f>p))return!1;var h=u.get(e);if(h&&u.get(t))return h==t;var m=-1,g=!0,v=n&s?new r:void 0;for(u.set(e,t),u.set(t,e);++m<p;){var b=e[m],y=t[m];if(c)var E=d?c(y,b,m,t,e,u):c(b,y,m,e,t,u);if(void 0!==E){if(E)continue;g=!1;break}if(v){if(!a(t,function(e,t){if(!i(v,t)&&(b===e||l(b,e,n,c,u)))return v.push(t)})){g=!1;break}}else if(b!==y&&!l(b,y,n,c,u)){g=!1;break}}return u.delete(e),u.delete(t),g}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=d(n(73)),i=n(300),o=d(n(581)),s=n(582),c=n(583),l=d(n(584)),u=d(n(1180));function d(e){return e&&e.__esModule?e:{default:e}}function p(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var f=function(e){var t=e&&(0,i.keys)(e)[0];return t&&t.split("__")[0].split("--")[0]},h=function(e,t,n){if(e){var r=e.split(" ")[0],a=[].concat(p(0===t.length?n.map(function(e){return r+"--"+e.substring(1)}):[]),p(t.map(function(e){return r+"__"+e})));return 0===t.length?[e].concat(p(a)):a}};t.default=function e(t){var n=t.style,d=t.className,m=t.classNames,g=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.default,v=d||f(m),b="function"==typeof n?n:(0,u.default)(function(t,o){var u=(0,l.default)(t);(0,a.default)(Array.isArray(u),"First parameter must be a string, an array of strings, a plain object with boolean values, or a falsy value."),(0,a.default)(!o||(0,i.isPlainObject)(o),"Optional second parameter must be a plain object.");var d=u.filter(c.isModifier),f=u.filter(c.isElement),b=f.length>0?function(e){return(0,i.values)((0,s.pickNestedStyles)(e,f))}:function(e){return[e]},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return b((0,s.hoistModifierStylesRecursive)(e,d))},E=h(v,f,d);return e(r({},(n||o)&&{style:i.merge.apply(void 0,[{}].concat(p(y(o)),p(y(n))))},E&&{className:E.join(" ")},m&&{classNames:m}),g)}),y=r({},"function"==typeof n?n:{style:n}),E=[].concat(p(y.className?y.className.split(" "):[]),p(v?v.split(" "):[])),_=m?(0,i.compact)(E.map(function(e){return m[e]})):E,w=g(r({},y,_.length>0?{className:_.join(" ")}:{}));return(0,i.assign)(b,w),b},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(582),i=["animationName"];t.default=function(e){var t=e.style,n=e.className;return r({},t?{style:(0,a.pickDirectStyles)(t,i)}:{},n?{className:n}:{})},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hoistModifierStylesRecursive=t.pickNestedStyles=t.pickDirectStyles=void 0;var r=n(300),a=n(583);var i=function(e){return e.replace(/-(\w)/g,function(e,t){return t.toUpperCase()})},o=(t.pickDirectStyles=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=(0,r.keys)(e),a={},i=0,o=n.length;i<o;i+=1){var s=n[i];("[object Object]"!==Object.prototype.toString.call(e[s])||":"===s[0]||"@"===s[0]||t.indexOf(s)>=0)&&(a[s]=e[s])}return a},t.pickNestedStyles=function(e,t){for(var n=t.map(i),a=(0,r.keys)(e),o={},s=0,c=a.length;s<c;s+=1){var l=a[s];(t.indexOf(l)>=0||n.indexOf(i(l))>=0)&&(o[l]=e[l])}return o});t.hoistModifierStylesRecursive=function e(t,n){for(var i=r.merge.apply(void 0,[{},(0,r.omit)(t,n)].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}((0,r.values)(o(t,n))))),s=(0,r.keys)(i).filter(a.isModifier),c=0,l=s.length;c<l;c+=1){var u=s[c],d=e(i[u],n);n.indexOf(u)>=0?(delete i[u],i=(0,r.merge)({},i,d)):i[u]=d}return i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=t.isModifier=function(e){return"&"===e[0]};t.isElement=function(e){return!r(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(300);t.default=function(e){if(!e)return[];if("string"==typeof e)return[e];if(!Array.isArray(e)){var t=e;return(0,r.keys)(e).reduce(function(e,n){return e.concat(t[n]?[n]:[])},[])}return e},e.exports=t.default},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.ContextTypes=t.PropTypes=t.PROPS_DECORATOR_CONTEXT_NAME=t.ENHANCER_CONTEXT_NAME=void 0;var a,i=n(11),o=(a=i)&&a.__esModule?a:{default:a};!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);t.default=e}(n(0));function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=t.ENHANCER_CONTEXT_NAME="__substyle__enhancer",l=t.PROPS_DECORATOR_CONTEXT_NAME="__substyle__propsDecorator",u=o.default.oneOfType([o.default.func,o.default.object]),d=o.default.objectOf(o.default.string);t.PropTypes={style:u,className:o.default.string,classNames:d,innerRef:o.default.oneOfType([o.default.func,o.default.shape({current:"undefined"==typeof Element?o.default.any:o.default.instanceOf(Element)})])},t.ContextTypes=(s(r={},c,o.default.func),s(r,l,o.default.func),r)},function(e,t,n){"use strict";t.__esModule=!0;var r,a=n(371),i=(r=a)&&r.__esModule?r:{default:r};t.default=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return(0,i.default)(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(0)),a=i(n(11));function i(e){return e&&e.__esModule?e:{default:e}}var o=(0,n(193).defaultStyle)({fontWeight:"inherit"})(function(e){var t=e.display,n=e.style;return r.default.createElement("strong",n,t)});o.propTypes={onAdd:a.default.func,onRemove:a.default.func,renderSuggestion:a.default.func,trigger:a.default.oneOfType([a.default.string,a.default.instanceOf(RegExp)]),isLoading:a.default.bool},o.defaultProps={trigger:"@",onAdd:function(){return null},onRemove:function(){return null},renderSuggestion:null,isLoading:!1,appendSpaceOnAdd:!1},t.default=o},function(e,t,n){var r=n(289),a=n(589),i=a?function(e,t){return a.set(e,t),e}:r;e.exports=i},function(e,t,n){var r=n(550),a=r&&new r;e.exports=a},function(e,t,n){var r=n(591),a=n(592),i=n(1194),o=n(301),s=n(593),c=n(600),l=n(1207),u=n(425),d=n(93),p=1,f=2,h=8,m=16,g=128,v=512;e.exports=function e(t,n,b,y,E,_,w,S,k,C){var N=n&g,O=n&p,x=n&f,T=n&(h|m),R=n&v,P=x?void 0:o(t);return function p(){for(var f=arguments.length,h=Array(f),m=f;m--;)h[m]=arguments[m];if(T)var g=c(p),v=i(h,g);if(y&&(h=r(h,y,E,T)),_&&(h=a(h,_,w,T)),f-=v,T&&f<C){var I=u(h,g);return s(t,n,e,p.placeholder,b,h,I,S,k,C-f)}var A=O?b:this,M=x?A[t]:t;return f=h.length,S?h=l(h,S):R&&f>1&&h.reverse(),N&&k<f&&(h.length=k),this&&this!==d&&this instanceof p&&(M=P||o(M)),M.apply(A,h)}}},function(e,t){var n=Math.max;e.exports=function(e,t,r,a){for(var i=-1,o=e.length,s=r.length,c=-1,l=t.length,u=n(o-s,0),d=Array(l+u),p=!a;++c<l;)d[c]=t[c];for(;++i<s;)(p||i<o)&&(d[r[i]]=e[i]);for(;u--;)d[c++]=e[i++];return d}},function(e,t){var n=Math.max;e.exports=function(e,t,r,a){for(var i=-1,o=e.length,s=-1,c=r.length,l=-1,u=t.length,d=n(o-c,0),p=Array(d+u),f=!a;++i<d;)p[i]=e[i];for(var h=i;++l<u;)p[h+l]=t[l];for(;++s<c;)(f||i<o)&&(p[h+r[s]]=e[i++]);return p}},function(e,t,n){var r=n(594),a=n(596),i=n(598),o=1,s=2,c=4,l=8,u=32,d=64;e.exports=function(e,t,n,p,f,h,m,g,v,b){var y=t&l;t|=y?u:d,(t&=~(y?d:u))&c||(t&=~(o|s));var E=[e,t,f,y?h:void 0,y?m:void 0,y?void 0:h,y?void 0:m,g,v,b],_=n.apply(void 0,E);return r(e)&&a(_,E),_.placeholder=p,i(_,e,t)}},function(e,t,n){var r=n(419),a=n(421),i=n(595),o=n(1196);e.exports=function(e){var t=i(e),n=o[t];if("function"!=typeof n||!(t in r.prototype))return!1;if(e===n)return!0;var s=a(n);return!!s&&e===s[0]}},function(e,t,n){var r=n(1195),a=Object.prototype.hasOwnProperty;e.exports=function(e){for(var t=e.name+"",n=r[t],i=a.call(r,t)?n.length:0;i--;){var o=n[i],s=o.func;if(null==s||s==e)return o.name}return t}},function(e,t,n){var r=n(588),a=n(597)(r);e.exports=a},function(e,t){var n=800,r=16,a=Date.now;e.exports=function(e){var t=0,i=0;return function(){var o=a(),s=r-(o-i);if(i=o,s>0){if(++t>=n)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}},function(e,t,n){var r=n(1198),a=n(1199),i=n(423),o=n(1202);e.exports=function(e,t,n){var s=t+"";return i(e,a(s,o(r(s),n)))}},function(e,t,n){var r=n(171),a=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=a},function(e,t){e.exports=function(e){return e.placeholder}},function(e,t,n){var r=n(234),a=n(284);e.exports=function(e,t){return e&&r(t,a(t),e)}},function(e,t,n){var r=n(426),a=n(226),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var o=e[t];i.call(e,t)&&a(o,n)&&(void 0!==n||t in e)||r(e,t,n)}},function(e,t,n){var r=n(278),a=n(424),i=n(602),o=n(601),s=n(1211),c=n(604),l=n(233),u=n(1214),d=n(1215),p=n(544),f=n(1216),h=n(227),m=n(1217),g=n(1218),v=n(607),b=n(86),y=n(286),E=n(1222),_=n(118),w=n(1224),S=n(284),k=1,C=2,N=4,O="[object Arguments]",x="[object Function]",T="[object GeneratorFunction]",R="[object Object]",P={};P[O]=P["[object Array]"]=P["[object ArrayBuffer]"]=P["[object DataView]"]=P["[object Boolean]"]=P["[object Date]"]=P["[object Float32Array]"]=P["[object Float64Array]"]=P["[object Int8Array]"]=P["[object Int16Array]"]=P["[object Int32Array]"]=P["[object Map]"]=P["[object Number]"]=P[R]=P["[object RegExp]"]=P["[object Set]"]=P["[object String]"]=P["[object Symbol]"]=P["[object Uint8Array]"]=P["[object Uint8ClampedArray]"]=P["[object Uint16Array]"]=P["[object Uint32Array]"]=!0,P["[object Error]"]=P[x]=P["[object WeakMap]"]=!1,e.exports=function e(t,n,I,A,M,D){var j,L=n&k,F=n&C,B=n&N;if(I&&(j=M?I(t,A,M,D):I(t)),void 0!==j)return j;if(!_(t))return t;var U=b(t);if(U){if(j=m(t),!L)return l(t,j)}else{var H=h(t),q=H==x||H==T;if(y(t))return c(t,L);if(H==R||H==O||q&&!M){if(j=F||q?{}:v(t),!L)return F?d(t,s(j,t)):u(t,o(j,t))}else{if(!P[H])return M?t:{};j=g(t,H,L)}}D||(D=new r);var G=D.get(t);if(G)return G;D.set(t,j),w(t)?t.forEach(function(r){j.add(e(r,n,I,r,t,D))}):E(t)&&t.forEach(function(r,a){j.set(a,e(r,n,I,a,t,D))});var W=B?F?f:p:F?keysIn:S,V=U?void 0:W(t);return a(V||t,function(r,a){V&&(r=t[a=r]),i(j,a,e(r,n,I,a,t,D))}),j}},function(e,t,n){(function(e){var r=n(93),a=t&&!t.nodeType&&t,i=a&&"object"==typeof e&&e&&!e.nodeType&&e,o=i&&i.exports===a?r.Buffer:void 0,s=o?o.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var n=e.length,r=s?s(n):new e.constructor(n);return e.copy(r),r}}).call(this,n(144)(e))},function(e,t,n){var r=n(396),a=n(427),i=n(397),o=n(546),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)r(t,i(e)),e=a(e);return t}:o;e.exports=s},function(e,t,n){var r=n(428);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}},function(e,t,n){var r=n(302),a=n(427),i=n(402);e.exports=function(e){return"function"!=typeof e.constructor||i(e)?{}:r(a(e))}},function(e,t,n){var r=n(172),a=n(427),i=n(109),o="[object Object]",s=Function.prototype,c=Object.prototype,l=s.toString,u=c.hasOwnProperty,d=l.call(Object);e.exports=function(e){if(!i(e)||r(e)!=o)return!1;var t=a(e);if(null===t)return!0;var n=u.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==d}},function(e,t,n){var r=n(1231),a=n(610),i=n(423);e.exports=function(e){return i(a(e,void 0,r),e+"")}},function(e,t,n){var r=n(418),a=Math.max;e.exports=function(e,t,n){return t=a(void 0===t?e.length-1:t,0),function(){for(var i=arguments,o=-1,s=a(i.length-t,0),c=Array(s);++o<s;)c[o]=i[t+o];o=-1;for(var l=Array(t+1);++o<t;)l[o]=i[o];return l[t]=n(c),r(e,this,l)}}},function(e,t,n){var r=n(1239)();e.exports=r},function(e,t,n){var r=n(169);e.exports=function(e){return"function"==typeof e?e:r}},function(e,t,n){var r=n(99);e.exports=function(e){return e==e&&!r(e)}},function(e,t){e.exports=function(e,t){return function(n){return null!=n&&n[e]===t&&(void 0!==t||e in Object(n))}}},function(e,t,n){var r=n(1246),a=n(616);e.exports=function(e,t){return null!=e&&a(e,t,r)}},function(e,t,n){var r=n(191),a=n(223),i=n(60),o=n(221),s=n(379),c=n(192);e.exports=function(e,t,n){for(var l=-1,u=(t=r(t,e)).length,d=!1;++l<u;){var p=c(t[l]);if(!(d=null!=e&&n(e,p)))break;e=e[p]}return d||++l!=u?d:!!(u=null==e?0:e.length)&&s(u)&&o(p,u)&&(i(e)||a(e))}},function(e,t,n){var r=n(304),a=n(138);e.exports=function(e,t){var n=-1,i=a(e)?Array(e.length):[];return r(e,function(e,r,a){i[++n]=t(e,r,a)}),i}},function(e,t,n){var r=n(1252),a=1/0,i=1.7976931348623157e308;e.exports=function(e){return e?(e=r(e))===a||e===-a?(e<0?-1:1)*i:e==e?e:0:0===e?e:0}},function(e,t,n){var r=n(146),a=n(108),i="[object Number]";e.exports=function(e){return"number"==typeof e||a(e)&&r(e)==i}},function(e,t){e.exports=function(e){return void 0===e}},function(e,t,n){var r=n(521),a=n(130),i=n(237),o=Math.max;e.exports=function(e,t,n){var s=null==e?0:e.length;if(!s)return-1;var c=null==n?0:i(n);return c<0&&(c=o(s+c,0)),r(e,a(t,3),c)}},function(e,t,n){var r=n(414),a=n(1255),i=n(1256),o=n(1257),s=n(1258),c=n(413),l=/^\s+|\s+$/g;e.exports=function(e,t,n){if((e=c(e))&&(n||void 0===t))return e.replace(l,"");if(!e||!(t=r(t)))return e;var u=s(e),d=s(t),p=o(u,d),f=i(u,d)+1;return a(u,p,f).join("")}},function(e,t,n){var r=n(230),a=n(186);e.exports=function(e,t,n){(void 0===n||a(e[t],n))&&(void 0!==n||t in e)||r(e,t,n)}},function(e,t){e.exports=function(e,t){if("__proto__"!=t)return e[t]}},function(e,t,n){"use strict";var r=n(194),a=n(1269),i=n(305),o=n(621),s=n(121),c=n(1270),l=n(120),u=n(1272),d=n(147),p=n(240),f=n(264),h=n(431),m=n(184),g=n(1277),v=n(1292),b=n(636),y=n(1295);function E(e){var t={};return r(e,function(e,n){t[e]=n}),t}function _(e,t,n){t&&t[n]&&(e.stats=t[n])}function w(e,t){var n=t[0];this._rawResults=t,this.query=n.query,this.parsedQuery=n.parsedQuery,this.hits=n.hits,this.index=n.index,this.hitsPerPage=n.hitsPerPage,this.nbHits=n.nbHits,this.nbPages=n.nbPages,this.page=n.page,this.processingTimeMS=c(t,"processingTimeMS"),this.aroundLatLng=n.aroundLatLng,this.automaticRadius=n.automaticRadius,this.serverUsed=n.serverUsed,this.timeoutCounts=n.timeoutCounts,this.timeoutHits=n.timeoutHits,this.exhaustiveFacetsCount=n.exhaustiveFacetsCount,this.exhaustiveNbHits=n.exhaustiveNbHits,this.userData=n.userData,this.queryID=n.queryID,this.disjunctiveFacets=[],this.hierarchicalFacets=d(e.hierarchicalFacets,function(){return[]}),this.facets=[];var s=e.getRefinedDisjunctiveFacets(),p=E(e.facets),m=E(e.disjunctiveFacets),g=1,v=this;r(n.facets,function(t,r){var a,s,c=(a=e.hierarchicalFacets,s=r,l(a,function(e){return u(e.attributes,s)}));if(c){var d=c.attributes.indexOf(r),f=o(e.hierarchicalFacets,{name:c.name});v.hierarchicalFacets[f][d]={attribute:r,data:t,exhaustive:n.exhaustiveFacetsCount}}else{var h,g=-1!==i(e.disjunctiveFacets,r),b=-1!==i(e.facets,r);g&&(h=m[r],v.disjunctiveFacets[h]={name:r,data:t,exhaustive:n.exhaustiveFacetsCount},_(v.disjunctiveFacets[h],n.facets_stats,r)),b&&(h=p[r],v.facets[h]={name:r,data:t,exhaustive:n.exhaustiveFacetsCount},_(v.facets[h],n.facets_stats,r))}}),this.hierarchicalFacets=a(this.hierarchicalFacets),r(s,function(a){var s=t[g],c=e.getHierarchicalFacetByName(a);r(s.facets,function(t,a){var l;if(c){l=o(e.hierarchicalFacets,{name:c.name});var u=o(v.hierarchicalFacets[l],{attribute:a});if(-1===u)return;v.hierarchicalFacets[l][u].data=h({},v.hierarchicalFacets[l][u].data,t)}else{l=m[a];var d=n.facets&&n.facets[a]||{};v.disjunctiveFacets[l]={name:a,data:f({},t,d),exhaustive:s.exhaustiveFacetsCount},_(v.disjunctiveFacets[l],s.facets_stats,a),e.disjunctiveFacetsRefinements[a]&&r(e.disjunctiveFacetsRefinements[a],function(t){!v.disjunctiveFacets[l].data[t]&&i(e.disjunctiveFacetsRefinements[a],t)>-1&&(v.disjunctiveFacets[l].data[t]=0)})}}),g++}),r(e.getRefinedHierarchicalFacets(),function(n){var a=e.getHierarchicalFacetByName(n),i=e._getHierarchicalFacetSeparator(a),s=e.getHierarchicalRefinement(n);if(!(0===s.length||s[0].split(i).length<2)){var c=t[g];r(c.facets,function(t,n){var r=o(e.hierarchicalFacets,{name:a.name}),c=o(v.hierarchicalFacets[r],{attribute:n});if(-1!==c){var l={};if(s.length>0){var u=s[0].split(i)[0];l[u]=v.hierarchicalFacets[r][c].data[u]}v.hierarchicalFacets[r][c].data=f(l,t,v.hierarchicalFacets[r][c].data)}}),g++}}),r(e.facetsExcludes,function(e,t){var a=p[t];v.facets[a]={name:t,data:n.facets[t],exhaustive:n.exhaustiveFacetsCount},r(e,function(e){v.facets[a]=v.facets[a]||{name:t},v.facets[a].data=v.facets[a].data||{},v.facets[a].data[e]=0})}),this.hierarchicalFacets=d(this.hierarchicalFacets,y(e)),this.facets=a(this.facets),this.disjunctiveFacets=a(this.disjunctiveFacets),this._state=e}function S(e,t){if(!t.data||0===t.data.length)return t;var n=e(d(t.data,g(S,e)));return h({},t,{data:n})}function k(e,t){return t.sort(e)}function C(e,t){var n=l(e,{name:t});return n&&n.stats}function N(e,t,n,r,a){var i=l(a,{name:n});return{type:t,attributeName:n,name:r,count:s(i,"data["+r+"]")||0,exhaustive:s(i,"exhaustive")||!1}}w.prototype.getFacetByName=function(e){var t={name:e};return l(this.facets,t)||l(this.disjunctiveFacets,t)||l(this.hierarchicalFacets,t)},w.DEFAULT_SORT=["isRefined:desc","count:desc","name:asc"],w.prototype.getFacetValues=function(e,t){var n=function(e,t){var n={name:t};if(e._state.isConjunctiveFacet(t)){var r=l(e.facets,n);return r?d(r.data,function(n,r){return{name:r,count:n,isRefined:e._state.isFacetRefined(t,r),isExcluded:e._state.isExcludeRefined(t,r)}}):[]}if(e._state.isDisjunctiveFacet(t)){var a=l(e.disjunctiveFacets,n);return a?d(a.data,function(n,r){return{name:r,count:n,isRefined:e._state.isDisjunctiveFacetRefined(t,r)}}):[]}if(e._state.isHierarchicalFacet(t))return l(e.hierarchicalFacets,n)}(this,e);if(!n)throw new Error(e+" is not a retrieved facet.");var r=f({},t,{sortBy:w.DEFAULT_SORT});if(Array.isArray(r.sortBy)){var a=b(r.sortBy,w.DEFAULT_SORT);return Array.isArray(n)?p(n,a[0],a[1]):S(v(p,a[0],a[1]),n)}if(m(r.sortBy))return Array.isArray(n)?n.sort(r.sortBy):S(g(k,r.sortBy),n);throw new Error("options.sortBy is optional but if defined it must be either an array of string (predicates) or a sorting function")},w.prototype.getFacetStats=function(e){if(this._state.isConjunctiveFacet(e))return C(this.facets,e);if(this._state.isDisjunctiveFacet(e))return C(this.disjunctiveFacets,e);throw new Error(e+" is not present in `facets` or `disjunctiveFacets`")},w.prototype.getRefinements=function(){var e=this._state,t=this,n=[];return r(e.facetsRefinements,function(a,i){r(a,function(r){n.push(N(e,"facet",i,r,t.facets))})}),r(e.facetsExcludes,function(a,i){r(a,function(r){n.push(N(e,"exclude",i,r,t.facets))})}),r(e.disjunctiveFacetsRefinements,function(a,i){r(a,function(r){n.push(N(e,"disjunctive",i,r,t.disjunctiveFacets))})}),r(e.hierarchicalFacetsRefinements,function(a,i){r(a,function(r){n.push(function(e,t,n,r){for(var a=l(r,{name:t}),i=e.getHierarchicalFacetByName(t),o=n.split(i.separator),c=o[o.length-1],u=0;void 0!==a&&u<o.length;++u)a=l(a.data,{name:o[u]});var d=s(a,"count"),p=s(a,"exhaustive");return{type:"hierarchical",attributeName:t,name:c,count:d||0,exhaustive:p||!1}}(e,i,r,t.hierarchicalFacets))})}),r(e.numericRefinements,function(e,t){r(e,function(e,a){r(e,function(e){n.push({type:"numeric",attributeName:t,name:e,numericValue:e,operator:a})})})}),r(e.tagRefinements,function(e){n.push({type:"tag",attributeName:"_tags",name:e})}),n},e.exports=w},function(e,t,n){var r=n(169),a=n(627),i=a?function(e,t){return a.set(e,t),e}:r;e.exports=i},function(e,t,n){var r=n(571),a=r&&new r;e.exports=a},function(e,t,n){var r=n(629),a=n(630),i=n(1280),o=n(306),s=n(631),c=n(239),l=n(1289),u=n(195),d=n(85),p=1,f=2,h=8,m=16,g=128,v=512;e.exports=function e(t,n,b,y,E,_,w,S,k,C){var N=n&g,O=n&p,x=n&f,T=n&(h|m),R=n&v,P=x?void 0:o(t);return function p(){for(var f=arguments.length,h=Array(f),m=f;m--;)h[m]=arguments[m];if(T)var g=c(p),v=i(h,g);if(y&&(h=r(h,y,E,T)),_&&(h=a(h,_,w,T)),f-=v,T&&f<C){var I=u(h,g);return s(t,n,e,p.placeholder,b,h,I,S,k,C-f)}var A=O?b:this,M=x?A[t]:t;return f=h.length,S?h=l(h,S):R&&f>1&&h.reverse(),N&&k<f&&(h.length=k),this&&this!==d&&this instanceof p&&(M=P||o(M)),M.apply(A,h)}}},function(e,t){var n=Math.max;e.exports=function(e,t,r,a){for(var i=-1,o=e.length,s=r.length,c=-1,l=t.length,u=n(o-s,0),d=Array(l+u),p=!a;++c<l;)d[c]=t[c];for(;++i<s;)(p||i<o)&&(d[r[i]]=e[i]);for(;u--;)d[c++]=e[i++];return d}},function(e,t){var n=Math.max;e.exports=function(e,t,r,a){for(var i=-1,o=e.length,s=-1,c=r.length,l=-1,u=t.length,d=n(o-c,0),p=Array(d+u),f=!a;++i<d;)p[i]=e[i];for(var h=i;++l<u;)p[h+l]=t[l];for(;++s<c;)(f||i<o)&&(p[h+r[s]]=e[i++]);return p}},function(e,t,n){var r=n(1281),a=n(634),i=n(635),o=1,s=2,c=4,l=8,u=32,d=64;e.exports=function(e,t,n,p,f,h,m,g,v,b){var y=t&l;t|=y?u:d,(t&=~(y?d:u))&c||(t&=~(o|s));var E=[e,t,f,y?h:void 0,y?m:void 0,y?void 0:h,y?void 0:m,g,v,b],_=n.apply(void 0,E);return r(e)&&a(_,E),_.placeholder=p,i(_,e,t)}},function(e,t,n){var r=n(627),a=n(385),i=r?function(e){return r.get(e)}:a;e.exports=i},function(e,t,n){var r=n(298),a=n(434);function i(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}i.prototype=r(a.prototype),i.prototype.constructor=i,e.exports=i},function(e,t,n){var r=n(626),a=n(518)(r);e.exports=a},function(e,t,n){var r=n(1286),a=n(1287),i=n(377),o=n(1288);e.exports=function(e,t,n){var s=t+"";return i(e,a(s,o(r(s),n)))}},function(e,t,n){"use strict";var r=n(236),a=n(120),i=n(1293);e.exports=function(e,t){return r(e,function(e,n){var r=n.split(":");if(t&&1===r.length){var o=a(t,function(e){return i(e,n[0])});o&&(r=o.split(":"))}return e[0].push(r[0]),e[1].push(r[1]),e},[[],[]])}},function(e,t,n){var r=n(299),a=n(1297),i=n(191);e.exports=function(e,t,n){for(var o=-1,s=t.length,c={};++o<s;){var l=t[o],u=r(e,l);n(u,l)&&a(c,i(l,e),u)}return c}},function(e,t,n){"use strict";var r,a="object"==typeof Reflect?Reflect:null,i=a&&"function"==typeof a.apply?a.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};r=a&&"function"==typeof a.ownKeys?a.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var o=Number.isNaN||function(e){return e!=e};function s(){s.init.call(this)}e.exports=s,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var c=10;function l(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function u(e,t,n,r){var a,i,o,s;if("function"!=typeof n)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof n);if(void 0===(i=e._events)?(i=e._events=Object.create(null),e._eventsCount=0):(void 0!==i.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),i=e._events),o=i[t]),void 0===o)o=i[t]=n,++e._eventsCount;else if("function"==typeof o?o=i[t]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),(a=l(e))>0&&o.length>a&&!o.warned){o.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=o.length,s=c,console&&console.warn&&console.warn(s)}return e}function d(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},a=function(){for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,i(this.listener,this.target,e))}.bind(r);return a.listener=n,r.wrapFn=a,a}function p(e,t,n){var r=e._events;if(void 0===r)return[];var a=r[t];return void 0===a?[]:"function"==typeof a?n?[a.listener||a]:[a]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(a):h(a,a.length)}function f(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function h(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");c=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return l(this)},s.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,a=this._events;if(void 0!==a)r=r&&void 0===a.error;else if(!r)return!1;if(r){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var s=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var c=a[e];if(void 0===c)return!1;if("function"==typeof c)i(c,this,t);else{var l=c.length,u=h(c,l);for(n=0;n<l;++n)i(u[n],this,t)}return!0},s.prototype.addListener=function(e,t){return u(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return u(this,e,t,!0)},s.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.on(e,d(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);return this.prependListener(e,d(this,e,t)),this},s.prototype.removeListener=function(e,t){var n,r,a,i,o;if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t);if(void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(a=-1,i=n.length-1;i>=0;i--)if(n[i]===t||n[i].listener===t){o=n[i].listener,a=i;break}if(a<0)return this;0===a?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,a),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,o||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var a,i=Object.keys(n);for(r=0;r<i.length;++r)"removeListener"!==(a=i[r])&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},s.prototype.listeners=function(e){return p(this,e,!0)},s.prototype.rawListeners=function(e){return p(this,e,!1)},s.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):f.call(e,t)},s.prototype.listenerCount=f,s.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},function(e,t,n){"use strict";e.exports=function(e,t){e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}},function(e,t,n){"use strict";var r=n(1300),a=n(429),i=n(1303),o=n(1306),s=n(194),c=n(131),l=n(147),u=n(1308),d=n(1309),p=n(238),f=n(94),h=n(89),m=n(641),g=n(435).encode;function v(e){return f(e)?d(e,v):Array.isArray(e)?l(e,v):p(e)?g(e):e}var b=["dFR","fR","nR","hFR","tR"],y=r.ENCODED_PARAMETERS;function E(e,t,n,r){if(null!==e&&(n=n.replace(e,""),r=r.replace(e,"")),n=t[n]||n,r=t[r]||r,-1!==y.indexOf(n)||-1!==y.indexOf(r)){if("q"===n)return-1;if("q"===r)return 1;var a=-1!==b.indexOf(n),i=-1!==b.indexOf(r);if(a&&!i)return 1;if(i&&!a)return-1}return n.localeCompare(r)}t.getStateFromQueryString=function(e,t){var n=t&&t.prefix||"",o=t&&t.mapping||{},s=m(o),l=i.parse(e),d=new RegExp("^"+n),p=u(l,function(e,t){var a=n&&d.test(t)?t.replace(d,""):t;return r.decode(s[a]||a)||a}),f=a._parseNumbers(p);return c(f,a.PARAMETERS)},t.getUnrecognizedParametersInQueryString=function(e,t){var n=t&&t.prefix,a=t&&t.mapping||{},o=m(a),c={},l=i.parse(e);if(n){var u=new RegExp("^"+n);s(l,function(e,t){u.test(t)||(c[t]=e)})}else s(l,function(e,t){r.decode(o[t]||t)||(c[t]=e)});return c},t.getQueryStringFromState=function(e,t){var n=t&&t.moreAttributes,a=t&&t.prefix||"",s=t&&t.mapping||{},c=t&&t.safe||!1,l=m(s),d=c?e:v(e),p=u(d,function(e,t){var n=r.encode(t);return a+(s[n]||n)}),f=""===a?null:new RegExp("^"+a),g=o(E,null,f,l);if(!h(n)){var b=i.stringify(p,{encode:c,sort:g}),y=i.stringify(n,{encode:c});return b?b+"&"+y:y}return i.stringify(p,{encode:c,sort:g})}},function(e,t,n){var r=n(514),a=n(1301),i=n(169),o=Object.prototype.toString,s=a(function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=o.call(t)),e[t]=n},r(i));e.exports=s},function(e,t,n){"use strict";var r=String.prototype.replace,a=/%20/g;e.exports={default:"RFC3986",formatters:{RFC1738:function(e){return r.call(e,a,"+")},RFC3986:function(e){return e}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},function(e,t,n){"use strict";e.exports="2.28.0"},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t,n){e.exports=function(e,t){return function(n,a,i){if("function"==typeof n&&"object"==typeof a||"object"==typeof i)throw new r.AlgoliaSearchError("index.search usage is index.search(query, params, cb)");0===arguments.length||"function"==typeof n?(i=n,n=""):1!==arguments.length&&"function"!=typeof a||(i=a,a=void 0),"object"==typeof n&&null!==n?(a=n,n=void 0):null==n&&(n="");var o,s="";return void 0!==n&&(s+=e+"="+encodeURIComponent(n)),void 0!==a&&(a.additionalUA&&(o=a.additionalUA,delete a.additionalUA),s=this.as._getSearchParams(a,s)),this._search(s,t,i,o)}};var r=n(307)},function(e,t,n){e.exports=function(e,t){var r=n(1316),a=n(196),i={};return a(r(e),function(n){!0!==t(n)&&(i[n]=e[n])}),i}},function(e,t,n){"use strict";var r=Object.prototype.toString;e.exports=function(e){var t=r.call(e),n="[object Arguments]"===t;return n||(n="[object Array]"!==t&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===r.call(e.callee)),n}},function(e,t,n){"use strict";var r=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,n,s){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?i(o(e),function(o){var s=encodeURIComponent(r(o))+n;return a(e[o])?i(e[o],function(e){return s+encodeURIComponent(r(e))}).join(t):s+encodeURIComponent(r(e[o]))}).join(t):s?encodeURIComponent(r(s))+n+encodeURIComponent(r(e)):""};var a=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function i(e,t){if(e.map)return e.map(t);for(var n=[],r=0;r<e.length;r++)n.push(t(e[r],r));return n}var o=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l(n(88)),a=l(n(449)),i=l(n(55)),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=l(n(67)),c=n(74);function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}t.default=(0,s.default)({displayName:"AlgoliaConfigure",getProvidedProps:function(){return{}},getSearchParameters:function(e,t){var n=(0,i.default)(t,"children");return e.setQueryParameters(n)},transitionState:function(e,t,n){var s="configure",l=(0,i.default)(e,"children"),d=this._props?(0,a.default)((0,r.default)(this._props),(0,r.default)(e)):[];this._props=e;var p=u({},s,o({},(0,i.default)(n[s],d),l));return(0,c.refineValue)(n,p,this.context)},cleanUp:function(e,t){var n="configure",r=(0,c.getIndex)(this.context),a=(0,c.hasMultipleIndex)(this.context)&&t.indices?t.indices[r]:t,i=(a&&a[n]?Object.keys(a[n]):[]).reduce(function(t,r){return e[r]||(t[r]=a[n][r]),t},{}),o=u({},n,i);return(0,c.refineValue)(t,o,this.context)}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getId=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=c(n(11)),i=c(n(67)),o=n(173),s=n(74);function c(e){return e&&e.__esModule?e:{default:e}}var l=t.getId=function(e){return e.attributes[0]},u="hierarchicalMenu";function d(e,t,n){return(0,s.getCurrentRefinementValue)(e,t,n,u+"."+l(e),null,function(e){return""===e?null:e})}function p(e,t,n,r){var a=t.id,i=t.attributes,s=t.separator,c=t.rootPath,l=t.showParentLevel,u=d(t,n,r),p=void 0;null===u?p=e:p=new o.SearchParameters({hierarchicalFacets:[{name:a,attributes:i,separator:s,rootPath:c,showParentLevel:l}]}).toggleHierarchicalFacetRefinement(a,u).toggleHierarchicalFacetRefinement(a,e).getHierarchicalRefinement(a)[0];return p}var f=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return t.slice(0,n).map(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Array.isArray(t.items)?r({},t,{items:e(t.items,n)}):t})};function h(e,t,n,r){var a,i,o,c=l(e),d=(o=n||"",(i=c)in(a={})?Object.defineProperty(a,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):a[i]=o,a);return(0,s.refineValue)(t,d,r,!0,u)}var m=["name:asc"];t.default=(0,i.default)({displayName:"AlgoliaHierarchicalMenu",propTypes:{attributes:function(e,t,n){if(!Array.isArray(e[t])||e[t].some(function(e){return"string"!=typeof e})||e[t].length<1)return new Error("Invalid prop "+t+" supplied to "+n+". Expected an Array of Strings")},separator:a.default.string,rootPath:a.default.string,showParentLevel:a.default.bool,defaultRefinement:a.default.string,showMore:a.default.bool,limit:a.default.number,showMoreLimit:a.default.number,transformItems:a.default.func},defaultProps:{showMore:!1,limit:10,showMoreLimit:20,separator:" > ",rootPath:null,showParentLevel:!0},getProvidedProps:function(e,t,n){var r=e.showMore,a=e.limit,i=e.showMoreLimit,o=l(e),c=(0,s.getResults)(n,this.context);if(!(Boolean(c)&&Boolean(c.getFacetByName(o))))return{items:[],currentRefinement:d(e,t,this.context),canRefine:!1};var u=r?i:a,h=c.getFacetValues(o,{sortBy:m}),g=h.data?function e(t,n,r,a){return t.map(function(t){return{label:t.name,value:p(t.path,n,r,a),count:t.count,isRefined:t.isRefined,items:t.data&&e(t.data,n,r,a)}})}(h.data,e,t,this.context):[],v=e.transformItems?e.transformItems(g):g;return{items:f(v,u),currentRefinement:d(e,t,this.context),canRefine:g.length>0}},refine:function(e,t,n){return h(e,t,n,this.context)},cleanUp:function(e,t){return function(e,t,n){return(0,s.cleanUpValue)(t,n,u+"."+l(e))}(e,t,this.context)},getSearchParameters:function(e,t,n){var r=t.attributes,a=t.separator,i=t.rootPath,o=t.showParentLevel,s=t.showMore,c=t.limit,u=t.showMoreLimit,p=l(t),f=s?u:c;e=e.addHierarchicalFacet({name:p,attributes:r,separator:a,rootPath:i,showParentLevel:o}).setQueryParameters({maxValuesPerFacet:Math.max(e.maxValuesPerFacet||0,f)});var h=d(t,n,this.context);return null!==h&&(e=e.toggleHierarchicalFacetRefinement(p,h)),e},getMetadata:function(e,t){var n=this,r=e.attributes[0],a=l(e),i=d(e,t,this.context);return{id:a,index:(0,s.getIndex)(this.context),items:i?[{label:r+": "+i,attribute:r,value:function(t){return h(e,t,"",n.context)},currentRefinement:i}]:[]}}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={highlightPreTag:"<ais-highlight-0000000000>",highlightPostTag:"</ais-highlight-0000000000>"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n(67),i=(r=a)&&r.__esModule?r:{default:r},o=n(74);t.default=(0,i.default)({displayName:"AlgoliaHits",getProvidedProps:function(e,t,n){var r=(0,o.getResults)(n,this.context);return{hits:r?r.hits:[]}},getSearchParameters:function(e){return e}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=s(n(11)),i=s(n(67)),o=n(74);function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n){return(0,o.getCurrentRefinementValue)(e,t,n,"hitsPerPage",null,function(e){return"string"==typeof e?parseInt(e,10):e})}t.default=(0,i.default)({displayName:"AlgoliaHitsPerPage",propTypes:{defaultRefinement:a.default.number.isRequired,items:a.default.arrayOf(a.default.shape({label:a.default.string,value:a.default.number.isRequired})).isRequired,transformItems:a.default.func},getProvidedProps:function(e,t){var n=c(e,t,this.context),a=e.items.map(function(e){return e.value===n?r({},e,{isRefined:!0}):r({},e,{isRefined:!1})});return{items:e.transformItems?e.transformItems(a):a,currentRefinement:n}},refine:function(e,t,n){var r,a,i,s=(i=n,(a="hitsPerPage")in(r={})?Object.defineProperty(r,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[a]=i,r);return(0,o.refineValue)(t,s,this.context,!0)},cleanUp:function(e,t){return(0,o.cleanUpValue)(t,this.context,"hitsPerPage")},getSearchParameters:function(e,t,n){return e.setHitsPerPage(c(t,n,this.context))},getMetadata:function(){return{id:"hitsPerPage"}}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n(67),i=(r=a)&&r.__esModule?r:{default:r},o=n(74);function s(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function c(e,t,n){return(0,o.getCurrentRefinementValue)(e,t,n,"page",1,function(e){return"string"==typeof e&&(e=parseInt(e,10)),e})}t.default=(0,i.default)({displayName:"AlgoliaInfiniteHits",getProvidedProps:function(e,t,n){var r=(0,o.getResults)(n,this.context);if(this._allResults=this._allResults||[],!r)return{hits:[],hasMore:!1};var a=r.hits,i=r.page,c=r.nbPages;0===i?this._allResults=a:i>this.previousPage?this._allResults=[].concat(s(this._allResults),s(a)):i<this.previousPage&&(this._allResults=a);var l=i<c-1;return this.previousPage=i,{hits:this._allResults,hasMore:l}},getSearchParameters:function(e,t,n){return e.setQueryParameters({page:c(t,n,this.context)-1})},refine:function(e,t){var n=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},"page",c(e,t,this.context)+1);return(0,o.refineValue)(t,n,this.context,!1)}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l(n(89)),a=l(n(120)),i=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(a)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),o=l(n(11)),s=n(74),c=l(n(67));function l(e){return e&&e.__esModule?e:{default:e}}function u(e){return void 0===e.start&&void 0===e.end?"":(e.start?e.start:"")+":"+(e.end?e.end:"")}var d="multiRange";function p(e){return e.attribute}function f(e,t,n){return(0,s.getCurrentRefinementValue)(e,t,n,d+"."+p(e),"",function(e){return""===e?"":e})}function h(e,t,n){var r=t.getFacetByName(e)?t.getFacetStats(e):null,a=n.split(":"),i=0===Number(a[0])||""===n?Number.NEGATIVE_INFINITY:Number(a[0]),o=0===Number(a[1])||""===n?Number.POSITIVE_INFINITY:Number(a[1]);return!(Boolean(r)&&(function(e,t,n){return e.min>t&&e.min<n||e.max>t&&e.max<n}(r,i,o)||function(e,t,n){return t>e.min&&t<e.max||n>e.min&&n<e.max}(r,i,o)))}function m(e,t,n,r){var a,i,o,c=(a={},i=p(e),o=n,i in a?Object.defineProperty(a,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):a[i]=o,a);return(0,s.refineValue)(t,c,r,!0,d)}t.default=(0,c.default)({displayName:"AlgoliaNumericMenu",propTypes:{id:o.default.string,attribute:o.default.string.isRequired,items:o.default.arrayOf(o.default.shape({label:o.default.node,start:o.default.number,end:o.default.number})).isRequired,transformItems:o.default.func},getProvidedProps:function(e,t,n){var i=e.attribute,o=f(e,t,this.context),c=(0,s.getResults)(n,this.context),l=e.items.map(function(t){var n=u(t);return{label:t.label,value:n,isRefined:n===o,noRefinement:!!c&&h(p(e),c,n)}}),d=c&&c.getFacetByName(i)?c.getFacetStats(i):null,m=(0,a.default)(l,function(e){return!0===e.isRefined});return l.some(function(e){return""===e.value})||l.push({value:"",isRefined:(0,r.default)(m),noRefinement:!d,label:"All"}),{items:e.transformItems?e.transformItems(l):l,currentRefinement:o,canRefine:l.length>0&&l.some(function(e){return!1===e.noRefinement})}},refine:function(e,t,n){return m(e,t,n,this.context)},cleanUp:function(e,t){return function(e,t,n){return(0,s.cleanUpValue)(t,n,d+"."+p(e))}(e,t,this.context)},getSearchParameters:function(e,t,n){var r=t.attribute,a=function(e){if(0===e.length)return{start:null,end:null};var t=e.split(":"),n=i(t,2),r=n[0],a=n[1];return{start:r.length>0?parseInt(r,10):null,end:a.length>0?parseInt(a,10):null}}(f(t,n,this.context)),o=a.start,s=a.end;return e=e.addDisjunctiveFacet(r),o&&(e=e.addNumericRefinement(r,">=",o)),s&&(e=e.addNumericRefinement(r,"<=",s)),e},getMetadata:function(e,t){var n=this,r=p(e),i=f(e,t,this.context),o=[],c=(0,s.getIndex)(this.context);if(""!==i){var l=(0,a.default)(e.items,function(e){return u(e)===i}).label;o.push({label:e.attribute+": "+l,attribute:e.attribute,currentRefinement:l,value:function(t){return m(e,t,"",n.context)}})}return{id:r,index:c,items:o}}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n(74),i=n(67),o=(r=i)&&r.__esModule?r:{default:r};function s(e,t,n){return(0,a.getCurrentRefinementValue)(e,t,n,"page",1,function(e){return"string"==typeof e?parseInt(e,10):e})}function c(e,t,n,r){var i=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},"page",n);return(0,a.refineValue)(t,i,r,!1)}t.default=(0,o.default)({displayName:"AlgoliaPagination",getProvidedProps:function(e,t,n){var r=(0,a.getResults)(n,this.context);if(!r)return null;var i=r.nbPages;return{nbPages:i,currentRefinement:s(e,t,this.context),canRefine:i>1}},refine:function(e,t,n){return c(0,t,n,this.context)},cleanUp:function(e,t){return(0,a.cleanUpValue)(t,this.context,"page")},getSearchParameters:function(e,t,n){return e.setPage(s(t,n,this.context)-1)},getMetadata:function(){return{id:"page"}}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n(67),i=(r=a)&&r.__esModule?r:{default:r};t.default=(0,i.default)({displayName:"AlgoliaPoweredBy",propTypes:{},getProvidedProps:function(e){return{url:"https://www.algolia.com/?utm_source=react-instantsearch&utm_medium=website&utm_content="+(e.canRender?location.hostname:"")+"&utm_campaign=poweredby"}}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(11)),a=n(74),i=o(n(67));function o(e){return e&&e.__esModule?e:{default:e}}var s="refinementList";function c(e){return e.attribute}function l(e,t,n){return(0,a.getCurrentRefinementValue)(e,t,n,s+"."+c(e),[],function(e){return"string"==typeof e?""===e?[]:[e]:e})}function u(e,t,n,r){var a=l(t,n,r);return-1===a.indexOf(e)?a.concat([e]):a.filter(function(t){return t!==e})}function d(e){var t=e.showMore,n=e.limit,r=e.showMoreLimit;return t?r:n}function p(e,t,n,r){var i,o,l,u=c(e),d=(i={},o=u,l=n.length>0?n:"",o in i?Object.defineProperty(i,o,{value:l,enumerable:!0,configurable:!0,writable:!0}):i[o]=l,i);return(0,a.refineValue)(t,d,r,!0,s)}var f=["isRefined","count:desc","name:asc"];t.default=(0,i.default)({displayName:"AlgoliaRefinementList",propTypes:{id:r.default.string,attribute:r.default.string.isRequired,operator:r.default.oneOf(["and","or"]),showMore:r.default.bool,limit:r.default.number,showMoreLimit:r.default.number,defaultRefinement:r.default.arrayOf(r.default.oneOfType([r.default.string,r.default.number])),searchable:r.default.bool,transformItems:r.default.func},defaultProps:{operator:"or",showMore:!1,limit:10,showMoreLimit:20},getProvidedProps:function(e,t,n,r,i){var o=this,s=e.attribute,c=e.searchable,p=(0,a.getResults)(n,this.context),h=Boolean(p)&&Boolean(p.getFacetByName(s)),m=Boolean(i&&i[s]&&""!==i.query);if(c&&this.context.multiIndexContext)throw new Error("react-instantsearch: searching in *List is not available when used inside a multi index context");if(!h)return{items:[],currentRefinement:l(e,t,this.context),canRefine:h,isFromSearch:m,searchable:c};var g=m?i[s].map(function(n){return{label:n.value,value:u(n.value,e,t,o.context),_highlightResult:{label:{value:n.highlighted}},count:n.count,isRefined:n.isRefined}}):p.getFacetValues(s,{sortBy:f}).map(function(n){return{label:n.name,value:u(n.name,e,t,o.context),count:n.count,isRefined:n.isRefined}});return{items:(e.transformItems?e.transformItems(g):g).slice(0,d(e)),currentRefinement:l(e,t,this.context),isFromSearch:m,searchable:c,canRefine:g.length>0}},refine:function(e,t,n){return p(e,t,n,this.context)},searchForFacetValues:function(e,t,n){return{facetName:e.attribute,query:n,maxFacetHits:d(e)}},cleanUp:function(e,t){return function(e,t,n){return(0,a.cleanUpValue)(t,n,s+"."+c(e))}(e,t,this.context)},getSearchParameters:function(e,t,n){var r=t.attribute,a="and"===t.operator?"addFacet":"addDisjunctiveFacet",i=a+"Refinement";return e=(e=e.setQueryParameters({maxValuesPerFacet:Math.max(e.maxValuesPerFacet||0,d(t))}))[a](r),l(t,n,this.context).reduce(function(e,t){return e[i](r,t)},e)},getMetadata:function(e,t){var n=c(e),r=this.context;return{id:n,index:(0,a.getIndex)(this.context),items:l(e,t,r).length>0?[{attribute:e.attribute,label:e.attribute+": ",currentRefinement:l(e,t,r),value:function(t){return p(e,t,[],r)},items:l(e,t,r).map(function(n){return{label:""+n,value:function(a){var i=l(e,a,r).filter(function(e){return e!==n});return p(e,t,i,r)}}})}]:[]}}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=c(n(55)),a=c(n(11)),i=c(n(67)),o=n(74),s=n(198);function c(e){return e&&e.__esModule?e:{default:e}}t.default=(0,i.default)({displayName:"AlgoliaScrollTo",propTypes:{scrollOn:a.default.string},defaultProps:{scrollOn:"page"},getProvidedProps:function(e,t){var n=e.scrollOn,a=(0,o.getCurrentRefinementValue)(e,t,this.context,n,null,function(e){return e});if(this._prevSearchState||(this._prevSearchState={}),(0,o.hasMultipleIndex)(this.context)){var i=(0,o.getIndex)(this.context);t=t.indices?t.indices[i]:{}}var c=(0,r.default)((0,r.default)(t,"configure"),n),l=(0,s.shallowEqual)(this._prevSearchState,c);return this._prevSearchState=c,{value:a,hasNotChanged:l}}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getId=void 0;var r=o(n(11)),a=o(n(67)),i=n(74);function o(e){return e&&e.__esModule?e:{default:e}}var s=t.getId=function(e){return e.attributes[0]},c="hierarchicalMenu";function l(e,t,n,r){var a,o,l,u=s(e),d=(l=n||"",(o=u)in(a={})?Object.defineProperty(a,o,{value:l,enumerable:!0,configurable:!0,writable:!0}):a[o]=l,a);return(0,i.refineValue)(t,d,r,!0,c)}t.default=(0,a.default)({displayName:"AlgoliaBreadcrumb",propTypes:{attributes:function(e,t,n){if(!Array.isArray(e[t])||e[t].some(function(e){return"string"!=typeof e})||e[t].length<1)return new Error("Invalid prop "+t+" supplied to "+n+". Expected an Array of Strings")},transformItems:r.default.func},getProvidedProps:function(e,t,n){var r=s(e),a=(0,i.getResults)(n,this.context);if(!(Boolean(a)&&Boolean(a.getFacetByName(r))))return{items:[],canRefine:!1};var o=a.getFacetValues(r),c=o.data?function e(t){return t.reduce(function(t,n){return n.isRefined&&(t.push({label:n.name,value:n.path}),n.data&&(t=t.concat(e(n.data)))),t},[])}(o.data):[],l=e.transformItems?e.transformItems(c):c;return{canRefine:l.length>0,items:l}},refine:function(e,t,n){return l(e,t,n,this.context)}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(67)),a=o(n(11)),i=n(74);function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n){return(0,i.getCurrentRefinementValue)(e,t,n,"query","",function(e){return e||""})}function c(e,t,n,r){var a,o,s,c=(s=n,(o="query")in(a={})?Object.defineProperty(a,o,{value:s,enumerable:!0,configurable:!0,writable:!0}):a[o]=s,a);return(0,i.refineValue)(t,c,r,!0)}t.default=(0,r.default)({displayName:"AlgoliaSearchBox",propTypes:{defaultRefinement:a.default.string},getProvidedProps:function(e,t,n){return{currentRefinement:s(e,t,this.context),isSearchStalled:n.isSearchStalled}},refine:function(e,t,n){return c(0,t,n,this.context)},cleanUp:function(e,t){return function(e,t,n){return(0,i.cleanUpValue)(t,n,"query")}(0,t,this.context)},getSearchParameters:function(e,t,n){return e.setQuery(s(t,n,this.context))},getMetadata:function(e,t){var n=this,r=s(e,t,this.context);return{id:"query",index:(0,i.getIndex)(this.context),items:null===r?[]:[{label:"query: "+r,value:function(e){return c(0,e,"",n.context)},currentRefinement:r}]}}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=s(n(11)),i=n(74),o=s(n(67));function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n){return(0,i.getCurrentRefinementValue)(e,t,n,"sortBy",null,function(e){return e||null})}t.default=(0,o.default)({displayName:"AlgoliaSortBy",propTypes:{defaultRefinement:a.default.string,items:a.default.arrayOf(a.default.shape({label:a.default.string,value:a.default.string.isRequired})).isRequired,transformItems:a.default.func},getProvidedProps:function(e,t){var n=c(e,t,this.context),a=e.items.map(function(e){return e.value===n?r({},e,{isRefined:!0}):r({},e,{isRefined:!1})});return{items:e.transformItems?e.transformItems(a):a,currentRefinement:n}},refine:function(e,t,n){var r,a,o,s=(o=n,(a="sortBy")in(r={})?Object.defineProperty(r,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[a]=o,r);return(0,i.refineValue)(t,s,this.context,!0)},cleanUp:function(e,t){return(0,i.cleanUpValue)(t,this.context,"sortBy")},getSearchParameters:function(e,t,n){var r=c(t,n,this.context);return e.setIndex(r)},getMetadata:function(){return{id:"sortBy"}}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n(67),i=(r=a)&&r.__esModule?r:{default:r},o=n(74);t.default=(0,i.default)({displayName:"AlgoliaStats",getProvidedProps:function(e,t,n){var r=(0,o.getResults)(n,this.context);return r?{nbHits:r.nbHits,processingTimeMS:r.processingTimeMS}:null}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(11)),a=o(n(67)),i=n(74);function o(e){return e&&e.__esModule?e:{default:e}}function s(e){return e.attribute}var c="toggle";function l(e,t,n){return(0,i.getCurrentRefinementValue)(e,t,n,c+"."+s(e),!1,function(e){return e||!1})}function u(e,t,n,r){var a,o,l,u=s(e),d=(l=n||!1,(o=u)in(a={})?Object.defineProperty(a,o,{value:l,enumerable:!0,configurable:!0,writable:!0}):a[o]=l,a);return(0,i.refineValue)(t,d,r,!0,c)}t.default=(0,a.default)({displayName:"AlgoliaToggle",propTypes:{label:r.default.string,filter:r.default.func,attribute:r.default.string,value:r.default.any,defaultRefinement:r.default.bool},getProvidedProps:function(e,t){return{currentRefinement:l(e,t,this.context)}},refine:function(e,t,n){return u(e,t,n,this.context)},cleanUp:function(e,t){return function(e,t,n){return(0,i.cleanUpValue)(t,n,c+"."+s(e))}(e,t,this.context)},getSearchParameters:function(e,t,n){var r=t.attribute,a=t.value,i=t.filter;return l(t,n,this.context)&&(r&&(e=e.addFacet(r).addFacetRefinement(r,a)),i&&(e=i(e))),e},getMetadata:function(e,t){var n=this,r=s(e),a=l(e,t,this.context),o=[],c=(0,i.getIndex)(this.context);return a&&o.push({label:e.label,currentRefinement:a,attribute:e.attribute,value:function(t){return u(e,t,!1,n.context)}}),{id:r,index:c,items:o}}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),o=u(i),s=u(n(11)),c=u(n(31)),l=u(n(87));function u(e){return e&&e.__esModule?e:{default:e}}var d=(0,u(n(62)).default)("SearchBox"),p=o.default.createElement("svg",{width:"18",height:"18",viewBox:"0 0 38 38",xmlns:"http://www.w3.org/2000/svg",stroke:"#444",className:d("loadingIcon")},o.default.createElement("g",{fill:"none",fillRule:"evenodd"},o.default.createElement("g",{transform:"translate(1 1)",strokeWidth:"2"},o.default.createElement("circle",{strokeOpacity:".5",cx:"18",cy:"18",r:"18"}),o.default.createElement("path",{d:"M36 18c0-9.94-8.06-18-18-18"},o.default.createElement("animateTransform",{attributeName:"transform",type:"rotate",from:"0 18 18",to:"360 18 18",dur:"1s",repeatCount:"indefinite"}))))),f=o.default.createElement("svg",{className:d("resetIcon"),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",width:"10",height:"10"},o.default.createElement("path",{d:"M8.114 10L.944 2.83 0 1.885 1.886 0l.943.943L10 8.113l7.17-7.17.944-.943L20 1.886l-.943.943-7.17 7.17 7.17 7.17.943.944L18.114 20l-.943-.943-7.17-7.17-7.17 7.17-.944.943L0 18.114l.943-.943L8.113 10z"})),h=o.default.createElement("svg",{className:d("submitIcon"),xmlns:"http://www.w3.org/2000/svg",width:"10",height:"10",viewBox:"0 0 40 40"},o.default.createElement("path",{d:"M26.804 29.01c-2.832 2.34-6.465 3.746-10.426 3.746C7.333 32.756 0 25.424 0 16.378 0 7.333 7.333 0 16.378 0c9.046 0 16.378 7.333 16.378 16.378 0 3.96-1.406 7.594-3.746 10.426l10.534 10.534c.607.607.61 1.59-.004 2.202-.61.61-1.597.61-2.202.004L26.804 29.01zm-10.426.627c7.323 0 13.26-5.936 13.26-13.26 0-7.32-5.937-13.257-13.26-13.257C9.056 3.12 3.12 9.056 3.12 16.378c0 7.323 5.936 13.26 13.258 13.26z"})),m=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.getQuery=function(){return n.props.searchAsYouType?n.props.currentRefinement:n.state.query},n.onInputMount=function(e){n.input=e,n.props.__inputRef&&n.props.__inputRef(e)},n.onKeyDown=function(e){if(n.props.focusShortcuts){var t=n.props.focusShortcuts.map(function(e){return"string"==typeof e?e.toUpperCase().charCodeAt(0):e}),r=e.target||e.srcElement,a=r.tagName;if(!r.isContentEditable&&"INPUT"!==a&&"SELECT"!==a&&"TEXTAREA"!==a){var i=e.which||e.keyCode;-1!==t.indexOf(i)&&(n.input.focus(),e.stopPropagation(),e.preventDefault())}}},n.onSubmit=function(e){e.preventDefault(),e.stopPropagation(),n.input.blur();var t=n.props,r=t.refine;return t.searchAsYouType||r(n.getQuery()),!1},n.onChange=function(e){var t=n.props,r=t.searchAsYouType,a=t.refine,i=t.onChange,o=e.target.value;r?a(o):n.setState({query:o}),i&&i(e)},n.onReset=function(e){var t=n.props,r=t.searchAsYouType,a=t.refine,i=t.onReset;a(""),n.input.focus(),r||n.setState({query:""}),i&&i(e)},n.state={query:e.searchAsYouType?null:e.currentRefinement},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),a(t,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.onKeyDown)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.onKeyDown)}},{key:"componentWillReceiveProps",value:function(e){e.searchAsYouType||e.currentRefinement===this.props.currentRefinement||this.setState({query:e.currentRefinement})}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,a=t.translate,i=t.autoFocus,s=t.loadingIndicator,l=t.submit,u=t.reset,p=this.getQuery(),f=Object.keys(this.props).reduce(function(t,n){return-1===["onsubmit","onreset","onchange"].indexOf(n.toLowerCase())&&0===n.indexOf("on")?r({},t,(a={},i=n,o=e.props[n],i in a?Object.defineProperty(a,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):a[i]=o,a)):t;var a,i,o},{}),h=this.props.showLoadingIndicator&&this.props.isSearchStalled;return o.default.createElement("div",{className:(0,c.default)(d(""),n)},o.default.createElement("form",{noValidate:!0,onSubmit:this.props.onSubmit?this.props.onSubmit:this.onSubmit,onReset:this.onReset,className:d("form",h&&"form--stalledSearch"),action:"",role:"search"},o.default.createElement("input",r({ref:this.onInputMount,type:"search",placeholder:a("placeholder"),autoFocus:i,autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:"false",required:!0,maxLength:"512",value:p,onChange:this.onChange},f,{className:d("input")})),o.default.createElement("button",{type:"submit",title:a("submitTitle"),className:d("submit")},l),o.default.createElement("button",{type:"reset",title:a("resetTitle"),className:d("reset"),hidden:!p||h},u),this.props.showLoadingIndicator&&o.default.createElement("span",{hidden:!h,className:d("loadingIndicator")},s)))}}]),t}();m.propTypes={currentRefinement:s.default.string,className:s.default.string,refine:s.default.func.isRequired,translate:s.default.func.isRequired,loadingIndicator:s.default.node,reset:s.default.node,submit:s.default.node,focusShortcuts:s.default.arrayOf(s.default.oneOfType([s.default.string,s.default.number])),autoFocus:s.default.bool,searchAsYouType:s.default.bool,onSubmit:s.default.func,onReset:s.default.func,onChange:s.default.func,isSearchStalled:s.default.bool,showLoadingIndicator:s.default.bool,__inputRef:s.default.func},m.defaultProps={currentRefinement:"",className:"",focusShortcuts:["s","/"],autoFocus:!1,searchAsYouType:!0,showLoadingIndicator:!1,isSearchStalled:!1,loadingIndicator:p,reset:f,submit:h},t.default=(0,l.default)({resetTitle:"Clear the search query.",submitTitle:"Submit your search query.",placeholder:"Search here…"})(m)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Highlight=void 0;var r=o(n(0)),a=o(n(11)),i=o(n(31));function o(e){return e&&e.__esModule?e:{default:e}}function s(e,t){return"split-"+e+"-"+t}var c=t.Highlight=function(e){var t=e.cx,n=e.value,a=e.highlightedTagName,i=e.isHighlighted,o=e.nonHighlightedTagName,s=i?a:o,c=i?"highlighted":"nonHighlighted";return r.default.createElement(s,{className:t(c)},n)};c.propTypes={cx:a.default.func.isRequired,value:a.default.string.isRequired,isHighlighted:a.default.bool.isRequired,highlightedTagName:a.default.string.isRequired,nonHighlightedTagName:a.default.string.isRequired};var l=function(e){var t=e.cx,n=e.hit,a=e.attribute,o=e.highlight,l=e.highlightProperty,u=e.tagName,d=e.nonHighlightedTagName,p=e.separator,f=e.className,h=o({hit:n,attribute:a,highlightProperty:l});return r.default.createElement("span",{className:(0,i.default)(t(""),f)},h.map(function(e,i){if(Array.isArray(e)){var o=i===h.length-1;return r.default.createElement("span",{key:s(i,n[a][i])},e.map(function(e,n){return r.default.createElement(c,{cx:t,key:s(n,e.value),value:e.value,highlightedTagName:u,nonHighlightedTagName:d,isHighlighted:e.isHighlighted})}),!o&&r.default.createElement("span",{className:t("separator")},p))}return r.default.createElement(c,{cx:t,key:s(i,e.value),value:e.value,highlightedTagName:u,nonHighlightedTagName:d,isHighlighted:e.isHighlighted})}))};l.propTypes={cx:a.default.func.isRequired,hit:a.default.object.isRequired,attribute:a.default.string.isRequired,highlight:a.default.func.isRequired,highlightProperty:a.default.string.isRequired,tagName:a.default.string,nonHighlightedTagName:a.default.string,className:a.default.string,separator:a.default.node},l.defaultProps={tagName:"em",nonHighlightedTagName:"span",className:"",separator:", "},t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=c(n(52)),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=c(n(11)),o=n(0),s=c(o);function c(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var u=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=Array(a),o=0;o<a;o++)i[o]=arguments[o];return n=r=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.onChange=function(e){r.props.onSelect(e.target.value)},l(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"render",value:function(){var e=this.props,t=e.cx,n=e.items,a=e.selectedItem;return s.default.createElement("select",{className:t("select"),value:a,onChange:this.onChange},n.map(function(e){return s.default.createElement("option",{className:t("option"),key:(0,r.default)(e,"key")?e.key:e.value,disabled:e.disabled,value:e.value},(0,r.default)(e,"label")?e.label:e.value)}))}}]),t}();u.propTypes={cx:i.default.func.isRequired,onSelect:i.default.func.isRequired,items:i.default.arrayOf(i.default.shape({value:i.default.oneOfType([i.default.string,i.default.number]).isRequired,key:i.default.oneOfType([i.default.string,i.default.number]),label:i.default.string,disabled:i.default.bool})).isRequired,selectedItem:i.default.oneOfType([i.default.string,i.default.number]).isRequired},t.default=u},function(e,t,n){var r=n(426),a=n(226);e.exports=function(e,t,n){(void 0===n||a(e[t],n))&&(void 0!==n||t in e)||r(e,t,n)}},function(e,t){e.exports=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}},function(e,t,n){"use strict";(function(t){var n="__global_unique_id__";e.exports=function(){return t[n]=(t[n]||0)+1}}).call(this,n(43))},function(e,t,n){"use strict";var r={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i=Object.defineProperty,o=Object.getOwnPropertyNames,s=Object.getOwnPropertySymbols,c=Object.getOwnPropertyDescriptor,l=Object.getPrototypeOf,u=l&&l(Object);e.exports=function e(t,n,d){if("string"!=typeof n){if(u){var p=l(n);p&&p!==u&&e(t,p,d)}var f=o(n);s&&(f=f.concat(s(n)));for(var h=0;h<f.length;++h){var m=f[h];if(!(r[m]||a[m]||d&&d[m])){var g=c(n,m);try{i(t,m,g)}catch(e){}}}return t}return t}},function(e,t,n){"use strict";function r(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.a=n}).call(this,n(43))},function(e,t,n){"use strict";function r(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(a){return"function"==typeof a?a(n,r,e):t(a)}}}}t.__esModule=!0;var a=r();a.withExtraArgument=r,t.default=a},function(e,t,n){"use strict";var r=n(975);t.__esModule=!0,t.default=function(e,t){e.classList?e.classList.add(t):(0,a.default)(e,t)||("string"==typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))};var a=r(n(976));e.exports=t.default},function(e,t,n){"use strict";function r(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}e.exports=function(e,t){e.classList?e.classList.remove(t):"string"==typeof e.className?e.className=r(e.className,t):e.setAttribute("class",r(e.className&&e.className.baseVal||"",t))}},function(e,t){e.exports="/assets/publish-success-icon-4e5507d7642333d7f947c0a13a7e732920b8193562d1a3031855f13d2fb7bb12.svg"},function(e,t){e.exports=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}},function(e,t){e.exports="/assets/profile_pic-feedc4f388091f5635ccdcbca11747fab3ca854b3d15d848a48933735e401374.svg"},function(e,t){e.exports="/assets/no_content-904ad5a2a54beb476236ddda83ac6285216caf1855c80d211794e4279e2319c3.svg"},function(e,n,r){"use strict";(function(e){r.d(n,"a",function(){return E});var a=r(4),i=r.n(a),o=r(5),s=r.n(o),c=r(6),l=r.n(c),u=r(7),d=r.n(u),p=r(1),f=r.n(p),h=r(8),m=r.n(h),g=r(0),v=r.n(g),b=r(10),y=r(721),E=function(n){function r(e){var t;return i()(this,r),(t=l()(this,d()(r).call(this,e))).state={score:e.criterion.score},t.setScore=t.setScore.bind(f()(t)),t.handleSubscribe=t.handleSubscribe.bind(f()(t)),t}return m()(r,n),s()(r,[{key:"componentDidMount",value:function(){e.pubsub.subscribe("grading:rating",this.handleSubscribe)}},{key:"componentWillUnmount",value:function(){e.pubsub.unsubscribe("grading:rating",this.handleSubscribe)}},{key:"handleSubscribe",value:function(e,t,n){e===this.props.answerId&&t===this.props.criterion.id&&this.setState({score:n})}},{key:"setScore",value:function(t){this.props.preview||e.pubsub.publish("grading:rating",this.props.answerId,this.props.criterion.id,t)}},{key:"render",value:function(){var e=this.props,n=e.criterion,r=e.ratingOptions,a=e.preview;return v.a.createElement("div",null,v.a.createElement("div",{className:"CriteriaList-criterion mb-8"},n.name,v.a.createElement("span",{className:"ml-4 h-c-night","data-toggle":"tooltip",title:n.description||t("feedback_criteria.criterion.no_description"),"data-placement":"top"},v.a.createElement(b.a,{name:"info"}))),v.a.createElement(y.a,{ratingOptions:r,preview:a,score:this.state.score,setScore:this.setScore}))}}]),r}(v.a.Component)}).call(this,r(43))},function(e,t,n){"use strict";(function(e){var r=n(22),a=n.n(r),i=n(17);t.a=function(t){return new Promise(function(n,r){return i.a.get("/documents/".concat(t,"/upload_options")).then(function(o){var s=o.policy,c=o.signature,l=o.services,u=o.extensions,d=o.path,p=o.api_key,f=o.container;e.filepicker.setKey(p);var h=e.filepicker.pickAndStore({policy:s,signature:c,services:l,extensions:u},{path:d,storeContainer:f},function(e){return function(e,t,n,r){var o=a()(e,1)[0];return i.a.put("/documents/".concat(t,"/record_upload"),{document:{upload_file_name:o.filename,upload_content_type:o.mimetype,upload_file_size:o.size,upload_key:o.key,upload_source:o.client,upload_container:o.container,filestack_handle:o.url.split("/").pop()}}).done(function(e){return n(e.url)}).fail(function(){return r.apply(void 0,arguments)})}(e,t,n,r)},function(e){return r(e,h)})})})}}).call(this,n(43))},function(e,t){e.exports="/assets/document_el-155058a7617318981ba3a249eb384fb2d7ed120dc1853415d469977c5ddb0064.svg"},function(e,t,n){"use strict";(function(e){function r(t,n,r){$.getScript("//fast.wistia.com/assets/external/api.js"),e._wapiq=e._wapiq||[];var a=document.getElementById(n);return new Promise(function(i,o){var s=function(e,t){return i({file_name:e.name,wistia_id:t.id})};e._wapiq.push(function(e){new e.Uploader({accessToken:t,dropIn:n,projectId:r}).bind("uploadsuccess",s),a.querySelector(".wistia_upload_button_text").classList.add("NewButton","NewButton--white")})})}n.d(t,"a",function(){return r})}).call(this,n(43))},function(e,t){e.exports="/assets/embed_el-3dd92bf0d7d942fbabd741e44d3ba94630fccabf776cda482475863be1625369.svg"},function(e,t){e.exports="/assets/comments-blankstate-fe0630474387153812f40af1ec63e45a93101175ca02e4530b7b9c3001ca6098.svg"},function(e,t){e.exports="/assets/comments-error-blankstate-6410e5d4238498b5b86b38b1da5418f7f071872789136e8bad6b3a38ca9308f2.svg"},function(e,t,n){var r=n(1189)("flow",n(1235));r.placeholder=n(512),e.exports=r},function(e,n,r){"use strict";(function(e){var a=r(4),i=r.n(a),o=r(5),s=r.n(o),c=r(6),l=r.n(c),u=r(7),d=r.n(u),p=r(1),f=r.n(p),h=r(8),m=r.n(h),g=r(2),v=r.n(g),b=r(0),y=r.n(b),E=r(3),_=r(17),w=function(n){function r(e){var t;return i()(this,r),t=l()(this,d()(r).call(this,e)),v()(f()(t),"fetchPendingCount",function(){_.a.get(E.k.GRADES.DISPLAY_GRADES_PENDING).then(function(e){t.setState({data:e,loading:!1})})}),t.state={data:{},loading:!0},t}return m()(r,n),s()(r,[{key:"componentDidMount",value:function(){this.fetchPendingCount(),e.pubsub.subscribe("grades:update_pending_count",this.fetchPendingCount)}},{key:"componentWillUnmount",value:function(){e.pubsub.unsubscribe("grades:update_pending_count",this.fetchPendingCount)}},{key:"render",value:function(){var e=this.state,n=e.loading,r=e.data;return n||0===r.grade_pending_lessons_count?null:y.a.createElement("span",{className:"GradePendingNotice"},y.a.createElement("a",{href:E.k.GRADES.INDEX,className:"navbar-badge CustomColor--backgroundColor"},r.grade_pending_lessons_count),y.a.createElement("a",{href:E.k.GRADES.INDEX},t("grades.pending_count_html",{count:r.grade_pending_lessons_count})))}}]),r}(b.Component);n.a=w}).call(this,r(43))},function(e,n,r){"use strict";(function(e){var a=r(18),i=r.n(a),o=r(4),s=r.n(o),c=r(5),l=r.n(c),u=r(6),d=r.n(u),p=r(7),f=r.n(p),h=r(1),m=r.n(h),g=r(8),v=r.n(g),b=r(2),y=r.n(b),E=r(24),_=r.n(E),w=r(0),S=r.n(w),k=r(140),C=r.n(k),N=r(453),O=r(691),x=r(692),T=r(204),R=r(10),P=r(92),I=r(3),A=function(e){return Array.isArray(e)?_()(e):[e]},M=function(n){function r(){var e,t;s()(this,r);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return t=d()(this,(e=f()(r)).call.apply(e,[this].concat(a))),y()(m()(t),"state",{correct:t.props.answer.correct,feedback:t.props.answer.feedback,criteriaRatings:t.props.answer.criteriaRatings}),y()(m()(t),"textarea",S.a.createRef()),y()(m()(t),"setAnswerCorrect",function(e){t.setState({correct:e},function(){(0,t.props.setGradedAnswer)(e,t.state.feedback)})}),y()(m()(t),"setAnswerFeedback",function(e){t.setState({feedback:e},function(){(0,t.props.setGradedAnswer)(t.state.correct,e),t.autosizeTextArea()})}),y()(m()(t),"setGradingRating",function(e,n,r){var a=t.props.answer,o=t.state.criteriaRatings;if(e===a.id){var s=o.map(function(e){return e.id===n?i()({},e,{score:r}):e});t.setState({criteriaRatings:s})}}),y()(m()(t),"autosizeTextArea",function(){t.textarea.current&&C()(t.textarea.current)}),t}return v()(r,n),l()(r,[{key:"componentDidMount",value:function(){this.autosizeTextArea(),e.pubsub.subscribe("grading:rating",this.setGradingRating)}},{key:"componentWillUnmount",value:function(){e.pubsub.unsubscribe("grading:rating",this.setGradingRating)}},{key:"render",value:function(){var e=this,n=this.props,r=n.answer,a=n.features,i=n.ziggeoApiKey,o=n.currentUser,s=this.state.criteriaRatings;return S.a.createElement("tr",{className:"ReportCard-row"},S.a.createElement("td",{className:"ReportCard-rowNumber"},r.position,"."),S.a.createElement("td",{className:"ReportCard-divider"}),S.a.createElement("td",{className:"ReportCard-question"},r.questionText,!r.isChat&&r.questionMetadataPresent&&r.questionMetadata&&S.a.createElement(S.a.Fragment,null,S.a.createElement("div",{className:"fw-b mt-8 mb-8"},t("questions.question.".concat(r.questionType,".display_header"))),S.a.createElement(N.a,{details:r.questionMetadata})),r.questionMetadataPresent&&r.questionMetadata&&r.isChat&&S.a.createElement(S.a.Fragment,null,S.a.createElement("div",{className:"fw-b mt-8"},t("questions.question.chat.display_header"),":"),S.a.createElement(P.a,{preferParagraphs:!0},r.questionMetadata.message))),S.a.createElement("td",{className:"ReportCard-givenAnswer"},r.isMediaResponse&&r.givenAnswer&&S.a.createElement(x.a,{answer:r,features:a,ziggeoApiKey:i,currentUser:o,answerCorrect:r.correct,setAnswerCorrect:this.setAnswerCorrect,answerFeedback:r.feedback,setAnswerFeedback:this.setAnswerFeedback,criteriaRatings:s}),!r.isChat&&!r.isMediaResponse&&r.hasAnswerWithMetadata&&S.a.createElement(N.a,{details:r.givenAnswer}),!r.isMediaResponse&&!r.hasAnswerWithMetadata&&r.givenAnswer&&S.a.createElement(O.a,{list:A(r.givenAnswer)}),r.isChat&&r.hasAnswerWithMetadata&&r.givenAnswer&&S.a.createElement(S.a.Fragment,null,S.a.createElement("span",{className:"fw-b mt-8 d-ib"},t("questions.question.chat.display_header"),":"),r.givenAnswer),!r.givenAnswer&&t("progress.report_card.no_answer")),S.a.createElement("td",{className:"ReportCard-correctAnswer"},S.a.createElement("label",{className:"ReportCard-gradeLabel",htmlFor:"answer".concat(r.id,"_correct")},S.a.createElement("input",{type:"radio",id:"answer".concat(r.id,"_correct"),value:"true",onChange:function(){return e.setAnswerCorrect("true")},checked:"true"===String(this.state.correct)})," ",t("grades.correct")),S.a.createElement("label",{className:"ReportCard-gradeLabel",htmlFor:"answer".concat(r.id,"_incorrect")},S.a.createElement("input",{type:"radio",id:"answer".concat(r.id,"_incorrect"),value:"false",onChange:function(){return e.setAnswerCorrect("false")},checked:"false"===String(this.state.correct)})," ",t("grades.incorrect"))),S.a.createElement("td",null,a.hasPractice&&r.criteriaRatings&&S.a.createElement(T.a,{data:{id:r.id,criteriaRatings:r.criteriaRatings,ratingOptions:r.ratingOptions}}),S.a.createElement("div",{className:"mb-4"},t("grades.feedback.comments")),S.a.createElement("textarea",{ref:this.textarea,className:"form-control",id:"answer".concat(r.id,"_feedback"),placeholder:t("grades.feedback.provide_feedback"),onChange:function(t){return e.setAnswerFeedback(t.target.value)},value:r.feedback||""}),a.hasPractice&&r.canViewAnswerFeedback&&S.a.createElement("div",{className:"c-brand-blue mt-4"},S.a.createElement("a",{target:"_blank",rel:"noreferrer noopener",href:I.k.QUESTIONS.FEEDBACK(r.questionId)},t("progress.previous_comments")," ",S.a.createElement(R.a,{name:"external-link",customClass:"ml-4 mt-0"})))))}}]),r}(S.a.PureComponent);n.a=M}).call(this,r(43))},function(e,t,n){"use strict";var r=n(0),a=n.n(r),i=n(92);t.a=function(e){var t=e.list;return 1===t.length?a.a.createElement(i.a,{preferParagraphs:!0},t[0]):a.a.createElement("ul",null,t.map(function(e){return a.a.createElement("li",null,a.a.createElement(i.a,{preferParagraphs:!0},e))}))}},function(e,n,r){"use strict";var a=r(18),i=r.n(a),o=r(4),s=r.n(o),c=r(5),l=r.n(c),u=r(6),d=r.n(u),p=r(7),f=r.n(p),h=r(1),m=r.n(h),g=r(8),v=r.n(g),b=r(2),y=r.n(b),E=r(0),_=r.n(E),w=r(112),S=r(132),k=r(39),C=r(35),N=r(153),O=r(327),x=function(e){function n(){var e,r;s()(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return r=d()(this,(e=f()(n)).call.apply(e,[this].concat(i))),y()(m()(r),"state",{modalVisible:!1}),y()(m()(r),"toggleModal",function(){r.setState(function(e){return{modalVisible:!e.modalVisible}})}),y()(m()(r),"mediaShareText",function(){return"audio_recording"===r.props.answer.questionType?t("grades.share_audio_text"):t("grades.share_video_text")}),y()(m()(r),"setCorrect",function(e,t){r.props.setAnswerCorrect(t)}),y()(m()(r),"setFeedback",function(e,t){r.props.setAnswerFeedback(t)}),r}return v()(n,e),l()(n,[{key:"render",value:function(){var e=this.props,t=e.answer,n=e.features,r=e.ziggeoApiKey,a=e.currentUser,o=e.answerCorrect,s=e.answerFeedback,c=e.criteriaRatings,l=t.givenAnswer&&!t.hasBeenSkipped&&n.canViewSharableRecordingLink,u=i()({},t,{question:t.questionText,mediaShareText:this.mediaShareText(),preview:!1,currentUser:a});return _.a.createElement("div",{className:"VideoResponse"},t.hasBeenSkipped&&_.a.createElement(S.a,{isCurrentUser:t.isCurrentUser,questionType:t.questionType}),!t.hasBeenSkipped&&_.a.createElement(_.a.Fragment,null,_.a.createElement("button",{type:"button",className:"u-resetBtn w-fill d-ib",onClick:this.toggleModal},_.a.createElement(w.a,{skipped:t.hasBeenSkipped,mediaThumbnailSrc:t.mediaThumbnailSrc,questionType:t.questionType})),this.state.modalVisible&&_.a.createElement(C.a,null,_.a.createElement(k.a,{className:"VideoResponseModal ModalTakeover-background Modal-background",onEscape:this.toggleModal},_.a.createElement(O.a,{data:u,correctAnswer:o,feedback:s,usePubSub:!1,setCorrect:this.setCorrect,setFeedback:this.setFeedback,closeModal:this.toggleModal,modalVisible:this.state.modalVisible,criteriaRatings:c,ratingOptions:t.ratingOptions,apiKey:r,canViewSharableRecordingLink:n.canViewSharableRecordingLink,feedbackCriteriaPresent:t.criteriaRatings&&t.criteriaRatings.length>0})))),l&&_.a.createElement(N.a,{mediaShareLink:t.mediaShareLink,mediaShareText:this.mediaShareText()}))}}]),n}(_.a.Component);n.a=x},function(e,t,n){"use strict";n.d(t,"a",function(){return y});var r=n(4),a=n.n(r),i=n(5),o=n.n(i),s=n(6),c=n.n(s),l=n(7),u=n.n(l),d=n(8),p=n.n(d),f=n(0),h=n.n(f),m=n(15),g=n.n(m),v=n(132),b=n(95),y=function(e){function t(){return a()(this,t),c()(this,u()(t).apply(this,arguments))}return p()(t,e),o()(t,[{key:"render",value:function(){var e=this.props,t=e.mediaVisible,n=e.mediaEmbedUrl,r=e.isCurrentUser,a=e.skipped,i=e.questionType,o=g()("Video",{"Video--playable":!a});return h.a.createElement("div",{className:o},a&&h.a.createElement("div",{className:"fz-bigger"},h.a.createElement(v.a,{isCurrentUser:r,questionType:i})),t&&!a&&h.a.createElement(b.a,{embedUrl:n}))}}]),t}(h.a.Component)},function(e,t,n){"undefined"!=typeof self&&self,e.exports=function(e,t){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=4)}([function(t,n){t.exports=e},function(e,t,n){"use strict";(function(r){Object.defineProperty(t,"__esModule",{value:!0});var a,i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),c=(a=s)&&a.__esModule?a:{default:a},l=void 0===r?window:r;t.default=function(t,n){var r=function(e){function r(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(r.__proto__||Object.getPrototypeOf(r)).call(this));return e.chartType=t,e.Highcharts=n,e.displayName="Highcharts"+t,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(r,s.Component),o(r,[{key:"setChartRef",value:function(e){this.chartRef=e}},{key:"renderChart",value:function(e){var t=this;if(!e)throw new Error("Config must be specified for the "+this.displayName+" component");var n=e.chart;this.chart=new this.Highcharts[this.chartType](i({},e,{chart:i({},n,{renderTo:this.chartRef})}),this.props.callback),this.props.neverReflow||l&&l.requestAnimationFrame&&requestAnimationFrame(function(){t.chart&&t.chart.options&&t.chart.reflow()})}},{key:"shouldComponentUpdate",value:function(e){return!!(e.neverReflow||e.isPureConfig&&this.props.config===e.config)||(this.renderChart(e.config),!1)}},{key:"getChart",value:function(){if(!this.chart)throw new Error("getChart() should not be called before the component is mounted");return this.chart}},{key:"componentDidMount",value:function(){this.renderChart(this.props.config)}},{key:"componentWillUnmount",value:function(){this.chart.destroy()}},{key:"render",value:function(){return c.default.createElement("div",i({ref:this.setChartRef.bind(this)},this.props.domProps))}}]),r}();r.defaultProps={callback:function(){},domProps:{}};var a=r;return a.Highcharts=n,a.withHighcharts=function(n){return e.exports(t,n)},a},e.exports=t.default}).call(t,n(2))},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},,function(e,t,n){e.exports=n(5)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(1)),a=i(n(6));function i(e){return e&&e.__esModule?e:{default:e}}t.default=(0,r.default)("Chart",a.default),e.exports=t.default},function(e,n){e.exports=t}])}(n(0),n(214))},function(e,t){e.exports="/assets/thumbs_up-5e6e1b46fc08b78ba44be974aa9d85e51e49da1eacb6a4270d7059520323bf44.svg"},function(e,t){e.exports="/assets/thumbs_down-27d1ea1e6a84caaf70fd10f56015acd2f131f3b47602d92fdf3a9fbe7acacd56.svg"},function(e,t){e.exports="/assets/remove-3fec8e191ff60f57e6edad11b98200286d3e2e49e8badc588ec74148883f3ecf.svg"},function(e,t){e.exports="/assets/saved-3fd459dd989aff3429ffad96c38cc0d2e69bdd963c2c8655fdeb4546101b13d1.svg"},function(e,t){e.exports="/assets/eye-bf24c2657a8b6abfec60446a18f858e086c8f8a25351142f64a77a4e51079ee3.svg"},function(e,t){e.exports="/assets/search-f98fb5a656118d8d325676c99a07c458d85e041305ec6203fd621285379c078e.svg"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Breadcrumb=t.Panel=t.ToggleRefinement=t.Stats=t.SortBy=t.SearchBox=t.ScrollTo=t.ClearRefinements=t.RefinementList=t.RatingMenu=t.RangeSlider=t.RangeInput=t.PoweredBy=t.Pagination=t.NumericMenu=t.MenuSelect=t.Menu=t.InfiniteHits=t.HitsPerPage=t.Hits=t.Snippet=t.Highlight=t.HierarchicalMenu=t.CurrentRefinements=t.Configure=t.Index=t.InstantSearch=void 0;var r=n(1336);Object.defineProperty(t,"Configure",{enumerable:!0,get:function(){return P(r).default}});var a=n(1338);Object.defineProperty(t,"CurrentRefinements",{enumerable:!0,get:function(){return P(a).default}});var i=n(1341);Object.defineProperty(t,"HierarchicalMenu",{enumerable:!0,get:function(){return P(i).default}});var o=n(441);Object.defineProperty(t,"Highlight",{enumerable:!0,get:function(){return P(o).default}});var s=n(1344);Object.defineProperty(t,"Snippet",{enumerable:!0,get:function(){return P(s).default}});var c=n(1346);Object.defineProperty(t,"Hits",{enumerable:!0,get:function(){return P(c).default}});var l=n(1348);Object.defineProperty(t,"HitsPerPage",{enumerable:!0,get:function(){return P(l).default}});var u=n(1350);Object.defineProperty(t,"InfiniteHits",{enumerable:!0,get:function(){return P(u).default}});var d=n(1352);Object.defineProperty(t,"Menu",{enumerable:!0,get:function(){return P(d).default}});var p=n(1354);Object.defineProperty(t,"MenuSelect",{enumerable:!0,get:function(){return P(p).default}});var f=n(1356);Object.defineProperty(t,"NumericMenu",{enumerable:!0,get:function(){return P(f).default}});var h=n(1358);Object.defineProperty(t,"Pagination",{enumerable:!0,get:function(){return P(h).default}});var m=n(1361);Object.defineProperty(t,"PoweredBy",{enumerable:!0,get:function(){return P(m).default}});var g=n(1363);Object.defineProperty(t,"RangeInput",{enumerable:!0,get:function(){return P(g).default}});var v=n(1365);Object.defineProperty(t,"RangeSlider",{enumerable:!0,get:function(){return P(v).default}});var b=n(1366);Object.defineProperty(t,"RatingMenu",{enumerable:!0,get:function(){return P(b).default}});var y=n(1368);Object.defineProperty(t,"RefinementList",{enumerable:!0,get:function(){return P(y).default}});var E=n(1370);Object.defineProperty(t,"ClearRefinements",{enumerable:!0,get:function(){return P(E).default}});var _=n(1372);Object.defineProperty(t,"ScrollTo",{enumerable:!0,get:function(){return P(_).default}});var w=n(1374);Object.defineProperty(t,"SearchBox",{enumerable:!0,get:function(){return P(w).default}});var S=n(1375);Object.defineProperty(t,"SortBy",{enumerable:!0,get:function(){return P(S).default}});var k=n(1377);Object.defineProperty(t,"Stats",{enumerable:!0,get:function(){return P(k).default}});var C=n(1379);Object.defineProperty(t,"ToggleRefinement",{enumerable:!0,get:function(){return P(C).default}});var N=n(1381);Object.defineProperty(t,"Panel",{enumerable:!0,get:function(){return P(N).default}});var O=n(1383);Object.defineProperty(t,"Breadcrumb",{enumerable:!0,get:function(){return P(O).default}});var x=P(n(1385)),T=P(n(1390)),R=P(n(448));function P(e){return e&&e.__esModule?e:{default:e}}var I=(0,x.default)(R.default,{Root:"div",props:{className:"ais-InstantSearch__root"}});t.InstantSearch=I;var A=(0,T.default)({Root:"div",props:{className:"ais-MultiIndex__root"}});t.Index=A},function(e,t,n){"use strict";(function(e){var r=n(4),a=n.n(r),i=n(5),o=n.n(i),s=n(6),c=n.n(s),l=n(7),u=n.n(l),d=n(1),p=n.n(d),f=n(8),h=n.n(f),m=n(0),g=n.n(m),v=n(12),b=n(10),y=n(17),E=n(3),_=n(27),w=n(33),S=n(208),k=n(38),C=function(t){function n(e){var t;return a()(this,n),(t=c()(this,u()(n).call(this,e))).state={loading:!1},t.handleKeydown=t.handleKeydown.bind(p()(t)),t.updateDescription=t.updateDescription.bind(p()(t)),t.setInputRef=t.setInputRef.bind(p()(t)),t}return h()(n,t),o()(n,[{key:"componentDidUpdate",value:function(t){this.props.editing&&!t.editing&&e.autosize(this.input)}},{key:"updateDescription",value:function(){var e=this,t={description:this.input.value.trim()};this.props.pathId?this.setState({loading:!0},function(){y.a.put(E.k.PATHS+"/".concat(e.props.pathId),t).then(function(t){e.props.updatePath({description:t.description}),e.setState({loading:!1},e.props.toggleEditing)})}):(this.props.updatePath(t),this.props.toggleEditing())}},{key:"setInputRef",value:function(e){e&&(this.input=e,this.input.focus())}},{key:"handleKeydown",value:function(e){13===e.keyCode&&e.metaKey&&!this.isEmpty&&this.updateDescription()}},{key:"render",value:function(){var e=this.props,t=e.editing,n=e.toggleEditing,r=e.isArchived,a=e.userCanEditContent;return g.a.createElement(w.b,null,g.a.createElement(w.a,{className:"d-f jc-sb",htmlFor:"pathDescription"},"Path Description",!r&&!t&&this.props.description&&a&&g.a.createElement("button",{type:"button",className:"u-linkBtn fz-base fw-n",onClick:n},g.a.createElement(b.a,{name:"edit",customClass:"mr-4"}),"Edit")),!t&&this.props.description&&g.a.createElement("p",{className:"m-0 ws-pr"},this.props.description),!r&&!t&&!this.props.description&&a&&g.a.createElement("button",{type:"button",className:"u-linkBtn fz-base fw-n td-n",onClick:n},g.a.createElement(b.a,{name:"add"})," Add Description"),!this.props.description&&(r||!a)&&g.a.createElement("span",{className:"c-brand-gray-darker"},"No Description"),t&&g.a.createElement("div",null,g.a.createElement("textarea",{id:"pathDescription",className:"Textarea w-fill",placeholder:"Optionally, you can add a brief summary of this Path.",ref:this.setInputRef,defaultValue:this.props.description,onKeyDown:this.handleKeydown}),g.a.createElement("div",{className:"d-f jc-e ai-c mt-8"},g.a.createElement("button",{type:"button",className:"u-linkBtn u-linkBtn--dark td-u",onClick:n,children:"Cancel"}),g.a.createElement(S.a,{loading:this.state.loading,onClick:this.updateDescription}))))}}]),n}(m.Component),N={updatePath:k.i,toggleEditing:k.e};t.a=Object(v.b)(function(e){var t=e.pathBuilder;e.meta;return{pathId:t.id,description:t.description,editing:t.editingDescription,isArchived:_.l(t),userCanEditContent:t.permissions.editPath}},N)(C)}).call(this,n(43))},function(e,t,n){var r=n(1392),a=n(1398)(function(e,t,n){r(e,t,n)});e.exports=a},function(e,t,n){"use strict";(function(e){var r=n(21),a=n.n(r),i=n(4),o=n.n(i),s=n(5),c=n.n(s),l=n(6),u=n.n(l),d=n(7),p=n.n(d),f=n(1),h=n.n(f),m=n(8),g=n.n(m),v=n(0),b=n.n(v),y=n(12),E=n(10),_=n(20),w=n(331),S=n(3),k=n(54),C=n(27),N=n(333),O=n(209),x=n(211),T=function(t){function n(e){var t;return o()(this,n),(t=u()(this,p()(n).call(this,e))).state={replace:!1,replaceWith:null,description:t.props.description||""},t.setDescriptionRef=t.setDescriptionRef.bind(h()(t)),t.saveDescription=t.saveDescription.bind(h()(t)),t.cancelDescriptionChange=t.cancelDescriptionChange.bind(h()(t)),t.getOptions=t.getOptions.bind(h()(t)),t.handleDescriptionChange=t.handleDescriptionChange.bind(h()(t)),t.handleReplaceButton=t.handleReplaceButton.bind(h()(t)),t.onContentPickerCancel=t.onContentPickerCancel.bind(h()(t)),t}return g()(n,t),c()(n,[{key:"getOptions",value:function(){return[{label:"Delete",icon:"delete",onClick:this.props.remove},{label:"Edit",icon:"edit",onClick:this.props.toggleEditing}]}},{key:"setDescriptionRef",value:function(t){t&&(this.descriptionInput=t,t.focus(),e.autosize(t))}},{key:"handleDescriptionChange",value:function(){this.setState({description:this.descriptionInput.value})}},{key:"saveDescription",value:function(){this.props.update({description:this.state.description}),this.props.toggleEditing(),this.props.justAdded&&this.props.persist()}},{key:"cancelDescriptionChange",value:function(){this.setState({description:this.props.description},this.props.cancelEditing)}},{key:"handleReplaceButton",value:function(e){var t=e.target;this.setState({replace:!0,replaceWith:t.value})}},{key:"onContentPickerCancel",value:function(){this.setState({replace:!1,replaceWith:null})}},{key:"render",value:function(){var e=this.props,t=e.id,r=e.type,i=e.position,o=e.description,s=e.viewState,c=e.editingMode,l=e.stepNumber,u=a()(e,["id","type","position","description","viewState","editingMode","stepNumber"]),d=this.state,p=d.replaceWith,f=d.replace,h=f&&p,m="editing"===s&&!f,g="normal"===s&&!this.state.replace;return b.a.createElement(x.a,{id:t,type:r,position:i,stepNumber:l},h&&b.a.createElement(N.a,{type:p,title:"Select a ".concat(Object(w.a)(p)),onChange:u.replacePlaceholder,onCancel:this.onContentPickerCancel}),m&&b.a.createElement("div",{className:"PathContent PathPlaceholder"},b.a.createElement(n.Header,{editingMode:c,options:b.a.createElement("div",{className:"PathContentOptions"},b.a.createElement("button",{type:"button",className:"u-linkBtn u-linkBtn--dark td-u",onClick:this.cancelDescriptionChange,children:"Cancel"}),b.a.createElement("button",{type:"button",className:"NewButton NewButton--blue NewButton--wide ml-16",children:"Done",onClick:this.saveDescription,disabled:this.state.description===o}))}),b.a.createElement("div",{className:"PathContent-body"},b.a.createElement("textarea",{className:"Textarea w-fill PathPlaceholder-descriptionInput",rows:"4",name:"description",onChange:this.handleDescriptionChange,value:this.state.description,placeholder:"Optionally, describe the content that will eventually replace this Placeholder.",ref:this.setDescriptionRef}))),g&&b.a.createElement("div",{className:"PathContent PathPlaceholder"},b.a.createElement(n.Header,{editingMode:c,options:b.a.createElement(O.a,{options:this.getOptions()})}),!!o&&b.a.createElement("div",{className:"PathContent-body"},b.a.createElement("div",{className:"PathPlaceholder-description"},o)),c&&b.a.createElement("div",{className:"PathPlaceholder-replaceButtons"},b.a.createElement("button",{type:"button",value:S.i.LESSON,className:"PathContentButton u-resetBtn",onClick:this.handleReplaceButton},b.a.createElement(E.a,{name:"lesson"})," Replace With Lesson"),u.features.advancedPath&&b.a.createElement("button",{type:"button",value:S.i.PATH,className:"PathContentButton PathContentButton--lesson u-resetBtn",onClick:this.handleReplaceButton},b.a.createElement(E.a,{name:"path"})," Replace With Path"))))}}]),n}(v.PureComponent);T.Header=function(e){var t=e.options,n=e.editingMode;return b.a.createElement("div",{className:"PathContent-header"},b.a.createElement("div",{className:"PathContent-title"},b.a.createElement(E.a,{name:"placeholder",customClass:"PathContent-icon"})," Placeholder"),n&&t)};t.a=Object(y.b)(function(){var e=C.m(),t=C.o(),n=C.f();return function(r,a){return{editingMode:C.q.isEdit(r.pathBuilder),viewState:e(r.pathBuilder,a)?"editing":"normal",justAdded:t(r.pathBuilder,a),stepNumber:n(r.pathBuilder,a),features:{advancedPath:Object(_.j)(r,"advanced_paths")}}}},function(e,t){var n=t.id,r=t.type,a=(t.position,t.justAdded);return{update:function(t){return e(k.j(n,r,t))},persist:function(){return e(k.d(n,r))},remove:function(){return e(k.e(n,r))},toggleEditing:function(){return e(k.i(n,r))},cancelEditing:function(){return e(k.b(n,r,a))},replacePlaceholder:function(t){return e(k.g(n,r,t))}}})(T)}).call(this,n(43))},function(e,t,n){"use strict";(function(e){var r=n(18),a=n.n(r),i=n(14),o=n(3),s=n(334),c=n(454),l=n(455),u=n(706),d=n(456),p=n(707),f=n(708),h=n(709),m=n(710),g=n(27);t.a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=function(e){return a()({},t,e)};switch(n.type){case i.j.PATH.UPDATE:return r(a()({},n.changes));case i.j.PATH.UPDATE_IN_PROGRESS:return r({updateInProgress:!0});case i.j.PATH.UPDATE_SUCCESS:return r({updateInProgress:!1});case i.j.PATH.UPDATE_FAILURE:return r({updateInProgress:!1,updateError:!0});case i.j.PATH.UPDATE_FAILURE_DISMISS:return r({updateError:!1});case i.j.PATH.PUBLISH:return r({publishedAt:{date:n.date,user:n.user}});case i.j.PATH.SAVE_REVISION:return r({lastRevision:Object(g.e)(t)});case i.j.PATH.RESTORE_REVISION:return r(a()({},t.lastRevision,{contents:Object(s.a)(t.contents,n,t.lastRevision.contents)}));case i.j.UI.SET_MODE:return r({mode:n.mode});case i.j.PATH.TOGGLE_EDITING_DESCRIPTION:return r({editingDescription:!t.editingDescription});case i.j.PATH.TOGGLE_EDITING_ORDER_ENFORCEMENT:return r({editingOrderEnforcement:!t.editingOrderEnforcement});case i.j.CONTENT.ADD:case i.j.CONTENT.UPDATE:case i.j.CONTENT.REMOVE:case i.j.CONTENT.REORDER:case i.j.CONTENT.PERSIST:return r({contents:Object(s.a)(t.contents,n),editingContent:Object(d.a)(t.editingContent,n)});case i.j.CONTENT.TOGGLE_EDITING:return r({editingContent:Object(d.a)(t.editingContent,n)});case i.j.PATH.TOGGLE_EDITING_MODE:return e.pubsub.publish(o.d.SET_STEP_CONNECTOR_POSITION),r({editingContent:void 0,mode:"edit"===t.mode?"view":"edit"});case i.j.CONTENT.TOGGLE_DRAGGING:return r({isDraggingContent:!t.isDraggingContent});case i.j.UI.TOGGLE_EDITING_BY_NAME:return r({ui:Object(c.a)(t.ui,n)});case i.j.TAGGING.CREATE:case i.j.TAGGING.REMOVE:case i.j.TAGGING.TAG_ALL_CONTENT:return r({taggings:Object(l.a)(t.taggings,n)});default:return a()({},t,{ui:Object(c.a)(t.ui,n),taggings:Object(l.a)(t.taggings,n),ownerships:Object(u.a)(t.ownerships,n),contents:Object(s.a)(t.contents,n),relatedUrls:Object(p.a)(t.relatedUrls,n),libraryContents:Object(f.a)(t.libraryContents,n),reporting:Object(h.a)(t.reporting,n),loadingContent:Object(m.a)(t.loadingContent,n)})}}}).call(this,n(43))},function(e,t,n){"use strict";var r=n(21),a=n.n(r),i=n(9),o=n(37),s=n(14);t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s.j.OWNERSHIP.CREATE:return e.concat(t.ownership);case s.j.OWNERSHIP.REMOVE:return Object(i.reject)({id:t.id},e);case s.j.OWNERSHIP.UPDATE:var n=t.ownership,r=n.id,c=a()(n,["id"]);return Object(o.j)(e,{id:r},c);default:return e}}},function(e,t,n){"use strict";var r=n(9),a=n(14);t.a=function(e,t){switch(t.type){case a.j.RELATED_URLS.CREATE:return e.concat(t.mapping);case a.j.RELATED_URLS.REMOVE:return Object(r.reject)({id:t.mapping.id},e);default:return e}}},function(e,t,n){"use strict";var r=n(9),a=n(14);t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a.j.LIBRARY_CONTENT.CREATE:return e.concat(t.libraryContent);case a.j.LIBRARY_CONTENT.REMOVE:return Object(r.reject)({id:t.libraryContent.id})(e);default:return e}}},function(e,t,n){"use strict";var r=n(18),a=n.n(r),i=n(14);t.a=function(e,t){var n=function(t){return a()({},e,t)};switch(t.type){case i.j.REPORTING.SET_GROUP:return n({groupId:t.id});case i.j.REPORTING.DATA_REQUEST:return n({loading:!0});case i.j.REPORTING.DATA_SUCCESS:return n(a()({loading:!1},t.data));default:return e||{}}}},function(e,t,n){"use strict";var r=n(9),a=n(14),i=function(e){return"".concat(e.contentType,".").concat(e.id)};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a.j.CONTENT.LOADING_CONTENTS_REQUEST:return Object(r.union)([i(t)],e);case a.j.CONTENT.LOADING_CONTENTS_SUCCESS:return Object(r.filter)(function(e){return e!==i(t)})(e);default:return e}}},function(e,t){e.exports="/assets/people_no_results-f4f95e1a72730c4f6713bed7a4b3e7def8881718e4ead12b40dd7858743e8583.svg"},function(e,t){e.exports="/assets/ollie_calculator-0dfbc2bf2d12e5906a3bd462b4285c9614c92356d4ff0b1e9a7531440eca412f.svg"},function(e,t){e.exports="/assets/llama_outlines-21d49e896d3c07cbe0624ba7c41efecc22183743e9dc266538a5826c3fdf2ef7.svg"},function(e,t){e.exports="/assets/extension_empty_state-b69379d02b24f22a4eb07590f21d22122bfc1d8b9e1c2e1a77431d99621da71f.svg"},function(e,t,n){"use strict";(function(e){var r=n(24),a=n.n(r),i=n(4),o=n.n(i),s=n(5),c=n.n(s),l=n(6),u=n.n(l),d=n(7),p=n.n(d),f=n(1),h=n.n(f),m=n(8),g=n.n(m),v=n(0),b=n.n(v),y=n(16),E=n(39),_=n(35),w=n(327),S=n(132),k=n(112),C=n(153),N=function(t){function n(e){var t;return o()(this,n),(t=u()(this,p()(n).call(this,e))).state={modalVisible:!1,id:e.initialState.data.id,correctAnswer:e.initialState.data.correctAnswer,feedback:e.initialState.data.feedback,skipped:e.initialState.meta.skipped,criteriaRatings:e.initialState.data.criteriaRatings},t.openModal=t.openModal.bind(h()(t)),t.closeModal=t.closeModal.bind(h()(t)),t.setCorrect=t.setCorrect.bind(h()(t)),t.setFeedback=t.setFeedback.bind(h()(t)),t.setCriteriaScore=t.setCriteriaScore.bind(h()(t)),t}return g()(n,t),c()(n,[{key:"componentDidMount",value:function(){e.pubsub.subscribe("gradingModal:correct",this.setCorrect),e.pubsub.subscribe("gradingModal:feedback",this.setFeedback),e.pubsub.subscribe("grading:rating",this.setCriteriaScore)}},{key:"componentWillUnmount",value:function(){e.pubsub.unsubscribe("gradingModal:correct",this.setCorrect),e.pubsub.unsubscribe("gradingModal:feedback",this.setFeedback),e.pubsub.unsubscribe("grading:rating",this.setCriteriaScore)}},{key:"setCorrect",value:function(e,t){this.state.id===e&&this.setState({correctAnswer:t})}},{key:"setFeedback",value:function(e,t){this.state.id===e&&this.setState({feedback:t})}},{key:"setCriteriaScore",value:function(e,t,n){if(e===this.props.initialState.data.id){var r=Object(y.findIndex)(this.state.criteriaRatings,["id",t]),i=this.state.criteriaRatings[r];i.score=n,this.setState(function(e){return{criteria:[].concat(a()(e.criteriaRatings.slice(0,r)),[i],a()(e.criteriaRatings.slice(r+1)))}})}}},{key:"openModal",value:function(){this.setState({modalVisible:!0})}},{key:"closeModal",value:function(){this.setState({modalVisible:!1})}},{key:"render",value:function(){var e=this.props.initialState,t=e.data,n=e.meta,r=e.i18n,a=t.givenAnswer&&!this.state.skipped&&n.canViewSharableRecordingLink;return b.a.createElement("div",null,b.a.createElement("div",{className:"VideoResponse",onClick:this.openModal},this.state.skipped&&b.a.createElement(S.a,{isCurrentUser:t.isCurrentUser,questionType:t.questionType,i18n:r}),!this.state.skipped&&b.a.createElement("div",null,b.a.createElement(k.a,{givenAnswerProvider:t.givenAnswerProvider,mediaThumbnailSrc:t.mediaThumbnailSrc,questionType:t.questionType}),this.state.modalVisible&&b.a.createElement(_.a,null,b.a.createElement(E.a,{className:"VideoResponseModal ModalTakeover-background Modal-background",onEscape:this.closeModal},b.a.createElement(w.a,{data:t,correctAnswer:this.state.correctAnswer,feedback:this.state.feedback,setCorrect:this.setCorrect,setFeedback:this.setFeedback,closeModal:this.closeModal,modalVisible:this.state.modalVisible,criteriaRatings:this.state.criteriaRatings,ratingOptions:t.ratingOptions,i18n:r,apiKey:n.apiKey,canViewSharableRecordingLink:n.canViewSharableRecordingLink,feedbackCriteriaPresent:n.feedbackCriteriaPresent}))))),a&&b.a.createElement(C.a,{mediaShareLink:t.mediaShareLink,mediaShareText:t.mediaShareText}))}}]),n}(b.a.Component);t.a=N}).call(this,n(43))},function(e,t){e.exports="/assets/zendesk_logo-d638c8a36f12da515af465cc1ba518f35deb28cb3871dd731a52d14b8764b84f.png"},function(e,t){e.exports="/assets/zendesk_envelope-dad357907c150572351deaf80b170f031a7e2c4bf59e83de63e57ad9e4d9919d.svg"},function(e,t){e.exports="/assets/user_zendesk_dark-7e609dfbc6bcbd68bfb00d0fdd457d9157c81b58c706890beb2343fd2b8f9c33.svg"},function(e,t){e.exports="/assets/user_zendesk_light-f228e223cd4bf79051e2739204941aef213b3f0020af826b3497a8f9ea5b30f2.svg"},function(e,n,r){"use strict";var a=r(4),i=r.n(a),o=r(5),s=r.n(o),c=r(6),l=r.n(c),u=r(7),d=r.n(u),p=r(8),f=r.n(p),h=r(0),m=r.n(h),g=r(30),v=r(204),b=r(9),y=function(e){var n=e.correctAnswer;return Object(b.isNull)(n)?t("grades.ungraded"):n?t("grades.correct"):t("grades.incorrect")};r.d(n,"a",function(){return E});var E=function(e){function n(){return i()(this,n),l()(this,d()(n).apply(this,arguments))}return f()(n,e),s()(n,[{key:"render",value:function(){var e=this.props,n=e.preview,r=e.answerId,a=e.handleCorrectClick,i=e.handleFeedbackUpdate,o=e.correctAnswer,s=e.feedback,c=e.criteriaRatings,l=e.ratingOptions,u=e.feedbackCriteriaPresent,d={ratingOptions:l,criteriaRatings:c,preview:n,id:r};return m.a.createElement("div",null,!n&&m.a.createElement("div",{className:"VideoResponseModal-score"},m.a.createElement("div",{className:"VideoResponseModal-heading"},t("progress.report_card.correct_answer")),m.a.createElement("div",null,m.a.createElement("label",{htmlFor:"".concat(r,".correct")},m.a.createElement("input",{defaultChecked:"true"===o,id:"".concat(r,".correct"),name:"correct",onChange:a,type:"radio",value:"true"}),m.a.createElement("span",{className:"ml-8"},t("grades.correct")))),m.a.createElement("div",null,m.a.createElement("label",{htmlFor:"".concat(r,".incorrect")},m.a.createElement("input",{defaultChecked:"false"===o,id:"".concat(r,".incorrect"),name:"correct",onChange:a,type:"radio",value:"false"}),m.a.createElement("span",{className:"ml-8"},t("grades.incorrect"))))),u&&m.a.createElement(v.a,{data:d}),n&&m.a.createElement("div",{className:"VideoResponseModal-score"},m.a.createElement("div",{className:"VideoResponseModal-heading"},t("grades.result")),m.a.createElement(y,{correctAnswer:o})),m.a.createElement("div",{className:"VideoResponseModal-graderFeedback"},m.a.createElement("div",{className:"VideoResponseModal-heading"},!u&&n?t("progress.report_card.feedback"):t("grades.feedback.comments")),n&&m.a.createElement("div",null,s||m.a.createElement("em",null,t("grades.feedback.none_provided"))),!n&&m.a.createElement("textarea",{className:"VideoResponseModal-feedbackInput ".concat(Object(g.a)("NewInput",["white","fw"])),onChange:i,placeholder:t("grades.feedback.provide_feedback"),type:"text",defaultValue:s})))}}]),n}(m.a.Component)},function(e,t,n){"use strict";var r=n(4),a=n.n(r),i=n(5),o=n.n(i),s=n(6),c=n.n(s),l=n(7),u=n.n(l),d=n(1),p=n.n(d),f=n(8),h=n.n(f),m=n(0),g=n.n(m),v=n(15),b=n.n(v),y=n(10),E=function(e){function t(){return a()(this,t),c()(this,u()(t).apply(this,arguments))}return h()(t,e),o()(t,[{key:"render",value:function(){var e=this.props,t=e.rating,n=e.position,r=e.score,a=e.setHoverCount,i=e.hoverCount,o=e.setScore,s=b()("CriteriaList-ratingIcon",{"CriteriaList-ratingIcon--active":Number(n)<=Number(r),"CriteriaList-ratingIcon--hover":Number(n)<=Number(i)});return g.a.createElement("div",{className:s,"data-toggle":"tooltip","data-placement":"top","data-delay":"300",title:t.description,onMouseEnter:function(){return a(n)},onMouseLeave:function(){return a(0)},onClick:function(){return o(n)}},g.a.createElement(y.a,{name:"star_filled"}))}}]),t}(g.a.Component);n.d(t,"a",function(){return _});var _=function(e){function t(e){var n;return a()(this,t),(n=c()(this,u()(t).call(this,e))).state={hoverCount:0},n.setHoverCount=n.setHoverCount.bind(p()(n)),n}return h()(t,e),o()(t,[{key:"setHoverCount",value:function(e){this.props.preview||this.setState({hoverCount:e})}},{key:"render",value:function(){var e=this,t=this.props,n=t.ratingOptions,r=t.setScore,a=t.score;return g.a.createElement("div",{className:"CriteriaList-ratingScale d-f fw-w"},n.map(function(t,n){return g.a.createElement(E,{rating:t,key:t.score,position:n+1,setHoverCount:e.setHoverCount,hoverCount:e.state.hoverCount,score:a,setScore:r})}))}}]),t}(g.a.Component)},,,,function(e,t,n){n(726),e.exports=n(1406)},function(e,t,n){"use strict";n.r(t);n(727),n(729),n(731),n(732),n(733),n(734),n(735),n(737),n(738),n(739),n(740),n(741),n(341),n(743),n(744),n(745),n(746),n(747),n(748),n(749),n(750),n(751),n(752),n(754),n(755),n(757),n(758),n(759),n(760),n(761),n(762),n(763),n(764),n(765),n(766),n(767),n(768),n(769),n(771),n(772),n(773),n(774),n(775),n(776),n(777),n(778),n(779),n(780),n(781),n(782),n(783),n(784),n(785),n(786),n(787),n(788),n(790),n(792),n(793),n(794),n(795),n(796),n(797),n(798),n(799),n(800),n(801),n(802),n(803),n(804),n(805),n(806),n(807),n(808),n(809),n(810),n(811),n(812),n(813),n(814),n(815),n(816),n(819),n(820),n(821),n(822),n(823),n(824),n(825),n(826),n(827),n(828),n(829),n(830),n(831),n(832),n(833),n(481),n(834),n(836),n(837),n(838),n(839),n(840),n(841),n(843),n(844),n(845),n(846),n(847),n(848),n(849),n(850),n(851),n(852),n(853),n(854),n(855),n(856),n(857),n(858),n(859),n(860),n(861),n(862),n(863),n(864),n(865),n(866),n(867),n(868),n(869),n(870),n(871),n(872),n(873),n(874),n(875),n(876),n(877),n(878),n(879),n(880),n(881),n(882),n(883),n(884),n(885),n(488);"function"!=typeof URLSearchParams&&(window.URLSearchParams=n(886)),window._=n(16),window.moment=n(25),n(887),n(888),n(889),n(890),n(891),n(892),n(893),n(894),n(895),n(896),n(897),n(898),n(899),n(900),"fil-PH"===window.I18n.locale?window.moment.locale("tl-ph"):window.moment.locale(window.I18n.locale),window.pubsub=n(901).default()},function(e,t,n){var r=n(26);r(r.P,"Array",{copyWithin:n(461)}),n(159)("copyWithin")},function(e,t,n){e.exports=n(242)("native-function-to-string",Function.toString)},function(e,t,n){"use strict";var r=n(26),a=n(124)(4);r(r.P+r.F*!n(125)([].every,!0),"Array",{every:function(e){return a(this,e,arguments[1])}})},function(e,t,n){var r=n(45),a=n(244),i=n(59)("species");e.exports=function(e){var t;return a(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!a(t.prototype)||(t=void 0),r(t)&&null===(t=t[i])&&(t=void 0)),void 0===t?Array:t}},function(e,t,n){var r=n(26);r(r.P,"Array",{fill:n(337)}),n(159)("fill")},function(e,t,n){"use strict";var r=n(26),a=n(124)(2);r(r.P+r.F*!n(125)([].filter,!0),"Array",{filter:function(e){return a(this,e,arguments[1])}})},function(e,t,n){"use strict";var r=n(26),a=n(124)(5),i=!0;"find"in[]&&Array(1).find(function(){i=!1}),r(r.P+r.F*i,"Array",{find:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}}),n(159)("find")},function(e,t,n){"use strict";var r=n(26),a=n(124)(6),i="findIndex",o=!0;i in[]&&Array(1)[i](function(){o=!1}),r(r.P+r.F*o,"Array",{findIndex:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}}),n(159)(i)},function(e,t,n){"use strict";var r=n(26),a=n(736),i=n(72),o=n(66),s=n(104),c=n(462);r(r.P,"Array",{flatMap:function(e){var t,n,r=i(this);return s(e),t=o(r.length),n=c(r,0),a(n,r,r,t,0,1,e,arguments[1]),n}}),n(159)("flatMap")},function(e,t,n){"use strict";var r=n(244),a=n(45),i=n(66),o=n(123),s=n(59)("isConcatSpreadable");e.exports=function e(t,n,c,l,u,d,p,f){for(var h,m,g=u,v=0,b=!!p&&o(p,f,3);v<l;){if(v in c){if(h=b?b(c[v],v,n):c[v],m=!1,a(h)&&(m=void 0!==(m=h[s])?!!m:r(h)),m&&d>0)g=e(t,n,h,i(h.length),g,d-1)-1;else{if(g>=9007199254740991)throw TypeError();t[g]=h}g++}v++}return g}},function(e,t,n){"use strict";var r=n(26),a=n(124)(0),i=n(125)([].forEach,!0);r(r.P+r.F*!i,"Array",{forEach:function(e){return a(this,e,arguments[1])}})},function(e,t,n){"use strict";var r=n(123),a=n(26),i=n(72),o=n(463),s=n(338),c=n(66),l=n(339),u=n(340);a(a.S+a.F*!n(245)(function(e){Array.from(e)}),"Array",{from:function(e){var t,n,a,d,p=i(e),f="function"==typeof this?this:Array,h=arguments.length,m=h>1?arguments[1]:void 0,g=void 0!==m,v=0,b=u(p);if(g&&(m=r(m,h>2?arguments[2]:void 0,2)),null==b||f==Array&&s(b))for(n=new f(t=c(p.length));t>v;v++)l(n,v,g?m(p[v],v):p[v]);else for(d=b.call(p),n=new f;!(a=d.next()).done;v++)l(n,v,g?o(d,m,[a.value,v],!0):a.value);return n.length=v,n}})},function(e,t,n){"use strict";var r=n(26),a=n(246)(!0);r(r.P,"Array",{includes:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}}),n(159)("includes")},function(e,t,n){"use strict";var r=n(26),a=n(246)(!1),i=[].indexOf,o=!!i&&1/[1].indexOf(1,-0)<0;r(r.P+r.F*(o||!n(125)(i)),"Array",{indexOf:function(e){return o?i.apply(this,arguments)||0:a(this,e,arguments[1])}})},function(e,t,n){var r=n(26);r(r.S,"Array",{isArray:n(244)})},function(e,t,n){"use strict";var r=n(161),a=n(157),i=n(177),o={};n(102)(o,n(59)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=r(o,{next:a(1,n)}),i(e,t+" Iterator")}},function(e,t,n){"use strict";var r=n(26),a=n(116),i=n(134),o=n(66),s=[].lastIndexOf,c=!!s&&1/[1].lastIndexOf(1,-0)<0;r(r.P+r.F*(c||!n(125)(s)),"Array",{lastIndexOf:function(e){if(c)return s.apply(this,arguments)||0;var t=a(this),n=o(t.length),r=n-1;for(arguments.length>1&&(r=Math.min(r,i(arguments[1]))),r<0&&(r=n+r);r>=0;r--)if(r in t&&t[r]===e)return r||0;return-1}})},function(e,t,n){"use strict";var r=n(26),a=n(124)(1);r(r.P+r.F*!n(125)([].map,!0),"Array",{map:function(e){return a(this,e,arguments[1])}})},function(e,t,n){"use strict";var r=n(26),a=n(339);r(r.S+r.F*n(50)(function(){function e(){}return!(Array.of.call(e)instanceof e)}),"Array",{of:function(){for(var e=0,t=arguments.length,n=new("function"==typeof this?this:Array)(t);t>e;)a(n,e,arguments[e++]);return n.length=t,n}})},function(e,t,n){"use strict";var r=n(26),a=n(468);r(r.P+r.F*!n(125)([].reduce,!0),"Array",{reduce:function(e){return a(this,e,arguments.length,arguments[1],!1)}})},function(e,t,n){"use strict";var r=n(26),a=n(468);r(r.P+r.F*!n(125)([].reduceRight,!0),"Array",{reduceRight:function(e){return a(this,e,arguments.length,arguments[1],!0)}})},function(e,t,n){"use strict";var r=n(26),a=n(124)(3);r(r.P+r.F*!n(125)([].some,!0),"Array",{some:function(e){return a(this,e,arguments[1])}})},function(e,t,n){"use strict";var r=n(26),a=n(104),i=n(72),o=n(50),s=[].sort,c=[1,2,3];r(r.P+r.F*(o(function(){c.sort(void 0)})||!o(function(){c.sort(null)})||!n(125)(s)),"Array",{sort:function(e){return void 0===e?s.call(i(this)):s.call(i(this),a(e))}})},function(e,t,n){n(178)("Array")},function(e,t,n){var r=n(26);r(r.S,"Date",{now:function(){return(new Date).getTime()}})},function(e,t,n){var r=n(26),a=n(753);r(r.P+r.F*(Date.prototype.toISOString!==a),"Date",{toISOString:a})},function(e,t,n){"use strict";var r=n(50),a=Date.prototype.getTime,i=Date.prototype.toISOString,o=function(e){return e>9?e:"0"+e};e.exports=r(function(){return"0385-07-25T07:06:39.999Z"!=i.call(new Date(-5e13-1))})||!r(function(){i.call(new Date(NaN))})?function(){if(!isFinite(a.call(this)))throw RangeError("Invalid time value");var e=this,t=e.getUTCFullYear(),n=e.getUTCMilliseconds(),r=t<0?"-":t>9999?"+":"";return r+("00000"+Math.abs(t)).slice(r?-6:-4)+"-"+o(e.getUTCMonth()+1)+"-"+o(e.getUTCDate())+"T"+o(e.getUTCHours())+":"+o(e.getUTCMinutes())+":"+o(e.getUTCSeconds())+"."+(n>99?n:"0"+o(n))+"Z"}:i},function(e,t,n){"use strict";var r=n(26),a=n(72),i=n(122);r(r.P+r.F*n(50)(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(e){var t=a(this),n=i(t);return"number"!=typeof n||isFinite(n)?t.toISOString():null}})},function(e,t,n){var r=n(59)("toPrimitive"),a=Date.prototype;r in a||n(102)(a,r,n(756))},function(e,t,n){"use strict";var r=n(48),a=n(122);e.exports=function(e){if("string"!==e&&"number"!==e&&"default"!==e)throw TypeError("Incorrect hint");return a(r(this),"number"!=e)}},function(e,t,n){var r=Date.prototype,a=r.toString,i=r.getTime;new Date(NaN)+""!="Invalid Date"&&n(97)(r,"toString",function(){var e=i.call(this);return e==e?a.call(this):"Invalid Date"})},function(e,t,n){var r=n(26);r(r.P,"Function",{bind:n(469)})},function(e,t,n){"use strict";var r=n(45),a=n(135),i=n(59)("hasInstance"),o=Function.prototype;i in o||n(65).f(o,i,{value:function(e){if("function"!=typeof this||!r(e))return!1;if(!r(this.prototype))return e instanceof this;for(;e=a(e);)if(this.prototype===e)return!0;return!1}})},function(e,t,n){var r=n(65).f,a=Function.prototype,i=/^\s*function ([^ (]*)/;"name"in a||n(61)&&r(a,"name",{configurable:!0,get:function(){try{return(""+this).match(i)[1]}catch(e){return""}}})},function(e,t,n){"use strict";var r=n(471),a=n(163);e.exports=n(248)("Map",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{get:function(e){var t=r.getEntry(a(this,"Map"),e);return t&&t.v},set:function(e,t){return r.def(a(this,"Map"),0===e?0:e,t)}},r,!0)},function(e,t,n){var r=n(26),a=n(472),i=Math.sqrt,o=Math.acosh;r(r.S+r.F*!(o&&710==Math.floor(o(Number.MAX_VALUE))&&o(1/0)==1/0),"Math",{acosh:function(e){return(e=+e)<1?NaN:e>94906265.62425156?Math.log(e)+Math.LN2:a(e-1+i(e-1)*i(e+1))}})},function(e,t,n){var r=n(26),a=Math.asinh;r(r.S+r.F*!(a&&1/a(0)>0),"Math",{asinh:function e(t){return isFinite(t=+t)&&0!=t?t<0?-e(-t):Math.log(t+Math.sqrt(t*t+1)):t}})},function(e,t,n){var r=n(26),a=Math.atanh;r(r.S+r.F*!(a&&1/a(-0)<0),"Math",{atanh:function(e){return 0==(e=+e)?e:Math.log((1+e)/(1-e))/2}})},function(e,t,n){var r=n(26),a=n(347);r(r.S,"Math",{cbrt:function(e){return a(e=+e)*Math.pow(Math.abs(e),1/3)}})},function(e,t,n){var r=n(26);r(r.S,"Math",{clz32:function(e){return(e>>>=0)?31-Math.floor(Math.log(e+.5)*Math.LOG2E):32}})},function(e,t,n){var r=n(26),a=Math.exp;r(r.S,"Math",{cosh:function(e){return(a(e=+e)+a(-e))/2}})},function(e,t,n){var r=n(26),a=n(348);r(r.S+r.F*(a!=Math.expm1),"Math",{expm1:a})},function(e,t,n){var r=n(26);r(r.S,"Math",{fround:n(770)})},function(e,t,n){var r=n(347),a=Math.pow,i=a(2,-52),o=a(2,-23),s=a(2,127)*(2-o),c=a(2,-126);e.exports=Math.fround||function(e){var t,n,a=Math.abs(e),l=r(e);return a<c?l*(a/c/o+1/i-1/i)*c*o:(n=(t=(1+o/i)*a)-(t-a))>s||n!=n?l*(1/0):l*n}},function(e,t,n){var r=n(26),a=Math.abs;r(r.S,"Math",{hypot:function(e,t){for(var n,r,i=0,o=0,s=arguments.length,c=0;o<s;)c<(n=a(arguments[o++]))?(i=i*(r=c/n)*r+1,c=n):i+=n>0?(r=n/c)*r:n;return c===1/0?1/0:c*Math.sqrt(i)}})},function(e,t,n){var r=n(26),a=Math.imul;r(r.S+r.F*n(50)(function(){return-5!=a(4294967295,5)||2!=a.length}),"Math",{imul:function(e,t){var n=+e,r=+t,a=65535&n,i=65535&r;return 0|a*i+((65535&n>>>16)*i+a*(65535&r>>>16)<<16>>>0)}})},function(e,t,n){var r=n(26);r(r.S,"Math",{log1p:n(472)})},function(e,t,n){var r=n(26);r(r.S,"Math",{log10:function(e){return Math.log(e)*Math.LOG10E}})},function(e,t,n){var r=n(26);r(r.S,"Math",{log2:function(e){return Math.log(e)/Math.LN2}})},function(e,t,n){var r=n(26);r(r.S,"Math",{sign:n(347)})},function(e,t,n){var r=n(26),a=n(348),i=Math.exp;r(r.S+r.F*n(50)(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(e){return Math.abs(e=+e)<1?(a(e)-a(-e))/2:(i(e-1)-i(-e-1))*(Math.E/2)}})},function(e,t,n){var r=n(26),a=n(348),i=Math.exp;r(r.S,"Math",{tanh:function(e){var t=a(e=+e),n=a(-e);return t==1/0?1:n==1/0?-1:(t-n)/(i(e)+i(-e))}})},function(e,t,n){var r=n(26);r(r.S,"Math",{trunc:function(e){return(e>0?Math.floor:Math.ceil)(e)}})},function(e,t,n){"use strict";var r=n(44),a=n(103),i=n(160),o=n(345),s=n(122),c=n(50),l=n(164).f,u=n(105).f,d=n(65).f,p=n(181).trim,f=r.Number,h=f,m=f.prototype,g="Number"==i(n(161)(m)),v="trim"in String.prototype,b=function(e){var t=s(e,!1);if("string"==typeof t&&t.length>2){var n,r,a,i=(t=v?t.trim():p(t,3)).charCodeAt(0);if(43===i||45===i){if(88===(n=t.charCodeAt(2))||120===n)return NaN}else if(48===i){switch(t.charCodeAt(1)){case 66:case 98:r=2,a=49;break;case 79:case 111:r=8,a=55;break;default:return+t}for(var o,c=t.slice(2),l=0,u=c.length;l<u;l++)if((o=c.charCodeAt(l))<48||o>a)return NaN;return parseInt(c,r)}}return+t};if(!f(" 0o1")||!f("0b1")||f("+0x1")){f=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof f&&(g?c(function(){m.valueOf.call(n)}):"Number"!=i(n))?o(new h(b(t)),n,f):b(t)};for(var y,E=n(61)?l(h):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),_=0;E.length>_;_++)a(h,y=E[_])&&!a(f,y)&&d(f,y,u(h,y));f.prototype=m,m.constructor=f,n(97)(r,"Number",f)}},function(e,t,n){var r=n(26);r(r.S,"Number",{EPSILON:Math.pow(2,-52)})},function(e,t,n){var r=n(26),a=n(44).isFinite;r(r.S,"Number",{isFinite:function(e){return"number"==typeof e&&a(e)}})},function(e,t,n){var r=n(26);r(r.S,"Number",{isInteger:n(473)})},function(e,t,n){var r=n(26);r(r.S,"Number",{isNaN:function(e){return e!=e}})},function(e,t,n){var r=n(26),a=n(473),i=Math.abs;r(r.S,"Number",{isSafeInteger:function(e){return a(e)&&i(e)<=9007199254740991}})},function(e,t,n){var r=n(26);r(r.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(e,t,n){var r=n(26);r(r.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(e,t,n){var r=n(26),a=n(789);r(r.S+r.F*(Number.parseFloat!=a),"Number",{parseFloat:a})},function(e,t,n){var r=n(44).parseFloat,a=n(181).trim;e.exports=1/r(n(349)+"-0")!=-1/0?function(e){var t=a(String(e),3),n=r(t);return 0===n&&"-"==t.charAt(0)?-0:n}:r},function(e,t,n){var r=n(26),a=n(791);r(r.S+r.F*(Number.parseInt!=a),"Number",{parseInt:a})},function(e,t,n){var r=n(44).parseInt,a=n(181).trim,i=n(349),o=/^[-+]?0[xX]/;e.exports=8!==r(i+"08")||22!==r(i+"0x16")?function(e,t){var n=a(String(e),3);return r(n,t>>>0||(o.test(n)?16:10))}:r},function(e,t,n){var r=n(26);r(r.S+r.F,"Object",{assign:n(474)})},function(e,t,n){var r=n(26);r(r.S,"Object",{create:n(161)})},function(e,t,n){"use strict";var r=n(26),a=n(72),i=n(104),o=n(65);n(61)&&r(r.P+n(250),"Object",{__defineGetter__:function(e,t){o.f(a(this),e,{get:i(t),enumerable:!0,configurable:!0})}})},function(e,t,n){"use strict";var r=n(26),a=n(72),i=n(104),o=n(65);n(61)&&r(r.P+n(250),"Object",{__defineSetter__:function(e,t){o.f(a(this),e,{set:i(t),enumerable:!0,configurable:!0})}})},function(e,t,n){var r=n(26);r(r.S+r.F*!n(61),"Object",{defineProperty:n(65).f})},function(e,t,n){var r=n(26);r(r.S+r.F*!n(61),"Object",{defineProperties:n(465)})},function(e,t,n){var r=n(26),a=n(475)(!0);r(r.S,"Object",{entries:function(e){return a(e)}})},function(e,t,n){var r=n(45),a=n(143).onFreeze;n(126)("freeze",function(e){return function(t){return e&&r(t)?e(a(t)):t}})},function(e,t,n){var r=n(116),a=n(105).f;n(126)("getOwnPropertyDescriptor",function(){return function(e,t){return a(r(e),t)}})},function(e,t,n){var r=n(26),a=n(476),i=n(116),o=n(105),s=n(339);r(r.S,"Object",{getOwnPropertyDescriptors:function(e){for(var t,n,r=i(e),c=o.f,l=a(r),u={},d=0;l.length>d;)void 0!==(n=c(r,t=l[d++]))&&s(u,t,n);return u}})},function(e,t,n){n(126)("getOwnPropertyNames",function(){return n(477).f})},function(e,t,n){var r=n(72),a=n(135);n(126)("getPrototypeOf",function(){return function(e){return a(r(e))}})},function(e,t,n){"use strict";var r=n(26),a=n(72),i=n(122),o=n(135),s=n(105).f;n(61)&&r(r.P+n(250),"Object",{__lookupGetter__:function(e){var t,n=a(this),r=i(e,!0);do{if(t=s(n,r))return t.get}while(n=o(n))}})},function(e,t,n){"use strict";var r=n(26),a=n(72),i=n(122),o=n(135),s=n(105).f;n(61)&&r(r.P+n(250),"Object",{__lookupSetter__:function(e){var t,n=a(this),r=i(e,!0);do{if(t=s(n,r))return t.set}while(n=o(n))}})},function(e,t,n){var r=n(45),a=n(143).onFreeze;n(126)("preventExtensions",function(e){return function(t){return e&&r(t)?e(a(t)):t}})},function(e,t,n){"use strict";var r=n(215),a={};a[n(59)("toStringTag")]="z",a+""!="[object z]"&&n(97)(Object.prototype,"toString",function(){return"[object "+r(this)+"]"},!0)},function(e,t,n){var r=n(26);r(r.S,"Object",{is:n(478)})},function(e,t,n){var r=n(45);n(126)("isFrozen",function(e){return function(t){return!r(t)||!!e&&e(t)}})},function(e,t,n){var r=n(45);n(126)("isSealed",function(e){return function(t){return!r(t)||!!e&&e(t)}})},function(e,t,n){var r=n(45);n(126)("isExtensible",function(e){return function(t){return!!r(t)&&(!e||e(t))}})},function(e,t,n){var r=n(72),a=n(162);n(126)("keys",function(){return function(e){return a(r(e))}})},function(e,t,n){var r=n(45),a=n(143).onFreeze;n(126)("seal",function(e){return function(t){return e&&r(t)?e(a(t)):t}})},function(e,t,n){var r=n(26);r(r.S,"Object",{setPrototypeOf:n(346).set})},function(e,t,n){var r=n(26),a=n(475)(!1);r(r.S,"Object",{values:function(e){return a(e)}})},function(e,t,n){"use strict";var r,a,i,o,s=n(142),c=n(44),l=n(123),u=n(215),d=n(26),p=n(45),f=n(104),h=n(180),m=n(247),g=n(217),v=n(350).set,b=n(817)(),y=n(479),E=n(818),_=n(251),w=n(480),S=c.TypeError,k=c.process,C=k&&k.versions,N=C&&C.v8||"",O=c.Promise,x="process"==u(k),T=function(){},R=a=y.f,P=!!function(){try{var e=O.resolve(1),t=(e.constructor={})[n(59)("species")]=function(e){e(T,T)};return(x||"function"==typeof PromiseRejectionEvent)&&e.then(T)instanceof t&&0!==N.indexOf("6.6")&&-1===_.indexOf("Chrome/66")}catch(e){}}(),I=function(e){var t;return!(!p(e)||"function"!=typeof(t=e.then))&&t},A=function(e,t){if(!e._n){e._n=!0;var n=e._c;b(function(){for(var r=e._v,a=1==e._s,i=0,o=function(t){var n,i,o,s=a?t.ok:t.fail,c=t.resolve,l=t.reject,u=t.domain;try{s?(a||(2==e._h&&j(e),e._h=1),!0===s?n=r:(u&&u.enter(),n=s(r),u&&(u.exit(),o=!0)),n===t.promise?l(S("Promise-chain cycle")):(i=I(n))?i.call(n,c,l):c(n)):l(r)}catch(e){u&&!o&&u.exit(),l(e)}};n.length>i;)o(n[i++]);e._c=[],e._n=!1,t&&!e._h&&M(e)})}},M=function(e){v.call(c,function(){var t,n,r,a=e._v,i=D(e);if(i&&(t=E(function(){x?k.emit("unhandledRejection",a,e):(n=c.onunhandledrejection)?n({promise:e,reason:a}):(r=c.console)&&r.error&&r.error("Unhandled promise rejection",a)}),e._h=x||D(e)?2:1),e._a=void 0,i&&t.e)throw t.v})},D=function(e){return 1!==e._h&&0===(e._a||e._c).length},j=function(e){v.call(c,function(){var t;x?k.emit("rejectionHandled",e):(t=c.onrejectionhandled)&&t({promise:e,reason:e._v})})},L=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),A(t,!0))},F=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw S("Promise can't be resolved itself");(t=I(e))?b(function(){var r={_w:n,_d:!1};try{t.call(e,l(F,r,1),l(L,r,1))}catch(e){L.call(r,e)}}):(n._v=e,n._s=1,A(n,!1))}catch(e){L.call({_w:n,_d:!1},e)}}};P||(O=function(e){h(this,O,"Promise","_h"),f(e),r.call(this);try{e(l(F,this,1),l(L,this,1))}catch(e){L.call(this,e)}},(r=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(179)(O.prototype,{then:function(e,t){var n=R(g(this,O));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=x?k.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&A(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new r;this.promise=e,this.resolve=l(F,e,1),this.reject=l(L,e,1)},y.f=R=function(e){return e===O||e===o?new i(e):a(e)}),d(d.G+d.W+d.F*!P,{Promise:O}),n(177)(O,"Promise"),n(178)("Promise"),o=n(141).Promise,d(d.S+d.F*!P,"Promise",{reject:function(e){var t=R(this);return(0,t.reject)(e),t.promise}}),d(d.S+d.F*(s||!P),"Promise",{resolve:function(e){return w(s&&this===o?O:this,e)}}),d(d.S+d.F*!(P&&n(245)(function(e){O.all(e).catch(T)})),"Promise",{all:function(e){var t=this,n=R(t),r=n.resolve,a=n.reject,i=E(function(){var n=[],i=0,o=1;m(e,!1,function(e){var s=i++,c=!1;n.push(void 0),o++,t.resolve(e).then(function(e){c||(c=!0,n[s]=e,--o||r(n))},a)}),--o||r(n)});return i.e&&a(i.v),n.promise},race:function(e){var t=this,n=R(t),r=n.reject,a=E(function(){m(e,!1,function(e){t.resolve(e).then(n.resolve,r)})});return a.e&&r(a.v),n.promise}})},function(e,t,n){var r=n(44),a=n(350).set,i=r.MutationObserver||r.WebKitMutationObserver,o=r.process,s=r.Promise,c="process"==n(160)(o);e.exports=function(){var e,t,n,l=function(){var r,a;for(c&&(r=o.domain)&&r.exit();e;){a=e.fn,e=e.next;try{a()}catch(r){throw e?n():t=void 0,r}}t=void 0,r&&r.enter()};if(c)n=function(){o.nextTick(l)};else if(!i||r.navigator&&r.navigator.standalone)if(s&&s.resolve){var u=s.resolve(void 0);n=function(){u.then(l)}}else n=function(){a.call(r,l)};else{var d=!0,p=document.createTextNode("");new i(l).observe(p,{characterData:!0}),n=function(){p.data=d=!d}}return function(r){var a={fn:r,next:void 0};t&&(t.next=a),e||(e=a,n()),t=a}}},function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,n){"use strict";var r=n(26),a=n(141),i=n(44),o=n(217),s=n(480);r(r.P+r.R,"Promise",{finally:function(e){var t=o(this,a.Promise||i.Promise),n="function"==typeof e;return this.then(n?function(n){return s(t,e()).then(function(){return n})}:e,n?function(n){return s(t,e()).then(function(){throw n})}:e)}})},function(e,t,n){var r=n(26),a=n(104),i=n(48),o=(n(44).Reflect||{}).apply,s=Function.apply;r(r.S+r.F*!n(50)(function(){o(function(){})}),"Reflect",{apply:function(e,t,n){var r=a(e),c=i(n);return o?o(r,t,c):s.call(r,t,c)}})},function(e,t,n){var r=n(26),a=n(161),i=n(104),o=n(48),s=n(45),c=n(50),l=n(469),u=(n(44).Reflect||{}).construct,d=c(function(){function e(){}return!(u(function(){},[],e)instanceof e)}),p=!c(function(){u(function(){})});r(r.S+r.F*(d||p),"Reflect",{construct:function(e,t){i(e),o(t);var n=arguments.length<3?e:i(arguments[2]);if(p&&!d)return u(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return r.push.apply(r,t),new(l.apply(e,r))}var c=n.prototype,f=a(s(c)?c:Object.prototype),h=Function.apply.call(e,f,t);return s(h)?h:f}})},function(e,t,n){var r=n(65),a=n(26),i=n(48),o=n(122);a(a.S+a.F*n(50)(function(){Reflect.defineProperty(r.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(e,t,n){i(e),t=o(t,!0),i(n);try{return r.f(e,t,n),!0}catch(e){return!1}}})},function(e,t,n){var r=n(26),a=n(105).f,i=n(48);r(r.S,"Reflect",{deleteProperty:function(e,t){var n=a(i(e),t);return!(n&&!n.configurable)&&delete e[t]}})},function(e,t,n){var r=n(105),a=n(135),i=n(103),o=n(26),s=n(45),c=n(48);o(o.S,"Reflect",{get:function e(t,n){var o,l,u=arguments.length<3?t:arguments[2];return c(t)===u?t[n]:(o=r.f(t,n))?i(o,"value")?o.value:void 0!==o.get?o.get.call(u):void 0:s(l=a(t))?e(l,n,u):void 0}})},function(e,t,n){var r=n(105),a=n(26),i=n(48);a(a.S,"Reflect",{getOwnPropertyDescriptor:function(e,t){return r.f(i(e),t)}})},function(e,t,n){var r=n(26),a=n(135),i=n(48);r(r.S,"Reflect",{getPrototypeOf:function(e){return a(i(e))}})},function(e,t,n){var r=n(26);r(r.S,"Reflect",{has:function(e,t){return t in e}})},function(e,t,n){var r=n(26),a=n(48),i=Object.isExtensible;r(r.S,"Reflect",{isExtensible:function(e){return a(e),!i||i(e)}})},function(e,t,n){var r=n(26);r(r.S,"Reflect",{ownKeys:n(476)})},function(e,t,n){var r=n(26),a=n(48),i=Object.preventExtensions;r(r.S,"Reflect",{preventExtensions:function(e){a(e);try{return i&&i(e),!0}catch(e){return!1}}})},function(e,t,n){var r=n(65),a=n(105),i=n(135),o=n(103),s=n(26),c=n(157),l=n(48),u=n(45);s(s.S,"Reflect",{set:function e(t,n,s){var d,p,f=arguments.length<4?t:arguments[3],h=a.f(l(t),n);if(!h){if(u(p=i(t)))return e(p,n,s,f);h=c(0)}if(o(h,"value")){if(!1===h.writable||!u(f))return!1;if(d=a.f(f,n)){if(d.get||d.set||!1===d.writable)return!1;d.value=s,r.f(f,n,d)}else r.f(f,n,c(0,s));return!0}return void 0!==h.set&&(h.set.call(f,s),!0)}})},function(e,t,n){var r=n(26),a=n(346);a&&r(r.S,"Reflect",{setPrototypeOf:function(e,t){a.check(e,t);try{return a.set(e,t),!0}catch(e){return!1}}})},function(e,t,n){var r=n(44),a=n(345),i=n(65).f,o=n(164).f,s=n(351),c=n(252),l=r.RegExp,u=l,d=l.prototype,p=/a/g,f=/a/g,h=new l(p)!==p;if(n(61)&&(!h||n(50)(function(){return f[n(59)("match")]=!1,l(p)!=p||l(f)==f||"/a/i"!=l(p,"i")}))){l=function(e,t){var n=this instanceof l,r=s(e),i=void 0===t;return!n&&r&&e.constructor===l&&i?e:a(h?new u(r&&!i?e.source:e,t):u((r=e instanceof l)?e.source:e,r&&i?c.call(e):t),n?this:d,l)};for(var m=function(e){e in l||i(l,e,{configurable:!0,get:function(){return u[e]},set:function(t){u[e]=t}})},g=o(u),v=0;g.length>v;)m(g[v++]);d.constructor=l,l.prototype=d,n(97)(r,"RegExp",l)}n(178)("RegExp")},function(e,t,n){"use strict";var r=n(48),a=n(66),i=n(352),o=n(253);n(254)("match",1,function(e,t,n,s){return[function(n){var r=e(this),a=null==n?void 0:n[t];return void 0!==a?a.call(n,r):new RegExp(n)[t](String(r))},function(e){var t=s(n,e,this);if(t.done)return t.value;var c=r(e),l=String(this);if(!c.global)return o(c,l);var u=c.unicode;c.lastIndex=0;for(var d,p=[],f=0;null!==(d=o(c,l));){var h=String(d[0]);p[f]=h,""===h&&(c.lastIndex=i(l,a(c.lastIndex),u)),f++}return 0===f?null:p}]})},function(e,t,n){"use strict";var r=n(354);n(26)({target:"RegExp",proto:!0,forced:r!==/./.exec},{exec:r})},function(e,t,n){"use strict";var r=n(48),a=n(72),i=n(66),o=n(134),s=n(352),c=n(253),l=Math.max,u=Math.min,d=Math.floor,p=/\$([$&`']|\d\d?|<[^>]*>)/g,f=/\$([$&`']|\d\d?)/g;n(254)("replace",2,function(e,t,n,h){return[function(r,a){var i=e(this),o=null==r?void 0:r[t];return void 0!==o?o.call(r,i,a):n.call(String(i),r,a)},function(e,t){var a=h(n,e,this,t);if(a.done)return a.value;var d=r(e),p=String(this),f="function"==typeof t;f||(t=String(t));var g=d.global;if(g){var v=d.unicode;d.lastIndex=0}for(var b=[];;){var y=c(d,p);if(null===y)break;if(b.push(y),!g)break;""===String(y[0])&&(d.lastIndex=s(p,i(d.lastIndex),v))}for(var E,_="",w=0,S=0;S<b.length;S++){y=b[S];for(var k=String(y[0]),C=l(u(o(y.index),p.length),0),N=[],O=1;O<y.length;O++)N.push(void 0===(E=y[O])?E:String(E));var x=y.groups;if(f){var T=[k].concat(N,C,p);void 0!==x&&T.push(x);var R=String(t.apply(void 0,T))}else R=m(k,p,C,N,x,t);C>=w&&(_+=p.slice(w,C)+R,w=C+k.length)}return _+p.slice(w)}];function m(e,t,r,i,o,s){var c=r+e.length,l=i.length,u=f;return void 0!==o&&(o=a(o),u=p),n.call(s,u,function(n,a){var s;switch(a.charAt(0)){case"$":return"$";case"&":return e;case"`":return t.slice(0,r);case"'":return t.slice(c);case"<":s=o[a.slice(1,-1)];break;default:var u=+a;if(0===u)return n;if(u>l){var p=d(u/10);return 0===p?n:p<=l?void 0===i[p-1]?a.charAt(1):i[p-1]+a.charAt(1):n}s=i[u-1]}return void 0===s?"":s})}})},function(e,t,n){"use strict";var r=n(351),a=n(48),i=n(217),o=n(352),s=n(66),c=n(253),l=n(354),u=n(50),d=Math.min,p=[].push,f=!u(function(){RegExp(4294967295,"y")});n(254)("split",2,function(e,t,n,u){var h;return h="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,t){var a=String(this);if(void 0===e&&0===t)return[];if(!r(e))return n.call(a,e,t);for(var i,o,s,c=[],u=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),d=0,f=void 0===t?4294967295:t>>>0,h=new RegExp(e.source,u+"g");(i=l.call(h,a))&&!((o=h.lastIndex)>d&&(c.push(a.slice(d,i.index)),i.length>1&&i.index<a.length&&p.apply(c,i.slice(1)),s=i[0].length,d=o,c.length>=f));)h.lastIndex===i.index&&h.lastIndex++;return d===a.length?!s&&h.test("")||c.push(""):c.push(a.slice(d)),c.length>f?c.slice(0,f):c}:"0".split(void 0,0).length?function(e,t){return void 0===e&&0===t?[]:n.call(this,e,t)}:n,[function(n,r){var a=e(this),i=null==n?void 0:n[t];return void 0!==i?i.call(n,a,r):h.call(String(a),n,r)},function(e,t){var r=u(h,e,this,t,h!==n);if(r.done)return r.value;var l=a(e),p=String(this),m=i(l,RegExp),g=l.unicode,v=(l.ignoreCase?"i":"")+(l.multiline?"m":"")+(l.unicode?"u":"")+(f?"y":"g"),b=new m(f?l:"^(?:"+l.source+")",v),y=void 0===t?4294967295:t>>>0;if(0===y)return[];if(0===p.length)return null===c(b,p)?[p]:[];for(var E=0,_=0,w=[];_<p.length;){b.lastIndex=f?_:0;var S,k=c(b,f?p:p.slice(_));if(null===k||(S=d(s(b.lastIndex+(f?0:_)),p.length))===E)_=o(p,_,g);else{if(w.push(p.slice(E,_)),w.length===y)return w;for(var C=1;C<=k.length-1;C++)if(w.push(k[C]),w.length===y)return w;_=E=S}}return w.push(p.slice(E)),w}]})},function(e,t,n){"use strict";var r=n(48),a=n(478),i=n(253);n(254)("search",1,function(e,t,n,o){return[function(n){var r=e(this),a=null==n?void 0:n[t];return void 0!==a?a.call(n,r):new RegExp(n)[t](String(r))},function(e){var t=o(n,e,this);if(t.done)return t.value;var s=r(e),c=String(this),l=s.lastIndex;a(l,0)||(s.lastIndex=0);var u=i(s,c);return a(s.lastIndex,l)||(s.lastIndex=l),null===u?-1:u.index}]})},function(e,t,n){"use strict";n(481);var r=n(48),a=n(252),i=n(61),o=/./.toString,s=function(e){n(97)(RegExp.prototype,"toString",e,!0)};n(50)(function(){return"/a/b"!=o.call({source:"a",flags:"b"})})?s(function(){var e=r(this);return"/".concat(e.source,"/","flags"in e?e.flags:!i&&e instanceof RegExp?a.call(e):void 0)}):"toString"!=o.name&&s(function(){return o.call(this)})},function(e,t,n){"use strict";var r=n(471),a=n(163);e.exports=n(248)("Set",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return r.def(a(this,"Set"),e=0===e?0:e,e)}},r)},function(e,t,n){"use strict";var r=n(44),a=n(103),i=n(61),o=n(26),s=n(97),c=n(143).KEY,l=n(50),u=n(242),d=n(177),p=n(158),f=n(59),h=n(482),m=n(483),g=n(842),v=n(244),b=n(48),y=n(45),E=n(72),_=n(116),w=n(122),S=n(157),k=n(161),C=n(477),N=n(105),O=n(249),x=n(65),T=n(162),R=N.f,P=x.f,I=C.f,A=r.Symbol,M=r.JSON,D=M&&M.stringify,j=f("_hidden"),L=f("toPrimitive"),F={}.propertyIsEnumerable,B=u("symbol-registry"),U=u("symbols"),H=u("op-symbols"),q=Object.prototype,G="function"==typeof A&&!!O.f,W=r.QObject,V=!W||!W.prototype||!W.prototype.findChild,z=i&&l(function(){return 7!=k(P({},"a",{get:function(){return P(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=R(q,t);r&&delete q[t],P(e,t,n),r&&e!==q&&P(q,t,r)}:P,Y=function(e){var t=U[e]=k(A.prototype);return t._k=e,t},Q=G&&"symbol"==typeof A.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof A},K=function(e,t,n){return e===q&&K(H,t,n),b(e),t=w(t,!0),b(n),a(U,t)?(n.enumerable?(a(e,j)&&e[j][t]&&(e[j][t]=!1),n=k(n,{enumerable:S(0,!1)})):(a(e,j)||P(e,j,S(1,{})),e[j][t]=!0),z(e,t,n)):P(e,t,n)},X=function(e,t){b(e);for(var n,r=g(t=_(t)),a=0,i=r.length;i>a;)K(e,n=r[a++],t[n]);return e},$=function(e){var t=F.call(this,e=w(e,!0));return!(this===q&&a(U,e)&&!a(H,e))&&(!(t||!a(this,e)||!a(U,e)||a(this,j)&&this[j][e])||t)},Z=function(e,t){if(e=_(e),t=w(t,!0),e!==q||!a(U,t)||a(H,t)){var n=R(e,t);return!n||!a(U,t)||a(e,j)&&e[j][t]||(n.enumerable=!0),n}},J=function(e){for(var t,n=I(_(e)),r=[],i=0;n.length>i;)a(U,t=n[i++])||t==j||t==c||r.push(t);return r},ee=function(e){for(var t,n=e===q,r=I(n?H:_(e)),i=[],o=0;r.length>o;)!a(U,t=r[o++])||n&&!a(q,t)||i.push(U[t]);return i};G||(s((A=function(){if(this instanceof A)throw TypeError("Symbol is not a constructor!");var e=p(arguments.length>0?arguments[0]:void 0),t=function(n){this===q&&t.call(H,n),a(this,j)&&a(this[j],e)&&(this[j][e]=!1),z(this,e,S(1,n))};return i&&V&&z(q,e,{configurable:!0,set:t}),Y(e)}).prototype,"toString",function(){return this._k}),N.f=Z,x.f=K,n(164).f=C.f=J,n(216).f=$,O.f=ee,i&&!n(142)&&s(q,"propertyIsEnumerable",$,!0),h.f=function(e){return Y(f(e))}),o(o.G+o.W+o.F*!G,{Symbol:A});for(var te="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ne=0;te.length>ne;)f(te[ne++]);for(var re=T(f.store),ae=0;re.length>ae;)m(re[ae++]);o(o.S+o.F*!G,"Symbol",{for:function(e){return a(B,e+="")?B[e]:B[e]=A(e)},keyFor:function(e){if(!Q(e))throw TypeError(e+" is not a symbol!");for(var t in B)if(B[t]===e)return t},useSetter:function(){V=!0},useSimple:function(){V=!1}}),o(o.S+o.F*!G,"Object",{create:function(e,t){return void 0===t?k(e):X(k(e),t)},defineProperty:K,defineProperties:X,getOwnPropertyDescriptor:Z,getOwnPropertyNames:J,getOwnPropertySymbols:ee});var ie=l(function(){O.f(1)});o(o.S+o.F*ie,"Object",{getOwnPropertySymbols:function(e){return O.f(E(e))}}),M&&o(o.S+o.F*(!G||l(function(){var e=A();return"[null]"!=D([e])||"{}"!=D({a:e})||"{}"!=D(Object(e))})),"JSON",{stringify:function(e){for(var t,n,r=[e],a=1;arguments.length>a;)r.push(arguments[a++]);if(n=t=r[1],(y(t)||void 0!==e)&&!Q(e))return v(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!Q(t))return t}),r[1]=t,D.apply(M,r)}}),A.prototype[L]||n(102)(A.prototype,L,A.prototype.valueOf),d(A,"Symbol"),d(Math,"Math",!0),d(r.JSON,"JSON",!0)},function(e,t,n){var r=n(162),a=n(249),i=n(216);e.exports=function(e){var t=r(e),n=a.f;if(n)for(var o,s=n(e),c=i.f,l=0;s.length>l;)c.call(e,o=s[l++])&&t.push(o);return t}},function(e,t,n){n(483)("asyncIterator")},function(e,t,n){"use strict";n(98)("anchor",function(e){return function(t){return e(this,"a","name",t)}})},function(e,t,n){"use strict";n(98)("big",function(e){return function(){return e(this,"big","","")}})},function(e,t,n){"use strict";n(98)("blink",function(e){return function(){return e(this,"blink","","")}})},function(e,t,n){"use strict";n(98)("bold",function(e){return function(){return e(this,"b","","")}})},function(e,t,n){"use strict";var r=n(26),a=n(353)(!1);r(r.P,"String",{codePointAt:function(e){return a(this,e)}})},function(e,t,n){"use strict";var r=n(26),a=n(66),i=n(355),o="".endsWith;r(r.P+r.F*n(356)("endsWith"),"String",{endsWith:function(e){var t=i(this,e,"endsWith"),n=arguments.length>1?arguments[1]:void 0,r=a(t.length),s=void 0===n?r:Math.min(a(n),r),c=String(e);return o?o.call(t,c,s):t.slice(s-c.length,s)===c}})},function(e,t,n){"use strict";n(98)("fixed",function(e){return function(){return e(this,"tt","","")}})},function(e,t,n){"use strict";n(98)("fontcolor",function(e){return function(t){return e(this,"font","color",t)}})},function(e,t,n){"use strict";n(98)("fontsize",function(e){return function(t){return e(this,"font","size",t)}})},function(e,t,n){var r=n(26),a=n(175),i=String.fromCharCode,o=String.fromCodePoint;r(r.S+r.F*(!!o&&1!=o.length),"String",{fromCodePoint:function(e){for(var t,n=[],r=arguments.length,o=0;r>o;){if(t=+arguments[o++],a(t,1114111)!==t)throw RangeError(t+" is not a valid code point");n.push(t<65536?i(t):i(55296+((t-=65536)>>10),t%1024+56320))}return n.join("")}})},function(e,t,n){"use strict";var r=n(26),a=n(355);r(r.P+r.F*n(356)("includes"),"String",{includes:function(e){return!!~a(this,e,"includes").indexOf(e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){"use strict";n(98)("italics",function(e){return function(){return e(this,"i","","")}})},function(e,t,n){"use strict";var r=n(353)(!0);n(342)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=r(t,n),this._i+=e.length,{value:e,done:!1})})},function(e,t,n){"use strict";n(98)("link",function(e){return function(t){return e(this,"a","href",t)}})},function(e,t,n){"use strict";var r=n(26),a=n(484),i=n(251),o=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(i);r(r.P+r.F*o,"String",{padStart:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0,!0)}})},function(e,t,n){"use strict";var r=n(26),a=n(484),i=n(251),o=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(i);r(r.P+r.F*o,"String",{padEnd:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0,!1)}})},function(e,t,n){var r=n(26),a=n(116),i=n(66);r(r.S,"String",{raw:function(e){for(var t=a(e.raw),n=i(t.length),r=arguments.length,o=[],s=0;n>s;)o.push(String(t[s++])),s<r&&o.push(String(arguments[s]));return o.join("")}})},function(e,t,n){var r=n(26);r(r.P,"String",{repeat:n(485)})},function(e,t,n){"use strict";n(98)("small",function(e){return function(){return e(this,"small","","")}})},function(e,t,n){"use strict";var r=n(26),a=n(66),i=n(355),o="".startsWith;r(r.P+r.F*n(356)("startsWith"),"String",{startsWith:function(e){var t=i(this,e,"startsWith"),n=a(Math.min(arguments.length>1?arguments[1]:void 0,t.length)),r=String(e);return o?o.call(t,r,n):t.slice(n,n+r.length)===r}})},function(e,t,n){"use strict";n(98)("strike",function(e){return function(){return e(this,"strike","","")}})},function(e,t,n){"use strict";n(98)("sub",function(e){return function(){return e(this,"sub","","")}})},function(e,t,n){"use strict";n(98)("sup",function(e){return function(){return e(this,"sup","","")}})},function(e,t,n){"use strict";n(181)("trim",function(e){return function(){return e(this,3)}})},function(e,t,n){"use strict";n(181)("trimLeft",function(e){return function(){return e(this,1)}},"trimStart")},function(e,t,n){"use strict";n(181)("trimRight",function(e){return function(){return e(this,2)}},"trimEnd")},function(e,t,n){"use strict";var r=n(26),a=n(255),i=n(357),o=n(48),s=n(175),c=n(66),l=n(45),u=n(44).ArrayBuffer,d=n(217),p=i.ArrayBuffer,f=i.DataView,h=a.ABV&&u.isView,m=p.prototype.slice,g=a.VIEW;r(r.G+r.W+r.F*(u!==p),{ArrayBuffer:p}),r(r.S+r.F*!a.CONSTR,"ArrayBuffer",{isView:function(e){return h&&h(e)||l(e)&&g in e}}),r(r.P+r.U+r.F*n(50)(function(){return!new p(2).slice(1,void 0).byteLength}),"ArrayBuffer",{slice:function(e,t){if(void 0!==m&&void 0===t)return m.call(o(this),e);for(var n=o(this).byteLength,r=s(e,n),a=s(void 0===t?n:t,n),i=new(d(this,p))(c(a-r)),l=new f(this),u=new f(i),h=0;r<a;)u.setUint8(h++,l.getUint8(r++));return i}}),n(178)("ArrayBuffer")},function(e,t,n){var r=n(26);r(r.G+r.W+r.F*!n(255).ABV,{DataView:n(357).DataView})},function(e,t,n){n(136)("Int8",1,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(136)("Uint8",1,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(136)("Uint8",1,function(e){return function(t,n,r){return e(this,t,n,r)}},!0)},function(e,t,n){n(136)("Int16",2,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(136)("Uint16",2,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(136)("Int32",4,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(136)("Uint32",4,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(136)("Float32",4,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(136)("Float64",8,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){"use strict";var r,a=n(44),i=n(124)(0),o=n(97),s=n(143),c=n(474),l=n(487),u=n(45),d=n(163),p=n(163),f=!a.ActiveXObject&&"ActiveXObject"in a,h=s.getWeak,m=Object.isExtensible,g=l.ufstore,v=function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},b={get:function(e){if(u(e)){var t=h(e);return!0===t?g(d(this,"WeakMap")).get(e):t?t[this._i]:void 0}},set:function(e,t){return l.def(d(this,"WeakMap"),e,t)}},y=e.exports=n(248)("WeakMap",v,b,l,!0,!0);p&&f&&(c((r=l.getConstructor(v,"WeakMap")).prototype,b),s.NEED=!0,i(["delete","has","get","set"],function(e){var t=y.prototype,n=t[e];o(t,e,function(t,a){if(u(t)&&!m(t)){this._f||(this._f=new r);var i=this._f[e](t,a);return"set"==e?this:i}return n.call(this,t,a)})}))},function(e,t,n){"use strict";var r=n(487),a=n(163);n(248)("WeakSet",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return r.def(a(this,"WeakSet"),e,!0)}},r,!1,!0)},function(e,t,n){var r=n(44),a=n(26),i=n(251),o=[].slice,s=/MSIE .\./.test(i),c=function(e){return function(t,n){var r=arguments.length>2,a=!!r&&o.call(arguments,2);return e(r?function(){("function"==typeof t?t:Function(t)).apply(this,a)}:t,n)}};a(a.G+a.B+a.F*s,{setTimeout:c(r.setTimeout),setInterval:c(r.setInterval)})},function(e,t,n){var r=n(26),a=n(350);r(r.G+r.B,{setImmediate:a.set,clearImmediate:a.clear})},function(e,t,n){for(var r=n(341),a=n(162),i=n(97),o=n(44),s=n(102),c=n(176),l=n(59),u=l("iterator"),d=l("toStringTag"),p=c.Array,f={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},h=a(f),m=0;m<h.length;m++){var g,v=h[m],b=f[v],y=o[v],E=y&&y.prototype;if(E&&(E[u]||s(E,u,p),E[d]||s(E,d,v),c[v]=p,b))for(g in r)E[g]||i(E,g,r[g],!0)}},function(e,t,n){"use strict";(function(t){
/*!
Copyright (C) 2015-2017 Andrea Giammarchi - @WebReflection

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.

*/
function n(e){var t,n,a,i,o,s,c=Object.create(null);if(this[l]=c,e)if("string"==typeof e)for("?"===e.charAt(0)&&(e=e.slice(1)),o=0,s=(i=e.split("&")).length;o<s;o++)-1<(t=(a=i[o]).indexOf("="))?u(c,d(a.slice(0,t)),d(a.slice(t+1))):a.length&&u(c,d(a),"");else if(r(e))for(o=0,s=e.length;o<s;o++)u(c,(a=e[o])[0],a[1]);else for(n in e)u(c,n,e[n])}var r=Array.isArray,a=n.prototype,i=/[!'\(\)~]|%20|%00/g,o=/\+/g,s={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"},c=function(e){return s[e]},l="__URLSearchParams__:"+Math.random();function u(e,t,n){t in e?e[t].push(""+n):e[t]=r(n)?n:[""+n]}function d(e){return decodeURIComponent(e.replace(o," "))}function p(e){return encodeURIComponent(e).replace(i,c)}a.append=function(e,t){u(this[l],e,t)},a.delete=function(e){delete this[l][e]},a.get=function(e){var t=this[l];return e in t?t[e][0]:null},a.getAll=function(e){var t=this[l];return e in t?t[e].slice(0):[]},a.has=function(e){return e in this[l]},a.set=function(e,t){this[l][e]=[""+t]},a.forEach=function(e,t){var n=this[l];Object.getOwnPropertyNames(n).forEach(function(r){n[r].forEach(function(n){e.call(t,n,r,this)},this)},this)},a.toJSON=function(){return{}},a.toString=function(){var e,t,n,r,a=this[l],i=[];for(t in a)for(n=p(t),e=0,r=a[t];e<r.length;e++)i.push(n+"="+p(r[e]));return i.join("&")},function(e){var t=function(){try{return!!Symbol.iterator}catch(e){return!1}}();"forEach"in e||(e.forEach=function(e,t){var n=Object.create(null);this.toString().replace(/=[\s\S]*?(?:&|$)/g,"=").split("=").forEach(function(r){!r.length||r in n||(n[r]=this.getAll(r)).forEach(function(n){e.call(t,n,r,this)},this)},this)}),"keys"in e||(e.keys=function(){var e=[];this.forEach(function(t,n){e.push(n)});var n={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return t&&(n[Symbol.iterator]=function(){return n}),n}),"values"in e||(e.values=function(){var e=[];this.forEach(function(t){e.push(t)});var n={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return t&&(n[Symbol.iterator]=function(){return n}),n}),"entries"in e||(e.entries=function(){var e=[];this.forEach(function(t,n){e.push([n,t])});var n={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return t&&(n[Symbol.iterator]=function(){return n}),n}),!t||Symbol.iterator in e||(e[Symbol.iterator]=e.entries),"sort"in e||(e.sort=function(){for(var e,t,n,r=this.entries(),a=r.next(),i=a.done,o=[],s=Object.create(null);!i;)t=(n=a.value)[0],o.push(t),t in s||(s[t]=[]),s[t].push(n[1]),i=(a=r.next()).done;for(o.sort(),e=0;e<o.length;e++)this.delete(o[e]);for(e=0;e<o.length;e++)t=o[e],this.append(t,s[t].shift())})}((n=e.exports=t.URLSearchParams||n).prototype)}).call(this,n(43))},function(e,t,n){!function(e){"use strict";var t="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),r=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],a=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i;e.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function(e,r){return e?/-MMM-/.test(r)?n[e.month()]:t[e.month()]:t},monthsRegex:a,monthsShortRegex:a,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"domingo_lunes_martes_miércoles_jueves_viernes_sábado".split("_"),weekdaysShort:"dom._lun._mar._mié._jue._vie._sáb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_sá".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function(){return"[hoy a la"+(1!==this.hours()?"s":"")+"] LT"},nextDay:function(){return"[mañana a la"+(1!==this.hours()?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(1!==this.hours()?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(1!==this.hours()?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(1!==this.hours()?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un día",dd:"%d días",M:"un mes",MM:"%d meses",y:"un año",yy:"%d años"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}})}(n(25))},function(e,t,n){!function(e){"use strict";e.defineLocale("fr",{months:"janvier_février_mars_avril_mai_juin_juillet_août_septembre_octobre_novembre_décembre".split("_"),monthsShort:"janv._févr._mars_avr._mai_juin_juil._août_sept._oct._nov._déc.".split("_"),monthsParseExact:!0,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourd’hui à] LT",nextDay:"[Demain à] LT",nextWeek:"dddd [à] LT",lastDay:"[Hier à] LT",lastWeek:"dddd [dernier à] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|)/,ordinal:function(e,t){switch(t){case"D":return e+(1===e?"er":"");default:case"M":case"Q":case"DDD":case"d":return e+(1===e?"er":"e");case"w":case"W":return e+(1===e?"re":"e")}},week:{dow:1,doy:4}})}(n(25))},function(e,t,n){!function(e){"use strict";function t(e,t,n,r){var a={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?a[n][0]:a[n][1]}e.defineLocale("de",{months:"Januar_Februar_März_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._März_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:!0,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:t,mm:"%d Minuten",h:t,hh:"%d Stunden",d:t,dd:t,M:t,MM:t,y:t,yy:t},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(n(25))},function(e,t,n){!function(e){"use strict";e.defineLocale("pt",{months:"janeiro_fevereiro_março_abril_maio_junho_julho_agosto_setembro_outubro_novembro_dezembro".split("_"),monthsShort:"jan_fev_mar_abr_mai_jun_jul_ago_set_out_nov_dez".split("_"),weekdays:"Domingo_Segunda-feira_Terça-feira_Quarta-feira_Quinta-feira_Sexta-feira_Sábado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_Sáb".split("_"),weekdaysMin:"Do_2ª_3ª_4ª_5ª_6ª_Sá".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY HH:mm"},calendar:{sameDay:"[Hoje às] LT",nextDay:"[Amanhã às] LT",nextWeek:"dddd [às] LT",lastDay:"[Ontem às] LT",lastWeek:function(){return 0===this.day()||6===this.day()?"[Último] dddd [às] LT":"[Última] dddd [às] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"há %s",s:"segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um mês",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}})}(n(25))},function(e,t,n){!function(e){"use strict";e.defineLocale("it",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_lunedì_martedì_mercoledì_giovedì_venerdì_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:function(){switch(this.day()){case 0:return"[la scorsa] dddd [alle] LT";default:return"[lo scorso] dddd [alle] LT"}},sameElse:"L"},relativeTime:{future:function(e){return(/^[0-9].+$/.test(e)?"tra":"in")+" "+e},past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}º/,ordinal:"%dº",week:{dow:1,doy:4}})}(n(25))},function(e,t,n){!function(e){"use strict";e.defineLocale("sv",{months:"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"söndag_måndag_tisdag_onsdag_torsdag_fredag_lördag".split("_"),weekdaysShort:"sön_mån_tis_ons_tor_fre_lör".split("_"),weekdaysMin:"sö_må_ti_on_to_fr_lö".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [kl.] HH:mm",LLLL:"dddd D MMMM YYYY [kl.] HH:mm",lll:"D MMM YYYY HH:mm",llll:"ddd D MMM YYYY HH:mm"},calendar:{sameDay:"[Idag] LT",nextDay:"[Imorgon] LT",lastDay:"[Igår] LT",nextWeek:"[På] dddd LT",lastWeek:"[I] dddd[s] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"för %s sedan",s:"några sekunder",ss:"%d sekunder",m:"en minut",mm:"%d minuter",h:"en timme",hh:"%d timmar",d:"en dag",dd:"%d dagar",M:"en månad",MM:"%d månader",y:"ett år",yy:"%d år"},dayOfMonthOrdinalParse:/\d{1,2}(e|a)/,ordinal:function(e){var t=e%10,n=1==~~(e%100/10)?"e":1===t?"a":2===t?"a":"e";return e+n},week:{dow:1,doy:4}})}(n(25))},function(e,t,n){!function(e){"use strict";var t="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),n="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),r=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],a=/^(januari|februari|maart|april|mei|april|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i;e.defineLocale("nl",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(e,r){return e?/-MMM-/.test(r)?n[e.month()]:t[e.month()]:t},monthsRegex:a,monthsShortRegex:a,monthsStrictRegex:/^(januari|februari|maart|mei|ju[nl]i|april|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:r,longMonthsParse:r,shortMonthsParse:r,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"één minuut",mm:"%d minuten",h:"één uur",hh:"%d uur",d:"één dag",dd:"%d dagen",M:"één maand",MM:"%d maanden",y:"één jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function(e){return e+(1===e||8===e||e>=20?"ste":"de")},week:{dow:1,doy:4}})}(n(25))},function(e,t,n){!function(e){"use strict";function t(e,t,n){var r,a,i={ss:t?"секунда_секунды_секунд":"секунду_секунды_секунд",mm:t?"минута_минуты_минут":"минуту_минуты_минут",hh:"час_часа_часов",dd:"день_дня_дней",MM:"месяц_месяца_месяцев",yy:"год_года_лет"};return"m"===n?t?"минута":"минуту":e+" "+(r=+e,a=i[n].split("_"),r%10==1&&r%100!=11?a[0]:r%10>=2&&r%10<=4&&(r%100<10||r%100>=20)?a[1]:a[2])}var n=[/^янв/i,/^фев/i,/^мар/i,/^апр/i,/^ма[йя]/i,/^июн/i,/^июл/i,/^авг/i,/^сен/i,/^окт/i,/^ноя/i,/^дек/i];e.defineLocale("ru",{months:{format:"января_февраля_марта_апреля_мая_июня_июля_августа_сентября_октября_ноября_декабря".split("_"),standalone:"январь_февраль_март_апрель_май_июнь_июль_август_сентябрь_октябрь_ноябрь_декабрь".split("_")},monthsShort:{format:"янв._февр._мар._апр._мая_июня_июля_авг._сент._окт._нояб._дек.".split("_"),standalone:"янв._февр._март_апр._май_июнь_июль_авг._сент._окт._нояб._дек.".split("_")},weekdays:{standalone:"воскресенье_понедельник_вторник_среда_четверг_пятница_суббота".split("_"),format:"воскресенье_понедельник_вторник_среду_четверг_пятницу_субботу".split("_"),isFormat:/\[ ?[Вв] ?(?:прошлую|следующую|эту)? ?\] ?dddd/},weekdaysShort:"вс_пн_вт_ср_чт_пт_сб".split("_"),weekdaysMin:"вс_пн_вт_ср_чт_пт_сб".split("_"),monthsParse:n,longMonthsParse:n,shortMonthsParse:n,monthsRegex:/^(январ[ья]|янв\.?|феврал[ья]|февр?\.?|марта?|мар\.?|апрел[ья]|апр\.?|ма[йя]|июн[ья]|июн\.?|июл[ья]|июл\.?|августа?|авг\.?|сентябр[ья]|сент?\.?|октябр[ья]|окт\.?|ноябр[ья]|нояб?\.?|декабр[ья]|дек\.?)/i,monthsShortRegex:/^(январ[ья]|янв\.?|феврал[ья]|февр?\.?|марта?|мар\.?|апрел[ья]|апр\.?|ма[йя]|июн[ья]|июн\.?|июл[ья]|июл\.?|августа?|авг\.?|сентябр[ья]|сент?\.?|октябр[ья]|окт\.?|ноябр[ья]|нояб?\.?|декабр[ья]|дек\.?)/i,monthsStrictRegex:/^(январ[яь]|феврал[яь]|марта?|апрел[яь]|ма[яй]|июн[яь]|июл[яь]|августа?|сентябр[яь]|октябр[яь]|ноябр[яь]|декабр[яь])/i,monthsShortStrictRegex:/^(янв\.|февр?\.|мар[т.]|апр\.|ма[яй]|июн[ья.]|июл[ья.]|авг\.|сент?\.|окт\.|нояб?\.|дек\.)/i,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY г.",LLL:"D MMMM YYYY г., H:mm",LLLL:"dddd, D MMMM YYYY г., H:mm"},calendar:{sameDay:"[Сегодня в] LT",nextDay:"[Завтра в] LT",lastDay:"[Вчера в] LT",nextWeek:function(e){if(e.week()===this.week())return 2===this.day()?"[Во] dddd [в] LT":"[В] dddd [в] LT";switch(this.day()){case 0:return"[В следующее] dddd [в] LT";case 1:case 2:case 4:return"[В следующий] dddd [в] LT";case 3:case 5:case 6:return"[В следующую] dddd [в] LT"}},lastWeek:function(e){if(e.week()===this.week())return 2===this.day()?"[Во] dddd [в] LT":"[В] dddd [в] LT";switch(this.day()){case 0:return"[В прошлое] dddd [в] LT";case 1:case 2:case 4:return"[В прошлый] dddd [в] LT";case 3:case 5:case 6:return"[В прошлую] dddd [в] LT"}},sameElse:"L"},relativeTime:{future:"через %s",past:"%s назад",s:"несколько секунд",ss:t,m:t,mm:t,h:"час",hh:t,d:"день",dd:t,M:"месяц",MM:t,y:"год",yy:t},meridiemParse:/ночи|утра|дня|вечера/i,isPM:function(e){return/^(дня|вечера)$/.test(e)},meridiem:function(e,t,n){return e<4?"ночи":e<12?"утра":e<17?"дня":"вечера"},dayOfMonthOrdinalParse:/\d{1,2}-(й|го|я)/,ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":return e+"-й";case"D":return e+"-го";case"w":case"W":return e+"-я";default:return e}},week:{dow:1,doy:4}})}(n(25))},function(e,t,n){!function(e){"use strict";e.defineLocale("ja",{months:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"日曜日_月曜日_火曜日_水曜日_木曜日_金曜日_土曜日".split("_"),weekdaysShort:"日_月_火_水_木_金_土".split("_"),weekdaysMin:"日_月_火_水_木_金_土".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日 HH:mm",LLLL:"YYYY年M月D日 HH:mm dddd",l:"YYYY/MM/DD",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日 HH:mm dddd"},meridiemParse:/午前|午後/i,isPM:function(e){return"午後"===e},meridiem:function(e,t,n){return e<12?"午前":"午後"},calendar:{sameDay:"[今日] LT",nextDay:"[明日] LT",nextWeek:"[来週]dddd LT",lastDay:"[昨日] LT",lastWeek:"[前週]dddd LT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}日/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"日";default:return e}},relativeTime:{future:"%s後",past:"%s前",s:"数秒",ss:"%d秒",m:"1分",mm:"%d分",h:"1時間",hh:"%d時間",d:"1日",dd:"%d日",M:"1ヶ月",MM:"%dヶ月",y:"1年",yy:"%d年"}})}(n(25))},function(e,t,n){!function(e){"use strict";e.defineLocale("zh-cn",{months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"周日_周一_周二_周三_周四_周五_周六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日Ah点mm分",LLLL:"YYYY年M月D日ddddAh点mm分",l:"YYYY/M/D",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日dddd HH:mm"},meridiemParse:/凌晨|早上|上午|中午|下午|晚上/,meridiemHour:function(e,t){return 12===e&&(e=0),"凌晨"===t||"早上"===t||"上午"===t?e:"下午"===t||"晚上"===t?e+12:e>=11?e:e+12},meridiem:function(e,t,n){var r=100*e+t;return r<600?"凌晨":r<900?"早上":r<1130?"上午":r<1230?"中午":r<1800?"下午":"晚上"},calendar:{sameDay:"[今天]LT",nextDay:"[明天]LT",nextWeek:"[下]ddddLT",lastDay:"[昨天]LT",lastWeek:"[上]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(日|月|周)/,ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"日";case"M":return e+"月";case"w":case"W":return e+"周";default:return e}},relativeTime:{future:"%s内",past:"%s前",s:"几秒",ss:"%d 秒",m:"1 分钟",mm:"%d 分钟",h:"1 小时",hh:"%d 小时",d:"1 天",dd:"%d 天",M:"1 个月",MM:"%d 个月",y:"1 年",yy:"%d 年"},week:{dow:1,doy:4}})}(n(25))},function(e,t,n){!function(e){"use strict";var t={1:"١",2:"٢",3:"٣",4:"٤",5:"٥",6:"٦",7:"٧",8:"٨",9:"٩",0:"٠"},n={"١":"1","٢":"2","٣":"3","٤":"4","٥":"5","٦":"6","٧":"7","٨":"8","٩":"9","٠":"0"},r=function(e){return 0===e?0:1===e?1:2===e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5},a={s:["أقل من ثانية","ثانية واحدة",["ثانيتان","ثانيتين"],"%d ثوان","%d ثانية","%d ثانية"],m:["أقل من دقيقة","دقيقة واحدة",["دقيقتان","دقيقتين"],"%d دقائق","%d دقيقة","%d دقيقة"],h:["أقل من ساعة","ساعة واحدة",["ساعتان","ساعتين"],"%d ساعات","%d ساعة","%d ساعة"],d:["أقل من يوم","يوم واحد",["يومان","يومين"],"%d أيام","%d يومًا","%d يوم"],M:["أقل من شهر","شهر واحد",["شهران","شهرين"],"%d أشهر","%d شهرا","%d شهر"],y:["أقل من عام","عام واحد",["عامان","عامين"],"%d أعوام","%d عامًا","%d عام"]},i=function(e){return function(t,n,i,o){var s=r(t),c=a[e][r(t)];return 2===s&&(c=c[n?0:1]),c.replace(/%d/i,t)}},o=["يناير","فبراير","مارس","أبريل","مايو","يونيو","يوليو","أغسطس","سبتمبر","أكتوبر","نوفمبر","ديسمبر"];e.defineLocale("ar",{months:o,monthsShort:o,weekdays:"الأحد_الإثنين_الثلاثاء_الأربعاء_الخميس_الجمعة_السبت".split("_"),weekdaysShort:"أحد_إثنين_ثلاثاء_أربعاء_خميس_جمعة_سبت".split("_"),weekdaysMin:"ح_ن_ث_ر_خ_ج_س".split("_"),weekdaysParseExact:!0,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/‏M/‏YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/ص|م/,isPM:function(e){return"م"===e},meridiem:function(e,t,n){return e<12?"ص":"م"},calendar:{sameDay:"[اليوم عند الساعة] LT",nextDay:"[غدًا عند الساعة] LT",nextWeek:"dddd [عند الساعة] LT",lastDay:"[أمس عند الساعة] LT",lastWeek:"dddd [عند الساعة] LT",sameElse:"L"},relativeTime:{future:"بعد %s",past:"منذ %s",s:i("s"),ss:i("s"),m:i("m"),mm:i("m"),h:i("h"),hh:i("h"),d:i("d"),dd:i("d"),M:i("M"),MM:i("M"),y:i("y"),yy:i("y")},preparse:function(e){return e.replace(/[١٢٣٤٥٦٧٨٩٠]/g,function(e){return n[e]}).replace(/،/g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]}).replace(/,/g,"،")},week:{dow:6,doy:12}})}(n(25))},function(e,t,n){!function(e){"use strict";var t={1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'üncü",4:"'üncü",100:"'üncü",6:"'ncı",9:"'uncu",10:"'uncu",30:"'uncu",60:"'ıncı",90:"'ıncı"};e.defineLocale("tr",{months:"Ocak_Şubat_Mart_Nisan_Mayıs_Haziran_Temmuz_Ağustos_Eylül_Ekim_Kasım_Aralık".split("_"),monthsShort:"Oca_Şub_Mar_Nis_May_Haz_Tem_Ağu_Eyl_Eki_Kas_Ara".split("_"),weekdays:"Pazar_Pazartesi_Salı_Çarşamba_Perşembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pts_Sal_Çar_Per_Cum_Cts".split("_"),weekdaysMin:"Pz_Pt_Sa_Ça_Pe_Cu_Ct".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugün saat] LT",nextDay:"[yarın saat] LT",nextWeek:"[gelecek] dddd [saat] LT",lastDay:"[dün] LT",lastWeek:"[geçen] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s önce",s:"birkaç saniye",ss:"%d saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir gün",dd:"%d gün",M:"bir ay",MM:"%d ay",y:"bir yıl",yy:"%d yıl"},ordinal:function(e,n){switch(n){case"d":case"D":case"Do":case"DD":return e;default:if(0===e)return e+"'ıncı";var r=e%10,a=e%100-r,i=e>=100?100:null;return e+(t[r]||t[a]||t[i])}},week:{dow:1,doy:7}})}(n(25))},function(e,t,n){!function(e){"use strict";e.defineLocale("vi",{months:"tháng 1_tháng 2_tháng 3_tháng 4_tháng 5_tháng 6_tháng 7_tháng 8_tháng 9_tháng 10_tháng 11_tháng 12".split("_"),monthsShort:"Th01_Th02_Th03_Th04_Th05_Th06_Th07_Th08_Th09_Th10_Th11_Th12".split("_"),monthsParseExact:!0,weekdays:"chủ nhật_thứ hai_thứ ba_thứ tư_thứ năm_thứ sáu_thứ bảy".split("_"),weekdaysShort:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysMin:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysParseExact:!0,meridiemParse:/sa|ch/i,isPM:function(e){return/^ch$/i.test(e)},meridiem:function(e,t,n){return e<12?n?"sa":"SA":n?"ch":"CH"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [năm] YYYY",LLL:"D MMMM [năm] YYYY HH:mm",LLLL:"dddd, D MMMM [năm] YYYY HH:mm",l:"DD/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[Hôm nay lúc] LT",nextDay:"[Ngày mai lúc] LT",nextWeek:"dddd [tuần tới lúc] LT",lastDay:"[Hôm qua lúc] LT",lastWeek:"dddd [tuần rồi lúc] LT",sameElse:"L"},relativeTime:{future:"%s tới",past:"%s trước",s:"vài giây",ss:"%d giây",m:"một phút",mm:"%d phút",h:"một giờ",hh:"%d giờ",d:"một ngày",dd:"%d ngày",M:"một tháng",MM:"%d tháng",y:"một năm",yy:"%d năm"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e){return e},week:{dow:1,doy:4}})}(n(25))},function(e,t,n){!function(e){"use strict";e.defineLocale("tl-ph",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"LT [ngayong araw]",nextDay:"[Bukas ng] LT",nextWeek:"LT [sa susunod na] dddd",lastDay:"LT [kahapon]",lastWeek:"LT [noong nakaraang] dddd",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",ss:"%d segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function(e){return e},week:{dow:1,doy:4}})}(n(25))},function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return a});var r=function(e){return{name:e,callbacks:[],registerCallback:function(e){this.callbacks.push(e)}}};function a(){var e={};function t(t){return Object.prototype.hasOwnProperty.call(e,t)}function n(n,r){if(t(n)){var a=e[n].callbacks.indexOf(r);a>=0&&e[n].callbacks.splice(a,1)}}return{subscribe:function(a,i){if(!i)throw TypeError("Expected a callback as a 2nd argument");return t(a)||function(t){e[t]=new r(t)}(a),e[a].registerCallback(i),n.bind(null,a,i)},unsubscribe:n,publish:function(n){for(var r=arguments.length,a=new Array(r>1?r-1:0),i=1;i<r;i++)a[i-1]=arguments[i];t(n)&&e[n].callbacks.forEach(function(e){e.apply(e,a)})}}}},function(e,t,n){n(903),e.exports=n(79).Object.assign},function(e,t,n){var r=n(106);r(r.S+r.F,"Object",{assign:n(904)})},function(e,t,n){"use strict";var r=n(219),a=n(367),i=n(259),o=n(183),s=n(360),c=Object.assign;e.exports=!c||n(167)(function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach(function(e){t[e]=e}),7!=c({},e)[n]||Object.keys(c({},t)).join("")!=r})?function(e,t){for(var n=o(e),c=arguments.length,l=1,u=a.f,d=i.f;c>l;)for(var p,f=s(arguments[l++]),h=u?r(f).concat(u(f)):r(f),m=h.length,g=0;m>g;)d.call(f,p=h[g++])&&(n[p]=f[p]);return n}:c},function(e,t,n){var r=n(182),a=n(256),i=n(906);e.exports=function(e){return function(t,n,o){var s,c=r(t),l=a(c.length),u=i(o,l);if(e&&n!=n){for(;l>u;)if((s=c[u++])!=s)return!0}else for(;l>u;u++)if((e||u in c)&&c[u]===n)return e||u||0;return!e&&-1}}},function(e,t,n){var r=n(363),a=Math.max,i=Math.min;e.exports=function(e,t){return(e=r(e))<0?a(e+t,0):i(e,t)}},function(e,t,n){var r=n(79),a=r.JSON||(r.JSON={stringify:JSON.stringify});e.exports=function(e){return a.stringify.apply(a,arguments)}},function(e,t,n){n(909),e.exports=n(79).Object.keys},function(e,t,n){var r=n(183),a=n(219);n(493)("keys",function(){return function(e){return a(r(e))}})},function(e,t,n){"use strict";
/** @license React v16.8.2
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(0),a=n(369),i=n(912);function o(e){for(var t=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);!function(e,t,n,r,a,i,o,s){if(!e){if(e=void 0,void 0===t)e=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,a,i,o,s],l=0;(e=Error(t.replace(/%s/g,function(){return c[l++]}))).name="Invariant Violation"}throw e.framesToPop=1,e}}(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}r||o("227");var s=!1,c=null,l=!1,u=null,d={onError:function(e){s=!0,c=e}};function p(e,t,n,r,a,i,o,l,u){s=!1,c=null,function(e,t,n,r,a,i,o,s,c){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(e){this.onError(e)}}.apply(d,arguments)}var f=null,h={};function m(){if(f)for(var e in h){var t=h[e],n=f.indexOf(e);if(-1<n||o("96",e),!v[n])for(var r in t.extractEvents||o("97",e),v[n]=t,n=t.eventTypes){var a=void 0,i=n[r],s=t,c=r;b.hasOwnProperty(c)&&o("99",c),b[c]=i;var l=i.phasedRegistrationNames;if(l){for(a in l)l.hasOwnProperty(a)&&g(l[a],s,c);a=!0}else i.registrationName?(g(i.registrationName,s,c),a=!0):a=!1;a||o("98",r,e)}}}function g(e,t,n){y[e]&&o("100",e),y[e]=t,E[e]=t.eventTypes[n].dependencies}var v=[],b={},y={},E={},_=null,w=null,S=null;function k(e,t,n){var r=e.type||"unknown-event";e.currentTarget=S(n),function(e,t,n,r,a,i,d,f,h){if(p.apply(this,arguments),s){if(s){var m=c;s=!1,c=null}else o("198"),m=void 0;l||(l=!0,u=m)}}(r,t,void 0,e),e.currentTarget=null}function C(e,t){return null==t&&o("30"),null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function N(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var O=null;function x(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var r=0;r<t.length&&!e.isPropagationStopped();r++)k(e,t[r],n[r]);else t&&k(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}var T={injectEventPluginOrder:function(e){f&&o("101"),f=Array.prototype.slice.call(e),m()},injectEventPluginsByName:function(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var r=e[t];h.hasOwnProperty(t)&&h[t]===r||(h[t]&&o("102",t),h[t]=r,n=!0)}n&&m()}};function R(e,t){var n=e.stateNode;if(!n)return null;var r=_(n);if(!r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}return e?null:(n&&"function"!=typeof n&&o("231",t,typeof n),n)}function P(e){if(null!==e&&(O=C(O,e)),e=O,O=null,e&&(N(e,x),O&&o("95"),l))throw e=u,l=!1,u=null,e}var I=Math.random().toString(36).slice(2),A="__reactInternalInstance$"+I,M="__reactEventHandlers$"+I;function D(e){if(e[A])return e[A];for(;!e[A];){if(!e.parentNode)return null;e=e.parentNode}return 5===(e=e[A]).tag||6===e.tag?e:null}function j(e){return!(e=e[A])||5!==e.tag&&6!==e.tag?null:e}function L(e){if(5===e.tag||6===e.tag)return e.stateNode;o("33")}function F(e){return e[M]||null}function B(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function U(e,t,n){(t=R(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=C(n._dispatchListeners,t),n._dispatchInstances=C(n._dispatchInstances,e))}function H(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=B(t);for(t=n.length;0<t--;)U(n[t],"captured",e);for(t=0;t<n.length;t++)U(n[t],"bubbled",e)}}function q(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=R(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=C(n._dispatchListeners,t),n._dispatchInstances=C(n._dispatchInstances,e))}function G(e){e&&e.dispatchConfig.registrationName&&q(e._targetInst,null,e)}function W(e){N(e,H)}var V=!("undefined"==typeof window||!window.document||!window.document.createElement);function z(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Y={animationend:z("Animation","AnimationEnd"),animationiteration:z("Animation","AnimationIteration"),animationstart:z("Animation","AnimationStart"),transitionend:z("Transition","TransitionEnd")},Q={},K={};function X(e){if(Q[e])return Q[e];if(!Y[e])return e;var t,n=Y[e];for(t in n)if(n.hasOwnProperty(t)&&t in K)return Q[e]=n[t];return e}V&&(K=document.createElement("div").style,"AnimationEvent"in window||(delete Y.animationend.animation,delete Y.animationiteration.animation,delete Y.animationstart.animation),"TransitionEvent"in window||delete Y.transitionend.transition);var $=X("animationend"),Z=X("animationiteration"),J=X("animationstart"),ee=X("transitionend"),te="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ne=null,re=null,ae=null;function ie(){if(ae)return ae;var e,t,n=re,r=n.length,a="value"in ne?ne.value:ne.textContent,i=a.length;for(e=0;e<r&&n[e]===a[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===a[i-t];t++);return ae=a.slice(e,1<t?1-t:void 0)}function oe(){return!0}function se(){return!1}function ce(e,t,n,r){for(var a in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(a)&&((t=e[a])?this[a]=t(n):"target"===a?this.target=r:this[a]=n[a]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?oe:se,this.isPropagationStopped=se,this}function le(e,t,n,r){if(this.eventPool.length){var a=this.eventPool.pop();return this.call(a,e,t,n,r),a}return new this(e,t,n,r)}function ue(e){e instanceof this||o("279"),e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function de(e){e.eventPool=[],e.getPooled=le,e.release=ue}a(ce.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=oe)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=oe)},persist:function(){this.isPersistent=oe},isPersistent:se,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=se,this._dispatchInstances=this._dispatchListeners=null}}),ce.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},ce.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var i=new t;return a(i,n.prototype),n.prototype=i,n.prototype.constructor=n,n.Interface=a({},r.Interface,e),n.extend=r.extend,de(n),n},de(ce);var pe=ce.extend({data:null}),fe=ce.extend({data:null}),he=[9,13,27,32],me=V&&"CompositionEvent"in window,ge=null;V&&"documentMode"in document&&(ge=document.documentMode);var ve=V&&"TextEvent"in window&&!ge,be=V&&(!me||ge&&8<ge&&11>=ge),ye=String.fromCharCode(32),Ee={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},_e=!1;function we(e,t){switch(e){case"keyup":return-1!==he.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function Se(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var ke=!1;var Ce={eventTypes:Ee,extractEvents:function(e,t,n,r){var a=void 0,i=void 0;if(me)e:{switch(e){case"compositionstart":a=Ee.compositionStart;break e;case"compositionend":a=Ee.compositionEnd;break e;case"compositionupdate":a=Ee.compositionUpdate;break e}a=void 0}else ke?we(e,n)&&(a=Ee.compositionEnd):"keydown"===e&&229===n.keyCode&&(a=Ee.compositionStart);return a?(be&&"ko"!==n.locale&&(ke||a!==Ee.compositionStart?a===Ee.compositionEnd&&ke&&(i=ie()):(re="value"in(ne=r)?ne.value:ne.textContent,ke=!0)),a=pe.getPooled(a,t,n,r),i?a.data=i:null!==(i=Se(n))&&(a.data=i),W(a),i=a):i=null,(e=ve?function(e,t){switch(e){case"compositionend":return Se(t);case"keypress":return 32!==t.which?null:(_e=!0,ye);case"textInput":return(e=t.data)===ye&&_e?null:e;default:return null}}(e,n):function(e,t){if(ke)return"compositionend"===e||!me&&we(e,t)?(e=ie(),ae=re=ne=null,ke=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return be&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))?((t=fe.getPooled(Ee.beforeInput,t,n,r)).data=e,W(t)):t=null,null===i?t:null===t?i:[i,t]}},Ne=null,Oe=null,xe=null;function Te(e){if(e=w(e)){"function"!=typeof Ne&&o("280");var t=_(e.stateNode);Ne(e.stateNode,e.type,t)}}function Re(e){Oe?xe?xe.push(e):xe=[e]:Oe=e}function Pe(){if(Oe){var e=Oe,t=xe;if(xe=Oe=null,Te(e),t)for(e=0;e<t.length;e++)Te(t[e])}}function Ie(e,t){return e(t)}function Ae(e,t,n){return e(t,n)}function Me(){}var De=!1;function je(e,t){if(De)return e(t);De=!0;try{return Ie(e,t)}finally{De=!1,(null!==Oe||null!==xe)&&(Me(),Pe())}}var Le={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fe(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Le[e.type]:"textarea"===t}function Be(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function Ue(e){if(!V)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"==typeof t[e]),t}function He(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function qe(e){e._valueTracker||(e._valueTracker=function(e){var t=He(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var a=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Ge(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=He(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}var We=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;We.hasOwnProperty("ReactCurrentDispatcher")||(We.ReactCurrentDispatcher={current:null});var Ve=/^(.*)[\\\/]/,ze="function"==typeof Symbol&&Symbol.for,Ye=ze?Symbol.for("react.element"):60103,Qe=ze?Symbol.for("react.portal"):60106,Ke=ze?Symbol.for("react.fragment"):60107,Xe=ze?Symbol.for("react.strict_mode"):60108,$e=ze?Symbol.for("react.profiler"):60114,Ze=ze?Symbol.for("react.provider"):60109,Je=ze?Symbol.for("react.context"):60110,et=ze?Symbol.for("react.concurrent_mode"):60111,tt=ze?Symbol.for("react.forward_ref"):60112,nt=ze?Symbol.for("react.suspense"):60113,rt=ze?Symbol.for("react.memo"):60115,at=ze?Symbol.for("react.lazy"):60116,it="function"==typeof Symbol&&Symbol.iterator;function ot(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=it&&e[it]||e["@@iterator"])?e:null}function st(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case et:return"ConcurrentMode";case Ke:return"Fragment";case Qe:return"Portal";case $e:return"Profiler";case Xe:return"StrictMode";case nt:return"Suspense"}if("object"==typeof e)switch(e.$$typeof){case Je:return"Context.Consumer";case Ze:return"Context.Provider";case tt:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case rt:return st(e.type);case at:if(e=1===e._status?e._result:null)return st(e)}return null}function ct(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var r=e._debugOwner,a=e._debugSource,i=st(e.type);n=null,r&&(n=st(r.type)),r=i,i="",a?i=" (at "+a.fileName.replace(Ve,"")+":"+a.lineNumber+")":n&&(i=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+i}t+=n,e=e.return}while(e);return t}var lt=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ut=Object.prototype.hasOwnProperty,dt={},pt={};function ft(e,t,n,r,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t}var ht={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ht[e]=new ft(e,0,!1,e,null)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ht[t]=new ft(t,1,!1,e[1],null)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){ht[e]=new ft(e,2,!1,e.toLowerCase(),null)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ht[e]=new ft(e,2,!1,e,null)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ht[e]=new ft(e,3,!1,e.toLowerCase(),null)}),["checked","multiple","muted","selected"].forEach(function(e){ht[e]=new ft(e,3,!0,e,null)}),["capture","download"].forEach(function(e){ht[e]=new ft(e,4,!1,e,null)}),["cols","rows","size","span"].forEach(function(e){ht[e]=new ft(e,6,!1,e,null)}),["rowSpan","start"].forEach(function(e){ht[e]=new ft(e,5,!1,e.toLowerCase(),null)});var mt=/[\-:]([a-z])/g;function gt(e){return e[1].toUpperCase()}function vt(e,t,n,r){var a=ht.hasOwnProperty(t)?ht[t]:null;(null!==a?0===a.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,a,r)&&(n=null),r||null===a?function(e){return!!ut.call(pt,e)||!ut.call(dt,e)&&(lt.test(e)?pt[e]=!0:(dt[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=null===n?3!==a.type&&"":n:(t=a.attributeName,r=a.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(a=a.type)||4===a&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}function bt(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function yt(e,t){var n=t.checked;return a({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Et(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=bt(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function _t(e,t){null!=(t=t.checked)&&vt(e,"checked",t,!1)}function wt(e,t){_t(e,t);var n=bt(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?kt(e,t.type,n):t.hasOwnProperty("defaultValue")&&kt(e,t.type,bt(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function St(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!e.defaultChecked,e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function kt(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(mt,gt);ht[t]=new ft(t,1,!1,e,null)}),"xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(mt,gt);ht[t]=new ft(t,1,!1,e,"http://www.w3.org/1999/xlink")}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(mt,gt);ht[t]=new ft(t,1,!1,e,"http://www.w3.org/XML/1998/namespace")}),["tabIndex","crossOrigin"].forEach(function(e){ht[e]=new ft(e,1,!1,e.toLowerCase(),null)});var Ct={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function Nt(e,t,n){return(e=ce.getPooled(Ct.change,e,t,n)).type="change",Re(n),W(e),e}var Ot=null,xt=null;function Tt(e){P(e)}function Rt(e){if(Ge(L(e)))return e}function Pt(e,t){if("change"===e)return t}var It=!1;function At(){Ot&&(Ot.detachEvent("onpropertychange",Mt),xt=Ot=null)}function Mt(e){"value"===e.propertyName&&Rt(xt)&&je(Tt,e=Nt(xt,e,Be(e)))}function Dt(e,t,n){"focus"===e?(At(),xt=n,(Ot=t).attachEvent("onpropertychange",Mt)):"blur"===e&&At()}function jt(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Rt(xt)}function Lt(e,t){if("click"===e)return Rt(t)}function Ft(e,t){if("input"===e||"change"===e)return Rt(t)}V&&(It=Ue("input")&&(!document.documentMode||9<document.documentMode));var Bt={eventTypes:Ct,_isInputEventSupported:It,extractEvents:function(e,t,n,r){var a=t?L(t):window,i=void 0,o=void 0,s=a.nodeName&&a.nodeName.toLowerCase();if("select"===s||"input"===s&&"file"===a.type?i=Pt:Fe(a)?It?i=Ft:(i=jt,o=Dt):(s=a.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(i=Lt),i&&(i=i(e,t)))return Nt(i,n,r);o&&o(e,a,t),"blur"===e&&(e=a._wrapperState)&&e.controlled&&"number"===a.type&&kt(a,"number",a.value)}},Ut=ce.extend({view:null,detail:null}),Ht={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qt(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Ht[e])&&!!t[e]}function Gt(){return qt}var Wt=0,Vt=0,zt=!1,Yt=!1,Qt=Ut.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Gt,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Wt;return Wt=e.screenX,zt?"mousemove"===e.type?e.screenX-t:0:(zt=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=Vt;return Vt=e.screenY,Yt?"mousemove"===e.type?e.screenY-t:0:(Yt=!0,0)}}),Kt=Qt.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Xt={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},$t={eventTypes:Xt,extractEvents:function(e,t,n,r){var a="mouseover"===e||"pointerover"===e,i="mouseout"===e||"pointerout"===e;if(a&&(n.relatedTarget||n.fromElement)||!i&&!a)return null;if(a=r.window===r?r:(a=r.ownerDocument)?a.defaultView||a.parentWindow:window,i?(i=t,t=(t=n.relatedTarget||n.toElement)?D(t):null):i=null,i===t)return null;var o=void 0,s=void 0,c=void 0,l=void 0;"mouseout"===e||"mouseover"===e?(o=Qt,s=Xt.mouseLeave,c=Xt.mouseEnter,l="mouse"):"pointerout"!==e&&"pointerover"!==e||(o=Kt,s=Xt.pointerLeave,c=Xt.pointerEnter,l="pointer");var u=null==i?a:L(i);if(a=null==t?a:L(t),(e=o.getPooled(s,i,n,r)).type=l+"leave",e.target=u,e.relatedTarget=a,(n=o.getPooled(c,t,n,r)).type=l+"enter",n.target=a,n.relatedTarget=u,r=t,i&&r)e:{for(a=r,l=0,o=t=i;o;o=B(o))l++;for(o=0,c=a;c;c=B(c))o++;for(;0<l-o;)t=B(t),l--;for(;0<o-l;)a=B(a),o--;for(;l--;){if(t===a||t===a.alternate)break e;t=B(t),a=B(a)}t=null}else t=null;for(a=t,t=[];i&&i!==a&&(null===(l=i.alternate)||l!==a);)t.push(i),i=B(i);for(i=[];r&&r!==a&&(null===(l=r.alternate)||l!==a);)i.push(r),r=B(r);for(r=0;r<t.length;r++)q(t[r],"bubbled",e);for(r=i.length;0<r--;)q(i[r],"captured",n);return[e,n]}};function Zt(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t}var Jt=Object.prototype.hasOwnProperty;function en(e,t){if(Zt(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!Jt.call(t,n[r])||!Zt(e[n[r]],t[n[r]]))return!1;return!0}function tn(e){var t=e;if(e.alternate)for(;t.return;)t=t.return;else{if(0!=(2&t.effectTag))return 1;for(;t.return;)if(0!=(2&(t=t.return).effectTag))return 1}return 3===t.tag?2:3}function nn(e){2!==tn(e)&&o("188")}function rn(e){if(!(e=function(e){var t=e.alternate;if(!t)return 3===(t=tn(e))&&o("188"),1===t?null:e;for(var n=e,r=t;;){var a=n.return,i=a?a.alternate:null;if(!a||!i)break;if(a.child===i.child){for(var s=a.child;s;){if(s===n)return nn(a),e;if(s===r)return nn(a),t;s=s.sibling}o("188")}if(n.return!==r.return)n=a,r=i;else{s=!1;for(var c=a.child;c;){if(c===n){s=!0,n=a,r=i;break}if(c===r){s=!0,r=a,n=i;break}c=c.sibling}if(!s){for(c=i.child;c;){if(c===n){s=!0,n=i,r=a;break}if(c===r){s=!0,r=i,n=a;break}c=c.sibling}s||o("189")}}n.alternate!==r&&o("190")}return 3!==n.tag&&o("188"),n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}var an=ce.extend({animationName:null,elapsedTime:null,pseudoElement:null}),on=ce.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),sn=Ut.extend({relatedTarget:null});function cn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var ln={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},un={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dn=Ut.extend({key:function(e){if(e.key){var t=ln[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=cn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?un[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Gt,charCode:function(e){return"keypress"===e.type?cn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?cn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),pn=Qt.extend({dataTransfer:null}),fn=Ut.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Gt}),hn=ce.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),mn=Qt.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),gn=[["abort","abort"],[$,"animationEnd"],[Z,"animationIteration"],[J,"animationStart"],["canplay","canPlay"],["canplaythrough","canPlayThrough"],["drag","drag"],["dragenter","dragEnter"],["dragexit","dragExit"],["dragleave","dragLeave"],["dragover","dragOver"],["durationchange","durationChange"],["emptied","emptied"],["encrypted","encrypted"],["ended","ended"],["error","error"],["gotpointercapture","gotPointerCapture"],["load","load"],["loadeddata","loadedData"],["loadedmetadata","loadedMetadata"],["loadstart","loadStart"],["lostpointercapture","lostPointerCapture"],["mousemove","mouseMove"],["mouseout","mouseOut"],["mouseover","mouseOver"],["playing","playing"],["pointermove","pointerMove"],["pointerout","pointerOut"],["pointerover","pointerOver"],["progress","progress"],["scroll","scroll"],["seeking","seeking"],["stalled","stalled"],["suspend","suspend"],["timeupdate","timeUpdate"],["toggle","toggle"],["touchmove","touchMove"],[ee,"transitionEnd"],["waiting","waiting"],["wheel","wheel"]],vn={},bn={};function yn(e,t){var n=e[0],r="on"+((e=e[1])[0].toUpperCase()+e.slice(1));t={phasedRegistrationNames:{bubbled:r,captured:r+"Capture"},dependencies:[n],isInteractive:t},vn[e]=t,bn[n]=t}[["blur","blur"],["cancel","cancel"],["click","click"],["close","close"],["contextmenu","contextMenu"],["copy","copy"],["cut","cut"],["auxclick","auxClick"],["dblclick","doubleClick"],["dragend","dragEnd"],["dragstart","dragStart"],["drop","drop"],["focus","focus"],["input","input"],["invalid","invalid"],["keydown","keyDown"],["keypress","keyPress"],["keyup","keyUp"],["mousedown","mouseDown"],["mouseup","mouseUp"],["paste","paste"],["pause","pause"],["play","play"],["pointercancel","pointerCancel"],["pointerdown","pointerDown"],["pointerup","pointerUp"],["ratechange","rateChange"],["reset","reset"],["seeked","seeked"],["submit","submit"],["touchcancel","touchCancel"],["touchend","touchEnd"],["touchstart","touchStart"],["volumechange","volumeChange"]].forEach(function(e){yn(e,!0)}),gn.forEach(function(e){yn(e,!1)});var En={eventTypes:vn,isInteractiveTopLevelEventType:function(e){return void 0!==(e=bn[e])&&!0===e.isInteractive},extractEvents:function(e,t,n,r){var a=bn[e];if(!a)return null;switch(e){case"keypress":if(0===cn(n))return null;case"keydown":case"keyup":e=dn;break;case"blur":case"focus":e=sn;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=Qt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=pn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=fn;break;case $:case Z:case J:e=an;break;case ee:e=hn;break;case"scroll":e=Ut;break;case"wheel":e=mn;break;case"copy":case"cut":case"paste":e=on;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=Kt;break;default:e=ce}return W(t=e.getPooled(a,t,n,r)),t}},_n=En.isInteractiveTopLevelEventType,wn=[];function Sn(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var r;for(r=n;r.return;)r=r.return;if(!(r=3!==r.tag?null:r.stateNode.containerInfo))break;e.ancestors.push(n),n=D(r)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var a=Be(e.nativeEvent);r=e.topLevelType;for(var i=e.nativeEvent,o=null,s=0;s<v.length;s++){var c=v[s];c&&(c=c.extractEvents(r,t,i,a))&&(o=C(o,c))}P(o)}}var kn=!0;function Cn(e,t){if(!t)return null;var n=(_n(e)?On:xn).bind(null,e);t.addEventListener(e,n,!1)}function Nn(e,t){if(!t)return null;var n=(_n(e)?On:xn).bind(null,e);t.addEventListener(e,n,!0)}function On(e,t){Ae(xn,e,t)}function xn(e,t){if(kn){var n=Be(t);if(null===(n=D(n))||"number"!=typeof n.tag||2===tn(n)||(n=null),wn.length){var r=wn.pop();r.topLevelType=e,r.nativeEvent=t,r.targetInst=n,e=r}else e={topLevelType:e,nativeEvent:t,targetInst:n,ancestors:[]};try{je(Sn,e)}finally{e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>wn.length&&wn.push(e)}}}var Tn={},Rn=0,Pn="_reactListenersID"+(""+Math.random()).slice(2);function In(e){return Object.prototype.hasOwnProperty.call(e,Pn)||(e[Pn]=Rn++,Tn[e[Pn]]={}),Tn[e[Pn]]}function An(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Mn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Dn(e,t){var n,r=Mn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Mn(r)}}function jn(){for(var e=window,t=An();t instanceof e.HTMLIFrameElement;){try{e=t.contentDocument.defaultView}catch(e){break}t=An(e.document)}return t}function Ln(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function Fn(e){var t=jn(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&function e(t,n){return!(!t||!n)&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(n.ownerDocument.documentElement,n)){if(null!==r&&Ln(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var a=n.textContent.length,i=Math.min(r.start,a);r=void 0===r.end?i:Math.min(r.end,a),!e.extend&&i>r&&(a=r,r=i,i=a),a=Dn(n,i);var o=Dn(n,r);a&&o&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Bn=V&&"documentMode"in document&&11>=document.documentMode,Un={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Hn=null,qn=null,Gn=null,Wn=!1;function Vn(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return Wn||null==Hn||Hn!==An(n)?null:("selectionStart"in(n=Hn)&&Ln(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Gn&&en(Gn,n)?null:(Gn=n,(e=ce.getPooled(Un.select,qn,e,t)).type="select",e.target=Hn,W(e),e))}var zn={eventTypes:Un,extractEvents:function(e,t,n,r){var a,i=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;if(!(a=!i)){e:{i=In(i),a=E.onSelect;for(var o=0;o<a.length;o++){var s=a[o];if(!i.hasOwnProperty(s)||!i[s]){i=!1;break e}}i=!0}a=!i}if(a)return null;switch(i=t?L(t):window,e){case"focus":(Fe(i)||"true"===i.contentEditable)&&(Hn=i,qn=t,Gn=null);break;case"blur":Gn=qn=Hn=null;break;case"mousedown":Wn=!0;break;case"contextmenu":case"mouseup":case"dragend":return Wn=!1,Vn(n,r);case"selectionchange":if(Bn)break;case"keydown":case"keyup":return Vn(n,r)}return null}};function Yn(e,t){return e=a({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,function(e){null!=e&&(t+=e)}),t}(t.children))&&(e.children=t),e}function Qn(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+bt(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function Kn(e,t){return null!=t.dangerouslySetInnerHTML&&o("91"),a({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Xn(e,t){var n=t.value;null==n&&(n=t.defaultValue,null!=(t=t.children)&&(null!=n&&o("92"),Array.isArray(t)&&(1>=t.length||o("93"),t=t[0]),n=t),null==n&&(n="")),e._wrapperState={initialValue:bt(n)}}function $n(e,t){var n=bt(t.value),r=bt(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function Zn(e){var t=e.textContent;t===e._wrapperState.initialValue&&(e.value=t)}T.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),_=F,w=j,S=L,T.injectEventPluginsByName({SimpleEventPlugin:En,EnterLeaveEventPlugin:$t,ChangeEventPlugin:Bt,SelectEventPlugin:zn,BeforeInputEventPlugin:Ce});var Jn={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function er(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function tr(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?er(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var nr,rr=void 0,ar=(nr=function(e,t){if(e.namespaceURI!==Jn.svg||"innerHTML"in e)e.innerHTML=t;else{for((rr=rr||document.createElement("div")).innerHTML="<svg>"+t+"</svg>",t=rr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return nr(e,t)})}:nr);function ir(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var or={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},sr=["Webkit","ms","Moz","O"];function cr(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||or.hasOwnProperty(e)&&or[e]?(""+t).trim():t+"px"}function lr(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),a=cr(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}Object.keys(or).forEach(function(e){sr.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),or[t]=or[e]})});var ur=a({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function dr(e,t){t&&(ur[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML)&&o("137",e,""),null!=t.dangerouslySetInnerHTML&&(null!=t.children&&o("60"),"object"==typeof t.dangerouslySetInnerHTML&&"__html"in t.dangerouslySetInnerHTML||o("61")),null!=t.style&&"object"!=typeof t.style&&o("62",""))}function pr(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function fr(e,t){var n=In(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=E[t];for(var r=0;r<t.length;r++){var a=t[r];if(!n.hasOwnProperty(a)||!n[a]){switch(a){case"scroll":Nn("scroll",e);break;case"focus":case"blur":Nn("focus",e),Nn("blur",e),n.blur=!0,n.focus=!0;break;case"cancel":case"close":Ue(a)&&Nn(a,e);break;case"invalid":case"submit":case"reset":break;default:-1===te.indexOf(a)&&Cn(a,e)}n[a]=!0}}}function hr(){}var mr=null,gr=null;function vr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function br(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var yr="function"==typeof setTimeout?setTimeout:void 0,Er="function"==typeof clearTimeout?clearTimeout:void 0,_r=i.unstable_scheduleCallback,wr=i.unstable_cancelCallback;function Sr(e){for(e=e.nextSibling;e&&1!==e.nodeType&&3!==e.nodeType;)e=e.nextSibling;return e}function kr(e){for(e=e.firstChild;e&&1!==e.nodeType&&3!==e.nodeType;)e=e.nextSibling;return e}new Set;var Cr=[],Nr=-1;function Or(e){0>Nr||(e.current=Cr[Nr],Cr[Nr]=null,Nr--)}function xr(e,t){Cr[++Nr]=e.current,e.current=t}var Tr={},Rr={current:Tr},Pr={current:!1},Ir=Tr;function Ar(e,t){var n=e.type.contextTypes;if(!n)return Tr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a,i={};for(a in n)i[a]=t[a];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Mr(e){return null!=(e=e.childContextTypes)}function Dr(e){Or(Pr),Or(Rr)}function jr(e){Or(Pr),Or(Rr)}function Lr(e,t,n){Rr.current!==Tr&&o("168"),xr(Rr,t),xr(Pr,n)}function Fr(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var i in r=r.getChildContext())i in e||o("108",st(t)||"Unknown",i);return a({},n,r)}function Br(e){var t=e.stateNode;return t=t&&t.__reactInternalMemoizedMergedChildContext||Tr,Ir=Rr.current,xr(Rr,t),xr(Pr,Pr.current),!0}function Ur(e,t,n){var r=e.stateNode;r||o("169"),n?(t=Fr(e,t,Ir),r.__reactInternalMemoizedMergedChildContext=t,Or(Pr),Or(Rr),xr(Rr,t)):Or(Pr),xr(Pr,n)}var Hr=null,qr=null;function Gr(e){return function(t){try{return e(t)}catch(e){}}}function Wr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.contextDependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Vr(e,t,n,r){return new Wr(e,t,n,r)}function zr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Yr(e,t){var n=e.alternate;return null===n?((n=Vr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,n.contextDependencies=e.contextDependencies,n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Qr(e,t,n,r,a,i){var s=2;if(r=e,"function"==typeof e)zr(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case Ke:return Kr(n.children,a,i,t);case et:return Xr(n,3|a,i,t);case Xe:return Xr(n,2|a,i,t);case $e:return(e=Vr(12,n,t,4|a)).elementType=$e,e.type=$e,e.expirationTime=i,e;case nt:return(e=Vr(13,n,t,a)).elementType=nt,e.type=nt,e.expirationTime=i,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case Ze:s=10;break e;case Je:s=9;break e;case tt:s=11;break e;case rt:s=14;break e;case at:s=16,r=null;break e}o("130",null==e?e:typeof e,"")}return(t=Vr(s,n,t,a)).elementType=e,t.type=r,t.expirationTime=i,t}function Kr(e,t,n,r){return(e=Vr(7,e,r,t)).expirationTime=n,e}function Xr(e,t,n,r){return e=Vr(8,e,r,t),t=0==(1&t)?Xe:et,e.elementType=t,e.type=t,e.expirationTime=n,e}function $r(e,t,n){return(e=Vr(6,e,null,t)).expirationTime=n,e}function Zr(e,t,n){return(t=Vr(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Jr(e,t){e.didError=!1;var n=e.earliestPendingTime;0===n?e.earliestPendingTime=e.latestPendingTime=t:n<t?e.earliestPendingTime=t:e.latestPendingTime>t&&(e.latestPendingTime=t),na(t,e)}function ea(e,t){e.didError=!1,e.latestPingedTime>=t&&(e.latestPingedTime=0);var n=e.earliestPendingTime,r=e.latestPendingTime;n===t?e.earliestPendingTime=r===t?e.latestPendingTime=0:r:r===t&&(e.latestPendingTime=n),n=e.earliestSuspendedTime,r=e.latestSuspendedTime,0===n?e.earliestSuspendedTime=e.latestSuspendedTime=t:n<t?e.earliestSuspendedTime=t:r>t&&(e.latestSuspendedTime=t),na(t,e)}function ta(e,t){var n=e.earliestPendingTime;return n>t&&(t=n),(e=e.earliestSuspendedTime)>t&&(t=e),t}function na(e,t){var n=t.earliestSuspendedTime,r=t.latestSuspendedTime,a=t.earliestPendingTime,i=t.latestPingedTime;0===(a=0!==a?a:i)&&(0===e||r<e)&&(a=r),0!==(e=a)&&n>e&&(e=n),t.nextExpirationTimeToWorkOn=a,t.expirationTime=e}function ra(e,t){if(e&&e.defaultProps)for(var n in t=a({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var aa=(new r.Component).refs;function ia(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:a({},t,n),e.memoizedState=n,null!==(r=e.updateQueue)&&0===e.expirationTime&&(r.baseState=n)}var oa={isMounted:function(e){return!!(e=e._reactInternalFiber)&&2===tn(e)},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=ws(),a=Ki(r=Ko(r,e));a.payload=t,null!=n&&(a.callback=n),Go(),$i(e,a),Zo(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=ws(),a=Ki(r=Ko(r,e));a.tag=Gi,a.payload=t,null!=n&&(a.callback=n),Go(),$i(e,a),Zo(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=ws(),r=Ki(n=Ko(n,e));r.tag=Wi,null!=t&&(r.callback=t),Go(),$i(e,r),Zo(e,n)}};function sa(e,t,n,r,a,i,o){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,o):!t.prototype||!t.prototype.isPureReactComponent||(!en(n,r)||!en(a,i))}function ca(e,t,n){var r=!1,a=Tr,i=t.contextType;return"object"==typeof i&&null!==i?i=Hi(i):(a=Mr(t)?Ir:Rr.current,i=(r=null!=(r=t.contextTypes))?Ar(e,a):Tr),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=oa,e.stateNode=t,t._reactInternalFiber=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function la(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&oa.enqueueReplaceState(t,t.state,null)}function ua(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs=aa;var i=t.contextType;"object"==typeof i&&null!==i?a.context=Hi(i):(i=Mr(t)?Ir:Rr.current,a.context=Ar(e,i)),null!==(i=e.updateQueue)&&(to(e,i,n,a,r),a.state=e.memoizedState),"function"==typeof(i=t.getDerivedStateFromProps)&&(ia(e,t,i,n),a.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof a.getSnapshotBeforeUpdate||"function"!=typeof a.UNSAFE_componentWillMount&&"function"!=typeof a.componentWillMount||(t=a.state,"function"==typeof a.componentWillMount&&a.componentWillMount(),"function"==typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&oa.enqueueReplaceState(a,a.state,null),null!==(i=e.updateQueue)&&(to(e,i,n,a,r),a.state=e.memoizedState)),"function"==typeof a.componentDidMount&&(e.effectTag|=4)}var da=Array.isArray;function pa(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){n=n._owner;var r=void 0;n&&(1!==n.tag&&o("309"),r=n.stateNode),r||o("147",e);var a=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===a?t.ref:((t=function(e){var t=r.refs;t===aa&&(t=r.refs={}),null===e?delete t[a]:t[a]=e})._stringRef=a,t)}"string"!=typeof e&&o("284"),n._owner||o("290",e)}return e}function fa(e,t){"textarea"!==e.type&&o("31","[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,"")}function ha(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t,n){return(e=Yr(e,t)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.effectTag=2,n):r:(t.effectTag=2,n):n}function s(t){return e&&null===t.alternate&&(t.effectTag=2),t}function c(e,t,n,r){return null===t||6!==t.tag?((t=$r(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function l(e,t,n,r){return null!==t&&t.elementType===n.type?((r=a(t,n.props)).ref=pa(e,t,n),r.return=e,r):((r=Qr(n.type,n.key,n.props,null,e.mode,r)).ref=pa(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Zr(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function d(e,t,n,r,i){return null===t||7!==t.tag?((t=Kr(n,e.mode,r,i)).return=e,t):((t=a(t,n)).return=e,t)}function p(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=$r(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case Ye:return(n=Qr(t.type,t.key,t.props,null,e.mode,n)).ref=pa(e,null,t),n.return=e,n;case Qe:return(t=Zr(t,e.mode,n)).return=e,t}if(da(t)||ot(t))return(t=Kr(t,e.mode,n,null)).return=e,t;fa(e,t)}return null}function f(e,t,n,r){var a=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==a?null:c(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case Ye:return n.key===a?n.type===Ke?d(e,t,n.props.children,r,a):l(e,t,n,r):null;case Qe:return n.key===a?u(e,t,n,r):null}if(da(n)||ot(n))return null!==a?null:d(e,t,n,r,null);fa(e,n)}return null}function h(e,t,n,r,a){if("string"==typeof r||"number"==typeof r)return c(t,e=e.get(n)||null,""+r,a);if("object"==typeof r&&null!==r){switch(r.$$typeof){case Ye:return e=e.get(null===r.key?n:r.key)||null,r.type===Ke?d(t,e,r.props.children,a,r.key):l(t,e,r,a);case Qe:return u(t,e=e.get(null===r.key?n:r.key)||null,r,a)}if(da(r)||ot(r))return d(t,e=e.get(n)||null,r,a,null);fa(t,r)}return null}function m(a,o,s,c){for(var l=null,u=null,d=o,m=o=0,g=null;null!==d&&m<s.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=f(a,d,s[m],c);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(a,d),o=i(v,o,m),null===u?l=v:u.sibling=v,u=v,d=g}if(m===s.length)return n(a,d),l;if(null===d){for(;m<s.length;m++)(d=p(a,s[m],c))&&(o=i(d,o,m),null===u?l=d:u.sibling=d,u=d);return l}for(d=r(a,d);m<s.length;m++)(g=h(d,a,m,s[m],c))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),o=i(g,o,m),null===u?l=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(a,e)}),l}function g(a,s,c,l){var u=ot(c);"function"!=typeof u&&o("150"),null==(c=u.call(c))&&o("151");for(var d=u=null,m=s,g=s=0,v=null,b=c.next();null!==m&&!b.done;g++,b=c.next()){m.index>g?(v=m,m=null):v=m.sibling;var y=f(a,m,b.value,l);if(null===y){m||(m=v);break}e&&m&&null===y.alternate&&t(a,m),s=i(y,s,g),null===d?u=y:d.sibling=y,d=y,m=v}if(b.done)return n(a,m),u;if(null===m){for(;!b.done;g++,b=c.next())null!==(b=p(a,b.value,l))&&(s=i(b,s,g),null===d?u=b:d.sibling=b,d=b);return u}for(m=r(a,m);!b.done;g++,b=c.next())null!==(b=h(m,a,g,b.value,l))&&(e&&null!==b.alternate&&m.delete(null===b.key?g:b.key),s=i(b,s,g),null===d?u=b:d.sibling=b,d=b);return e&&m.forEach(function(e){return t(a,e)}),u}return function(e,r,i,c){var l="object"==typeof i&&null!==i&&i.type===Ke&&null===i.key;l&&(i=i.props.children);var u="object"==typeof i&&null!==i;if(u)switch(i.$$typeof){case Ye:e:{for(u=i.key,l=r;null!==l;){if(l.key===u){if(7===l.tag?i.type===Ke:l.elementType===i.type){n(e,l.sibling),(r=a(l,i.type===Ke?i.props.children:i.props)).ref=pa(e,l,i),r.return=e,e=r;break e}n(e,l);break}t(e,l),l=l.sibling}i.type===Ke?((r=Kr(i.props.children,e.mode,c,i.key)).return=e,e=r):((c=Qr(i.type,i.key,i.props,null,e.mode,c)).ref=pa(e,r,i),c.return=e,e=c)}return s(e);case Qe:e:{for(l=i.key;null!==r;){if(r.key===l){if(4===r.tag&&r.stateNode.containerInfo===i.containerInfo&&r.stateNode.implementation===i.implementation){n(e,r.sibling),(r=a(r,i.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Zr(i,e.mode,c)).return=e,e=r}return s(e)}if("string"==typeof i||"number"==typeof i)return i=""+i,null!==r&&6===r.tag?(n(e,r.sibling),(r=a(r,i)).return=e,e=r):(n(e,r),(r=$r(i,e.mode,c)).return=e,e=r),s(e);if(da(i))return m(e,r,i,c);if(ot(i))return g(e,r,i,c);if(u&&fa(e,i),void 0===i&&!l)switch(e.tag){case 1:case 0:o("152",(c=e.type).displayName||c.name||"Component")}return n(e,r)}}var ma=ha(!0),ga=ha(!1),va={},ba={current:va},ya={current:va},Ea={current:va};function _a(e){return e===va&&o("174"),e}function wa(e,t){xr(Ea,t),xr(ya,e),xr(ba,va);var n=t.nodeType;switch(n){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:tr(null,"");break;default:t=tr(t=(n=8===n?t.parentNode:t).namespaceURI||null,n=n.tagName)}Or(ba),xr(ba,t)}function Sa(e){Or(ba),Or(ya),Or(Ea)}function ka(e){_a(Ea.current);var t=_a(ba.current),n=tr(t,e.type);t!==n&&(xr(ya,e),xr(ba,n))}function Ca(e){ya.current===e&&(Or(ba),Or(ya))}var Na=0,Oa=2,xa=4,Ta=8,Ra=16,Pa=32,Ia=64,Aa=128,Ma=We.ReactCurrentDispatcher,Da=0,ja=null,La=null,Fa=null,Ba=null,Ua=null,Ha=null,qa=0,Ga=null,Wa=0,Va=!1,za=null,Ya=0;function Qa(){o("307")}function Ka(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Zt(e[n],t[n]))return!1;return!0}function Xa(e,t,n,r,a,i){if(Da=i,ja=t,Fa=null!==e?e.memoizedState:null,Ma.current=null===Fa?li:ui,t=n(r,a),Va){do{Va=!1,Ya+=1,Fa=null!==e?e.memoizedState:null,Ha=Ba,Ga=Ua=La=null,Ma.current=ui,t=n(r,a)}while(Va);za=null,Ya=0}return Ma.current=ci,(e=ja).memoizedState=Ba,e.expirationTime=qa,e.updateQueue=Ga,e.effectTag|=Wa,e=null!==La&&null!==La.next,Da=0,Ha=Ua=Ba=Fa=La=ja=null,qa=0,Ga=null,Wa=0,e&&o("300"),t}function $a(){Ma.current=ci,Da=0,Ha=Ua=Ba=Fa=La=ja=null,qa=0,Ga=null,Wa=0,Va=!1,za=null,Ya=0}function Za(){var e={memoizedState:null,baseState:null,queue:null,baseUpdate:null,next:null};return null===Ua?Ba=Ua=e:Ua=Ua.next=e,Ua}function Ja(){if(null!==Ha)Ha=(Ua=Ha).next,Fa=null!==(La=Fa)?La.next:null;else{null===Fa&&o("310");var e={memoizedState:(La=Fa).memoizedState,baseState:La.baseState,queue:La.queue,baseUpdate:La.baseUpdate,next:null};Ua=null===Ua?Ba=e:Ua.next=e,Fa=La.next}return Ua}function ei(e,t){return"function"==typeof t?t(e):t}function ti(e){var t=Ja(),n=t.queue;if(null===n&&o("311"),0<Ya){var r=n.dispatch;if(null!==za){var a=za.get(n);if(void 0!==a){za.delete(n);var i=t.memoizedState;do{i=e(i,a.action),a=a.next}while(null!==a);return Zt(i,t.memoizedState)||(_i=!0),t.memoizedState=i,t.baseUpdate===n.last&&(t.baseState=i),[i,r]}}return[t.memoizedState,r]}r=n.last;var s=t.baseUpdate;if(i=t.baseState,null!==s?(null!==r&&(r.next=null),r=s.next):r=null!==r?r.next:null,null!==r){var c=a=null,l=r,u=!1;do{var d=l.expirationTime;d<Da?(u||(u=!0,c=s,a=i),d>qa&&(qa=d)):i=l.eagerReducer===e?l.eagerState:e(i,l.action),s=l,l=l.next}while(null!==l&&l!==r);u||(c=s,a=i),Zt(i,t.memoizedState)||(_i=!0),t.memoizedState=i,t.baseUpdate=c,t.baseState=a,n.eagerReducer=e,n.eagerState=i}return[t.memoizedState,n.dispatch]}function ni(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===Ga?(Ga={lastEffect:null}).lastEffect=e.next=e:null===(t=Ga.lastEffect)?Ga.lastEffect=e.next=e:(n=t.next,t.next=e,e.next=n,Ga.lastEffect=e),e}function ri(e,t,n,r){var a=Za();Wa|=e,a.memoizedState=ni(t,n,void 0,void 0===r?null:r)}function ai(e,t,n,r){var a=Ja();r=void 0===r?null:r;var i=void 0;if(null!==La){var o=La.memoizedState;if(i=o.destroy,null!==r&&Ka(r,o.deps))return void ni(Na,n,i,r)}Wa|=e,a.memoizedState=ni(t,n,i,r)}function ii(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function oi(){}function si(e,t,n){25>Ya||o("301");var r=e.alternate;if(e===ja||null!==r&&r===ja)if(Va=!0,e={expirationTime:Da,action:n,eagerReducer:null,eagerState:null,next:null},null===za&&(za=new Map),void 0===(n=za.get(t)))za.set(t,e);else{for(t=n;null!==t.next;)t=t.next;t.next=e}else{Go();var a=ws(),i={expirationTime:a=Ko(a,e),action:n,eagerReducer:null,eagerState:null,next:null},s=t.last;if(null===s)i.next=i;else{var c=s.next;null!==c&&(i.next=c),s.next=i}if(t.last=i,0===e.expirationTime&&(null===r||0===r.expirationTime)&&null!==(r=t.eagerReducer))try{var l=t.eagerState,u=r(l,n);if(i.eagerReducer=r,i.eagerState=u,Zt(u,l))return}catch(e){}Zo(e,a)}}var ci={readContext:Hi,useCallback:Qa,useContext:Qa,useEffect:Qa,useImperativeHandle:Qa,useLayoutEffect:Qa,useMemo:Qa,useReducer:Qa,useRef:Qa,useState:Qa,useDebugValue:Qa},li={readContext:Hi,useCallback:function(e,t){return Za().memoizedState=[e,void 0===t?null:t],e},useContext:Hi,useEffect:function(e,t){return ri(516,Aa|Ia,e,t)},useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,ri(4,xa|Pa,ii.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ri(4,xa|Pa,e,t)},useMemo:function(e,t){var n=Za();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Za();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={last:null,dispatch:null,eagerReducer:e,eagerState:t}).dispatch=si.bind(null,ja,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Za().memoizedState=e},useState:function(e){var t=Za();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={last:null,dispatch:null,eagerReducer:ei,eagerState:e}).dispatch=si.bind(null,ja,e),[t.memoizedState,e]},useDebugValue:oi},ui={readContext:Hi,useCallback:function(e,t){var n=Ja();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ka(t,r[1])?r[0]:(n.memoizedState=[e,t],e)},useContext:Hi,useEffect:function(e,t){return ai(516,Aa|Ia,e,t)},useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,ai(4,xa|Pa,ii.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ai(4,xa|Pa,e,t)},useMemo:function(e,t){var n=Ja();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Ka(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)},useReducer:ti,useRef:function(){return Ja().memoizedState},useState:function(e){return ti(ei)},useDebugValue:oi},di=null,pi=null,fi=!1;function hi(e,t){var n=Vr(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function mi(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function gi(e){if(fi){var t=pi;if(t){var n=t;if(!mi(e,t)){if(!(t=Sr(n))||!mi(e,t))return e.effectTag|=2,fi=!1,void(di=e);hi(di,n)}di=e,pi=kr(t)}else e.effectTag|=2,fi=!1,di=e}}function vi(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&18!==e.tag;)e=e.return;di=e}function bi(e){if(e!==di)return!1;if(!fi)return vi(e),fi=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!br(t,e.memoizedProps))for(t=pi;t;)hi(e,t),t=Sr(t);return vi(e),pi=di?Sr(e.stateNode):null,!0}function yi(){pi=di=null,fi=!1}var Ei=We.ReactCurrentOwner,_i=!1;function wi(e,t,n,r){t.child=null===e?ga(t,null,n,r):ma(t,e.child,n,r)}function Si(e,t,n,r,a){n=n.render;var i=t.ref;return Ui(t,a),r=Xa(e,t,n,r,i,a),null===e||_i?(t.effectTag|=1,wi(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=a&&(e.expirationTime=0),Ii(e,t,a))}function ki(e,t,n,r,a,i){if(null===e){var o=n.type;return"function"!=typeof o||zr(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Qr(n.type,null,r,null,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Ci(e,t,o,r,a,i))}return o=e.child,a<i&&(a=o.memoizedProps,(n=null!==(n=n.compare)?n:en)(a,r)&&e.ref===t.ref)?Ii(e,t,i):(t.effectTag|=1,(e=Yr(o,r)).ref=t.ref,e.return=t,t.child=e)}function Ci(e,t,n,r,a,i){return null!==e&&en(e.memoizedProps,r)&&e.ref===t.ref&&(_i=!1,a<i)?Ii(e,t,i):Oi(e,t,n,r,i)}function Ni(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function Oi(e,t,n,r,a){var i=Mr(n)?Ir:Rr.current;return i=Ar(t,i),Ui(t,a),n=Xa(e,t,n,r,i,a),null===e||_i?(t.effectTag|=1,wi(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=a&&(e.expirationTime=0),Ii(e,t,a))}function xi(e,t,n,r,a){if(Mr(n)){var i=!0;Br(t)}else i=!1;if(Ui(t,a),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),ca(t,n,r),ua(t,n,r,a),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var c=o.context,l=n.contextType;"object"==typeof l&&null!==l?l=Hi(l):l=Ar(t,l=Mr(n)?Ir:Rr.current);var u=n.getDerivedStateFromProps,d="function"==typeof u||"function"==typeof o.getSnapshotBeforeUpdate;d||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(s!==r||c!==l)&&la(t,o,r,l),zi=!1;var p=t.memoizedState;c=o.state=p;var f=t.updateQueue;null!==f&&(to(t,f,r,o,a),c=t.memoizedState),s!==r||p!==c||Pr.current||zi?("function"==typeof u&&(ia(t,n,u,r),c=t.memoizedState),(s=zi||sa(t,n,s,r,p,c,l))?(d||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||("function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"==typeof o.componentDidMount&&(t.effectTag|=4)):("function"==typeof o.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=l,r=s):("function"==typeof o.componentDidMount&&(t.effectTag|=4),r=!1)}else o=t.stateNode,s=t.memoizedProps,o.props=t.type===t.elementType?s:ra(t.type,s),c=o.context,"object"==typeof(l=n.contextType)&&null!==l?l=Hi(l):l=Ar(t,l=Mr(n)?Ir:Rr.current),(d="function"==typeof(u=n.getDerivedStateFromProps)||"function"==typeof o.getSnapshotBeforeUpdate)||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(s!==r||c!==l)&&la(t,o,r,l),zi=!1,c=t.memoizedState,p=o.state=c,null!==(f=t.updateQueue)&&(to(t,f,r,o,a),p=t.memoizedState),s!==r||c!==p||Pr.current||zi?("function"==typeof u&&(ia(t,n,u,r),p=t.memoizedState),(u=zi||sa(t,n,s,r,c,p,l))?(d||"function"!=typeof o.UNSAFE_componentWillUpdate&&"function"!=typeof o.componentWillUpdate||("function"==typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"==typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"==typeof o.componentDidUpdate&&(t.effectTag|=4),"function"==typeof o.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!=typeof o.componentDidUpdate||s===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=4),"function"!=typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=u):("function"!=typeof o.componentDidUpdate||s===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=4),"function"!=typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&c===e.memoizedState||(t.effectTag|=256),r=!1);return Ti(e,t,n,r,i,a)}function Ti(e,t,n,r,a,i){Ni(e,t);var o=0!=(64&t.effectTag);if(!r&&!o)return a&&Ur(t,n,!1),Ii(e,t,i);r=t.stateNode,Ei.current=t;var s=o&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.effectTag|=1,null!==e&&o?(t.child=ma(t,e.child,null,i),t.child=ma(t,null,s,i)):wi(e,t,s,i),t.memoizedState=r.state,a&&Ur(t,n,!0),t.child}function Ri(e){var t=e.stateNode;t.pendingContext?Lr(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Lr(0,t.context,!1),wa(e,t.containerInfo)}function Pi(e,t,n){var r=t.mode,a=t.pendingProps,i=t.memoizedState;if(0==(64&t.effectTag)){i=null;var o=!1}else i={timedOutAt:null!==i?i.timedOutAt:0},o=!0,t.effectTag&=-65;if(null===e)if(o){var s=a.fallback;e=Kr(null,r,0,null),0==(1&t.mode)&&(e.child=null!==t.memoizedState?t.child.child:t.child),r=Kr(s,r,n,null),e.sibling=r,(n=e).return=r.return=t}else n=r=ga(t,null,a.children,n);else null!==e.memoizedState?(s=(r=e.child).sibling,o?(n=a.fallback,a=Yr(r,r.pendingProps),0==(1&t.mode)&&((o=null!==t.memoizedState?t.child.child:t.child)!==r.child&&(a.child=o)),r=a.sibling=Yr(s,n,s.expirationTime),n=a,a.childExpirationTime=0,n.return=r.return=t):n=r=ma(t,r.child,a.children,n)):(s=e.child,o?(o=a.fallback,(a=Kr(null,r,0,null)).child=s,0==(1&t.mode)&&(a.child=null!==t.memoizedState?t.child.child:t.child),(r=a.sibling=Kr(o,r,n,null)).effectTag|=2,n=a,a.childExpirationTime=0,n.return=r.return=t):r=n=ma(t,s,a.children,n)),t.stateNode=e.stateNode;return t.memoizedState=i,t.child=n,r}function Ii(e,t,n){if(null!==e&&(t.contextDependencies=e.contextDependencies),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child&&o("153"),null!==t.child){for(n=Yr(e=t.child,e.pendingProps,e.expirationTime),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Yr(e,e.pendingProps,e.expirationTime)).return=t;n.sibling=null}return t.child}function Ai(e,t,n){var r=t.expirationTime;if(null!==e){if(e.memoizedProps!==t.pendingProps||Pr.current)_i=!0;else if(r<n){switch(_i=!1,t.tag){case 3:Ri(t),yi();break;case 5:ka(t);break;case 1:Mr(t.type)&&Br(t);break;case 4:wa(t,t.stateNode.containerInfo);break;case 10:Fi(t,t.memoizedProps.value);break;case 13:if(null!==t.memoizedState)return 0!==(r=t.child.childExpirationTime)&&r>=n?Pi(e,t,n):null!==(t=Ii(e,t,n))?t.sibling:null}return Ii(e,t,n)}}else _i=!1;switch(t.expirationTime=0,t.tag){case 2:r=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps;var a=Ar(t,Rr.current);if(Ui(t,n),a=Xa(null,t,r,e,a,n),t.effectTag|=1,"object"==typeof a&&null!==a&&"function"==typeof a.render&&void 0===a.$$typeof){if(t.tag=1,$a(),Mr(r)){var i=!0;Br(t)}else i=!1;t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null;var s=r.getDerivedStateFromProps;"function"==typeof s&&ia(t,r,s,e),a.updater=oa,t.stateNode=a,a._reactInternalFiber=t,ua(t,r,e,n),t=Ti(null,t,r,!0,i,n)}else t.tag=0,wi(null,t,a,n),t=t.child;return t;case 16:switch(a=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),i=t.pendingProps,e=function(e){var t=e._result;switch(e._status){case 1:return t;case 2:case 0:throw t;default:switch(e._status=0,(t=(t=e._ctor)()).then(function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)},function(t){0===e._status&&(e._status=2,e._result=t)}),e._status){case 1:return e._result;case 2:throw e._result}throw e._result=t,t}}(a),t.type=e,a=t.tag=function(e){if("function"==typeof e)return zr(e)?1:0;if(null!=e){if((e=e.$$typeof)===tt)return 11;if(e===rt)return 14}return 2}(e),i=ra(e,i),s=void 0,a){case 0:s=Oi(null,t,e,i,n);break;case 1:s=xi(null,t,e,i,n);break;case 11:s=Si(null,t,e,i,n);break;case 14:s=ki(null,t,e,ra(e.type,i),r,n);break;default:o("306",e,"")}return s;case 0:return r=t.type,a=t.pendingProps,Oi(e,t,r,a=t.elementType===r?a:ra(r,a),n);case 1:return r=t.type,a=t.pendingProps,xi(e,t,r,a=t.elementType===r?a:ra(r,a),n);case 3:return Ri(t),null===(r=t.updateQueue)&&o("282"),a=null!==(a=t.memoizedState)?a.element:null,to(t,r,t.pendingProps,null,n),(r=t.memoizedState.element)===a?(yi(),t=Ii(e,t,n)):(a=t.stateNode,(a=(null===e||null===e.child)&&a.hydrate)&&(pi=kr(t.stateNode.containerInfo),di=t,a=fi=!0),a?(t.effectTag|=2,t.child=ga(t,null,r,n)):(wi(e,t,r,n),yi()),t=t.child),t;case 5:return ka(t),null===e&&gi(t),r=t.type,a=t.pendingProps,i=null!==e?e.memoizedProps:null,s=a.children,br(r,a)?s=null:null!==i&&br(r,i)&&(t.effectTag|=16),Ni(e,t),1!==n&&1&t.mode&&a.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(wi(e,t,s,n),t=t.child),t;case 6:return null===e&&gi(t),null;case 13:return Pi(e,t,n);case 4:return wa(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ma(t,null,r,n):wi(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,Si(e,t,r,a=t.elementType===r?a:ra(r,a),n);case 7:return wi(e,t,t.pendingProps,n),t.child;case 8:case 12:return wi(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,s=t.memoizedProps,Fi(t,i=a.value),null!==s){var c=s.value;if(0===(i=Zt(c,i)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(c,i):1073741823))){if(s.children===a.children&&!Pr.current){t=Ii(e,t,n);break e}}else for(null!==(c=t.child)&&(c.return=t);null!==c;){var l=c.contextDependencies;if(null!==l){s=c.child;for(var u=l.first;null!==u;){if(u.context===r&&0!=(u.observedBits&i)){1===c.tag&&((u=Ki(n)).tag=Wi,$i(c,u)),c.expirationTime<n&&(c.expirationTime=n),null!==(u=c.alternate)&&u.expirationTime<n&&(u.expirationTime=n),u=n;for(var d=c.return;null!==d;){var p=d.alternate;if(d.childExpirationTime<u)d.childExpirationTime=u,null!==p&&p.childExpirationTime<u&&(p.childExpirationTime=u);else{if(!(null!==p&&p.childExpirationTime<u))break;p.childExpirationTime=u}d=d.return}l.expirationTime<n&&(l.expirationTime=n);break}u=u.next}}else s=10===c.tag&&c.type===t.type?null:c.child;if(null!==s)s.return=c;else for(s=c;null!==s;){if(s===t){s=null;break}if(null!==(c=s.sibling)){c.return=s.return,s=c;break}s=s.return}c=s}}wi(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=(i=t.pendingProps).children,Ui(t,n),r=r(a=Hi(a,i.unstable_observedBits)),t.effectTag|=1,wi(e,t,r,n),t.child;case 14:return i=ra(a=t.type,t.pendingProps),ki(e,t,a,i=ra(a.type,i),r,n);case 15:return Ci(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:ra(r,a),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,Mr(r)?(e=!0,Br(t)):e=!1,Ui(t,n),ca(t,r,a),ua(t,r,a,n),Ti(null,t,r,!0,e,n)}o("156")}var Mi={current:null},Di=null,ji=null,Li=null;function Fi(e,t){var n=e.type._context;xr(Mi,n._currentValue),n._currentValue=t}function Bi(e){var t=Mi.current;Or(Mi),e.type._context._currentValue=t}function Ui(e,t){Di=e,Li=ji=null;var n=e.contextDependencies;null!==n&&n.expirationTime>=t&&(_i=!0),e.contextDependencies=null}function Hi(e,t){return Li!==e&&!1!==t&&0!==t&&("number"==typeof t&&1073741823!==t||(Li=e,t=1073741823),t={context:e,observedBits:t,next:null},null===ji?(null===Di&&o("308"),ji=t,Di.contextDependencies={first:t,expirationTime:0}):ji=ji.next=t),e._currentValue}var qi=0,Gi=1,Wi=2,Vi=3,zi=!1;function Yi(e){return{baseState:e,firstUpdate:null,lastUpdate:null,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function Qi(e){return{baseState:e.baseState,firstUpdate:e.firstUpdate,lastUpdate:e.lastUpdate,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function Ki(e){return{expirationTime:e,tag:qi,payload:null,callback:null,next:null,nextEffect:null}}function Xi(e,t){null===e.lastUpdate?e.firstUpdate=e.lastUpdate=t:(e.lastUpdate.next=t,e.lastUpdate=t)}function $i(e,t){var n=e.alternate;if(null===n){var r=e.updateQueue,a=null;null===r&&(r=e.updateQueue=Yi(e.memoizedState))}else r=e.updateQueue,a=n.updateQueue,null===r?null===a?(r=e.updateQueue=Yi(e.memoizedState),a=n.updateQueue=Yi(n.memoizedState)):r=e.updateQueue=Qi(a):null===a&&(a=n.updateQueue=Qi(r));null===a||r===a?Xi(r,t):null===r.lastUpdate||null===a.lastUpdate?(Xi(r,t),Xi(a,t)):(Xi(r,t),a.lastUpdate=t)}function Zi(e,t){var n=e.updateQueue;null===(n=null===n?e.updateQueue=Yi(e.memoizedState):Ji(e,n)).lastCapturedUpdate?n.firstCapturedUpdate=n.lastCapturedUpdate=t:(n.lastCapturedUpdate.next=t,n.lastCapturedUpdate=t)}function Ji(e,t){var n=e.alternate;return null!==n&&t===n.updateQueue&&(t=e.updateQueue=Qi(t)),t}function eo(e,t,n,r,i,o){switch(n.tag){case Gi:return"function"==typeof(e=n.payload)?e.call(o,r,i):e;case Vi:e.effectTag=-2049&e.effectTag|64;case qi:if(null==(i="function"==typeof(e=n.payload)?e.call(o,r,i):e))break;return a({},r,i);case Wi:zi=!0}return r}function to(e,t,n,r,a){zi=!1;for(var i=(t=Ji(e,t)).baseState,o=null,s=0,c=t.firstUpdate,l=i;null!==c;){var u=c.expirationTime;u<a?(null===o&&(o=c,i=l),s<u&&(s=u)):(l=eo(e,0,c,l,n,r),null!==c.callback&&(e.effectTag|=32,c.nextEffect=null,null===t.lastEffect?t.firstEffect=t.lastEffect=c:(t.lastEffect.nextEffect=c,t.lastEffect=c))),c=c.next}for(u=null,c=t.firstCapturedUpdate;null!==c;){var d=c.expirationTime;d<a?(null===u&&(u=c,null===o&&(i=l)),s<d&&(s=d)):(l=eo(e,0,c,l,n,r),null!==c.callback&&(e.effectTag|=32,c.nextEffect=null,null===t.lastCapturedEffect?t.firstCapturedEffect=t.lastCapturedEffect=c:(t.lastCapturedEffect.nextEffect=c,t.lastCapturedEffect=c))),c=c.next}null===o&&(t.lastUpdate=null),null===u?t.lastCapturedUpdate=null:e.effectTag|=32,null===o&&null===u&&(i=l),t.baseState=i,t.firstUpdate=o,t.firstCapturedUpdate=u,e.expirationTime=s,e.memoizedState=l}function no(e,t,n){null!==t.firstCapturedUpdate&&(null!==t.lastUpdate&&(t.lastUpdate.next=t.firstCapturedUpdate,t.lastUpdate=t.lastCapturedUpdate),t.firstCapturedUpdate=t.lastCapturedUpdate=null),ro(t.firstEffect,n),t.firstEffect=t.lastEffect=null,ro(t.firstCapturedEffect,n),t.firstCapturedEffect=t.lastCapturedEffect=null}function ro(e,t){for(;null!==e;){var n=e.callback;if(null!==n){e.callback=null;var r=t;"function"!=typeof n&&o("191",n),n.call(r)}e=e.nextEffect}}function ao(e,t){return{value:e,source:t,stack:ct(t)}}function io(e){e.effectTag|=4}var oo=void 0,so=void 0,co=void 0,lo=void 0;oo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},so=function(){},co=function(e,t,n,r,i){var o=e.memoizedProps;if(o!==r){var s=t.stateNode;switch(_a(ba.current),e=null,n){case"input":o=yt(s,o),r=yt(s,r),e=[];break;case"option":o=Yn(s,o),r=Yn(s,r),e=[];break;case"select":o=a({},o,{value:void 0}),r=a({},r,{value:void 0}),e=[];break;case"textarea":o=Kn(s,o),r=Kn(s,r),e=[];break;default:"function"!=typeof o.onClick&&"function"==typeof r.onClick&&(s.onclick=hr)}dr(n,r),s=n=void 0;var c=null;for(n in o)if(!r.hasOwnProperty(n)&&o.hasOwnProperty(n)&&null!=o[n])if("style"===n){var l=o[n];for(s in l)l.hasOwnProperty(s)&&(c||(c={}),c[s]="")}else"dangerouslySetInnerHTML"!==n&&"children"!==n&&"suppressContentEditableWarning"!==n&&"suppressHydrationWarning"!==n&&"autoFocus"!==n&&(y.hasOwnProperty(n)?e||(e=[]):(e=e||[]).push(n,null));for(n in r){var u=r[n];if(l=null!=o?o[n]:void 0,r.hasOwnProperty(n)&&u!==l&&(null!=u||null!=l))if("style"===n)if(l){for(s in l)!l.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(c||(c={}),c[s]="");for(s in u)u.hasOwnProperty(s)&&l[s]!==u[s]&&(c||(c={}),c[s]=u[s])}else c||(e||(e=[]),e.push(n,c)),c=u;else"dangerouslySetInnerHTML"===n?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(e=e||[]).push(n,""+u)):"children"===n?l===u||"string"!=typeof u&&"number"!=typeof u||(e=e||[]).push(n,""+u):"suppressContentEditableWarning"!==n&&"suppressHydrationWarning"!==n&&(y.hasOwnProperty(n)?(null!=u&&fr(i,n),e||l===u||(e=[])):(e=e||[]).push(n,u))}c&&(e=e||[]).push("style",c),i=e,(t.updateQueue=i)&&io(t)}},lo=function(e,t,n,r){n!==r&&io(t)};var uo="function"==typeof WeakSet?WeakSet:Set;function po(e,t){var n=t.source,r=t.stack;null===r&&null!==n&&(r=ct(n)),null!==n&&st(n.type),t=t.value,null!==e&&1===e.tag&&st(e.type);try{console.error(t)}catch(e){setTimeout(function(){throw e})}}function fo(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){Qo(e,t)}else t.current=null}function ho(e,t,n){if(null!==(n=null!==(n=n.updateQueue)?n.lastEffect:null)){var r=n=n.next;do{if((r.tag&e)!==Na){var a=r.destroy;r.destroy=void 0,void 0!==a&&a()}(r.tag&t)!==Na&&(a=r.create,r.destroy=a()),r=r.next}while(r!==n)}}function mo(e){switch("function"==typeof qr&&qr(e),e.tag){case 0:case 11:case 14:case 15:var t=e.updateQueue;if(null!==t&&null!==(t=t.lastEffect)){var n=t=t.next;do{var r=n.destroy;if(void 0!==r){var a=e;try{r()}catch(e){Qo(a,e)}}n=n.next}while(n!==t)}break;case 1:if(fo(e),"function"==typeof(t=e.stateNode).componentWillUnmount)try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(t){Qo(e,t)}break;case 5:fo(e);break;case 4:bo(e)}}function go(e){return 5===e.tag||3===e.tag||4===e.tag}function vo(e){e:{for(var t=e.return;null!==t;){if(go(t)){var n=t;break e}t=t.return}o("160"),n=void 0}var r=t=void 0;switch(n.tag){case 5:t=n.stateNode,r=!1;break;case 3:case 4:t=n.stateNode.containerInfo,r=!0;break;default:o("161")}16&n.effectTag&&(ir(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||go(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}for(var a=e;;){if(5===a.tag||6===a.tag)if(n)if(r){var i=t,s=a.stateNode,c=n;8===i.nodeType?i.parentNode.insertBefore(s,c):i.insertBefore(s,c)}else t.insertBefore(a.stateNode,n);else r?(s=t,c=a.stateNode,8===s.nodeType?(i=s.parentNode).insertBefore(c,s):(i=s).appendChild(c),null!=(s=s._reactRootContainer)||null!==i.onclick||(i.onclick=hr)):t.appendChild(a.stateNode);else if(4!==a.tag&&null!==a.child){a.child.return=a,a=a.child;continue}if(a===e)break;for(;null===a.sibling;){if(null===a.return||a.return===e)return;a=a.return}a.sibling.return=a.return,a=a.sibling}}function bo(e){for(var t=e,n=!1,r=void 0,a=void 0;;){if(!n){n=t.return;e:for(;;){switch(null===n&&o("160"),n.tag){case 5:r=n.stateNode,a=!1;break e;case 3:case 4:r=n.stateNode.containerInfo,a=!0;break e}n=n.return}n=!0}if(5===t.tag||6===t.tag){e:for(var i=t,s=i;;)if(mo(s),null!==s.child&&4!==s.tag)s.child.return=s,s=s.child;else{if(s===i)break;for(;null===s.sibling;){if(null===s.return||s.return===i)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}a?(i=r,s=t.stateNode,8===i.nodeType?i.parentNode.removeChild(s):i.removeChild(s)):r.removeChild(t.stateNode)}else if(4===t.tag){if(null!==t.child){r=t.stateNode.containerInfo,a=!0,t.child.return=t,t=t.child;continue}}else if(mo(t),null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return;4===(t=t.return).tag&&(n=!1)}t.sibling.return=t.return,t=t.sibling}}function yo(e,t){switch(t.tag){case 0:case 11:case 14:case 15:ho(xa,Ta,t);break;case 1:break;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps;e=null!==e?e.memoizedProps:r;var a=t.type,i=t.updateQueue;t.updateQueue=null,null!==i&&function(e,t,n,r,a){e[M]=a,"input"===n&&"radio"===a.type&&null!=a.name&&_t(e,a),pr(n,r),r=pr(n,a);for(var i=0;i<t.length;i+=2){var o=t[i],s=t[i+1];"style"===o?lr(e,s):"dangerouslySetInnerHTML"===o?ar(e,s):"children"===o?ir(e,s):vt(e,o,s,r)}switch(n){case"input":wt(e,a);break;case"textarea":$n(e,a);break;case"select":t=e._wrapperState.wasMultiple,e._wrapperState.wasMultiple=!!a.multiple,null!=(n=a.value)?Qn(e,!!a.multiple,n,!1):t!==!!a.multiple&&(null!=a.defaultValue?Qn(e,!!a.multiple,a.defaultValue,!0):Qn(e,!!a.multiple,a.multiple?[]:"",!1))}}(n,i,a,e,r)}break;case 6:null===t.stateNode&&o("162"),t.stateNode.nodeValue=t.memoizedProps;break;case 3:case 12:break;case 13:if(n=t.memoizedState,r=void 0,e=t,null===n?r=!1:(r=!0,e=t.child,0===n.timedOutAt&&(n.timedOutAt=ws())),null!==e&&function(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)r.style.display="none";else{r=n.stateNode;var a=n.memoizedProps.style;a=null!=a&&a.hasOwnProperty("display")?a.display:null,r.style.display=cr("display",a)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else{if(13===n.tag&&null!==n.memoizedState){(r=n.child.sibling).return=n,n=r;continue}if(null!==n.child){n.child.return=n,n=n.child;continue}}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}(e,r),null!==(n=t.updateQueue)){t.updateQueue=null;var s=t.stateNode;null===s&&(s=t.stateNode=new uo),n.forEach(function(e){var n=function(e,t){var n=e.stateNode;null!==n&&n.delete(t),t=Ko(t=ws(),e),null!==(e=$o(e,t))&&(Jr(e,t),0!==(t=e.expirationTime)&&Ss(e,t))}.bind(null,t,e);s.has(e)||(s.add(e),e.then(n,n))})}break;case 17:break;default:o("163")}}var Eo="function"==typeof WeakMap?WeakMap:Map;function _o(e,t,n){(n=Ki(n)).tag=Vi,n.payload={element:null};var r=t.value;return n.callback=function(){Is(r),po(e,t)},n}function wo(e,t,n){(n=Ki(n)).tag=Vi;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var a=t.value;n.payload=function(){return r(a)}}var i=e.stateNode;return null!==i&&"function"==typeof i.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===Fo?Fo=new Set([this]):Fo.add(this));var n=t.value,a=t.stack;po(e,t),this.componentDidCatch(n,{componentStack:null!==a?a:""})}),n}function So(e){switch(e.tag){case 1:Mr(e.type)&&Dr();var t=e.effectTag;return 2048&t?(e.effectTag=-2049&t|64,e):null;case 3:return Sa(),jr(),0!=(64&(t=e.effectTag))&&o("285"),e.effectTag=-2049&t|64,e;case 5:return Ca(e),null;case 13:return 2048&(t=e.effectTag)?(e.effectTag=-2049&t|64,e):null;case 18:return null;case 4:return Sa(),null;case 10:return Bi(e),null;default:return null}}var ko=We.ReactCurrentDispatcher,Co=We.ReactCurrentOwner,No=1073741822,Oo=!1,xo=null,To=null,Ro=0,Po=-1,Io=!1,Ao=null,Mo=!1,Do=null,jo=null,Lo=null,Fo=null;function Bo(){if(null!==xo)for(var e=xo.return;null!==e;){var t=e;switch(t.tag){case 1:var n=t.type.childContextTypes;null!=n&&Dr();break;case 3:Sa(),jr();break;case 5:Ca(t);break;case 4:Sa();break;case 10:Bi(t)}e=e.return}To=null,Ro=0,Po=-1,Io=!1,xo=null}function Uo(){for(;null!==Ao;){var e=Ao.effectTag;if(16&e&&ir(Ao.stateNode,""),128&e){var t=Ao.alternate;null!==t&&(null!==(t=t.ref)&&("function"==typeof t?t(null):t.current=null))}switch(14&e){case 2:vo(Ao),Ao.effectTag&=-3;break;case 6:vo(Ao),Ao.effectTag&=-3,yo(Ao.alternate,Ao);break;case 4:yo(Ao.alternate,Ao);break;case 8:bo(e=Ao),e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,null!==(e=e.alternate)&&(e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null)}Ao=Ao.nextEffect}}function Ho(){for(;null!==Ao;){if(256&Ao.effectTag)e:{var e=Ao.alternate,t=Ao;switch(t.tag){case 0:case 11:case 15:ho(Oa,Na,t);break e;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:ra(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}break e;case 3:case 5:case 6:case 4:case 17:break e;default:o("163")}}Ao=Ao.nextEffect}}function qo(e,t){for(;null!==Ao;){var n=Ao.effectTag;if(36&n){var r=Ao.alternate,a=Ao,i=t;switch(a.tag){case 0:case 11:case 15:ho(Ra,Pa,a);break;case 1:var s=a.stateNode;if(4&a.effectTag)if(null===r)s.componentDidMount();else{var c=a.elementType===a.type?r.memoizedProps:ra(a.type,r.memoizedProps);s.componentDidUpdate(c,r.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}null!==(r=a.updateQueue)&&no(0,r,s);break;case 3:if(null!==(r=a.updateQueue)){if(s=null,null!==a.child)switch(a.child.tag){case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}no(0,r,s)}break;case 5:i=a.stateNode,null===r&&4&a.effectTag&&vr(a.type,a.memoizedProps)&&i.focus();break;case 6:case 4:case 12:case 13:case 17:break;default:o("163")}}128&n&&(null!==(a=Ao.ref)&&(i=Ao.stateNode,"function"==typeof a?a(i):a.current=i)),512&n&&(Do=e),Ao=Ao.nextEffect}}function Go(){null!==jo&&wr(jo),null!==Lo&&Lo()}function Wo(e,t){Mo=Oo=!0,e.current===t&&o("177");var n=e.pendingCommitExpirationTime;0===n&&o("261"),e.pendingCommitExpirationTime=0;var r=t.expirationTime,a=t.childExpirationTime;for(function(e,t){if(e.didError=!1,0===t)e.earliestPendingTime=0,e.latestPendingTime=0,e.earliestSuspendedTime=0,e.latestSuspendedTime=0,e.latestPingedTime=0;else{t<e.latestPingedTime&&(e.latestPingedTime=0);var n=e.latestPendingTime;0!==n&&(n>t?e.earliestPendingTime=e.latestPendingTime=0:e.earliestPendingTime>t&&(e.earliestPendingTime=e.latestPendingTime)),0===(n=e.earliestSuspendedTime)?Jr(e,t):t<e.latestSuspendedTime?(e.earliestSuspendedTime=0,e.latestSuspendedTime=0,e.latestPingedTime=0,Jr(e,t)):t>n&&Jr(e,t)}na(0,e)}(e,a>r?a:r),Co.current=null,r=void 0,1<t.effectTag?null!==t.lastEffect?(t.lastEffect.nextEffect=t,r=t.firstEffect):r=t:r=t.firstEffect,mr=kn,gr=function(){var e=jn();if(Ln(e)){if("selectionStart"in e)var t={start:e.selectionStart,end:e.selectionEnd};else e:{var n=(t=(t=e.ownerDocument)&&t.defaultView||window).getSelection&&t.getSelection();if(n&&0!==n.rangeCount){t=n.anchorNode;var r=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{t.nodeType,a.nodeType}catch(e){t=null;break e}var i=0,o=-1,s=-1,c=0,l=0,u=e,d=null;t:for(;;){for(var p;u!==t||0!==r&&3!==u.nodeType||(o=i+r),u!==a||0!==n&&3!==u.nodeType||(s=i+n),3===u.nodeType&&(i+=u.nodeValue.length),null!==(p=u.firstChild);)d=u,u=p;for(;;){if(u===e)break t;if(d===t&&++c===r&&(o=i),d===a&&++l===n&&(s=i),null!==(p=u.nextSibling))break;d=(u=d).parentNode}u=p}t=-1===o||-1===s?null:{start:o,end:s}}else t=null}t=t||{start:0,end:0}}else t=null;return{focusedElem:e,selectionRange:t}}(),kn=!1,Ao=r;null!==Ao;){a=!1;var s=void 0;try{Ho()}catch(e){a=!0,s=e}a&&(null===Ao&&o("178"),Qo(Ao,s),null!==Ao&&(Ao=Ao.nextEffect))}for(Ao=r;null!==Ao;){a=!1,s=void 0;try{Uo()}catch(e){a=!0,s=e}a&&(null===Ao&&o("178"),Qo(Ao,s),null!==Ao&&(Ao=Ao.nextEffect))}for(Fn(gr),gr=null,kn=!!mr,mr=null,e.current=t,Ao=r;null!==Ao;){a=!1,s=void 0;try{qo(e,n)}catch(e){a=!0,s=e}a&&(null===Ao&&o("178"),Qo(Ao,s),null!==Ao&&(Ao=Ao.nextEffect))}if(null!==r&&null!==Do){var c=function(e,t){Lo=jo=Do=null;var n=as;as=!0;do{if(512&t.effectTag){var r=!1,a=void 0;try{var i=t;ho(Aa,Na,i),ho(Na,Ia,i)}catch(e){r=!0,a=e}r&&Qo(t,a)}t=t.nextEffect}while(null!==t);as=n,0!==(n=e.expirationTime)&&Ss(e,n),us||as||xs(1073741823,!1)}.bind(null,e,r);jo=i.unstable_runWithPriority(i.unstable_NormalPriority,function(){return _r(c)}),Lo=c}Oo=Mo=!1,"function"==typeof Hr&&Hr(t.stateNode),n=t.expirationTime,0===(t=(t=t.childExpirationTime)>n?t:n)&&(Fo=null),function(e,t){e.expirationTime=t,e.finishedWork=null}(e,t)}function Vo(e){for(;;){var t=e.alternate,n=e.return,r=e.sibling;if(0==(1024&e.effectTag)){xo=e;e:{var i=t,s=Ro,c=(t=e).pendingProps;switch(t.tag){case 2:case 16:break;case 15:case 0:break;case 1:Mr(t.type)&&Dr();break;case 3:Sa(),jr(),(c=t.stateNode).pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),null!==i&&null!==i.child||(bi(t),t.effectTag&=-3),so(t);break;case 5:Ca(t);var l=_a(Ea.current);if(s=t.type,null!==i&&null!=t.stateNode)co(i,t,s,c,l),i.ref!==t.ref&&(t.effectTag|=128);else if(c){var u=_a(ba.current);if(bi(t)){i=(c=t).stateNode;var d=c.type,p=c.memoizedProps,f=l;switch(i[A]=c,i[M]=p,s=void 0,l=d){case"iframe":case"object":Cn("load",i);break;case"video":case"audio":for(d=0;d<te.length;d++)Cn(te[d],i);break;case"source":Cn("error",i);break;case"img":case"image":case"link":Cn("error",i),Cn("load",i);break;case"form":Cn("reset",i),Cn("submit",i);break;case"details":Cn("toggle",i);break;case"input":Et(i,p),Cn("invalid",i),fr(f,"onChange");break;case"select":i._wrapperState={wasMultiple:!!p.multiple},Cn("invalid",i),fr(f,"onChange");break;case"textarea":Xn(i,p),Cn("invalid",i),fr(f,"onChange")}for(s in dr(l,p),d=null,p)p.hasOwnProperty(s)&&(u=p[s],"children"===s?"string"==typeof u?i.textContent!==u&&(d=["children",u]):"number"==typeof u&&i.textContent!==""+u&&(d=["children",""+u]):y.hasOwnProperty(s)&&null!=u&&fr(f,s));switch(l){case"input":qe(i),St(i,p,!0);break;case"textarea":qe(i),Zn(i);break;case"select":case"option":break;default:"function"==typeof p.onClick&&(i.onclick=hr)}s=d,c.updateQueue=s,(c=null!==s)&&io(t)}else{p=t,i=s,f=c,d=9===l.nodeType?l:l.ownerDocument,u===Jn.html&&(u=er(i)),u===Jn.html?"script"===i?((i=d.createElement("div")).innerHTML="<script><\/script>",d=i.removeChild(i.firstChild)):"string"==typeof f.is?d=d.createElement(i,{is:f.is}):(d=d.createElement(i),"select"===i&&f.multiple&&(d.multiple=!0)):d=d.createElementNS(u,i),(i=d)[A]=p,i[M]=c,oo(i,t,!1,!1),f=i;var h=l,m=pr(d=s,p=c);switch(d){case"iframe":case"object":Cn("load",f),l=p;break;case"video":case"audio":for(l=0;l<te.length;l++)Cn(te[l],f);l=p;break;case"source":Cn("error",f),l=p;break;case"img":case"image":case"link":Cn("error",f),Cn("load",f),l=p;break;case"form":Cn("reset",f),Cn("submit",f),l=p;break;case"details":Cn("toggle",f),l=p;break;case"input":Et(f,p),l=yt(f,p),Cn("invalid",f),fr(h,"onChange");break;case"option":l=Yn(f,p);break;case"select":f._wrapperState={wasMultiple:!!p.multiple},l=a({},p,{value:void 0}),Cn("invalid",f),fr(h,"onChange");break;case"textarea":Xn(f,p),l=Kn(f,p),Cn("invalid",f),fr(h,"onChange");break;default:l=p}dr(d,l),u=void 0;var g=d,v=f,b=l;for(u in b)if(b.hasOwnProperty(u)){var E=b[u];"style"===u?lr(v,E):"dangerouslySetInnerHTML"===u?null!=(E=E?E.__html:void 0)&&ar(v,E):"children"===u?"string"==typeof E?("textarea"!==g||""!==E)&&ir(v,E):"number"==typeof E&&ir(v,""+E):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(y.hasOwnProperty(u)?null!=E&&fr(h,u):null!=E&&vt(v,u,E,m))}switch(d){case"input":qe(f),St(f,p,!1);break;case"textarea":qe(f),Zn(f);break;case"option":null!=p.value&&f.setAttribute("value",""+bt(p.value));break;case"select":(l=f).multiple=!!p.multiple,null!=(f=p.value)?Qn(l,!!p.multiple,f,!1):null!=p.defaultValue&&Qn(l,!!p.multiple,p.defaultValue,!0);break;default:"function"==typeof l.onClick&&(f.onclick=hr)}(c=vr(s,c))&&io(t),t.stateNode=i}null!==t.ref&&(t.effectTag|=128)}else null===t.stateNode&&o("166");break;case 6:i&&null!=t.stateNode?lo(i,t,i.memoizedProps,c):("string"!=typeof c&&(null===t.stateNode&&o("166")),i=_a(Ea.current),_a(ba.current),bi(t)?(s=(c=t).stateNode,i=c.memoizedProps,s[A]=c,(c=s.nodeValue!==i)&&io(t)):(s=t,(c=(9===i.nodeType?i:i.ownerDocument).createTextNode(c))[A]=t,s.stateNode=c));break;case 11:break;case 13:if(c=t.memoizedState,0!=(64&t.effectTag)){t.expirationTime=s,xo=t;break e}c=null!==c,s=null!==i&&null!==i.memoizedState,null!==i&&!c&&s&&(null!==(i=i.child.sibling)&&(null!==(l=t.firstEffect)?(t.firstEffect=i,i.nextEffect=l):(t.firstEffect=t.lastEffect=i,i.nextEffect=null),i.effectTag=8)),(c||s)&&(t.effectTag|=4);break;case 7:case 8:case 12:break;case 4:Sa(),so(t);break;case 10:Bi(t);break;case 9:case 14:break;case 17:Mr(t.type)&&Dr();break;case 18:break;default:o("156")}xo=null}if(t=e,1===Ro||1!==t.childExpirationTime){for(c=0,s=t.child;null!==s;)(i=s.expirationTime)>c&&(c=i),(l=s.childExpirationTime)>c&&(c=l),s=s.sibling;t.childExpirationTime=c}if(null!==xo)return xo;null!==n&&0==(1024&n.effectTag)&&(null===n.firstEffect&&(n.firstEffect=e.firstEffect),null!==e.lastEffect&&(null!==n.lastEffect&&(n.lastEffect.nextEffect=e.firstEffect),n.lastEffect=e.lastEffect),1<e.effectTag&&(null!==n.lastEffect?n.lastEffect.nextEffect=e:n.firstEffect=e,n.lastEffect=e))}else{if(null!==(e=So(e)))return e.effectTag&=1023,e;null!==n&&(n.firstEffect=n.lastEffect=null,n.effectTag|=1024)}if(null!==r)return r;if(null===n)break;e=n}return null}function zo(e){var t=Ai(e.alternate,e,Ro);return e.memoizedProps=e.pendingProps,null===t&&(t=Vo(e)),Co.current=null,t}function Yo(e,t){Oo&&o("243"),Go(),Oo=!0;var n=ko.current;ko.current=ci;var r=e.nextExpirationTimeToWorkOn;r===Ro&&e===To&&null!==xo||(Bo(),Ro=r,xo=Yr((To=e).current,null),e.pendingCommitExpirationTime=0);for(var a=!1;;){try{if(t)for(;null!==xo&&!Ns();)xo=zo(xo);else for(;null!==xo;)xo=zo(xo)}catch(t){if(Li=ji=Di=null,$a(),null===xo)a=!0,Is(t);else{null===xo&&o("271");var i=xo,s=i.return;if(null!==s){e:{var c=e,l=s,u=i,d=t;if(s=Ro,u.effectTag|=1024,u.firstEffect=u.lastEffect=null,null!==d&&"object"==typeof d&&"function"==typeof d.then){var p=d;d=l;var f=-1,h=-1;do{if(13===d.tag){var m=d.alternate;if(null!==m&&null!==(m=m.memoizedState)){h=10*(1073741822-m.timedOutAt);break}"number"==typeof(m=d.pendingProps.maxDuration)&&(0>=m?f=0:(-1===f||m<f)&&(f=m))}d=d.return}while(null!==d);d=l;do{if((m=13===d.tag)&&(m=void 0!==d.memoizedProps.fallback&&null===d.memoizedState),m){if(null===(l=d.updateQueue)?((l=new Set).add(p),d.updateQueue=l):l.add(p),0==(1&d.mode)){d.effectTag|=64,u.effectTag&=-1957,1===u.tag&&(null===u.alternate?u.tag=17:((s=Ki(1073741823)).tag=Wi,$i(u,s))),u.expirationTime=1073741823;break e}l=s;var g=(u=c).pingCache;null===g?(g=u.pingCache=new Eo,m=new Set,g.set(p,m)):void 0===(m=g.get(p))&&(m=new Set,g.set(p,m)),m.has(l)||(m.add(l),u=Xo.bind(null,u,p,l),p.then(u,u)),-1===f?c=1073741823:(-1===h&&(h=10*(1073741822-ta(c,s))-5e3),c=h+f),0<=c&&Po<c&&(Po=c),d.effectTag|=2048,d.expirationTime=s;break e}d=d.return}while(null!==d);d=Error((st(u.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+ct(u))}Io=!0,d=ao(d,u),c=l;do{switch(c.tag){case 3:c.effectTag|=2048,c.expirationTime=s,Zi(c,s=_o(c,d,s));break e;case 1:if(f=d,h=c.type,u=c.stateNode,0==(64&c.effectTag)&&("function"==typeof h.getDerivedStateFromError||null!==u&&"function"==typeof u.componentDidCatch&&(null===Fo||!Fo.has(u)))){c.effectTag|=2048,c.expirationTime=s,Zi(c,s=wo(c,f,s));break e}}c=c.return}while(null!==c)}xo=Vo(i);continue}a=!0,Is(t)}}break}if(Oo=!1,ko.current=n,Li=ji=Di=null,$a(),a)To=null,e.finishedWork=null;else if(null!==xo)e.finishedWork=null;else{if(null===(n=e.current.alternate)&&o("281"),To=null,Io){if(a=e.latestPendingTime,i=e.latestSuspendedTime,s=e.latestPingedTime,0!==a&&a<r||0!==i&&i<r||0!==s&&s<r)return ea(e,r),void _s(e,n,r,e.expirationTime,-1);if(!e.didError&&t)return e.didError=!0,r=e.nextExpirationTimeToWorkOn=r,t=e.expirationTime=1073741823,void _s(e,n,r,t,-1)}t&&-1!==Po?(ea(e,r),(t=10*(1073741822-ta(e,r)))<Po&&(Po=t),t=10*(1073741822-ws()),t=Po-t,_s(e,n,r,e.expirationTime,0>t?0:t)):(e.pendingCommitExpirationTime=r,e.finishedWork=n)}}function Qo(e,t){for(var n=e.return;null!==n;){switch(n.tag){case 1:var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Fo||!Fo.has(r)))return $i(n,e=wo(n,e=ao(t,e),1073741823)),void Zo(n,1073741823);break;case 3:return $i(n,e=_o(n,e=ao(t,e),1073741823)),void Zo(n,1073741823)}n=n.return}3===e.tag&&($i(e,n=_o(e,n=ao(t,e),1073741823)),Zo(e,1073741823))}function Ko(e,t){var n=i.unstable_getCurrentPriorityLevel(),r=void 0;if(0==(1&t.mode))r=1073741823;else if(Oo&&!Mo)r=Ro;else{switch(n){case i.unstable_ImmediatePriority:r=1073741823;break;case i.unstable_UserBlockingPriority:r=1073741822-10*(1+((1073741822-e+15)/10|0));break;case i.unstable_NormalPriority:r=1073741822-25*(1+((1073741822-e+500)/25|0));break;case i.unstable_LowPriority:case i.unstable_IdlePriority:r=1;break;default:o("313")}null!==To&&r===Ro&&--r}return n===i.unstable_UserBlockingPriority&&(0===ss||r<ss)&&(ss=r),r}function Xo(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),null!==To&&Ro===n?To=null:(t=e.earliestSuspendedTime,r=e.latestSuspendedTime,0!==t&&n<=t&&n>=r&&(e.didError=!1,(0===(t=e.latestPingedTime)||t>n)&&(e.latestPingedTime=n),na(n,e),0!==(n=e.expirationTime)&&Ss(e,n)))}function $o(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var r=e.return,a=null;if(null===r&&3===e.tag)a=e.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<t&&(r.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===r.return&&3===r.tag){a=r.stateNode;break}r=r.return}return a}function Zo(e,t){null!==(e=$o(e,t))&&(!Oo&&0!==Ro&&t>Ro&&Bo(),Jr(e,t),Oo&&!Mo&&To===e||Ss(e,e.expirationTime),vs>gs&&(vs=0,o("185")))}function Jo(e,t,n,r,a){return i.unstable_runWithPriority(i.unstable_ImmediatePriority,function(){return e(t,n,r,a)})}var es=null,ts=null,ns=0,rs=void 0,as=!1,is=null,os=0,ss=0,cs=!1,ls=null,us=!1,ds=!1,ps=null,fs=i.unstable_now(),hs=1073741822-(fs/10|0),ms=hs,gs=50,vs=0,bs=null;function ys(){hs=1073741822-((i.unstable_now()-fs)/10|0)}function Es(e,t){if(0!==ns){if(t<ns)return;null!==rs&&i.unstable_cancelCallback(rs)}ns=t,e=i.unstable_now()-fs,rs=i.unstable_scheduleCallback(Os,{timeout:10*(1073741822-t)-e})}function _s(e,t,n,r,a){e.expirationTime=r,0!==a||Ns()?0<a&&(e.timeoutHandle=yr(function(e,t,n){e.pendingCommitExpirationTime=n,e.finishedWork=t,ys(),ms=hs,Ts(e,n)}.bind(null,e,t,n),a)):(e.pendingCommitExpirationTime=n,e.finishedWork=t)}function ws(){return as?ms:(ks(),0!==os&&1!==os||(ys(),ms=hs),ms)}function Ss(e,t){null===e.nextScheduledRoot?(e.expirationTime=t,null===ts?(es=ts=e,e.nextScheduledRoot=e):(ts=ts.nextScheduledRoot=e).nextScheduledRoot=es):t>e.expirationTime&&(e.expirationTime=t),as||(us?ds&&(is=e,os=1073741823,Rs(e,1073741823,!1)):1073741823===t?xs(1073741823,!1):Es(e,t))}function ks(){var e=0,t=null;if(null!==ts)for(var n=ts,r=es;null!==r;){var a=r.expirationTime;if(0===a){if((null===n||null===ts)&&o("244"),r===r.nextScheduledRoot){es=ts=r.nextScheduledRoot=null;break}if(r===es)es=a=r.nextScheduledRoot,ts.nextScheduledRoot=a,r.nextScheduledRoot=null;else{if(r===ts){(ts=n).nextScheduledRoot=es,r.nextScheduledRoot=null;break}n.nextScheduledRoot=r.nextScheduledRoot,r.nextScheduledRoot=null}r=n.nextScheduledRoot}else{if(a>e&&(e=a,t=r),r===ts)break;if(1073741823===e)break;n=r,r=r.nextScheduledRoot}}is=t,os=e}var Cs=!1;function Ns(){return!!Cs||!!i.unstable_shouldYield()&&(Cs=!0)}function Os(){try{if(!Ns()&&null!==es){ys();var e=es;do{var t=e.expirationTime;0!==t&&hs<=t&&(e.nextExpirationTimeToWorkOn=hs),e=e.nextScheduledRoot}while(e!==es)}xs(0,!0)}finally{Cs=!1}}function xs(e,t){if(ks(),t)for(ys(),ms=hs;null!==is&&0!==os&&e<=os&&!(Cs&&hs>os);)Rs(is,os,hs>os),ks(),ys(),ms=hs;else for(;null!==is&&0!==os&&e<=os;)Rs(is,os,!1),ks();if(t&&(ns=0,rs=null),0!==os&&Es(is,os),vs=0,bs=null,null!==ps)for(e=ps,ps=null,t=0;t<e.length;t++){var n=e[t];try{n._onComplete()}catch(e){cs||(cs=!0,ls=e)}}if(cs)throw e=ls,ls=null,cs=!1,e}function Ts(e,t){as&&o("253"),is=e,os=t,Rs(e,t,!1),xs(1073741823,!1)}function Rs(e,t,n){if(as&&o("245"),as=!0,n){var r=e.finishedWork;null!==r?Ps(e,r,t):(e.finishedWork=null,-1!==(r=e.timeoutHandle)&&(e.timeoutHandle=-1,Er(r)),Yo(e,n),null!==(r=e.finishedWork)&&(Ns()?e.finishedWork=r:Ps(e,r,t)))}else null!==(r=e.finishedWork)?Ps(e,r,t):(e.finishedWork=null,-1!==(r=e.timeoutHandle)&&(e.timeoutHandle=-1,Er(r)),Yo(e,n),null!==(r=e.finishedWork)&&Ps(e,r,t));as=!1}function Ps(e,t,n){var r=e.firstBatch;if(null!==r&&r._expirationTime>=n&&(null===ps?ps=[r]:ps.push(r),r._defer))return e.finishedWork=t,void(e.expirationTime=0);e.finishedWork=null,e===bs?vs++:(bs=e,vs=0),i.unstable_runWithPriority(i.unstable_ImmediatePriority,function(){Wo(e,t)})}function Is(e){null===is&&o("246"),is.expirationTime=0,cs||(cs=!0,ls=e)}function As(e,t){var n=us;us=!0;try{return e(t)}finally{(us=n)||as||xs(1073741823,!1)}}function Ms(e,t){if(us&&!ds){ds=!0;try{return e(t)}finally{ds=!1}}return e(t)}function Ds(e,t,n){us||as||0===ss||(xs(ss,!1),ss=0);var r=us;us=!0;try{return i.unstable_runWithPriority(i.unstable_UserBlockingPriority,function(){return e(t,n)})}finally{(us=r)||as||xs(1073741823,!1)}}function js(e,t,n,r,a){var i=t.current;e:if(n){t:{2===tn(n=n._reactInternalFiber)&&1===n.tag||o("170");var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(Mr(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(null!==s);o("171"),s=void 0}if(1===n.tag){var c=n.type;if(Mr(c)){n=Fr(n,c,s);break e}}n=s}else n=Tr;return null===t.context?t.context=n:t.pendingContext=n,t=a,(a=Ki(r)).payload={element:e},null!==(t=void 0===t?null:t)&&(a.callback=t),Go(),$i(i,a),Zo(i,r),r}function Ls(e,t,n,r){var a=t.current;return js(e,t,n,a=Ko(ws(),a),r)}function Fs(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Bs(e){var t=1073741822-25*(1+((1073741822-ws()+500)/25|0));t>=No&&(t=No-1),this._expirationTime=No=t,this._root=e,this._callbacks=this._next=null,this._hasChildren=this._didComplete=!1,this._children=null,this._defer=!0}function Us(){this._callbacks=null,this._didCommit=!1,this._onCommit=this._onCommit.bind(this)}function Hs(e,t,n){e={current:t=Vr(3,null,null,t?3:0),containerInfo:e,pendingChildren:null,pingCache:null,earliestPendingTime:0,latestPendingTime:0,earliestSuspendedTime:0,latestSuspendedTime:0,latestPingedTime:0,didError:!1,pendingCommitExpirationTime:0,finishedWork:null,timeoutHandle:-1,context:null,pendingContext:null,hydrate:n,nextExpirationTimeToWorkOn:0,expirationTime:0,firstBatch:null,nextScheduledRoot:null},this._internalRoot=t.stateNode=e}function qs(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Gs(e,t,n,r,a){var i=n._reactRootContainer;if(i){if("function"==typeof a){var o=a;a=function(){var e=Fs(i._internalRoot);o.call(e)}}null!=e?i.legacy_renderSubtreeIntoContainer(e,t,a):i.render(t,a)}else{if(i=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new Hs(e,!1,t)}(n,r),"function"==typeof a){var s=a;a=function(){var e=Fs(i._internalRoot);s.call(e)}}Ms(function(){null!=e?i.legacy_renderSubtreeIntoContainer(e,t,a):i.render(t,a)})}return Fs(i._internalRoot)}function Ws(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return qs(t)||o("200"),function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:Qe,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)}Ne=function(e,t,n){switch(t){case"input":if(wt(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=F(r);a||o("90"),Ge(r),wt(r,a)}}}break;case"textarea":$n(e,n);break;case"select":null!=(t=n.value)&&Qn(e,!!n.multiple,t,!1)}},Bs.prototype.render=function(e){this._defer||o("250"),this._hasChildren=!0,this._children=e;var t=this._root._internalRoot,n=this._expirationTime,r=new Us;return js(e,t,null,n,r._onCommit),r},Bs.prototype.then=function(e){if(this._didComplete)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},Bs.prototype.commit=function(){var e=this._root._internalRoot,t=e.firstBatch;if(this._defer&&null!==t||o("251"),this._hasChildren){var n=this._expirationTime;if(t!==this){this._hasChildren&&(n=this._expirationTime=t._expirationTime,this.render(this._children));for(var r=null,a=t;a!==this;)r=a,a=a._next;null===r&&o("251"),r._next=a._next,this._next=t,e.firstBatch=this}this._defer=!1,Ts(e,n),t=this._next,this._next=null,null!==(t=e.firstBatch=t)&&t._hasChildren&&t.render(t._children)}else this._next=null,this._defer=!1},Bs.prototype._onComplete=function(){if(!this._didComplete){this._didComplete=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++)(0,e[t])()}},Us.prototype.then=function(e){if(this._didCommit)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},Us.prototype._onCommit=function(){if(!this._didCommit){this._didCommit=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++){var n=e[t];"function"!=typeof n&&o("191",n),n()}}},Hs.prototype.render=function(e,t){var n=this._internalRoot,r=new Us;return null!==(t=void 0===t?null:t)&&r.then(t),Ls(e,n,null,r._onCommit),r},Hs.prototype.unmount=function(e){var t=this._internalRoot,n=new Us;return null!==(e=void 0===e?null:e)&&n.then(e),Ls(null,t,null,n._onCommit),n},Hs.prototype.legacy_renderSubtreeIntoContainer=function(e,t,n){var r=this._internalRoot,a=new Us;return null!==(n=void 0===n?null:n)&&a.then(n),Ls(t,r,e,a._onCommit),a},Hs.prototype.createBatch=function(){var e=new Bs(this),t=e._expirationTime,n=this._internalRoot,r=n.firstBatch;if(null===r)n.firstBatch=e,e._next=null;else{for(n=null;null!==r&&r._expirationTime>=t;)n=r,r=r._next;e._next=r,null!==n&&(n._next=e)}return e},Ie=As,Ae=Ds,Me=function(){as||0===ss||(xs(ss,!1),ss=0)};var Vs={createPortal:Ws,findDOMNode:function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;return void 0===t&&("function"==typeof e.render?o("188"):o("268",Object.keys(e))),e=null===(e=rn(t))?null:e.stateNode},hydrate:function(e,t,n){return qs(t)||o("200"),Gs(null,e,t,!0,n)},render:function(e,t,n){return qs(t)||o("200"),Gs(null,e,t,!1,n)},unstable_renderSubtreeIntoContainer:function(e,t,n,r){return qs(n)||o("200"),(null==e||void 0===e._reactInternalFiber)&&o("38"),Gs(e,t,n,!1,r)},unmountComponentAtNode:function(e){return qs(e)||o("40"),!!e._reactRootContainer&&(Ms(function(){Gs(null,null,e,!1,function(){e._reactRootContainer=null})}),!0)},unstable_createPortal:function(){return Ws.apply(void 0,arguments)},unstable_batchedUpdates:As,unstable_interactiveUpdates:Ds,flushSync:function(e,t){as&&o("187");var n=us;us=!0;try{return Jo(e,t)}finally{us=n,xs(1073741823,!1)}},unstable_createRoot:function(e,t){return qs(e)||o("299","unstable_createRoot"),new Hs(e,!0,null!=t&&!0===t.hydrate)},unstable_flushControlled:function(e){var t=us;us=!0;try{Jo(e)}finally{(us=t)||as||xs(1073741823,!1)}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{Events:[j,L,F,T.injectEventPluginsByName,b,W,function(e){N(e,G)},Re,Pe,xn,P]}};!function(e){var t=e.findFiberByHostInstance;(function(e){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);Hr=Gr(function(e){return t.onCommitFiberRoot(n,e)}),qr=Gr(function(e){return t.onCommitFiberUnmount(n,e)})}catch(e){}})(a({},e,{overrideProps:null,currentDispatcherRef:We.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=rn(e))?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null}}))}({findFiberByHostInstance:D,bundleType:0,version:"16.8.2",rendererPackageName:"react-dom"});var zs={default:Vs},Ys=zs&&Vs||zs;e.exports=Ys.default||Ys},function(e,t,n){"use strict";
/** @license React v16.8.2
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(369),a="function"==typeof Symbol&&Symbol.for,i=a?Symbol.for("react.element"):60103,o=a?Symbol.for("react.portal"):60106,s=a?Symbol.for("react.fragment"):60107,c=a?Symbol.for("react.strict_mode"):60108,l=a?Symbol.for("react.profiler"):60114,u=a?Symbol.for("react.provider"):60109,d=a?Symbol.for("react.context"):60110,p=a?Symbol.for("react.concurrent_mode"):60111,f=a?Symbol.for("react.forward_ref"):60112,h=a?Symbol.for("react.suspense"):60113,m=a?Symbol.for("react.memo"):60115,g=a?Symbol.for("react.lazy"):60116,v="function"==typeof Symbol&&Symbol.iterator;function b(e){for(var t=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);!function(e,t,n,r,a,i,o,s){if(!e){if(e=void 0,void 0===t)e=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,a,i,o,s],l=0;(e=Error(t.replace(/%s/g,function(){return c[l++]}))).name="Invariant Violation"}throw e.framesToPop=1,e}}(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E={};function _(e,t,n){this.props=e,this.context=t,this.refs=E,this.updater=n||y}function w(){}function S(e,t,n){this.props=e,this.context=t,this.refs=E,this.updater=n||y}_.prototype.isReactComponent={},_.prototype.setState=function(e,t){"object"!=typeof e&&"function"!=typeof e&&null!=e&&b("85"),this.updater.enqueueSetState(this,e,t,"setState")},_.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},w.prototype=_.prototype;var k=S.prototype=new w;k.constructor=S,r(k,_.prototype),k.isPureReactComponent=!0;var C={current:null},N={current:null},O=Object.prototype.hasOwnProperty,x={key:!0,ref:!0,__self:!0,__source:!0};function T(e,t,n){var r=void 0,a={},o=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)O.call(t,r)&&!x.hasOwnProperty(r)&&(a[r]=t[r]);var c=arguments.length-2;if(1===c)a.children=n;else if(1<c){for(var l=Array(c),u=0;u<c;u++)l[u]=arguments[u+2];a.children=l}if(e&&e.defaultProps)for(r in c=e.defaultProps)void 0===a[r]&&(a[r]=c[r]);return{$$typeof:i,type:e,key:o,ref:s,props:a,_owner:N.current}}function R(e){return"object"==typeof e&&null!==e&&e.$$typeof===i}var P=/\/+/g,I=[];function A(e,t,n,r){if(I.length){var a=I.pop();return a.result=e,a.keyPrefix=t,a.func=n,a.context=r,a.count=0,a}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function M(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>I.length&&I.push(e)}function D(e,t,n){return null==e?0:function e(t,n,r,a){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var c=!1;if(null===t)c=!0;else switch(s){case"string":case"number":c=!0;break;case"object":switch(t.$$typeof){case i:case o:c=!0}}if(c)return r(a,t,""===n?"."+j(t,0):n),1;if(c=0,n=""===n?".":n+":",Array.isArray(t))for(var l=0;l<t.length;l++){var u=n+j(s=t[l],l);c+=e(s,u,r,a)}else if(u=null===t||"object"!=typeof t?null:"function"==typeof(u=v&&t[v]||t["@@iterator"])?u:null,"function"==typeof u)for(t=u.call(t),l=0;!(s=t.next()).done;)c+=e(s=s.value,u=n+j(s,l++),r,a);else"object"===s&&b("31","[object Object]"==(r=""+t)?"object with keys {"+Object.keys(t).join(", ")+"}":r,"");return c}(e,"",t,n)}function j(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,function(e){return t[e]})}(e.key):t.toString(36)}function L(e,t){e.func.call(e.context,t,e.count++)}function F(e,t,n){var r=e.result,a=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?B(e,r,n,function(e){return e}):null!=e&&(R(e)&&(e=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,a+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(P,"$&/")+"/")+n)),r.push(e))}function B(e,t,n,r,a){var i="";null!=n&&(i=(""+n).replace(P,"$&/")+"/"),D(e,F,t=A(t,i,r,a)),M(t)}function U(){var e=C.current;return null===e&&b("307"),e}var H={Children:{map:function(e,t,n){if(null==e)return e;var r=[];return B(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;D(e,L,t=A(null,null,t,n)),M(t)},count:function(e){return D(e,function(){return null},null)},toArray:function(e){var t=[];return B(e,t,null,function(e){return e}),t},only:function(e){return R(e)||b("143"),e}},createRef:function(){return{current:null}},Component:_,PureComponent:S,createContext:function(e,t){return void 0===t&&(t=null),(e={$$typeof:d,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},forwardRef:function(e){return{$$typeof:f,render:e}},lazy:function(e){return{$$typeof:g,_ctor:e,_status:-1,_result:null}},memo:function(e,t){return{$$typeof:m,type:e,compare:void 0===t?null:t}},useCallback:function(e,t){return U().useCallback(e,t)},useContext:function(e,t){return U().useContext(e,t)},useEffect:function(e,t){return U().useEffect(e,t)},useImperativeHandle:function(e,t,n){return U().useImperativeHandle(e,t,n)},useDebugValue:function(){},useLayoutEffect:function(e,t){return U().useLayoutEffect(e,t)},useMemo:function(e,t){return U().useMemo(e,t)},useReducer:function(e,t,n){return U().useReducer(e,t,n)},useRef:function(e){return U().useRef(e)},useState:function(e){return U().useState(e)},Fragment:s,StrictMode:c,Suspense:h,createElement:T,cloneElement:function(e,t,n){null==e&&b("267",e);var a=void 0,o=r({},e.props),s=e.key,c=e.ref,l=e._owner;if(null!=t){void 0!==t.ref&&(c=t.ref,l=N.current),void 0!==t.key&&(s=""+t.key);var u=void 0;for(a in e.type&&e.type.defaultProps&&(u=e.type.defaultProps),t)O.call(t,a)&&!x.hasOwnProperty(a)&&(o[a]=void 0===t[a]&&void 0!==u?u[a]:t[a])}if(1===(a=arguments.length-2))o.children=n;else if(1<a){u=Array(a);for(var d=0;d<a;d++)u[d]=arguments[d+2];o.children=u}return{$$typeof:i,type:e.type,key:s,ref:c,props:o,_owner:l}},createFactory:function(e){var t=T.bind(null,e);return t.type=e,t},isValidElement:R,version:"16.8.2",unstable_ConcurrentMode:p,unstable_Profiler:l,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentDispatcher:C,ReactCurrentOwner:N,assign:r}},q={default:H},G=q&&H||q;e.exports=G.default||G},function(e,t,n){"use strict";e.exports=n(913)},function(e,t,n){"use strict";(function(e){
/** @license React v0.13.6
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
Object.defineProperty(t,"__esModule",{value:!0});var n=null,r=!1,a=3,i=-1,o=-1,s=!1,c=!1;function l(){if(!s){var e=n.expirationTime;c?S():c=!0,w(p,e)}}function u(){var e=n,t=n.next;if(n===t)n=null;else{var r=n.previous;n=r.next=t,t.previous=r}e.next=e.previous=null,r=e.callback,t=e.expirationTime,e=e.priorityLevel;var i=a,s=o;a=e,o=t;try{var c=r()}finally{a=i,o=s}if("function"==typeof c)if(c={callback:c,priorityLevel:e,expirationTime:t,next:null,previous:null},null===n)n=c.next=c.previous=c;else{r=null,e=n;do{if(e.expirationTime>=t){r=e;break}e=e.next}while(e!==n);null===r?r=n:r===n&&(n=c,l()),(t=r.previous).next=r.previous=c,c.next=r,c.previous=t}}function d(){if(-1===i&&null!==n&&1===n.priorityLevel){s=!0;try{do{u()}while(null!==n&&1===n.priorityLevel)}finally{s=!1,null!==n?l():c=!1}}}function p(e){s=!0;var a=r;r=e;try{if(e)for(;null!==n;){var i=t.unstable_now();if(!(n.expirationTime<=i))break;do{u()}while(null!==n&&n.expirationTime<=i)}else if(null!==n)do{u()}while(null!==n&&!k())}finally{s=!1,r=a,null!==n?l():c=!1,d()}}var f,h,m=Date,g="function"==typeof setTimeout?setTimeout:void 0,v="function"==typeof clearTimeout?clearTimeout:void 0,b="function"==typeof requestAnimationFrame?requestAnimationFrame:void 0,y="function"==typeof cancelAnimationFrame?cancelAnimationFrame:void 0;function E(e){f=b(function(t){v(h),e(t)}),h=g(function(){y(f),e(t.unstable_now())},100)}if("object"==typeof performance&&"function"==typeof performance.now){var _=performance;t.unstable_now=function(){return _.now()}}else t.unstable_now=function(){return m.now()};var w,S,k,C=null;if("undefined"!=typeof window?C=window:void 0!==e&&(C=e),C&&C._schedMock){var N=C._schedMock;w=N[0],S=N[1],k=N[2],t.unstable_now=N[3]}else if("undefined"==typeof window||"function"!=typeof MessageChannel){var O=null,x=function(e){if(null!==O)try{O(e)}finally{O=null}};w=function(e){null!==O?setTimeout(w,0,e):(O=e,setTimeout(x,0,!1))},S=function(){O=null},k=function(){return!1}}else{"undefined"!=typeof console&&("function"!=typeof b&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof y&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"));var T=null,R=!1,P=-1,I=!1,A=!1,M=0,D=33,j=33;k=function(){return M<=t.unstable_now()};var L=new MessageChannel,F=L.port2;L.port1.onmessage=function(){R=!1;var e=T,n=P;T=null,P=-1;var r=t.unstable_now(),a=!1;if(0>=M-r){if(!(-1!==n&&n<=r))return I||(I=!0,E(B)),T=e,void(P=n);a=!0}if(null!==e){A=!0;try{e(a)}finally{A=!1}}};var B=function(e){if(null!==T){E(B);var t=e-M+j;t<j&&D<j?(8>t&&(t=8),j=t<D?D:t):D=t,M=e+j,R||(R=!0,F.postMessage(void 0))}else I=!1};w=function(e,t){T=e,P=t,A||0>t?F.postMessage(void 0):I||(I=!0,E(B))},S=function(){T=null,R=!1,P=-1}}t.unstable_ImmediatePriority=1,t.unstable_UserBlockingPriority=2,t.unstable_NormalPriority=3,t.unstable_IdlePriority=5,t.unstable_LowPriority=4,t.unstable_runWithPriority=function(e,n){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=a,o=i;a=e,i=t.unstable_now();try{return n()}finally{a=r,i=o,d()}},t.unstable_next=function(e){switch(a){case 1:case 2:case 3:var n=3;break;default:n=a}var r=a,o=i;a=n,i=t.unstable_now();try{return e()}finally{a=r,i=o,d()}},t.unstable_scheduleCallback=function(e,r){var o=-1!==i?i:t.unstable_now();if("object"==typeof r&&null!==r&&"number"==typeof r.timeout)r=o+r.timeout;else switch(a){case 1:r=o+-1;break;case 2:r=o+250;break;case 5:r=o+1073741823;break;case 4:r=o+1e4;break;default:r=o+5e3}if(e={callback:e,priorityLevel:a,expirationTime:r,next:null,previous:null},null===n)n=e.next=e.previous=e,l();else{o=null;var s=n;do{if(s.expirationTime>r){o=s;break}s=s.next}while(s!==n);null===o?o=n:o===n&&(n=e,l()),(r=o.previous).next=o.previous=e,e.next=o,e.previous=r}return e},t.unstable_cancelCallback=function(e){var t=e.next;if(null!==t){if(t===e)n=null;else{e===n&&(n=t);var r=e.previous;r.next=t,t.previous=r}e.next=e.previous=null}},t.unstable_wrapCallback=function(e){var n=a;return function(){var r=a,o=i;a=n,i=t.unstable_now();try{return e.apply(this,arguments)}finally{a=r,i=o,d()}}},t.unstable_getCurrentPriorityLevel=function(){return a},t.unstable_shouldYield=function(){return!r&&(null!==n&&n.expirationTime<o||k())},t.unstable_continueExecution=function(){null!==n&&l()},t.unstable_pauseExecution=function(){},t.unstable_getFirstCallbackNode=function(){return n}}).call(this,n(43))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(260));t.reactOnRailsPageLoaded=m,t.clientStartup=function(e){var t=e.document;if(!t)return;if(e.__REACT_ON_RAILS_EVENT_HANDLERS_RAN_ONCE__)return;e.__REACT_ON_RAILS_EVENT_HANDLERS_RAN_ONCE__=!0,u("Adding DOMContentLoaded event to install event listeners."),t.addEventListener("DOMContentLoaded",function(){"undefined"==typeof Turbolinks?(u("NOT USING TURBOLINKS: DOMContentLoaded event, calling reactOnRailsPageLoaded"),m()):void 0!==Turbolinks.controller?(u("USING TURBOLINKS 5: document added event listeners turbolinks:before-render and turbolinks:load."),t.addEventListener("turbolinks:before-render",v),t.addEventListener("turbolinks:load",m)):(u("USING TURBOLINKS 2: document added event listeners page:before-unload and page:change."),t.addEventListener("page:before-unload",v),t.addEventListener("page:change",m))})};var a=s(n(76)),i=s(n(370)),o=s(n(494));function s(e){return e&&e.__esModule?e:{default:e}}var c="js-react-on-rails-component",l="js-react-on-rails-store";function u(){if(window&&ReactOnRails.option("traceTurbolinks")){for(var e,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];(e=console).log.apply(e,["TURBO:"].concat(n))}}function d(e,t,n){for(var r=document.getElementsByClassName(t),a=0;a<r.length;a++)e(r[a],n)}function p(e,t){d(e,c,t)}function f(e,t){var n=e.getAttribute("data-store-name"),r=JSON.parse(e.getAttribute("data-props")),a=ReactOnRails.getStoreGenerator(n)(r,t);ReactOnRails.setStore(n,a)}function h(e,t){var n=e.getAttribute("data-component-name"),s=e.getAttribute("data-dom-id"),c=JSON.parse(e.getAttribute("data-props")),l=JSON.parse(e.getAttribute("data-trace"));try{var u=document.getElementById(s);if(u){var d=(0,i.default)({name:n,props:c,domNodeId:s,trace:l,railsContext:t});if((0,o.default)(d))throw new Error("You returned a server side type of react-router error: "+(0,r.default)(d)+"\nYou should return a React.Component always for the client side entry point.");a.default.render(d,u)}}catch(e){throw e.message="ReactOnRails encountered an error while rendering component: "+n+".Original message: "+e.message,e}}function m(){u("reactOnRailsPageLoaded");var e,t=(e=document.getElementById("js-react-on-rails-context"))?JSON.parse(e.getAttribute("data-rails-context")):null;!function(e){d(f,l,e)}(t),p(h,t)}function g(e){var t=e.getAttribute("data-dom-id"),n=document.getElementById(t);a.default.unmountComponentAtNode(n)}function v(){u("reactOnRailsPageUnloaded"),p(g)}},function(e,t,n){"use strict";
/** @license React v16.8.2
 * react-dom-server.browser.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(369),a=n(0);function i(e){for(var t=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);!function(e,t,n,r,a,i,o,s){if(!e){if(e=void 0,void 0===t)e=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,a,i,o,s],l=0;(e=Error(t.replace(/%s/g,function(){return c[l++]}))).name="Invariant Violation"}throw e.framesToPop=1,e}}(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}var o="function"==typeof Symbol&&Symbol.for,s=o?Symbol.for("react.portal"):60106,c=o?Symbol.for("react.fragment"):60107,l=o?Symbol.for("react.strict_mode"):60108,u=o?Symbol.for("react.profiler"):60114,d=o?Symbol.for("react.provider"):60109,p=o?Symbol.for("react.context"):60110,f=o?Symbol.for("react.concurrent_mode"):60111,h=o?Symbol.for("react.forward_ref"):60112,m=o?Symbol.for("react.suspense"):60113,g=o?Symbol.for("react.memo"):60115,v=o?Symbol.for("react.lazy"):60116;function b(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case f:return"ConcurrentMode";case c:return"Fragment";case s:return"Portal";case u:return"Profiler";case l:return"StrictMode";case m:return"Suspense"}if("object"==typeof e)switch(e.$$typeof){case p:return"Context.Consumer";case d:return"Context.Provider";case h:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case g:return b(e.type);case v:if(e=1===e._status?e._result:null)return b(e)}return null}var y=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;y.hasOwnProperty("ReactCurrentDispatcher")||(y.ReactCurrentDispatcher={current:null});var E={};function _(e,t){for(var n=0|e._threadCount;n<=t;n++)e[n]=e._currentValue2,e._threadCount=n+1}for(var w=new Uint16Array(16),S=0;15>S;S++)w[S]=S+1;w[15]=0;var k=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,C=Object.prototype.hasOwnProperty,N={},O={};function x(e){return!!C.call(O,e)||!C.call(N,e)&&(k.test(e)?O[e]=!0:(N[e]=!0,!1))}function T(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function R(e,t,n,r,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t}var P={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){P[e]=new R(e,0,!1,e,null)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];P[t]=new R(t,1,!1,e[1],null)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){P[e]=new R(e,2,!1,e.toLowerCase(),null)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){P[e]=new R(e,2,!1,e,null)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){P[e]=new R(e,3,!1,e.toLowerCase(),null)}),["checked","multiple","muted","selected"].forEach(function(e){P[e]=new R(e,3,!0,e,null)}),["capture","download"].forEach(function(e){P[e]=new R(e,4,!1,e,null)}),["cols","rows","size","span"].forEach(function(e){P[e]=new R(e,6,!1,e,null)}),["rowSpan","start"].forEach(function(e){P[e]=new R(e,5,!1,e.toLowerCase(),null)});var I=/[\-:]([a-z])/g;function A(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(I,A);P[t]=new R(t,1,!1,e,null)}),"xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(I,A);P[t]=new R(t,1,!1,e,"http://www.w3.org/1999/xlink")}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(I,A);P[t]=new R(t,1,!1,e,"http://www.w3.org/XML/1998/namespace")}),["tabIndex","crossOrigin"].forEach(function(e){P[e]=new R(e,1,!1,e.toLowerCase(),null)});var M=/["'&<>]/;function D(e){if("boolean"==typeof e||"number"==typeof e)return""+e;e=""+e;var t=M.exec(e);if(t){var n,r="",a=0;for(n=t.index;n<e.length;n++){switch(e.charCodeAt(n)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}a!==n&&(r+=e.substring(a,n)),a=n+1,r+=t}e=a!==n?r+e.substring(a,n):r}return e}var j=null,L=null,F=null,B=!1,U=!1,H=null,q=0;function G(){return null===j&&i("307"),j}function W(){return 0<q&&i("312"),{memoizedState:null,queue:null,next:null}}function V(){return null===F?null===L?(B=!1,L=F=W()):(B=!0,F=L):null===F.next?(B=!1,F=F.next=W()):(B=!0,F=F.next),F}function z(e,t,n,r){for(;U;)U=!1,q+=1,F=null,n=e(t,r);return L=j=null,q=0,F=H=null,n}function Y(e,t){return"function"==typeof t?t(e):t}function Q(e,t,n){if(j=G(),F=V(),B){var r=F.queue;if(t=r.dispatch,null!==H&&void 0!==(n=H.get(r))){H.delete(r),r=F.memoizedState;do{r=e(r,n.action),n=n.next}while(null!==n);return F.memoizedState=r,[r,t]}return[F.memoizedState,t]}return e=e===Y?"function"==typeof t?t():t:void 0!==n?n(t):t,F.memoizedState=e,e=(e=F.queue={last:null,dispatch:null}).dispatch=function(e,t,n){if(25>q||i("301"),e===j)if(U=!0,e={action:n,next:null},null===H&&(H=new Map),void 0===(n=H.get(t)))H.set(t,e);else{for(t=n;null!==t.next;)t=t.next;t.next=e}}.bind(null,j,e),[F.memoizedState,e]}function K(){}var X=0,$={readContext:function(e){var t=X;return _(e,t),e[t]},useContext:function(e){G();var t=X;return _(e,t),e[t]},useMemo:function(e,t){if(j=G(),t=void 0===t?null:t,null!==(F=V())){var n=F.memoizedState;if(null!==n&&null!==t){e:{var r=n[1];if(null===r)r=!1;else{for(var a=0;a<r.length&&a<t.length;a++){var i=t[a],o=r[a];if((i!==o||0===i&&1/i!=1/o)&&(i==i||o==o)){r=!1;break e}}r=!0}}if(r)return n[0]}}return e=e(),F.memoizedState=[e,t],e},useReducer:Q,useRef:function(e){j=G();var t=(F=V()).memoizedState;return null===t?(e={current:e},F.memoizedState=e):t},useState:function(e){return Q(Y,e)},useLayoutEffect:function(){},useCallback:function(e){return e},useImperativeHandle:K,useEffect:K,useDebugValue:K},Z={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function J(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}var ee={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},te=r({menuitem:!0},ee),ne={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},re=["Webkit","ms","Moz","O"];Object.keys(ne).forEach(function(e){re.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ne[t]=ne[e]})});var ae=/([A-Z])/g,ie=/^ms-/,oe=a.Children.toArray,se=y.ReactCurrentDispatcher,ce={listing:!0,pre:!0,textarea:!0},le=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,ue={},de={};var pe=Object.prototype.hasOwnProperty,fe={children:null,dangerouslySetInnerHTML:null,suppressContentEditableWarning:null,suppressHydrationWarning:null};function he(e,t){void 0===e&&i("152",b(t)||"Component")}function me(e,t,n){function o(a,o){var s=function(e,t,n){var r=e.contextType;if("object"==typeof r&&null!==r)return _(r,n),r[n];if(e=e.contextTypes){for(var a in n={},e)n[a]=t[a];t=n}else t=E;return t}(o,t,n),c=[],l=!1,u={isMounted:function(){return!1},enqueueForceUpdate:function(){if(null===c)return null},enqueueReplaceState:function(e,t){l=!0,c=[t]},enqueueSetState:function(e,t){if(null===c)return null;c.push(t)}},d=void 0;if(o.prototype&&o.prototype.isReactComponent){if(d=new o(a.props,s,u),"function"==typeof o.getDerivedStateFromProps){var p=o.getDerivedStateFromProps.call(null,a.props,d.state);null!=p&&(d.state=r({},d.state,p))}}else if(j={},d=o(a.props,s,u),null==(d=z(o,a.props,d,s))||null==d.render)return void he(e=d,o);if(d.props=a.props,d.context=s,d.updater=u,void 0===(u=d.state)&&(d.state=u=null),"function"==typeof d.UNSAFE_componentWillMount||"function"==typeof d.componentWillMount)if("function"==typeof d.componentWillMount&&"function"!=typeof o.getDerivedStateFromProps&&d.componentWillMount(),"function"==typeof d.UNSAFE_componentWillMount&&"function"!=typeof o.getDerivedStateFromProps&&d.UNSAFE_componentWillMount(),c.length){u=c;var f=l;if(c=null,l=!1,f&&1===u.length)d.state=u[0];else{p=f?u[0]:d.state;var h=!0;for(f=f?1:0;f<u.length;f++){var m=u[f];null!=(m="function"==typeof m?m.call(d,p,a.props,s):m)&&(h?(h=!1,p=r({},p,m)):r(p,m))}d.state=p}}else c=null;if(he(e=d.render(),o),a=void 0,"function"==typeof d.getChildContext&&"object"==typeof(s=o.childContextTypes))for(var g in a=d.getChildContext())g in s||i("108",b(o)||"Unknown",g);a&&(t=r({},t,a))}for(;a.isValidElement(e);){var s=e,c=s.type;if("function"!=typeof c)break;o(s,c)}return{child:e,context:t}}var ge=function(){function e(t,n){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");a.isValidElement(t)?t.type!==c?t=[t]:(t=t.props.children,t=a.isValidElement(t)?[t]:oe(t)):t=oe(t),t={type:null,domNamespace:Z.html,children:t,childIndex:0,context:E,footer:""};var r=w[0];if(0===r){var o=w,s=2*(r=o.length);65536>=s||i("304");var l=new Uint16Array(s);for(l.set(o),(w=l)[0]=r+1,o=r;o<s-1;o++)w[o]=o+1;w[s-1]=0}else w[0]=w[r];this.threadID=r,this.stack=[t],this.exhausted=!1,this.currentSelectValue=null,this.previousWasTextNode=!1,this.makeStaticMarkup=n,this.suspenseDepth=0,this.contextIndex=-1,this.contextStack=[],this.contextValueStack=[]}return e.prototype.destroy=function(){if(!this.exhausted){this.exhausted=!0;var e=this.threadID;w[e]=w[0],w[0]=e}},e.prototype.pushProvider=function(e){var t=++this.contextIndex,n=e.type._context,r=this.threadID;_(n,r);var a=n[r];this.contextStack[t]=n,this.contextValueStack[t]=a,n[r]=e.props.value},e.prototype.popProvider=function(){var e=this.contextIndex,t=this.contextStack[e],n=this.contextValueStack[e];this.contextStack[e]=null,this.contextValueStack[e]=null,this.contextIndex--,t[this.threadID]=n},e.prototype.read=function(e){if(this.exhausted)return null;var t=X;X=this.threadID;var n=se.current;se.current=$;try{for(var r=[""],a=!1;r[0].length<e;){if(0===this.stack.length){this.exhausted=!0;var o=this.threadID;w[o]=w[0],w[0]=o;break}var s=this.stack[this.stack.length-1];if(a||s.childIndex>=s.children.length){var c=s.footer;if(""!==c&&(this.previousWasTextNode=!1),this.stack.pop(),"select"===s.type)this.currentSelectValue=null;else if(null!=s.type&&null!=s.type.type&&s.type.type.$$typeof===d)this.popProvider(s.type);else if(s.type===m){this.suspenseDepth--;var l=r.pop();if(a){a=!1;var u=s.fallbackFrame;u||i("303"),this.stack.push(u);continue}r[this.suspenseDepth]+=l}r[this.suspenseDepth]+=c}else{var p=s.children[s.childIndex++],f="";try{f+=this.render(p,s.context,s.domNamespace)}catch(e){throw e}r.length<=this.suspenseDepth&&r.push(""),r[this.suspenseDepth]+=f}}return r[0]}finally{se.current=n,X=t}},e.prototype.render=function(e,t,n){if("string"==typeof e||"number"==typeof e)return""===(n=""+e)?"":this.makeStaticMarkup?D(n):this.previousWasTextNode?"\x3c!-- --\x3e"+D(n):(this.previousWasTextNode=!0,D(n));if(e=(t=me(e,t,this.threadID)).child,t=t.context,null===e||!1===e)return"";if(!a.isValidElement(e)){if(null!=e&&null!=e.$$typeof){var o=e.$$typeof;o===s&&i("257"),i("258",o.toString())}return e=oe(e),this.stack.push({type:null,domNamespace:n,children:e,childIndex:0,context:t,footer:""}),""}if("string"==typeof(o=e.type))return this.renderDOM(e,t,n);switch(o){case l:case f:case u:case c:return e=oe(e.props.children),this.stack.push({type:null,domNamespace:n,children:e,childIndex:0,context:t,footer:""}),"";case m:i("294")}if("object"==typeof o&&null!==o)switch(o.$$typeof){case h:j={};var b=o.render(e.props,e.ref);return b=z(o.render,e.props,b,e.ref),b=oe(b),this.stack.push({type:null,domNamespace:n,children:b,childIndex:0,context:t,footer:""}),"";case g:return e=[a.createElement(o.type,r({ref:e.ref},e.props))],this.stack.push({type:null,domNamespace:n,children:e,childIndex:0,context:t,footer:""}),"";case d:return n={type:e,domNamespace:n,children:o=oe(e.props.children),childIndex:0,context:t,footer:""},this.pushProvider(e),this.stack.push(n),"";case p:o=e.type,b=e.props;var y=this.threadID;return _(o,y),o=oe(b.children(o[y])),this.stack.push({type:e,domNamespace:n,children:o,childIndex:0,context:t,footer:""}),"";case v:i("295")}i("130",null==o?o:typeof o,"")},e.prototype.renderDOM=function(e,t,n){var o=e.type.toLowerCase();n===Z.html&&J(o),ue.hasOwnProperty(o)||(le.test(o)||i("65",o),ue[o]=!0);var s=e.props;if("input"===o)s=r({type:void 0},s,{defaultChecked:void 0,defaultValue:void 0,value:null!=s.value?s.value:s.defaultValue,checked:null!=s.checked?s.checked:s.defaultChecked});else if("textarea"===o){var c=s.value;if(null==c){c=s.defaultValue;var l=s.children;null!=l&&(null!=c&&i("92"),Array.isArray(l)&&(1>=l.length||i("93"),l=l[0]),c=""+l),null==c&&(c="")}s=r({},s,{value:void 0,children:""+c})}else if("select"===o)this.currentSelectValue=null!=s.value?s.value:s.defaultValue,s=r({},s,{value:void 0});else if("option"===o){l=this.currentSelectValue;var u=function(e){if(null==e)return e;var t="";return a.Children.forEach(e,function(e){null!=e&&(t+=e)}),t}(s.children);if(null!=l){var d=null!=s.value?s.value+"":u;if(c=!1,Array.isArray(l)){for(var p=0;p<l.length;p++)if(""+l[p]===d){c=!0;break}}else c=""+l===d;s=r({selected:void 0,children:void 0},s,{selected:c,children:u})}}for(E in(c=s)&&(te[o]&&(null!=c.children||null!=c.dangerouslySetInnerHTML)&&i("137",o,""),null!=c.dangerouslySetInnerHTML&&(null!=c.children&&i("60"),"object"==typeof c.dangerouslySetInnerHTML&&"__html"in c.dangerouslySetInnerHTML||i("61")),null!=c.style&&"object"!=typeof c.style&&i("62","")),c=s,l=this.makeStaticMarkup,u=1===this.stack.length,d="<"+e.type,c)if(pe.call(c,E)){var f=c[E];if(null!=f){if("style"===E){p=void 0;var h="",m="";for(p in f)if(f.hasOwnProperty(p)){var g=0===p.indexOf("--"),v=f[p];if(null!=v){var b=p;if(de.hasOwnProperty(b))b=de[b];else{var y=b.replace(ae,"-$1").toLowerCase().replace(ie,"-ms-");b=de[b]=y}h+=m+b+":",m=p,h+=g=null==v||"boolean"==typeof v||""===v?"":g||"number"!=typeof v||0===v||ne.hasOwnProperty(m)&&ne[m]?(""+v).trim():v+"px",m=";"}}f=h||null}p=null;e:if(g=o,v=c,-1===g.indexOf("-"))g="string"==typeof v.is;else switch(g){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":g=!1;break e;default:g=!0}g?fe.hasOwnProperty(E)||(p=x(p=E)&&null!=f?p+'="'+D(f)+'"':""):(g=E,p=f,f=P.hasOwnProperty(g)?P[g]:null,(v="style"!==g)&&(v=null!==f?0===f.type:2<g.length&&("o"===g[0]||"O"===g[0])&&("n"===g[1]||"N"===g[1])),v||T(g,p,f,!1)?p="":null!==f?(g=f.attributeName,p=3===(f=f.type)||4===f&&!0===p?g+'=""':g+'="'+D(p)+'"'):p=x(g)?g+'="'+D(p)+'"':""),p&&(d+=" "+p)}}l||u&&(d+=' data-reactroot=""');var E=d;c="",ee.hasOwnProperty(o)?E+="/>":(E+=">",c="</"+e.type+">");e:{if(null!=(l=s.dangerouslySetInnerHTML)){if(null!=l.__html){l=l.__html;break e}}else if("string"==typeof(l=s.children)||"number"==typeof l){l=D(l);break e}l=null}return null!=l?(s=[],ce[o]&&"\n"===l.charAt(0)&&(E+="\n"),E+=l):s=oe(s.children),e=e.type,n=null==n||"http://www.w3.org/1999/xhtml"===n?J(e):"http://www.w3.org/2000/svg"===n&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":n,this.stack.push({domNamespace:n,type:o,children:s,childIndex:0,context:t,footer:c}),this.previousWasTextNode=!1,E},e}(),ve={renderToString:function(e){e=new ge(e,!1);try{return e.read(1/0)}finally{e.destroy()}},renderToStaticMarkup:function(e){e=new ge(e,!0);try{return e.read(1/0)}finally{e.destroy()}},renderToNodeStream:function(){i("207")},renderToStaticNodeStream:function(){i("208")},version:"16.8.2"},be={default:ve},ye=be&&ve||be;e.exports=ye.default||ye},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(371)),a=s(n(368)),i=s(n(502)),o=s(n(942));function s(e){return e&&e.__esModule?e:{default:e}}var c=new i.default;t.default={register:function(e){(0,a.default)(e).forEach(function(t){c.has(t)&&console.warn("Called register for component that is already registered",t);var n=e[t];if(!n)throw new Error("Called register with null component named "+t);var r=(0,o.default)(n);c.set(t,{name:t,component:n,generatorFunction:r})})},get:function(e){if(c.has(e))return c.get(e);var t=(0,r.default)(c.keys()).join(", ");throw new Error("Could not find component registered with name "+e+". Registered component names include [ "+t+" ]. Maybe you forgot to register the component?")},components:function(){return c}}},function(e,t,n){n(372),n(922),e.exports=n(79).Array.from},function(e,t,n){var r=n(363),a=n(362);e.exports=function(e){return function(t,n){var i,o,s=String(a(t)),c=r(n),l=s.length;return c<0||c>=l?e?"":void 0:(i=s.charCodeAt(c))<55296||i>56319||c+1===l||(o=s.charCodeAt(c+1))<56320||o>57343?e?s.charAt(c):i:e?s.slice(c,c+2):o-56320+(i-55296<<10)+65536}}},function(e,t,n){"use strict";var r=n(261),a=n(218),i=n(262),o={};n(145)(o,n(107)("iterator"),function(){return this}),e.exports=function(e,t,n){e.prototype=r(o,{next:a(1,n)}),i(e,t+" Iterator")}},function(e,t,n){var r=n(117),a=n(166),i=n(219);e.exports=n(128)?Object.defineProperties:function(e,t){a(e);for(var n,o=i(t),s=o.length,c=0;s>c;)r.f(e,n=o[c++],t[n]);return e}},function(e,t,n){var r=n(127).document;e.exports=r&&r.documentElement},function(e,t,n){"use strict";var r=n(165),a=n(106),i=n(183),o=n(498),s=n(499),c=n(256),l=n(923),u=n(500);a(a.S+a.F*!n(924)(function(e){Array.from(e)}),"Array",{from:function(e){var t,n,a,d,p=i(e),f="function"==typeof this?this:Array,h=arguments.length,m=h>1?arguments[1]:void 0,g=void 0!==m,v=0,b=u(p);if(g&&(m=r(m,h>2?arguments[2]:void 0,2)),null==b||f==Array&&s(b))for(n=new f(t=c(p.length));t>v;v++)l(n,v,g?m(p[v],v):p[v]);else for(d=b.call(p),n=new f;!(a=d.next()).done;v++)l(n,v,g?o(d,m,[a.value,v],!0):a.value);return n.length=v,n}})},function(e,t,n){"use strict";var r=n(117),a=n(218);e.exports=function(e,t,n){t in e?r.f(e,t,a(0,n)):e[t]=n}},function(e,t,n){var r=n(107)("iterator"),a=!1;try{var i=[7][r]();i.return=function(){a=!0},Array.from(i,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!a)return!1;var n=!1;try{var i=[7],o=i[r]();o.next=function(){return{done:n=!0}},i[r]=function(){return o},e(i)}catch(e){}return n}},function(e,t,n){n(503),n(372),n(504),n(928),n(935),n(938),n(940),e.exports=n(79).Map},function(e,t,n){"use strict";var r=n(927),a=n(505),i=n(220),o=n(182);e.exports=n(373)(Array,"Array",function(e,t){this._t=o(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,a(1)):a(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])},"values"),i.Arguments=i.Array,r("keys"),r("values"),r("entries")},function(e,t){e.exports=function(){}},function(e,t,n){"use strict";var r=n(929),a=n(508);e.exports=n(931)("Map",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{get:function(e){var t=r.getEntry(a(this,"Map"),e);return t&&t.v},set:function(e,t){return r.def(a(this,"Map"),0===e?0:e,t)}},r,!0)},function(e,t,n){"use strict";var r=n(117).f,a=n(261),i=n(506),o=n(165),s=n(507),c=n(263),l=n(373),u=n(505),d=n(930),p=n(128),f=n(374).fastKey,h=n(508),m=p?"_s":"size",g=function(e,t){var n,r=f(t);if("F"!==r)return e._i[r];for(n=e._f;n;n=n.n)if(n.k==t)return n};e.exports={getConstructor:function(e,t,n,l){var u=e(function(e,r){s(e,u,t,"_i"),e._t=t,e._i=a(null),e._f=void 0,e._l=void 0,e[m]=0,null!=r&&c(r,n,e[l],e)});return i(u.prototype,{clear:function(){for(var e=h(this,t),n=e._i,r=e._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];e._f=e._l=void 0,e[m]=0},delete:function(e){var n=h(this,t),r=g(n,e);if(r){var a=r.n,i=r.p;delete n._i[r.i],r.r=!0,i&&(i.n=a),a&&(a.p=i),n._f==r&&(n._f=a),n._l==r&&(n._l=i),n[m]--}return!!r},forEach:function(e){h(this,t);for(var n,r=o(e,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(e){return!!g(h(this,t),e)}}),p&&r(u.prototype,"size",{get:function(){return h(this,t)[m]}}),u},def:function(e,t,n){var r,a,i=g(e,t);return i?i.v=n:(e._l=i={i:a=f(t,!0),k:t,v:n,p:r=e._l,n:void 0,r:!1},e._f||(e._f=i),r&&(r.n=i),e[m]++,"F"!==a&&(e._i[a]=i)),e},getEntry:g,setStrong:function(e,t,n){l(e,t,function(e,n){this._t=h(e,t),this._k=n,this._l=void 0},function(){for(var e=this._k,t=this._l;t&&t.r;)t=t.p;return this._t&&(this._l=t=t?t.n:this._t._f)?u(0,"keys"==e?t.k:"values"==e?t.v:[t.k,t.v]):(this._t=void 0,u(1))},n?"entries":"values",!n,!0),d(t)}}},function(e,t,n){"use strict";var r=n(127),a=n(79),i=n(117),o=n(128),s=n(107)("species");e.exports=function(e){var t="function"==typeof a[e]?a[e]:r[e];o&&t&&!t[s]&&i.f(t,s,{configurable:!0,get:function(){return this}})}},function(e,t,n){"use strict";var r=n(127),a=n(106),i=n(374),o=n(167),s=n(145),c=n(506),l=n(263),u=n(507),d=n(137),p=n(262),f=n(117).f,h=n(932)(0),m=n(128);e.exports=function(e,t,n,g,v,b){var y=r[e],E=y,_=v?"set":"add",w=E&&E.prototype,S={};return m&&"function"==typeof E&&(b||w.forEach&&!o(function(){(new E).entries().next()}))?(E=t(function(t,n){u(t,E,e,"_c"),t._c=new y,null!=n&&l(n,v,t[_],t)}),h("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(e){var t="add"==e||"set"==e;e in w&&(!b||"clear"!=e)&&s(E.prototype,e,function(n,r){if(u(this,E,e),!t&&b&&!d(n))return"get"==e&&void 0;var a=this._c[e](0===n?0:n,r);return t?this:a})}),b||f(E.prototype,"size",{get:function(){return this._c.size}})):(E=g.getConstructor(t,e,v,_),c(E.prototype,n),i.NEED=!0),p(E,e),S[e]=E,a(a.G+a.W+a.F,S),b||g.setStrong(E,e,v),E}},function(e,t,n){var r=n(165),a=n(360),i=n(183),o=n(256),s=n(933);e.exports=function(e,t){var n=1==e,c=2==e,l=3==e,u=4==e,d=6==e,p=5==e||d,f=t||s;return function(t,s,h){for(var m,g,v=i(t),b=a(v),y=r(s,h,3),E=o(b.length),_=0,w=n?f(t,E):c?f(t,0):void 0;E>_;_++)if((p||_ in b)&&(g=y(m=b[_],_,v),e))if(n)w[_]=g;else if(g)switch(e){case 3:return!0;case 5:return m;case 6:return _;case 2:w.push(m)}else if(u)return!1;return d?-1:l||u?u:w}}},function(e,t,n){var r=n(934);e.exports=function(e,t){return new(r(e))(t)}},function(e,t,n){var r=n(137),a=n(509),i=n(107)("species");e.exports=function(e){var t;return a(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!a(t.prototype)||(t=void 0),r(t)&&null===(t=t[i])&&(t=void 0)),void 0===t?Array:t}},function(e,t,n){var r=n(106);r(r.P+r.R,"Map",{toJSON:n(936)("Map")})},function(e,t,n){var r=n(501),a=n(937);e.exports=function(e){return function(){if(r(this)!=e)throw TypeError(e+"#toJSON isn't generic");return a(this)}}},function(e,t,n){var r=n(263);e.exports=function(e,t){var n=[];return r(e,!1,n.push,n,t),n}},function(e,t,n){n(939)("Map")},function(e,t,n){"use strict";var r=n(106);e.exports=function(e){r(r.S,e,{of:function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];return new this(t)}})}},function(e,t,n){n(941)("Map")},function(e,t,n){"use strict";var r=n(106),a=n(489),i=n(165),o=n(263);e.exports=function(e){r(r.S,e,{from:function(e){var t,n,r,s,c=arguments[1];return a(this),(t=void 0!==c)&&a(c),null==e?new this:(n=[],t?(r=0,s=i(c,arguments[2],2),o(e,!1,function(e){n.push(s(e,r++))})):o(e,!1,n.push,n),new this(n))}})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!e.prototype)return!1;return!e.prototype.isReactComponent}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(371)),a=o(n(368)),i=o(n(502));function o(e){return e&&e.__esModule?e:{default:e}}var s=new i.default,c=new i.default;t.default={register:function(e){(0,a.default)(e).forEach(function(t){s.has(t)&&console.warn("Called registerStore for store that is already registered",t);var n=e[t];if(!n)throw new Error("Called ReactOnRails.registerStores with a null or undefined as a value for the store generator with key "+t+".");s.set(t,n)})},getStore:function(e){var t=arguments.length<=1||void 0===arguments[1]||arguments[1];if(c.has(e))return c.get(e);var n=(0,r.default)(c.keys()).join(", ");if(0===n.length)throw new Error("There are no stores hydrated and you are requesting the store "+e+". This can happen if you are server rendering and you do not call redux_store near the top of your controller action's view (not the layout) and before any call to react_component.");if(t)throw console.log("storeKeys",n),new Error("Could not find hydrated store with name '"+e+"'. Hydrated store names include ["+n+"].")},getStoreGenerator:function(e){if(s.has(e))return s.get(e);var t=(0,r.default)(s.keys()).join(", ");throw new Error("Could not find store registered with name '"+e+"'. Registered store names include [ "+t+" ]. Maybe you forgot to register the store?")},setStore:function(e,t){c.set(e,t)},storeGenerators:function(){return s},stores:function(){return c}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l(n(260));t.default=function(e){var t=e.name,n=e.domNodeId,l=e.trace,u="",d=!1;try{var p=(0,i.default)(e);if((0,o.default)(p)){if(d=!!p.routeError)console.error("React Router ERROR: "+(0,r.default)(p.routeError));else if(l){var f=p.redirectLocation,h=f.pathname+f.search;console.log("ROUTER REDIRECT: "+t+" to dom node with id: "+n+", redirect to "+h)}}else u=a.default.renderToString(p)}catch(e){d=!0,u=(0,c.default)({e:e,name:t,serverSide:!0})}var m=(0,s.default)();return(0,r.default)({html:u,consoleReplayScript:m,hasErrors:d})};var a=l(n(200)),i=l(n(370)),o=l(n(494)),s=l(n(510)),c=l(n(495));function l(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={wrapInScriptTags:function(e){return e?"\n<script>\n"+e+"\n<\/script>":""}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.replace(/<\/\W*script/gi,"(/script")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n(358),i=(r=a)&&r.__esModule?r:{default:r};t.default={authenticityToken:function(){var e=document.querySelector('meta[name="csrf-token"]');return e?e.content:null},authenticityHeaders:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return(0,i.default)(e,{"X-CSRF-Token":this.authenticityToken(),"X-Requested-With":"XMLHttpRequest"})}}},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return"undefined"!=typeof window&&window||void 0!==e&&e||this}}).call(this,n(43))},function(e,t){function n(t,r){return e.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(t,r)}e.exports=n},function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},function(e,t){e.exports=function(e,t){var n=[],r=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(a)throw i}}return n}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(e,t){e.exports=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}},function(e,t){t.aliasToReal={each:"forEach",eachRight:"forEachRight",entries:"toPairs",entriesIn:"toPairsIn",extend:"assignIn",extendAll:"assignInAll",extendAllWith:"assignInAllWith",extendWith:"assignInWith",first:"head",conforms:"conformsTo",matches:"isMatch",property:"get",__:"placeholder",F:"stubFalse",T:"stubTrue",all:"every",allPass:"overEvery",always:"constant",any:"some",anyPass:"overSome",apply:"spread",assoc:"set",assocPath:"set",complement:"negate",compose:"flowRight",contains:"includes",dissoc:"unset",dissocPath:"unset",dropLast:"dropRight",dropLastWhile:"dropRightWhile",equals:"isEqual",identical:"eq",indexBy:"keyBy",init:"initial",invertObj:"invert",juxt:"over",omitAll:"omit",nAry:"ary",path:"get",pathEq:"matchesProperty",pathOr:"getOr",paths:"at",pickAll:"pick",pipe:"flow",pluck:"map",prop:"get",propEq:"matchesProperty",propOr:"getOr",props:"at",symmetricDifference:"xor",symmetricDifferenceBy:"xorBy",symmetricDifferenceWith:"xorWith",takeLast:"takeRight",takeLastWhile:"takeRightWhile",unapply:"rest",unnest:"flatten",useWith:"overArgs",where:"conformsTo",whereEq:"isMatch",zipObj:"zipObject"},t.aryMethod={1:["assignAll","assignInAll","attempt","castArray","ceil","create","curry","curryRight","defaultsAll","defaultsDeepAll","floor","flow","flowRight","fromPairs","invert","iteratee","memoize","method","mergeAll","methodOf","mixin","nthArg","over","overEvery","overSome","rest","reverse","round","runInContext","spread","template","trim","trimEnd","trimStart","uniqueId","words","zipAll"],2:["add","after","ary","assign","assignAllWith","assignIn","assignInAllWith","at","before","bind","bindAll","bindKey","chunk","cloneDeepWith","cloneWith","concat","conformsTo","countBy","curryN","curryRightN","debounce","defaults","defaultsDeep","defaultTo","delay","difference","divide","drop","dropRight","dropRightWhile","dropWhile","endsWith","eq","every","filter","find","findIndex","findKey","findLast","findLastIndex","findLastKey","flatMap","flatMapDeep","flattenDepth","forEach","forEachRight","forIn","forInRight","forOwn","forOwnRight","get","groupBy","gt","gte","has","hasIn","includes","indexOf","intersection","invertBy","invoke","invokeMap","isEqual","isMatch","join","keyBy","lastIndexOf","lt","lte","map","mapKeys","mapValues","matchesProperty","maxBy","meanBy","merge","mergeAllWith","minBy","multiply","nth","omit","omitBy","overArgs","pad","padEnd","padStart","parseInt","partial","partialRight","partition","pick","pickBy","propertyOf","pull","pullAll","pullAt","random","range","rangeRight","rearg","reject","remove","repeat","restFrom","result","sampleSize","some","sortBy","sortedIndex","sortedIndexOf","sortedLastIndex","sortedLastIndexOf","sortedUniqBy","split","spreadFrom","startsWith","subtract","sumBy","take","takeRight","takeRightWhile","takeWhile","tap","throttle","thru","times","trimChars","trimCharsEnd","trimCharsStart","truncate","union","uniqBy","uniqWith","unset","unzipWith","without","wrap","xor","zip","zipObject","zipObjectDeep"],3:["assignInWith","assignWith","clamp","differenceBy","differenceWith","findFrom","findIndexFrom","findLastFrom","findLastIndexFrom","getOr","includesFrom","indexOfFrom","inRange","intersectionBy","intersectionWith","invokeArgs","invokeArgsMap","isEqualWith","isMatchWith","flatMapDepth","lastIndexOfFrom","mergeWith","orderBy","padChars","padCharsEnd","padCharsStart","pullAllBy","pullAllWith","rangeStep","rangeStepRight","reduce","reduceRight","replace","set","slice","sortedIndexBy","sortedLastIndexBy","transform","unionBy","unionWith","update","xorBy","xorWith","zipWith"],4:["fill","setWith","updateWith"]},t.aryRearg={2:[1,0],3:[2,0,1],4:[3,2,0,1]},t.iterateeAry={dropRightWhile:1,dropWhile:1,every:1,filter:1,find:1,findFrom:1,findIndex:1,findIndexFrom:1,findKey:1,findLast:1,findLastFrom:1,findLastIndex:1,findLastIndexFrom:1,findLastKey:1,flatMap:1,flatMapDeep:1,flatMapDepth:1,forEach:1,forEachRight:1,forIn:1,forInRight:1,forOwn:1,forOwnRight:1,map:1,mapKeys:1,mapValues:1,partition:1,reduce:2,reduceRight:2,reject:1,remove:1,some:1,takeRightWhile:1,takeWhile:1,times:1,transform:2},t.iterateeRearg={mapKeys:[1],reduceRight:[1,0]},t.methodRearg={assignInAllWith:[1,0],assignInWith:[1,2,0],assignAllWith:[1,0],assignWith:[1,2,0],differenceBy:[1,2,0],differenceWith:[1,2,0],getOr:[2,1,0],intersectionBy:[1,2,0],intersectionWith:[1,2,0],isEqualWith:[1,2,0],isMatchWith:[2,1,0],mergeAllWith:[1,0],mergeWith:[1,2,0],padChars:[2,1,0],padCharsEnd:[2,1,0],padCharsStart:[2,1,0],pullAllBy:[2,1,0],pullAllWith:[2,1,0],rangeStep:[1,2,0],rangeStepRight:[1,2,0],setWith:[3,1,2,0],sortedIndexBy:[2,1,0],sortedLastIndexBy:[2,1,0],unionBy:[1,2,0],unionWith:[1,2,0],updateWith:[3,1,2,0],xorBy:[1,2,0],xorWith:[1,2,0],zipWith:[1,2,0]},t.methodSpread={assignAll:{start:0},assignAllWith:{start:0},assignInAll:{start:0},assignInAllWith:{start:0},defaultsAll:{start:0},defaultsDeepAll:{start:0},invokeArgs:{start:2},invokeArgsMap:{start:2},mergeAll:{start:0},mergeAllWith:{start:0},partial:{start:1},partialRight:{start:1},without:{start:1},zipAll:{start:0}},t.mutate={array:{fill:!0,pull:!0,pullAll:!0,pullAllBy:!0,pullAllWith:!0,pullAt:!0,remove:!0,reverse:!0},object:{assign:!0,assignAll:!0,assignAllWith:!0,assignIn:!0,assignInAll:!0,assignInAllWith:!0,assignInWith:!0,assignWith:!0,defaults:!0,defaultsAll:!0,defaultsDeep:!0,defaultsDeepAll:!0,merge:!0,mergeAll:!0,mergeAllWith:!0,mergeWith:!0},set:{set:!0,setWith:!0,unset:!0,update:!0,updateWith:!0}},t.realToAlias=function(){var e=Object.prototype.hasOwnProperty,n=t.aliasToReal,r={};for(var a in n){var i=n[a];e.call(r,i)?r[i].push(a):r[i]=[a]}return r}(),t.remap={assignAll:"assign",assignAllWith:"assignWith",assignInAll:"assignIn",assignInAllWith:"assignInWith",curryN:"curry",curryRightN:"curryRight",defaultsAll:"defaults",defaultsDeepAll:"defaultsDeep",findFrom:"find",findIndexFrom:"findIndex",findLastFrom:"findLast",findLastIndexFrom:"findLastIndex",getOr:"get",includesFrom:"includes",indexOfFrom:"indexOf",invokeArgs:"invoke",invokeArgsMap:"invokeMap",lastIndexOfFrom:"lastIndexOf",mergeAll:"merge",mergeAllWith:"mergeWith",padChars:"pad",padCharsEnd:"padEnd",padCharsStart:"padStart",propertyOf:"get",rangeStep:"range",rangeStepRight:"rangeRight",restFrom:"rest",spreadFrom:"spread",trimChars:"trim",trimCharsEnd:"trimEnd",trimCharsStart:"trimStart",zipAll:"zip"},t.skipFixed={castArray:!0,flow:!0,flowRight:!0,iteratee:!0,mixin:!0,rearg:!0,runInContext:!0},t.skipRearg={add:!0,assign:!0,assignIn:!0,bind:!0,bindKey:!0,concat:!0,difference:!0,divide:!0,eq:!0,gt:!0,gte:!0,isEqual:!0,lt:!0,lte:!0,matchesProperty:!0,merge:!0,multiply:!0,overArgs:!0,partial:!0,partialRight:!0,propertyOf:!0,random:!0,range:!0,rangeRight:!0,subtract:!0,zip:!0,zipObject:!0,zipObjectDeep:!0}},function(e,t,n){"use strict";var r=n(956);function a(){}function i(){}i.resetWarningCache=a,e.exports=function(){function e(e,t,n,a,i,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:a};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},function(e,t,n){"use strict";
/** @license React v16.8.6
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&Symbol.for,a=r?Symbol.for("react.element"):60103,i=r?Symbol.for("react.portal"):60106,o=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,c=r?Symbol.for("react.profiler"):60114,l=r?Symbol.for("react.provider"):60109,u=r?Symbol.for("react.context"):60110,d=r?Symbol.for("react.async_mode"):60111,p=r?Symbol.for("react.concurrent_mode"):60111,f=r?Symbol.for("react.forward_ref"):60112,h=r?Symbol.for("react.suspense"):60113,m=r?Symbol.for("react.memo"):60115,g=r?Symbol.for("react.lazy"):60116;function v(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case a:switch(e=e.type){case d:case p:case o:case c:case s:case h:return e;default:switch(e=e&&e.$$typeof){case u:case f:case l:return e;default:return t}}case g:case m:case i:return t}}}function b(e){return v(e)===p}t.typeOf=v,t.AsyncMode=d,t.ConcurrentMode=p,t.ContextConsumer=u,t.ContextProvider=l,t.Element=a,t.ForwardRef=f,t.Fragment=o,t.Lazy=g,t.Memo=m,t.Portal=i,t.Profiler=c,t.StrictMode=s,t.Suspense=h,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===o||e===p||e===c||e===s||e===h||"object"==typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===l||e.$$typeof===u||e.$$typeof===f)},t.isAsyncMode=function(e){return b(e)||v(e)===d},t.isConcurrentMode=b,t.isContextConsumer=function(e){return v(e)===u},t.isContextProvider=function(e){return v(e)===l},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===a},t.isForwardRef=function(e){return v(e)===f},t.isFragment=function(e){return v(e)===o},t.isLazy=function(e){return v(e)===g},t.isMemo=function(e){return v(e)===m},t.isPortal=function(e){return v(e)===i},t.isProfiler=function(e){return v(e)===c},t.isStrictMode=function(e){return v(e)===s},t.isSuspense=function(e){return v(e)===h}},function(e,t,n){"use strict";n.r(t),n.d(t,"IGNORE_CLASS_NAME",function(){return f});var r=n(0),a=n(76);function i(e,t,n){return e===t||(e.correspondingElement?e.correspondingElement.classList.contains(n):e.classList.contains(n))}var o=function(){if("undefined"!=typeof window&&"function"==typeof window.addEventListener){var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}}),n=function(){};return window.addEventListener("testPassiveEventSupport",n,t),window.removeEventListener("testPassiveEventSupport",n,t),e}};var s,c,l=(void 0===s&&(s=0),function(){return++s}),u={},d={},p=["touchstart","touchmove"],f="ignore-react-onclickoutside";function h(e,t){var n=null;return-1!==p.indexOf(t)&&c&&(n={passive:!e.props.preventDefault}),n}t.default=function(e,t){var n,s,p=e.displayName||e.name||"Component";return s=n=function(n){var s,f;function m(e){var t;return(t=n.call(this,e)||this).__outsideClickHandler=function(e){if("function"!=typeof t.__clickOutsideHandlerProp){var n=t.getInstance();if("function"!=typeof n.props.handleClickOutside){if("function"!=typeof n.handleClickOutside)throw new Error("WrappedComponent: "+p+" lacks a handleClickOutside(event) function for processing outside click events.");n.handleClickOutside(e)}else n.props.handleClickOutside(e)}else t.__clickOutsideHandlerProp(e)},t.enableOnClickOutside=function(){if("undefined"!=typeof document&&!d[t._uid]){void 0===c&&(c=o()),d[t._uid]=!0;var e=t.props.eventTypes;e.forEach||(e=[e]),u[t._uid]=function(e){var n;null!==t.componentNode&&(t.props.preventDefault&&e.preventDefault(),t.props.stopPropagation&&e.stopPropagation(),t.props.excludeScrollbar&&(n=e,document.documentElement.clientWidth<=n.clientX||document.documentElement.clientHeight<=n.clientY)||function(e,t,n){if(e===t)return!0;for(;e.parentNode;){if(i(e,t,n))return!0;e=e.parentNode}return e}(e.target,t.componentNode,t.props.outsideClickIgnoreClass)===document&&t.__outsideClickHandler(e))},e.forEach(function(e){document.addEventListener(e,u[t._uid],h(t,e))})}},t.disableOnClickOutside=function(){delete d[t._uid];var e=u[t._uid];if(e&&"undefined"!=typeof document){var n=t.props.eventTypes;n.forEach||(n=[n]),n.forEach(function(n){return document.removeEventListener(n,e,h(t,n))}),delete u[t._uid]}},t.getRef=function(e){return t.instanceRef=e},t._uid=l(),t}f=n,(s=m).prototype=Object.create(f.prototype),s.prototype.constructor=s,s.__proto__=f;var g=m.prototype;return g.getInstance=function(){if(!e.prototype.isReactComponent)return this;var t=this.instanceRef;return t.getInstance?t.getInstance():t},g.componentDidMount=function(){if("undefined"!=typeof document&&document.createElement){var e=this.getInstance();if(t&&"function"==typeof t.handleClickOutside&&(this.__clickOutsideHandlerProp=t.handleClickOutside(e),"function"!=typeof this.__clickOutsideHandlerProp))throw new Error("WrappedComponent: "+p+" lacks a function for processing outside click events specified by the handleClickOutside config option.");this.componentNode=Object(a.findDOMNode)(this.getInstance()),this.props.disableOnClickOutside||this.enableOnClickOutside()}},g.componentDidUpdate=function(){this.componentNode=Object(a.findDOMNode)(this.getInstance())},g.componentWillUnmount=function(){this.disableOnClickOutside()},g.render=function(){var t=this.props,n=(t.excludeScrollbar,function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}(t,["excludeScrollbar"]));return e.prototype.isReactComponent?n.ref=this.getRef:n.wrappedRef=this.getRef,n.disableOnClickOutside=this.disableOnClickOutside,n.enableOnClickOutside=this.enableOnClickOutside,Object(r.createElement)(e,n)},m}(r.Component),n.displayName="OnClickOutside("+p+")",n.defaultProps={eventTypes:["mousedown","touchstart"],excludeScrollbar:t&&t.excludeScrollbar||!1,outsideClickIgnoreClass:f,preventDefault:!1,stopPropagation:!1},n.getClass=function(){return e.getClass?e.getClass():e},s}},function(e,t){e.exports=function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}},function(e,t){e.exports=function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),o=d(i),s=d(n(11)),c=d(n(965)),l=d(n(966)),u=n(974);function d(e){return e&&e.__esModule?e:{default:e}}var p=function(){return!0},f=function(e){function t(e){var n=e.alwaysRenderSuggestions;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return h.call(r),r.state={isFocused:!1,isCollapsed:!n,highlightedSectionIndex:null,highlightedSuggestionIndex:null,valueBeforeUpDown:null},r.justPressedUpDown=!1,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),a(t,[{key:"componentDidMount",value:function(){document.addEventListener("mousedown",this.onDocumentMouseDown),this.input=this.autowhatever.input,this.suggestionsContainer=this.autowhatever.itemsContainer}},{key:"componentWillReceiveProps",value:function(e){(0,c.default)(e.suggestions,this.props.suggestions)?e.highlightFirstSuggestion&&e.suggestions.length>0&&!1===this.justPressedUpDown&&this.highlightFirstSuggestion():this.willRenderSuggestions(e)?(e.highlightFirstSuggestion&&this.highlightFirstSuggestion(),this.state.isCollapsed&&!this.justSelectedSuggestion&&this.revealSuggestions()):this.resetHighlightedSuggestion()}},{key:"componentDidUpdate",value:function(e,t){var n=this.props.onSuggestionHighlighted;if(n){var r=this.state,a=r.highlightedSectionIndex,i=r.highlightedSuggestionIndex;if(a!==t.highlightedSectionIndex||i!==t.highlightedSuggestionIndex)n({suggestion:this.getHighlightedSuggestion()})}}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.onDocumentMouseDown)}},{key:"updateHighlightedSuggestion",value:function(e,t,n){this.setState(function(r){var a=r.valueBeforeUpDown;return null===t?a=null:null===a&&void 0!==n&&(a=n),{highlightedSectionIndex:e,highlightedSuggestionIndex:t,valueBeforeUpDown:a}})}},{key:"resetHighlightedSuggestion",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.setState(function(t){var n=t.valueBeforeUpDown;return{highlightedSectionIndex:null,highlightedSuggestionIndex:null,valueBeforeUpDown:e?null:n}})}},{key:"revealSuggestions",value:function(){this.setState({isCollapsed:!1})}},{key:"closeSuggestions",value:function(){this.setState({highlightedSectionIndex:null,highlightedSuggestionIndex:null,valueBeforeUpDown:null,isCollapsed:!0})}},{key:"getSuggestion",value:function(e,t){var n=this.props,r=n.suggestions,a=n.multiSection,i=n.getSectionSuggestions;return a?i(r[e])[t]:r[t]}},{key:"getHighlightedSuggestion",value:function(){var e=this.state,t=e.highlightedSectionIndex,n=e.highlightedSuggestionIndex;return null===n?null:this.getSuggestion(t,n)}},{key:"getSuggestionValueByIndex",value:function(e,t){return(0,this.props.getSuggestionValue)(this.getSuggestion(e,t))}},{key:"getSuggestionIndices",value:function(e){var t=e.getAttribute("data-section-index"),n=e.getAttribute("data-suggestion-index");return{sectionIndex:"string"==typeof t?parseInt(t,10):null,suggestionIndex:parseInt(n,10)}}},{key:"findSuggestionElement",value:function(e){var t=e;do{if(null!==t.getAttribute("data-suggestion-index"))return t;t=t.parentNode}while(null!==t);throw console.error("Clicked element:",e),new Error("Couldn't find suggestion element")}},{key:"maybeCallOnChange",value:function(e,t,n){var r=this.props.inputProps,a=r.value,i=r.onChange;t!==a&&i(e,{newValue:t,method:n})}},{key:"willRenderSuggestions",value:function(e){var t=e.suggestions,n=e.inputProps,r=e.shouldRenderSuggestions,a=n.value;return t.length>0&&r(a)}},{key:"getQuery",value:function(){var e=this.props.inputProps.value;return(this.state.valueBeforeUpDown||e).trim()}},{key:"render",value:function(){var e=this,t=this.props,n=t.suggestions,a=t.renderInputComponent,i=t.onSuggestionsFetchRequested,s=t.renderSuggestion,c=t.inputProps,d=t.multiSection,f=t.renderSectionTitle,h=t.id,m=t.getSectionSuggestions,g=t.theme,v=t.getSuggestionValue,b=t.alwaysRenderSuggestions,y=this.state,E=y.isFocused,_=y.isCollapsed,w=y.highlightedSectionIndex,S=y.highlightedSuggestionIndex,k=y.valueBeforeUpDown,C=b?p:this.props.shouldRenderSuggestions,N=c.value,O=c.onFocus,x=c.onKeyDown,T=this.willRenderSuggestions(this.props),R=b||E&&!_&&T,P=R?n:[],I=r({},c,{onFocus:function(t){if(!e.justSelectedSuggestion&&!e.justClickedOnSuggestionsContainer){var n=C(N);e.setState({isFocused:!0,isCollapsed:!n}),O&&O(t),n&&i({value:N,reason:"input-focused"})}},onBlur:function(t){e.justClickedOnSuggestionsContainer?e.input.focus():(e.blurEvent=t,e.justSelectedSuggestion||(e.onBlur(),e.onSuggestionsClearRequested()))},onChange:function(t){var n=t.target.value,r=C(n);e.maybeCallOnChange(t,n,"type"),e.setState({highlightedSectionIndex:null,highlightedSuggestionIndex:null,valueBeforeUpDown:null,isCollapsed:!r}),r?i({value:n,reason:"input-changed"}):e.onSuggestionsClearRequested()},onKeyDown:function(t,r){var a=t.keyCode;switch(a){case 40:case 38:if(_)C(N)&&(i({value:N,reason:"suggestions-revealed"}),e.revealSuggestions());else if(n.length>0){var o=r.newHighlightedSectionIndex,s=r.newHighlightedItemIndex,c=void 0;c=null===s?null===k?N:k:e.getSuggestionValueByIndex(o,s),e.updateHighlightedSuggestion(o,s,N),e.maybeCallOnChange(t,c,40===a?"down":"up")}t.preventDefault(),e.justPressedUpDown=!0,setTimeout(function(){e.justPressedUpDown=!1});break;case 13:if(229===t.keyCode)break;var l=e.getHighlightedSuggestion();if(R&&!b&&e.closeSuggestions(),null!==l){var u=v(l);e.maybeCallOnChange(t,u,"enter"),e.onSuggestionSelected(t,{suggestion:l,suggestionValue:u,suggestionIndex:S,sectionIndex:w,method:"enter"}),e.justSelectedSuggestion=!0,setTimeout(function(){e.justSelectedSuggestion=!1})}break;case 27:R&&t.preventDefault();var d=R&&!b;if(null===k){if(!d){e.maybeCallOnChange(t,"","escape"),C("")?i({value:"",reason:"escape-pressed"}):e.onSuggestionsClearRequested()}}else e.maybeCallOnChange(t,k,"escape");d?(e.onSuggestionsClearRequested(),e.closeSuggestions()):e.resetHighlightedSuggestion()}x&&x(t)}}),A={query:this.getQuery()};return o.default.createElement(l.default,{multiSection:d,items:P,renderInputComponent:a,renderItemsContainer:this.renderSuggestionsContainer,renderItem:s,renderItemData:A,renderSectionTitle:f,getSectionItems:m,highlightedSectionIndex:w,highlightedItemIndex:S,inputProps:I,itemProps:this.itemProps,theme:(0,u.mapToAutowhateverTheme)(g),id:h,ref:this.storeAutowhateverRef})}}]),t}();f.propTypes={suggestions:s.default.array.isRequired,onSuggestionsFetchRequested:function(e,t){var n=e[t];if("function"!=typeof n)throw new Error("'onSuggestionsFetchRequested' must be implemented. See: https://github.com/moroshko/react-autosuggest#onSuggestionsFetchRequestedProp")},onSuggestionsClearRequested:function(e,t){var n=e[t];if(!1===e.alwaysRenderSuggestions&&"function"!=typeof n)throw new Error("'onSuggestionsClearRequested' must be implemented. See: https://github.com/moroshko/react-autosuggest#onSuggestionsClearRequestedProp")},onSuggestionSelected:s.default.func,onSuggestionHighlighted:s.default.func,renderInputComponent:s.default.func,renderSuggestionsContainer:s.default.func,getSuggestionValue:s.default.func.isRequired,renderSuggestion:s.default.func.isRequired,inputProps:function(e,t){var n=e[t];if(!n.hasOwnProperty("value"))throw new Error("'inputProps' must have 'value'.");if(!n.hasOwnProperty("onChange"))throw new Error("'inputProps' must have 'onChange'.")},shouldRenderSuggestions:s.default.func,alwaysRenderSuggestions:s.default.bool,multiSection:s.default.bool,renderSectionTitle:function(e,t){var n=e[t];if(!0===e.multiSection&&"function"!=typeof n)throw new Error("'renderSectionTitle' must be implemented. See: https://github.com/moroshko/react-autosuggest#renderSectionTitleProp")},getSectionSuggestions:function(e,t){var n=e[t];if(!0===e.multiSection&&"function"!=typeof n)throw new Error("'getSectionSuggestions' must be implemented. See: https://github.com/moroshko/react-autosuggest#getSectionSuggestionsProp")},focusInputOnSuggestionClick:s.default.bool,highlightFirstSuggestion:s.default.bool,theme:s.default.object,id:s.default.string},f.defaultProps={renderSuggestionsContainer:function(e){var t=e.containerProps,n=e.children;return o.default.createElement("div",t,n)},shouldRenderSuggestions:function(e){return e.trim().length>0},alwaysRenderSuggestions:!1,multiSection:!1,focusInputOnSuggestionClick:!0,highlightFirstSuggestion:!1,theme:u.defaultTheme,id:"1"};var h=function(){var e=this;this.onDocumentMouseDown=function(t){e.justClickedOnSuggestionsContainer=!1;for(var n=t.detail&&t.detail.target||t.target;null!==n&&n!==document;){if(null!==n.getAttribute("data-suggestion-index"))return;if(n===e.suggestionsContainer)return void(e.justClickedOnSuggestionsContainer=!0);n=n.parentNode}},this.storeAutowhateverRef=function(t){null!==t&&(e.autowhatever=t)},this.onSuggestionMouseEnter=function(t,n){var r=n.sectionIndex,a=n.itemIndex;e.updateHighlightedSuggestion(r,a)},this.highlightFirstSuggestion=function(){e.updateHighlightedSuggestion(e.props.multiSection?0:null,0)},this.onSuggestionMouseDown=function(){e.justSelectedSuggestion=!0},this.onSuggestionsClearRequested=function(){var t=e.props.onSuggestionsClearRequested;t&&t()},this.onSuggestionSelected=function(t,n){var r=e.props,a=r.alwaysRenderSuggestions,i=r.onSuggestionSelected,o=r.onSuggestionsFetchRequested;i&&i(t,n),a?o({value:n.suggestionValue,reason:"suggestion-selected"}):e.onSuggestionsClearRequested(),e.resetHighlightedSuggestion()},this.onSuggestionClick=function(t){var n=e.props,r=n.alwaysRenderSuggestions,a=n.focusInputOnSuggestionClick,i=e.getSuggestionIndices(e.findSuggestionElement(t.target)),o=i.sectionIndex,s=i.suggestionIndex,c=e.getSuggestion(o,s),l=e.props.getSuggestionValue(c);e.maybeCallOnChange(t,l,"click"),e.onSuggestionSelected(t,{suggestion:c,suggestionValue:l,suggestionIndex:s,sectionIndex:o,method:"click"}),r||e.closeSuggestions(),!0===a?e.input.focus():e.onBlur(),setTimeout(function(){e.justSelectedSuggestion=!1})},this.onBlur=function(){var t=e.props,n=t.inputProps,r=t.shouldRenderSuggestions,a=n.value,i=n.onBlur,o=e.getHighlightedSuggestion(),s=r(a);e.setState({isFocused:!1,highlightedSectionIndex:null,highlightedSuggestionIndex:null,valueBeforeUpDown:null,isCollapsed:!s}),i&&i(e.blurEvent,{highlightedSuggestion:o})},this.resetHighlightedSuggestionOnMouseLeave=function(){e.resetHighlightedSuggestion(!1)},this.itemProps=function(t){return{"data-section-index":t.sectionIndex,"data-suggestion-index":t.itemIndex,onMouseEnter:e.onSuggestionMouseEnter,onMouseLeave:e.resetHighlightedSuggestionOnMouseLeave,onMouseDown:e.onSuggestionMouseDown,onTouchStart:e.onSuggestionMouseDown,onClick:e.onSuggestionClick}},this.renderSuggestionsContainer=function(t){var n=t.containerProps,r=t.children;return(0,e.props.renderSuggestionsContainer)({containerProps:n,children:r,query:e.getQuery()})}};t.default=f},function(e,t){e.exports=function(e,t){if(e===t)return!0;if(!e||!t)return!1;var n=e.length;if(t.length!==n)return!1;for(var r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}},function(e,t,n){"use strict";e.exports=n(967).default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(a)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),s=f(o),c=f(n(11)),l=f(n(968)),u=f(n(969)),d=f(n(971)),p=f(n(972));function f(e){return e&&e.__esModule?e:{default:e}}var h={},m=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.storeInputReference=function(e){null!==e&&(n.input=e)},n.storeItemsContainerReference=function(e){null!==e&&(n.itemsContainer=e)},n.onHighlightedItemChange=function(e){n.highlightedItem=e},n.getItemId=function(e,t){return null===t?null:"react-autowhatever-"+n.props.id+"-"+(null===e?"":"section-"+e)+"-item-"+t},n.onFocus=function(e){var t=n.props.inputProps;n.setState({isInputFocused:!0}),t.onFocus&&t.onFocus(e)},n.onBlur=function(e){var t=n.props.inputProps;n.setState({isInputFocused:!1}),t.onBlur&&t.onBlur(e)},n.onKeyDown=function(e){var t=n.props,r=t.inputProps,i=t.highlightedSectionIndex,o=t.highlightedItemIndex;switch(e.key){case"ArrowDown":case"ArrowUp":var s="ArrowDown"===e.key?"next":"prev",c=n.sectionIterator[s]([i,o]),l=a(c,2),u=l[0],d=l[1];r.onKeyDown(e,{newHighlightedSectionIndex:u,newHighlightedItemIndex:d});break;default:r.onKeyDown(e,{highlightedSectionIndex:i,highlightedItemIndex:o})}},n.highlightedItem=null,n.state={isInputFocused:!1},n.setSectionsItems(e),n.setSectionIterator(e),n.setTheme(e),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),i(t,[{key:"componentDidMount",value:function(){this.ensureHighlightedItemIsVisible()}},{key:"componentWillReceiveProps",value:function(e){e.items!==this.props.items&&this.setSectionsItems(e),e.items===this.props.items&&e.multiSection===this.props.multiSection||this.setSectionIterator(e),e.theme!==this.props.theme&&this.setTheme(e)}},{key:"componentDidUpdate",value:function(){this.ensureHighlightedItemIsVisible()}},{key:"setSectionsItems",value:function(e){e.multiSection&&(this.sectionsItems=e.items.map(function(t){return e.getSectionItems(t)}),this.sectionsLengths=this.sectionsItems.map(function(e){return e.length}),this.allSectionsAreEmpty=this.sectionsLengths.every(function(e){return 0===e}))}},{key:"setSectionIterator",value:function(e){this.sectionIterator=(0,l.default)({multiSection:e.multiSection,data:e.multiSection?this.sectionsLengths:e.items.length})}},{key:"setTheme",value:function(e){this.theme=(0,u.default)(e.theme)}},{key:"renderSections",value:function(){var e=this;if(this.allSectionsAreEmpty)return null;var t=this.theme,n=this.props,r=n.id,a=n.items,i=n.renderItem,o=n.renderItemData,c=n.renderSectionTitle,l=n.highlightedSectionIndex,u=n.highlightedItemIndex,f=n.itemProps;return a.map(function(n,a){var h="react-autowhatever-"+r+"-",m=h+"section-"+a+"-",g=0===a;return s.default.createElement("div",t(m+"container","sectionContainer",g&&"sectionContainerFirst"),s.default.createElement(d.default,{section:n,renderSectionTitle:c,theme:t,sectionKeyPrefix:m}),s.default.createElement(p.default,{items:e.sectionsItems[a],itemProps:f,renderItem:i,renderItemData:o,sectionIndex:a,highlightedItemIndex:l===a?u:null,onHighlightedItemChange:e.onHighlightedItemChange,getItemId:e.getItemId,theme:t,keyPrefix:h,ref:e.storeItemsListReference}))})}},{key:"renderItems",value:function(){var e=this.props.items;if(0===e.length)return null;var t=this.theme,n=this.props,r=n.id,a=n.renderItem,i=n.renderItemData,o=n.highlightedSectionIndex,c=n.highlightedItemIndex,l=n.itemProps;return s.default.createElement(p.default,{items:e,itemProps:l,renderItem:a,renderItemData:i,highlightedItemIndex:null===o?c:null,onHighlightedItemChange:this.onHighlightedItemChange,getItemId:this.getItemId,theme:t,keyPrefix:"react-autowhatever-"+r+"-"})}},{key:"ensureHighlightedItemIsVisible",value:function(){var e=this.highlightedItem;if(e){var t=this.itemsContainer,n=e.offsetParent===t?e.offsetTop:e.offsetTop-t.offsetTop,r=t.scrollTop;n<r?r=n:n+e.offsetHeight>r+t.offsetHeight&&(r=n+e.offsetHeight-t.offsetHeight),r!==t.scrollTop&&(t.scrollTop=r)}}},{key:"render",value:function(){var e=this.theme,t=this.props,n=t.id,a=t.multiSection,i=t.renderInputComponent,o=t.renderItemsContainer,c=t.highlightedSectionIndex,l=t.highlightedItemIndex,u=this.state.isInputFocused,d=a?this.renderSections():this.renderItems(),p=null!==d,f=this.getItemId(c,l),h="react-autowhatever-"+n,m=r({role:"combobox","aria-haspopup":"listbox","aria-owns":h,"aria-expanded":p},e("react-autowhatever-"+n+"-container","container",p&&"containerOpen"),this.props.containerProps),g=i(r({type:"text",value:"",autoComplete:"off","aria-autocomplete":"list","aria-controls":h,"aria-activedescendant":f},e("react-autowhatever-"+n+"-input","input",p&&"inputOpen",u&&"inputFocused"),this.props.inputProps,{onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.props.inputProps.onKeyDown&&this.onKeyDown,ref:this.storeInputReference})),v=o({containerProps:r({id:h,role:"listbox"},e("react-autowhatever-"+n+"-items-container","itemsContainer",p&&"itemsContainerOpen"),{ref:this.storeItemsContainerReference}),children:d});return s.default.createElement("div",m,g,v)}}]),t}();m.propTypes={id:c.default.string,multiSection:c.default.bool,renderInputComponent:c.default.func,renderItemsContainer:c.default.func,items:c.default.array.isRequired,renderItem:c.default.func,renderItemData:c.default.object,renderSectionTitle:c.default.func,getSectionItems:c.default.func,containerProps:c.default.object,inputProps:c.default.object,itemProps:c.default.oneOfType([c.default.object,c.default.func]),highlightedSectionIndex:c.default.number,highlightedItemIndex:c.default.number,theme:c.default.oneOfType([c.default.object,c.default.array])},m.defaultProps={id:"1",multiSection:!1,renderInputComponent:function(e){return s.default.createElement("input",e)},renderItemsContainer:function(e){var t=e.containerProps,n=e.children;return s.default.createElement("div",t,n)},renderItem:function(){throw new Error("`renderItem` must be provided")},renderItemData:h,renderSectionTitle:function(){throw new Error("`renderSectionTitle` must be provided")},getSectionItems:function(){throw new Error("`getSectionItems` must be provided")},containerProps:h,inputProps:h,itemProps:h,highlightedSectionIndex:null,highlightedItemIndex:null,theme:{container:"react-autowhatever__container",containerOpen:"react-autowhatever__container--open",input:"react-autowhatever__input",inputOpen:"react-autowhatever__input--open",inputFocused:"react-autowhatever__input--focused",itemsContainer:"react-autowhatever__items-container",itemsContainerOpen:"react-autowhatever__items-container--open",itemsList:"react-autowhatever__items-list",item:"react-autowhatever__item",itemFirst:"react-autowhatever__item--first",itemHighlighted:"react-autowhatever__item--highlighted",sectionContainer:"react-autowhatever__section-container",sectionContainerFirst:"react-autowhatever__section-container--first",sectionTitle:"react-autowhatever__section-title"}},t.default=m},function(e,t,n){"use strict";var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(a)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();e.exports=function(e){var t=e.data,n=e.multiSection;function a(e){var a=r(e,2),i=a[0],o=a[1];return n?null===o||o===t[i]-1?null===(i=function(e){for(null===e?e=0:e++;e<t.length&&0===t[e];)e++;return e===t.length?null:e}(i))?[null,null]:[i,0]:[i,o+1]:0===t||o===t-1?[null,null]:null===o?[null,0]:[null,o+1]}return{next:a,prev:function(e){var a=r(e,2),i=a[0],o=a[1];return n?null===o||0===o?null===(i=function(e){for(null===e?e=t.length-1:e--;e>=0&&0===t[e];)e--;return-1===e?null:e}(i))?[null,null]:[i,t[i]-1]:[i,o-1]:0===t||0===o?[null,null]:null===o?[null,t-1]:[null,o-1]},isLast:function(e){return null===a(e)[1]}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(a)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var i,o=n(970),s=(i=o)&&i.__esModule?i:{default:i},c=function(e){return e};t.default=function(e){var t=Array.isArray(e)&&2===e.length?e:[e,null],n=r(t,2),i=n[0],o=n[1];return function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var l=n.map(function(e){return i[e]}).filter(c);return"string"==typeof l[0]||"function"==typeof o?{key:e,className:o?o.apply(void 0,a(l)):l.join(" ")}:{key:e,style:s.default.apply(void 0,[{}].concat(a(l)))}}},e.exports=t.default},function(e,t,n){"use strict";var r=Object.prototype.propertyIsEnumerable;function a(e){var t=Object.getOwnPropertyNames(e);return Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(e))),t.filter(function(t){return r.call(e,t)})}e.exports=Object.assign||function(e,t){for(var n,r,i=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),o=1;o<arguments.length;o++){n=arguments[o],r=a(Object(n));for(var s=0;s<r.length;s++)i[r[s]]=n[r[s]]}return i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),i=c(a),o=c(n(11)),s=c(n(375));function c(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"shouldComponentUpdate",value:function(e){return(0,s.default)(e,this.props)}},{key:"render",value:function(){var e=this.props,t=e.section,n=e.renderSectionTitle,r=e.theme,a=e.sectionKeyPrefix,o=n(t);return o?i.default.createElement("div",r(a+"title","sectionTitle"),o):null}}]),t}();l.propTypes={section:o.default.any.isRequired,renderSectionTitle:o.default.func.isRequired,theme:o.default.func.isRequired,sectionKeyPrefix:o.default.string.isRequired},t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),o=u(i),s=u(n(11)),c=u(n(973)),l=u(n(375));function u(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=Array(a),o=0;o<a;o++)i[o]=arguments[o];return n=r=d(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.storeHighlightedItemReference=function(e){r.props.onHighlightedItemChange(null===e?null:e.item)},d(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),a(t,[{key:"shouldComponentUpdate",value:function(e){return(0,l.default)(e,this.props,["itemProps"])}},{key:"render",value:function(){var e=this,t=this.props,n=t.items,a=t.itemProps,i=t.renderItem,s=t.renderItemData,l=t.sectionIndex,u=t.highlightedItemIndex,d=t.getItemId,p=t.theme,f=t.keyPrefix,h=null===l?f:f+"section-"+l+"-",m="function"==typeof a;return o.default.createElement("ul",r({role:"listbox"},p(h+"items-list","itemsList")),n.map(function(t,n){var f=0===n,g=n===u,v=h+"item-"+n,b=m?a({sectionIndex:l,itemIndex:n}):a,y=r({id:d(l,n),"aria-selected":g},p(v,"item",f&&"itemFirst",g&&"itemHighlighted"),b);return g&&(y.ref=e.storeHighlightedItemReference),o.default.createElement(c.default,r({},y,{sectionIndex:l,isHighlighted:g,itemIndex:n,item:t,renderItem:i,renderItemData:s}))}))}}]),t}();p.propTypes={items:s.default.array.isRequired,itemProps:s.default.oneOfType([s.default.object,s.default.func]),renderItem:s.default.func.isRequired,renderItemData:s.default.object.isRequired,sectionIndex:s.default.number,highlightedItemIndex:s.default.number,onHighlightedItemChange:s.default.func.isRequired,getItemId:s.default.func.isRequired,theme:s.default.func.isRequired,keyPrefix:s.default.string.isRequired},p.defaultProps={sectionIndex:null},t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),o=l(i),s=l(n(11)),c=l(n(375));function l(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var d=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=Array(a),o=0;o<a;o++)i[o]=arguments[o];return n=r=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.storeItemReference=function(e){null!==e&&(r.item=e)},r.onMouseEnter=function(e){var t=r.props,n=t.sectionIndex,a=t.itemIndex;r.props.onMouseEnter(e,{sectionIndex:n,itemIndex:a})},r.onMouseLeave=function(e){var t=r.props,n=t.sectionIndex,a=t.itemIndex;r.props.onMouseLeave(e,{sectionIndex:n,itemIndex:a})},r.onMouseDown=function(e){var t=r.props,n=t.sectionIndex,a=t.itemIndex;r.props.onMouseDown(e,{sectionIndex:n,itemIndex:a})},r.onClick=function(e){var t=r.props,n=t.sectionIndex,a=t.itemIndex;r.props.onClick(e,{sectionIndex:n,itemIndex:a})},u(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),a(t,[{key:"shouldComponentUpdate",value:function(e){return(0,c.default)(e,this.props,["renderItemData"])}},{key:"render",value:function(){var e=this.props,t=e.isHighlighted,n=e.item,a=e.renderItem,i=e.renderItemData,s=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["isHighlighted","item","renderItem","renderItemData"]);return delete s.sectionIndex,delete s.itemIndex,"function"==typeof s.onMouseEnter&&(s.onMouseEnter=this.onMouseEnter),"function"==typeof s.onMouseLeave&&(s.onMouseLeave=this.onMouseLeave),"function"==typeof s.onMouseDown&&(s.onMouseDown=this.onMouseDown),"function"==typeof s.onClick&&(s.onClick=this.onClick),o.default.createElement("li",r({role:"option"},s,{ref:this.storeItemReference}),a(n,r({isHighlighted:t},i)))}}]),t}();d.propTypes={sectionIndex:s.default.number,isHighlighted:s.default.bool.isRequired,itemIndex:s.default.number.isRequired,item:s.default.any.isRequired,renderItem:s.default.func.isRequired,renderItemData:s.default.object.isRequired,onMouseEnter:s.default.func,onMouseLeave:s.default.func,onMouseDown:s.default.func,onClick:s.default.func},t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.defaultTheme={container:"react-autosuggest__container",containerOpen:"react-autosuggest__container--open",input:"react-autosuggest__input",inputOpen:"react-autosuggest__input--open",inputFocused:"react-autosuggest__input--focused",suggestionsContainer:"react-autosuggest__suggestions-container",suggestionsContainerOpen:"react-autosuggest__suggestions-container--open",suggestionsList:"react-autosuggest__suggestions-list",suggestion:"react-autosuggest__suggestion",suggestionFirst:"react-autosuggest__suggestion--first",suggestionHighlighted:"react-autosuggest__suggestion--highlighted",sectionContainer:"react-autosuggest__section-container",sectionContainerFirst:"react-autosuggest__section-container--first",sectionTitle:"react-autosuggest__section-title"},t.mapToAutowhateverTheme=function(e){var t={};for(var n in e)switch(n){case"suggestionsContainer":t.itemsContainer=e[n];break;case"suggestionsContainerOpen":t.itemsContainerOpen=e[n];break;case"suggestion":t.item=e[n];break;case"suggestionFirst":t.itemFirst=e[n];break;case"suggestionHighlighted":t.itemHighlighted=e[n];break;case"suggestionsList":t.itemsList=e[n];break;default:t[n]=e[n]}return t}},function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=o(n(0)),i=o(n(11));function o(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._handleResize=e._handleResize.bind(e),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.Component),r(t,[{key:"componentDidMount",value:function(){this._handleResize=this._handleResize.bind(this),window.addEventListener("resize",this._handleResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._handleResize)}},{key:"_handleResize",value:function(){var e=this;this._resizeTimer?this._pendingResize=!0:(this.props.handleResize(),this._resizeTimer=setTimeout(function(){e._pendingResize&&e.props.handleResize(),e._resizeTimer=!1},this.props.throttleRate))}},{key:"render",value:function(){return null}}]),t}();s.propTypes={handleResize:i.default.func.isRequired,throttleRate:i.default.number},s.defaultProps={throttleRate:200},t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.setTag=function(e){if(!e)return"div";return i.find(function(t){return e===t})||"div"},t.passProps=function(e){return(Object.keys(e)||{}).reduce(function(t,n){var a=o.find(function(e){return e===n}),i=r({},t);return a&&(i[n]=e[n]),i},{})};var a=t.block={display:"block"},i=(t.sizerWrapperStyles=r({},a,{position:"absolute",left:"-20000px",width:"100%"}),t.spreaderStyles=r({},a,{overflow:"hidden",height:"0px",width:"100%"}),t.wrapperStyles=r({},a,{position:"relative",overflow:"hidden"}),t.childrenStyles=r({},a,{width:"100%"}),["div","p","h1","h2","h3","h4","h5","h6","span"]);var o=["onClick","onContextMenu","onDoubleClick","onDrag onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"];Array.prototype.find||(Array.prototype.find=function(e){if(null==this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var t=Object(this),n=t.length>>>0,r=arguments[1],a=void 0,i=0;i<n;i++)if(a=t[i],e.call(r,a,i,t))return a})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=d(n(264)),i=d(n(993)),o=d(n(994)),s=n(524),c=n(1019),l=n(1021),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(388));function d(e){return e&&e.__esModule?e:{default:e}}var p=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.actions=t.getActions(),this.monitor=t.getMonitor(),this.registry=t.getRegistry(),this.context=t.getContext(),this.sourcePreviewNodes={},this.sourcePreviewNodeOptions={},this.sourceNodes={},this.sourceNodeOptions={},this.enterLeaveCounter=new o.default,this.dragStartSourceIds=[],this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.currentDragSourceNodeOffset=null,this.currentDragSourceNodeOffsetChanged=!1,this.altKeyPressed=!1,this.getSourceClientOffset=this.getSourceClientOffset.bind(this),this.handleTopDragStart=this.handleTopDragStart.bind(this),this.handleTopDragStartCapture=this.handleTopDragStartCapture.bind(this),this.handleTopDragEndCapture=this.handleTopDragEndCapture.bind(this),this.handleTopDragEnter=this.handleTopDragEnter.bind(this),this.handleTopDragEnterCapture=this.handleTopDragEnterCapture.bind(this),this.handleTopDragLeaveCapture=this.handleTopDragLeaveCapture.bind(this),this.handleTopDragOver=this.handleTopDragOver.bind(this),this.handleTopDragOverCapture=this.handleTopDragOverCapture.bind(this),this.handleTopDrop=this.handleTopDrop.bind(this),this.handleTopDropCapture=this.handleTopDropCapture.bind(this),this.handleSelectStart=this.handleSelectStart.bind(this),this.endDragIfSourceWasRemovedFromDOM=this.endDragIfSourceWasRemovedFromDOM.bind(this),this.endDragNativeItem=this.endDragNativeItem.bind(this),this.asyncEndDragNativeItem=this.asyncEndDragNativeItem.bind(this),this.isNodeInDocument=this.isNodeInDocument.bind(this)}return r(e,[{key:"setup",value:function(){if(void 0!==this.window){if(this.window.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");this.window.__isReactDndBackendSetUp=!0,this.addEventListeners(this.window)}}},{key:"teardown",value:function(){void 0!==this.window&&(this.window.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.window),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId&&this.window.cancelAnimationFrame(this.asyncEndDragFrameId))}},{key:"addEventListeners",value:function(e){e.addEventListener&&(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))}},{key:"removeEventListeners",value:function(e){e.removeEventListener&&(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))}},{key:"connectDragPreview",value:function(e,t,n){var r=this;return this.sourcePreviewNodeOptions[e]=n,this.sourcePreviewNodes[e]=t,function(){delete r.sourcePreviewNodes[e],delete r.sourcePreviewNodeOptions[e]}}},{key:"connectDragSource",value:function(e,t,n){var r=this;this.sourceNodes[e]=t,this.sourceNodeOptions[e]=n;var a=function(t){return r.handleDragStart(t,e)},i=function(t){return r.handleSelectStart(t,e)};return t.setAttribute("draggable",!0),t.addEventListener("dragstart",a),t.addEventListener("selectstart",i),function(){delete r.sourceNodes[e],delete r.sourceNodeOptions[e],t.removeEventListener("dragstart",a),t.removeEventListener("selectstart",i),t.setAttribute("draggable",!1)}}},{key:"connectDropTarget",value:function(e,t){var n=this,r=function(t){return n.handleDragEnter(t,e)},a=function(t){return n.handleDragOver(t,e)},i=function(t){return n.handleDrop(t,e)};return t.addEventListener("dragenter",r),t.addEventListener("dragover",a),t.addEventListener("drop",i),function(){t.removeEventListener("dragenter",r),t.removeEventListener("dragover",a),t.removeEventListener("drop",i)}}},{key:"getCurrentSourceNodeOptions",value:function(){var e=this.monitor.getSourceId(),t=this.sourceNodeOptions[e];return(0,a.default)(t||{},{dropEffect:this.altKeyPressed?"copy":"move"})}},{key:"getCurrentDropEffect",value:function(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}},{key:"getCurrentSourcePreviewNodeOptions",value:function(){var e=this.monitor.getSourceId(),t=this.sourcePreviewNodeOptions[e];return(0,a.default)(t||{},{anchorX:.5,anchorY:.5,captureDraggingState:!1})}},{key:"getSourceClientOffset",value:function(e){return(0,c.getNodeClientOffset)(this.sourceNodes[e])}},{key:"isDraggingNativeItem",value:function(){var e=this.monitor.getItemType();return Object.keys(u).some(function(t){return u[t]===e})}},{key:"beginDragNativeItem",value:function(e){this.clearCurrentDragSourceNode();var t=(0,l.createNativeDragSource)(e);this.currentNativeSource=new t,this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle]),(0,s.isFirefox)()&&this.window.addEventListener("mouseover",this.asyncEndDragNativeItem,!0)}},{key:"asyncEndDragNativeItem",value:function(){this.asyncEndDragFrameId=this.window.requestAnimationFrame(this.endDragNativeItem),(0,s.isFirefox)()&&(this.window.removeEventListener("mouseover",this.asyncEndDragNativeItem,!0),this.enterLeaveCounter.reset())}},{key:"endDragNativeItem",value:function(){this.isDraggingNativeItem()&&(this.actions.endDrag(),this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)}},{key:"isNodeInDocument",value:function(e){return!(!document.body.contains(e)&&!this.window)&&this.window.document.body.contains(e)}},{key:"endDragIfSourceWasRemovedFromDOM",value:function(){var e=this.currentDragSourceNode;this.isNodeInDocument(e)||this.clearCurrentDragSourceNode()&&this.actions.endDrag()}},{key:"setCurrentDragSourceNode",value:function(e){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e,this.currentDragSourceNodeOffset=(0,c.getNodeClientOffset)(e),this.currentDragSourceNodeOffsetChanged=!1,this.window.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}},{key:"clearCurrentDragSourceNode",value:function(){return!!this.currentDragSourceNode&&(this.currentDragSourceNode=null,this.currentDragSourceNodeOffset=null,this.currentDragSourceNodeOffsetChanged=!1,this.window.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0),!0)}},{key:"checkIfCurrentDragSourceRectChanged",value:function(){var e=this.currentDragSourceNode;return!!e&&(!!this.currentDragSourceNodeOffsetChanged||(this.currentDragSourceNodeOffsetChanged=!(0,i.default)((0,c.getNodeClientOffset)(e),this.currentDragSourceNodeOffset),this.currentDragSourceNodeOffsetChanged))}},{key:"handleTopDragStartCapture",value:function(){this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]}},{key:"handleDragStart",value:function(e,t){this.dragStartSourceIds.unshift(t)}},{key:"handleTopDragStart",value:function(e){var t=this,n=this.dragStartSourceIds;this.dragStartSourceIds=null;var r=(0,c.getEventClientOffset)(e);this.monitor.isDragging()&&this.actions.endDrag(),this.actions.beginDrag(n,{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:r});var a=e.dataTransfer,i=(0,l.matchNativeItemType)(a);if(this.monitor.isDragging()){if("function"==typeof a.setDragImage){var o=this.monitor.getSourceId(),s=this.sourceNodes[o],u=this.sourcePreviewNodes[o]||s,d=this.getCurrentSourcePreviewNodeOptions(),p={anchorX:d.anchorX,anchorY:d.anchorY},f={offsetX:d.offsetX,offsetY:d.offsetY},h=(0,c.getDragPreviewOffset)(s,u,r,p,f);a.setDragImage(u,h.x,h.y)}try{a.setData("application/json",{})}catch(e){}this.setCurrentDragSourceNode(e.target),this.getCurrentSourcePreviewNodeOptions().captureDraggingState?this.actions.publishDragSource():setTimeout(function(){return t.actions.publishDragSource()})}else if(i)this.beginDragNativeItem(i);else{if(!(a.types||e.target.hasAttribute&&e.target.hasAttribute("draggable")))return;e.preventDefault()}}},{key:"handleTopDragEndCapture",value:function(){this.clearCurrentDragSourceNode()&&this.actions.endDrag()}},{key:"handleTopDragEnterCapture",value:function(e){if(this.dragEnterTargetIds=[],this.enterLeaveCounter.enter(e.target)&&!this.monitor.isDragging()){var t=e.dataTransfer,n=(0,l.matchNativeItemType)(t);n&&this.beginDragNativeItem(n)}}},{key:"handleDragEnter",value:function(e,t){this.dragEnterTargetIds.unshift(t)}},{key:"handleTopDragEnter",value:function(e){var t=this,n=this.dragEnterTargetIds;(this.dragEnterTargetIds=[],this.monitor.isDragging())&&(this.altKeyPressed=e.altKey,(0,s.isFirefox)()||this.actions.hover(n,{clientOffset:(0,c.getEventClientOffset)(e)}),n.some(function(e){return t.monitor.canDropOnTarget(e)})&&(e.preventDefault(),e.dataTransfer.dropEffect=this.getCurrentDropEffect()))}},{key:"handleTopDragOverCapture",value:function(){this.dragOverTargetIds=[]}},{key:"handleDragOver",value:function(e,t){this.dragOverTargetIds.unshift(t)}},{key:"handleTopDragOver",value:function(e){var t=this,n=this.dragOverTargetIds;if(this.dragOverTargetIds=[],!this.monitor.isDragging())return e.preventDefault(),void(e.dataTransfer.dropEffect="none");this.altKeyPressed=e.altKey,this.actions.hover(n,{clientOffset:(0,c.getEventClientOffset)(e)}),n.some(function(e){return t.monitor.canDropOnTarget(e)})?(e.preventDefault(),e.dataTransfer.dropEffect=this.getCurrentDropEffect()):this.isDraggingNativeItem()?(e.preventDefault(),e.dataTransfer.dropEffect="none"):this.checkIfCurrentDragSourceRectChanged()&&(e.preventDefault(),e.dataTransfer.dropEffect="move")}},{key:"handleTopDragLeaveCapture",value:function(e){this.isDraggingNativeItem()&&e.preventDefault(),this.enterLeaveCounter.leave(e.target)&&this.isDraggingNativeItem()&&this.endDragNativeItem()}},{key:"handleTopDropCapture",value:function(e){this.dropTargetIds=[],e.preventDefault(),this.isDraggingNativeItem()&&this.currentNativeSource.mutateItemByReadingDataTransfer(e.dataTransfer),this.enterLeaveCounter.reset()}},{key:"handleDrop",value:function(e,t){this.dropTargetIds.unshift(t)}},{key:"handleTopDrop",value:function(e){var t=this.dropTargetIds;this.dropTargetIds=[],this.actions.hover(t,{clientOffset:(0,c.getEventClientOffset)(e)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.endDragIfSourceWasRemovedFromDOM()}},{key:"handleSelectStart",value:function(e){var t=e.target;"function"==typeof t.dragDrop&&("INPUT"===t.tagName||"SELECT"===t.tagName||"TEXTAREA"===t.tagName||t.isContentEditable||(e.preventDefault(),t.dragDrop()))}},{key:"window",get:function(){return this.context&&this.context.window?this.context.window:"undefined"!=typeof window?window:void 0}}]),e}();t.default=p},function(e,t,n){var r=n(514),a=n(515),i=n(169),o=a?function(e,t){return a(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:i;e.exports=o},function(e,t,n){var r=n(184),a=n(984),i=n(99),o=n(517),s=/^\[object .+?Constructor\]$/,c=Function.prototype,l=Object.prototype,u=c.toString,d=l.hasOwnProperty,p=RegExp("^"+u.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!i(e)||a(e))&&(r(e)?p:s).test(o(e))}},function(e,t,n){var r=n(185),a=Object.prototype,i=a.hasOwnProperty,o=a.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=i.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(e){}var a=o.call(e);return r&&(t?e[s]=n:delete e[s]),a}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t,n){var r,a=n(985),i=(r=/[^.]+$/.exec(a&&a.keys&&a.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(e){return!!i&&i in e}},function(e,t,n){var r=n(85)["__core-js_shared__"];e.exports=r},function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e,t){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},function(e,t,n){var r=n(146),a=n(108),i="[object Arguments]";e.exports=function(e){return a(e)&&r(e)==i}},function(e,t){e.exports=function(){return!1}},function(e,t,n){var r=n(146),a=n(379),i=n(108),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1,e.exports=function(e){return i(e)&&a(e.length)&&!!o[r(e)]}},function(e,t,n){var r=n(99),a=n(266),i=n(992),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=a(e),n=[];for(var s in e)("constructor"!=s||!t&&o.call(e,s))&&n.push(s);return n}},function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(e===t)return!0;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var a=Object.prototype.hasOwnProperty,i=0;i<n.length;i+=1){if(!a.call(t,n[i])||e[n[i]]!==t[n[i]])return!1;var o=e[n[i]],s=t[n[i]];if(o!==s)return!1}return!0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=o(n(995)),i=o(n(523));function o(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.entered=[]}return r(e,[{key:"enter",value:function(e){var t=this.entered.length;return this.entered=(0,a.default)(this.entered.filter(function(t){return document.documentElement.contains(t)&&(!t.contains||t.contains(e))}),[e]),0===t&&this.entered.length>0}},{key:"leave",value:function(e){var t=this.entered.length;return this.entered=(0,i.default)(this.entered.filter(function(e){return document.documentElement.contains(e)}),e),t>0&&0===this.entered.length}},{key:"reset",value:function(){this.entered=[]}}]),e}();t.default=s},function(e,t,n){var r=n(267),a=n(129),i=n(520),o=n(188),s=a(function(e){return i(r(e,1,o,!0))});e.exports=s},function(e,t,n){var r=n(185),a=n(223),i=n(60),o=r?r.isConcatSpreadable:void 0;e.exports=function(e){return i(e)||a(e)||!!(o&&e&&e[o])}},function(e,t,n){var r=n(998),a=n(270),i=n(383);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(i||a),string:new r}}},function(e,t,n){var r=n(999),a=n(1e3),i=n(1001),o=n(1002),s=n(1003);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=a,c.prototype.get=i,c.prototype.has=o,c.prototype.set=s,e.exports=c},function(e,t,n){var r=n(269);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(e,t){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},function(e,t,n){var r=n(269),a="__lodash_hash_undefined__",i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return n===a?void 0:n}return i.call(t,e)?t[e]:void 0}},function(e,t,n){var r=n(269),a=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:a.call(t,e)}},function(e,t,n){var r=n(269),a="__lodash_hash_undefined__";e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?a:t,this}},function(e,t){e.exports=function(){this.__data__=[],this.size=0}},function(e,t,n){var r=n(271),a=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0||(n==t.length-1?t.pop():a.call(t,n,1),--this.size,0))}},function(e,t,n){var r=n(271);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},function(e,t,n){var r=n(271);e.exports=function(e){return r(this.__data__,e)>-1}},function(e,t,n){var r=n(271);e.exports=function(e,t){var n=this.__data__,a=r(n,e);return a<0?(++this.size,n.push([e,t])):n[a][1]=t,this}},function(e,t,n){var r=n(272);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},function(e,t){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},function(e,t,n){var r=n(272);e.exports=function(e){return r(this,e).get(e)}},function(e,t,n){var r=n(272);e.exports=function(e){return r(this,e).has(e)}},function(e,t,n){var r=n(272);e.exports=function(e,t){var n=r(this,e),a=n.size;return n.set(e,t),this.size+=n.size==a?0:1,this}},function(e,t){var n="__lodash_hash_undefined__";e.exports=function(e){return this.__data__.set(e,n),this}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t){e.exports=function(e){return e!=e}},function(e,t){e.exports=function(e,t,n){for(var r=n-1,a=e.length;++r<a;)if(e[r]===t)return r;return-1}},function(e,t,n){var r=n(522),a=n(385),i=n(386),o=r&&1/i(new r([,-0]))[1]==1/0?function(e){return new r(e)}:a;e.exports=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getNodeClientOffset=c,t.getEventClientOffset=function(e){return{x:e.clientX,y:e.clientY}},t.getDragPreviewOffset=function(e,t,n,r,i){var s=(_=t,"IMG"===_.nodeName&&((0,a.isFirefox)()||!document.documentElement.contains(_))),l=c(s?e:t),u={x:n.x-l.x,y:n.y-l.y},d=e.offsetWidth,p=e.offsetHeight,f=r.anchorX,h=r.anchorY,m=function(e,t,n,r){var i=e?t.width:n,o=e?t.height:r;(0,a.isSafari)()&&e&&(o/=window.devicePixelRatio,i/=window.devicePixelRatio);return{dragPreviewWidth:i,dragPreviewHeight:o}}(s,t,d,p),g=m.dragPreviewWidth,v=m.dragPreviewHeight,b=i.offsetX,y=i.offsetY,E=0===y||y;var _;return{x:0===b||b?b:new o.default([0,.5,1],[u.x,u.x/d*g,u.x+g-d]).interpolate(f),y:E?y:function(){var e=new o.default([0,.5,1],[u.y,u.y/p*v,u.y+v-p]).interpolate(h);(0,a.isSafari)()&&s&&(e+=(window.devicePixelRatio-1)*v);return e}()}};var r,a=n(524),i=n(1020),o=(r=i)&&r.__esModule?r:{default:r};var s=1;function c(e){var t=e.nodeType===s?e:e.parentElement;if(!t)return null;var n=t.getBoundingClientRect(),r=n.top;return{x:n.left,y:r}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var a=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=t.length,a=[],i=0;i<r;i++)a.push(i);a.sort(function(e,n){return t[e]<t[n]?-1:1});for(var o=[],s=[],c=[],l=void 0,u=void 0,d=0;d<r-1;d++)l=t[d+1]-t[d],u=n[d+1]-n[d],s.push(l),o.push(u),c.push(u/l);for(var p=[c[0]],f=0;f<s.length-1;f++){var h=c[f],m=c[f+1];if(h*m<=0)p.push(0);else{l=s[f];var g=s[f+1],v=l+g;p.push(3*v/((v+g)/h+(v+l)/m))}}p.push(c[c.length-1]);for(var b=[],y=[],E=void 0,_=0;_<p.length-1;_++){E=c[_];var w=p[_],S=1/s[_],k=w+p[_+1]-E-E;b.push((E-w-k)*S),y.push(k*S*S)}this.xs=t,this.ys=n,this.c1s=p,this.c2s=b,this.c3s=y}return r(e,[{key:"interpolate",value:function(e){var t=this.xs,n=this.ys,r=this.c1s,a=this.c2s,i=this.c3s,o=t.length-1;if(e===t[o])return n[o];for(var s=0,c=i.length-1,l=void 0;s<=c;){var u=t[l=Math.floor(.5*(s+c))];if(u<e)s=l+1;else{if(!(u>e))return n[l];c=l-1}}var d=e-t[o=Math.max(0,c)],p=d*d;return n[o]+r[o]*d+a[o]*p+i[o]*d*p}}]),e}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.createNativeDragSource=function(e){var t=c[e],n=t.exposeProperty,r=t.matchesTypes,i=t.getData;return function(){function e(){var t,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.item=(t={},(r={})[n]=r[n]||{},r[n].get=function(){return console.warn("Browser doesn't allow reading \""+n+'" until the drop event.'),null},function(e,t){for(var n in t){var r=t[n];r.configurable=r.enumerable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,n,r)}}(t,r),t)}return a(e,[{key:"mutateItemByReadingDataTransfer",value:function(e){delete this.item[n],this.item[n]=i(e,r)}},{key:"canDrag",value:function(){return!0}},{key:"beginDrag",value:function(){return this.item}},{key:"isDragging",value:function(e,t){return t===e.getSourceId()}},{key:"endDrag",value:function(){}}]),e}()},t.matchNativeItemType=function(e){var t=Array.prototype.slice.call(e.types||[]);return Object.keys(c).filter(function(e){var n=c[e].matchesTypes;return n.some(function(e){return t.indexOf(e)>-1})})[0]||null};var i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(388));function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t,n){var r=t.reduce(function(t,n){return t||e.getData(n)},null);return null!=r?r:n}var c=(o(r={},i.FILE,{exposeProperty:"files",matchesTypes:["Files"],getData:function(e){return Array.prototype.slice.call(e.files)}}),o(r,i.URL,{exposeProperty:"urls",matchesTypes:["Url","text/uri-list"],getData:function(e,t){return s(e,t,"").split("\n")}}),o(r,i.TEXT,{exposeProperty:"text",matchesTypes:["Text","text/plain"],getData:function(e,t){return s(e,t,"")}}),r)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){r||((r=new Image).src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==");return r};var r=void 0},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1024);Object.defineProperty(t,"DragDropManager",{enumerable:!0,get:function(){return s(r).default}});var a=n(1039);Object.defineProperty(t,"DragSource",{enumerable:!0,get:function(){return s(a).default}});var i=n(1040);Object.defineProperty(t,"DropTarget",{enumerable:!0,get:function(){return s(i).default}});var o=n(1041);function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"createTestBackend",{enumerable:!0,get:function(){return s(o).default}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=c(n(1025)),i=c(n(1026)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(275)),s=c(n(1034));function c(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var r=(0,a.default)(i.default);this.context=n,this.store=r,this.monitor=new s.default(r),this.registry=this.monitor.registry,this.backend=t(this),r.subscribe(this.handleRefCountChange.bind(this))}return r(e,[{key:"handleRefCountChange",value:function(){var e=this.store.getState().refCount>0;e&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!e&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1)}},{key:"getContext",value:function(){return this.context}},{key:"getMonitor",value:function(){return this.monitor}},{key:"getBackend",value:function(){return this.backend}},{key:"getRegistry",value:function(){return this.registry}},{key:"getActions",value:function(){var e=this,t=this.store.dispatch;return Object.keys(o).filter(function(e){return"function"==typeof o[e]}).reduce(function(n,r){var a,i=o[r];return n[r]=(a=i,function(){for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];var o=a.apply(e,r);void 0!==o&&t(o)}),n},{})}}]),e}();t.default=l},function(e,t,n){"use strict";t.__esModule=!0,t.ActionTypes=void 0,t.default=function e(t,n,i){var s;"function"==typeof n&&void 0===i&&(i=n,n=void 0);if(void 0!==i){if("function"!=typeof i)throw new Error("Expected the enhancer to be a function.");return i(e)(t,n)}if("function"!=typeof t)throw new Error("Expected the reducer to be a function.");var c=t;var l=n;var u=[];var d=u;var p=!1;function f(){d===u&&(d=u.slice())}function h(){return l}function m(e){if("function"!=typeof e)throw new Error("Expected listener to be a function.");var t=!0;return f(),d.push(e),function(){if(t){t=!1,f();var n=d.indexOf(e);d.splice(n,1)}}}function g(e){if(!(0,r.default)(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(p)throw new Error("Reducers may not dispatch actions.");try{p=!0,l=c(l,e)}finally{p=!1}for(var t=u=d,n=0;n<t.length;n++){var a=t[n];a()}return e}g({type:o.INIT});return s={dispatch:g,subscribe:m,getState:h,replaceReducer:function(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");c=e,g({type:o.INIT})}},s[a.default]=function(){var e,t=m;return(e={subscribe:function(e){if("object"!=typeof e)throw new TypeError("Expected the observer to be an object.");function n(){e.next&&e.next(h())}n();var r=t(n);return{unsubscribe:r}}})[a.default]=function(){return this},e},s};var r=i(n(94)),a=i(n(315));function i(e){return e&&e.__esModule?e:{default:e}}var o=t.ActionTypes={INIT:"@@redux/INIT"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];return{dirtyHandlerIds:(0,o.default)(e.dirtyHandlerIds,t,e.dragOperation),dragOffset:(0,r.default)(e.dragOffset,t),refCount:(0,i.default)(e.refCount,t),dragOperation:(0,a.default)(e.dragOperation,t),stateId:(0,s.default)(e.stateId)}};var r=c(n(528)),a=c(n(1027)),i=c(n(1028)),o=c(n(530)),s=c(n(1033));function c(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments[1];switch(t.type){case s.BEGIN_DRAG:return r({},e,{itemType:t.itemType,item:t.item,sourceId:t.sourceId,isSourcePublic:t.isSourcePublic,dropResult:null,didDrop:!1});case s.PUBLISH_DRAG_SOURCE:return r({},e,{isSourcePublic:!0});case s.HOVER:return r({},e,{targetIds:t.targetIds});case c.REMOVE_TARGET:return-1===e.targetIds.indexOf(t.targetId)?e:r({},e,{targetIds:(0,o.default)(e.targetIds,t.targetId)});case s.DROP:return r({},e,{dropResult:t.dropResult,didDrop:!0,targetIds:[]});case s.END_DRAG:return r({},e,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return e}};var a,i=n(523),o=(a=i)&&a.__esModule?a:{default:a},s=n(275),c=n(276);var l={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;switch(arguments[1].type){case r.ADD_SOURCE:case r.ADD_TARGET:return e+1;case r.REMOVE_SOURCE:case r.REMOVE_TARGET:return e-1;default:return e}};var r=n(276)},function(e,t,n){var r=n(390),a=n(129),i=n(1030),o=n(188),s=a(function(e){return i(r(e,o))});e.exports=s},function(e,t,n){var r=n(387),a=n(267),i=n(520);e.exports=function(e,t,n){var o=e.length;if(o<2)return o?i(e[0]):[];for(var s=-1,c=Array(o);++s<o;)for(var l=e[s],u=-1;++u<o;)u!=s&&(c[s]=r(c[s]||l,e[u],t,n));return i(a(c,1),t,n)}},function(e,t,n){var r=n(268),a=n(273),i=n(384),o=n(139),s=n(187),c=n(274),l=Math.min;e.exports=function(e,t,n){for(var u=n?i:a,d=e[0].length,p=e.length,f=p,h=Array(p),m=1/0,g=[];f--;){var v=e[f];f&&t&&(v=o(v,s(t))),m=l(v.length,m),h[f]=!n&&(t||d>=120&&v.length>=120)?new r(f&&v):void 0}v=e[0];var b=-1,y=h[0];e:for(;++b<d&&g.length<m;){var E=v[b],_=t?t(E):E;if(E=n||0!==E?E:0,!(y?c(y,_):u(g,_,n))){for(f=p;--f;){var w=h[f];if(!(w?c(w,_):u(e[f],_,n)))continue e}y&&y.push(_),g.push(E)}}return g}},function(e,t,n){var r=n(188);e.exports=function(e){return r(e)?e:[]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)+1}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=u(n(73)),i=u(n(60)),o=u(n(529)),s=u(n(1035)),c=n(528),l=n(530);function u(e){return e&&e.__esModule?e:{default:e}}var d=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.store=t,this.registry=new s.default(t)}return r(e,[{key:"subscribeToStateChange",value:function(e){var t=this,n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).handlerIds;(0,a.default)("function"==typeof e,"listener must be a function."),(0,a.default)(void 0===n||(0,i.default)(n),"handlerIds, when specified, must be an array of strings.");var r=this.store.getState().stateId;return this.store.subscribe(function(){var a=t.store.getState(),i=a.stateId;try{i===r||i===r+1&&!(0,l.areDirty)(a.dirtyHandlerIds,n)||e()}finally{r=i}})}},{key:"subscribeToOffsetChange",value:function(e){var t=this;(0,a.default)("function"==typeof e,"listener must be a function.");var n=this.store.getState().dragOffset;return this.store.subscribe(function(){var r=t.store.getState().dragOffset;r!==n&&(n=r,e())})}},{key:"canDragSource",value:function(e){var t=this.registry.getSource(e);return(0,a.default)(t,"Expected to find a valid source."),!this.isDragging()&&t.canDrag(this,e)}},{key:"canDropOnTarget",value:function(e){var t=this.registry.getTarget(e);if((0,a.default)(t,"Expected to find a valid target."),!this.isDragging()||this.didDrop())return!1;var n=this.registry.getTargetType(e),r=this.getItemType();return(0,o.default)(n,r)&&t.canDrop(this,e)}},{key:"isDragging",value:function(){return Boolean(this.getItemType())}},{key:"isDraggingSource",value:function(e){var t=this.registry.getSource(e,!0);return(0,a.default)(t,"Expected to find a valid source."),!(!this.isDragging()||!this.isSourcePublic())&&(this.registry.getSourceType(e)===this.getItemType()&&t.isDragging(this,e))}},{key:"isOverTarget",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shallow:!1}).shallow;if(!this.isDragging())return!1;var n=this.registry.getTargetType(e),r=this.getItemType();if(!(0,o.default)(n,r))return!1;var a=this.getTargetIds();if(!a.length)return!1;var i=a.indexOf(e);return t?i===a.length-1:i>-1}},{key:"getItemType",value:function(){return this.store.getState().dragOperation.itemType}},{key:"getItem",value:function(){return this.store.getState().dragOperation.item}},{key:"getSourceId",value:function(){return this.store.getState().dragOperation.sourceId}},{key:"getTargetIds",value:function(){return this.store.getState().dragOperation.targetIds}},{key:"getDropResult",value:function(){return this.store.getState().dragOperation.dropResult}},{key:"didDrop",value:function(){return this.store.getState().dragOperation.didDrop}},{key:"isSourcePublic",value:function(){return this.store.getState().dragOperation.isSourcePublic}},{key:"getInitialClientOffset",value:function(){return this.store.getState().dragOffset.initialClientOffset}},{key:"getInitialSourceClientOffset",value:function(){return this.store.getState().dragOffset.initialSourceClientOffset}},{key:"getClientOffset",value:function(){return this.store.getState().dragOffset.clientOffset}},{key:"getSourceClientOffset",value:function(){return(0,c.getSourceClientOffset)(this.store.getState().dragOffset)}},{key:"getDifferenceFromInitialOffset",value:function(){return(0,c.getDifferenceFromInitialOffset)(this.store.getState().dragOffset)}}]),e}();t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=u(n(73)),o=u(n(60)),s=u(n(1036)),c=n(276),l=u(n(1038));function u(e){return e&&e.__esModule?e:{default:e}}var d={SOURCE:"SOURCE",TARGET:"TARGET"};function p(e,t){t&&(0,o.default)(e)?e.forEach(function(e){return p(e,!1)}):(0,i.default)("string"==typeof e||"symbol"===(void 0===e?"undefined":a(e)),t?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}function f(e){switch(e[0]){case"S":return d.SOURCE;case"T":return d.TARGET;default:(0,i.default)(!1,"Cannot parse handler ID: "+e)}}var h=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.store=t,this.types={},this.handlers={},this.pinnedSourceId=null,this.pinnedSource=null}return r(e,[{key:"addSource",value:function(e,t){p(e),function(e){(0,i.default)("function"==typeof e.canDrag,"Expected canDrag to be a function."),(0,i.default)("function"==typeof e.beginDrag,"Expected beginDrag to be a function."),(0,i.default)("function"==typeof e.endDrag,"Expected endDrag to be a function.")}(t);var n=this.addHandler(d.SOURCE,e,t);return this.store.dispatch((0,c.addSource)(n)),n}},{key:"addTarget",value:function(e,t){p(e,!0),function(e){(0,i.default)("function"==typeof e.canDrop,"Expected canDrop to be a function."),(0,i.default)("function"==typeof e.hover,"Expected hover to be a function."),(0,i.default)("function"==typeof e.drop,"Expected beginDrag to be a function.")}(t);var n=this.addHandler(d.TARGET,e,t);return this.store.dispatch((0,c.addTarget)(n)),n}},{key:"addHandler",value:function(e,t,n){var r=function(e){var t=(0,l.default)().toString();switch(e){case d.SOURCE:return"S"+t;case d.TARGET:return"T"+t;default:(0,i.default)(!1,"Unknown role: "+e)}}(e);return this.types[r]=t,this.handlers[r]=n,r}},{key:"containsHandler",value:function(e){var t=this;return Object.keys(this.handlers).some(function(n){return t.handlers[n]===e})}},{key:"getSource",value:function(e,t){return(0,i.default)(this.isSourceId(e),"Expected a valid source ID."),t&&e===this.pinnedSourceId?this.pinnedSource:this.handlers[e]}},{key:"getTarget",value:function(e){return(0,i.default)(this.isTargetId(e),"Expected a valid target ID."),this.handlers[e]}},{key:"getSourceType",value:function(e){return(0,i.default)(this.isSourceId(e),"Expected a valid source ID."),this.types[e]}},{key:"getTargetType",value:function(e){return(0,i.default)(this.isTargetId(e),"Expected a valid target ID."),this.types[e]}},{key:"isSourceId",value:function(e){return f(e)===d.SOURCE}},{key:"isTargetId",value:function(e){return f(e)===d.TARGET}},{key:"removeSource",value:function(e){var t=this;(0,i.default)(this.getSource(e),"Expected an existing source."),this.store.dispatch((0,c.removeSource)(e)),(0,s.default)(function(){delete t.handlers[e],delete t.types[e]})}},{key:"removeTarget",value:function(e){var t=this;(0,i.default)(this.getTarget(e),"Expected an existing target."),this.store.dispatch((0,c.removeTarget)(e)),(0,s.default)(function(){delete t.handlers[e],delete t.types[e]})}},{key:"pinSource",value:function(e){var t=this.getSource(e);(0,i.default)(t,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=t}},{key:"unpinSource",value:function(){(0,i.default)(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}}]),e}();t.default=h},function(e,t,n){"use strict";var r=n(1037),a=[],i=[],o=r.makeRequestCallFromTimer(function(){if(i.length)throw i.shift()});function s(e){var t;(t=a.length?a.pop():new c).task=e,r(t)}function c(){this.task=null}e.exports=s,c.prototype.call=function(){try{this.task.call()}catch(e){s.onerror?s.onerror(e):(i.push(e),o())}finally{this.task=null,a[a.length]=this}}},function(e,t,n){"use strict";(function(t){function n(e){a.length||(r(),!0),a[a.length]=e}e.exports=n;var r,a=[],i=0,o=1024;function s(){for(;i<a.length;){var e=i;if(i+=1,a[e].call(),i>o){for(var t=0,n=a.length-i;t<n;t++)a[t]=a[t+i];a.length-=i,i=0}}a.length=0,i=0,!1}var c,l,u,d=void 0!==t?t:self,p=d.MutationObserver||d.WebKitMutationObserver;function f(e){return function(){var t=setTimeout(r,0),n=setInterval(r,50);function r(){clearTimeout(t),clearInterval(n),e()}}}"function"==typeof p?(c=1,l=new p(s),u=document.createTextNode(""),l.observe(u,{characterData:!0}),r=function(){c=-c,u.data=c}):r=f(s),n.requestFlush=r,n.makeRequestCallFromTimer=f}).call(this,n(43))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return r++};var r=0},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,[{key:"canDrag",value:function(){return!0}},{key:"isDragging",value:function(e,t){return t===e.getSourceId()}},{key:"endDrag",value:function(){}}]),e}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,[{key:"canDrop",value:function(){return!0}},{key:"hover",value:function(){}},{key:"drop",value:function(){}}]),e}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.default=function(e){return new s(e)};var a,i=n(385),o=(a=i)&&a.__esModule?a:{default:a};var s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.actions=t.getActions()}return r(e,[{key:"setup",value:function(){this.didCallSetup=!0}},{key:"teardown",value:function(){this.didCallTeardown=!0}},{key:"connectDragSource",value:function(){return o.default}},{key:"connectDragPreview",value:function(){return o.default}},{key:"connectDropTarget",value:function(){return o.default}},{key:"simulateBeginDrag",value:function(e,t){this.actions.beginDrag(e,t)}},{key:"simulatePublishDragSource",value:function(){this.actions.publishDragSource()}},{key:"simulateHover",value:function(e,t){this.actions.hover(e,t)}},{key:"simulateDrop",value:function(){this.actions.drop()}},{key:"simulateEndDrag",value:function(){this.actions.endDrag()}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a,i,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),c=n(11),l=(i=c)&&i.__esModule?i:{default:i},u=n(526);var d=(a=r=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.backend=(0,u.unpackBackendForEs5Users)(e.backend),r.childContext=(0,u.createChildContext)(r.backend,{window:e&&e.window?e.window:n&&n.window?n.window:"undefined"!=typeof window?window:void 0}),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.Component),o(t,[{key:"componentWillReceiveProps",value:function(e){if(e.backend!==this.props.backend||e.window!==this.props.window)throw new Error("DragDropContextProvider backend and window props must not change.")}},{key:"getChildContext",value:function(){return this.childContext}},{key:"render",value:function(){return s.Children.only(this.props.children)}}]),t}(),r.propTypes={backend:l.default.oneOfType([l.default.func,l.default.object]).isRequired,children:l.default.element.isRequired,window:l.default.object},r.defaultProps={window:void 0},r.childContextTypes=u.CHILD_CONTEXT_TYPES,r.displayName="DragDropContextProvider",r.contextTypes={window:l.default.object},a);t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return h.default.apply(void 0,["DragLayer","collect[, options]"].concat(Array.prototype.slice.call(arguments))),(0,d.default)("function"==typeof e,'Expected "collect" provided as the first argument to DragLayer to be a function that collects props to inject into the component. ',"Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs-drag-layer.html",e),(0,d.default)((0,u.default)(t),'Expected "options" provided as the second argument to DragLayer to be a plain object when specified. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs-drag-layer.html',t),function(n){var u,h,m=t.arePropsEqual,g=void 0===m?f.default:m,v=n.displayName||n.name||"Component",b=(h=u=function(t){function c(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,e));return n.handleChange=n.handleChange.bind(n),n.manager=t.dragDropManager,(0,d.default)("object"===a(n.manager),"Could not find the drag and drop manager in the context of %s. Make sure to wrap the top-level component of your app with DragDropContext. Read more: http://react-dnd.github.io/react-dnd/docs-troubleshooting.html#could-not-find-the-drag-and-drop-manager-in-the-context",v,v),n.state=n.getCurrentState(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(c,o.Component),i(c,[{key:"getDecoratedComponentInstance",value:function(){return(0,d.default)(this.child,"In order to access an instance of the decorated component it can not be a stateless component."),this.child}},{key:"shouldComponentUpdate",value:function(e,t){return!g(e,this.props)||!(0,p.default)(t,this.state)}}]),i(c,[{key:"componentDidMount",value:function(){this.isCurrentlyMounted=!0;var e=this.manager.getMonitor();this.unsubscribeFromOffsetChange=e.subscribeToOffsetChange(this.handleChange),this.unsubscribeFromStateChange=e.subscribeToStateChange(this.handleChange),this.handleChange()}},{key:"componentWillUnmount",value:function(){this.isCurrentlyMounted=!1,this.unsubscribeFromOffsetChange(),this.unsubscribeFromStateChange()}},{key:"handleChange",value:function(){if(this.isCurrentlyMounted){var e=this.getCurrentState();(0,p.default)(e,this.state)||this.setState(e)}}},{key:"getCurrentState",value:function(){var t=this.manager.getMonitor();return e(t)}},{key:"render",value:function(){var e=this;return s.default.createElement(n,r({},this.props,this.state,{ref:function(t){e.child=t}}))}}]),c}(),u.DecoratedComponent=n,u.displayName="DragLayer("+v+")",u.contextTypes={dragDropManager:c.default.object.isRequired},h);return(0,l.default)(b,n)}};var o=n(0),s=m(o),c=m(n(11)),l=m(n(391)),u=m(n(94)),d=m(n(73)),p=m(n(392)),f=m(n(532)),h=m(n(277));function m(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var p=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};i.default.apply(void 0,["DragSource","type, spec, collect[, options]"].concat(Array.prototype.slice.call(arguments)));var f=e;"function"!=typeof e&&((0,r.default)((0,d.default)(e),'Expected "type" provided as the first argument to DragSource to be a string, or a function that returns a string given the current props. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs-drag-source.html',e),f=function(){return e});(0,r.default)((0,a.default)(t),'Expected "spec" provided as the second argument to DragSource to be a plain object. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs-drag-source.html',t);var h=(0,c.default)(t);return(0,r.default)("function"==typeof n,'Expected "collect" provided as the third argument to DragSource to be a function that returns a plain object of props to inject. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs-drag-source.html',n),(0,r.default)((0,a.default)(p),'Expected "options" provided as the fourth argument to DragSource to be a plain object when specified. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs-drag-source.html',n),function(e){return(0,o.default)({connectBackend:function(e,t){return e.connectDragSource(t)},containerDisplayName:"DragSource",createHandler:h,registerHandler:s.default,createMonitor:l.default,createConnector:u.default,DecoratedComponent:e,getType:f,collect:n,options:p})}};var r=p(n(73)),a=p(n(94)),i=p(n(277)),o=p(n(533)),s=p(n(1049)),c=p(n(1050)),l=p(n(1051)),u=p(n(1052)),d=p(n(536));function p(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=r(n(393));t.isDisposable=a.default;var i=r(n(1046));t.Disposable=i.default;var o=r(n(1047));t.CompositeDisposable=o.default;var s=r(n(1048));t.SerialDisposable=s.default},function(e,t,n){"use strict";t.__esModule=!0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var a=function(){},i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.isDisposed=!1,this.action=t||a}return r(e,null,[{key:"empty",value:{dispose:a},enumerable:!0}]),e.prototype.dispose=function(){this.isDisposed||(this.action.call(null),this.isDisposed=!0)},e}();t.default=i,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var r,a=n(393),i=(r=a)&&r.__esModule?r:{default:r},o=function(){function e(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Array.isArray(n[0])&&1===n.length&&(n=n[0]);for(var a=0;a<n.length;a++)if(!i.default(n[a]))throw new Error("Expected a disposable");this.disposables=n,this.isDisposed=!1}return e.prototype.add=function(e){this.isDisposed?e.dispose():this.disposables.push(e)},e.prototype.remove=function(e){if(this.isDisposed)return!1;var t=this.disposables.indexOf(e);return-1!==t&&(this.disposables.splice(t,1),e.dispose(),!0)},e.prototype.dispose=function(){if(!this.isDisposed){for(var e=this.disposables.length,t=new Array(e),n=0;n<e;n++)t[n]=this.disposables[n];this.isDisposed=!0,this.disposables=[],this.length=0;for(n=0;n<e;n++)t[n].dispose()}},e}();t.default=o,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var r,a=n(393),i=(r=a)&&r.__esModule?r:{default:r},o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.isDisposed=!1,this.current=null}return e.prototype.getDisposable=function(){return this.current},e.prototype.setDisposable=function(){var e=arguments.length<=0||void 0===arguments[0]?null:arguments[0];if(null!=e&&!i.default(e))throw new Error("Expected either an empty value or a valid disposable");var t=this.isDisposed,n=void 0;t||(n=this.current,this.current=e),n&&n.dispose(),t&&e&&e.dispose()},e.prototype.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;var e=this.current;this.current=null,e&&e.dispose()}},e}();t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var r=n.getRegistry(),a=r.addSource(e,t);return{handlerId:a,unregister:function(){r.removeSource(a)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.default=function(e){Object.keys(e).forEach(function(t){(0,a.default)(o.indexOf(t)>-1,'Expected the drag source specification to only have some of the following keys: %s. Instead received a specification with an unexpected "%s" key. Read more: http://react-dnd.github.io/react-dnd/docs-drag-source.html',o.join(", "),t),(0,a.default)("function"==typeof e[t],"Expected %s in the drag source specification to be a function. Instead received a specification with %s: %s. Read more: http://react-dnd.github.io/react-dnd/docs-drag-source.html",t,t,e[t])}),s.forEach(function(t){(0,a.default)("function"==typeof e[t],"Expected %s in the drag source specification to be a function. Instead received a specification with %s: %s. Read more: http://react-dnd.github.io/react-dnd/docs-drag-source.html",t,t,e[t])});var t=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.monitor=e,this.props=null,this.component=null}return r(t,[{key:"receiveProps",value:function(e){this.props=e}},{key:"receiveComponent",value:function(e){this.component=e}},{key:"canDrag",value:function(){return!e.canDrag||e.canDrag(this.props,this.monitor)}},{key:"isDragging",value:function(t,n){return e.isDragging?e.isDragging(this.props,this.monitor):n===t.getSourceId()}},{key:"beginDrag",value:function(){var t=e.beginDrag(this.props,this.monitor,this.component);return t}},{key:"endDrag",value:function(){e.endDrag&&e.endDrag(this.props,this.monitor,this.component)}}]),t}();return function(e){return new t(e)}};var a=i(n(73));i(n(94));function i(e){return e&&e.__esModule?e:{default:e}}var o=["canDrag","beginDrag","isDragging","endDrag"],s=["beginDrag"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.default=function(e){return new l(e)};var a,i=n(73),o=(a=i)&&a.__esModule?a:{default:a};var s=!1,c=!1,l=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.internalMonitor=t.getMonitor()}return r(e,[{key:"receiveHandlerId",value:function(e){this.sourceId=e}},{key:"canDrag",value:function(){(0,o.default)(!s,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs-drag-source-monitor.html");try{return s=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{s=!1}}},{key:"isDragging",value:function(){(0,o.default)(!c,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs-drag-source-monitor.html");try{return c=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{c=!1}}},{key:"getItemType",value:function(){return this.internalMonitor.getItemType()}},{key:"getItem",value:function(){return this.internalMonitor.getItem()}},{key:"getDropResult",value:function(){return this.internalMonitor.getDropResult()}},{key:"didDrop",value:function(){return this.internalMonitor.didDrop()}},{key:"getInitialClientOffset",value:function(){return this.internalMonitor.getInitialClientOffset()}},{key:"getInitialSourceClientOffset",value:function(){return this.internalMonitor.getInitialSourceClientOffset()}},{key:"getSourceClientOffset",value:function(){return this.internalMonitor.getSourceClientOffset()}},{key:"getClientOffset",value:function(){return this.internalMonitor.getClientOffset()}},{key:"getDifferenceFromInitialOffset",value:function(){return this.internalMonitor.getDifferenceFromInitialOffset()}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=void 0,n=void 0,i=void 0,o=void 0,s=void 0,c=void 0,l=void 0;function u(){o&&(o(),o=null),t&&n&&(o=e.connectDragSource(t,n,i))}function d(){l&&(l(),l=null),t&&s&&(l=e.connectDragPreview(t,s,c))}return{receiveHandlerId:function(e){if(e===t)return;t=e,u(),d()},hooks:(0,r.default)({dragSource:function(e,t){e===n&&(0,a.default)(t,i)||(n=e,i=t,u())},dragPreview:function(e,t){e===s&&(0,a.default)(t,c)||(s=e,c=t,d())}})}};var r=i(n(534)),a=i(n(535));function i(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=e.ref;if((0,i.default)("string"!=typeof n,"Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://facebook.github.io/react/docs/more-about-refs.html#the-ref-callback-attribute"),!n)return(0,o.cloneElement)(e,{ref:t});return(0,o.cloneElement)(e,{ref:function(e){t(e),n&&n(e)}})};var r,a=n(73),i=(r=a)&&r.__esModule?r:{default:r},o=n(0)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var p=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};i.default.apply(void 0,["DropTarget","type, spec, collect[, options]"].concat(Array.prototype.slice.call(arguments)));var f=e;"function"!=typeof e&&((0,r.default)((0,d.default)(e,!0),'Expected "type" provided as the first argument to DropTarget to be a string, an array of strings, or a function that returns either given the current props. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs-drop-target.html',e),f=function(){return e});(0,r.default)((0,a.default)(t),'Expected "spec" provided as the second argument to DropTarget to be a plain object. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs-drop-target.html',t);var h=(0,c.default)(t);return(0,r.default)("function"==typeof n,'Expected "collect" provided as the third argument to DropTarget to be a function that returns a plain object of props to inject. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs-drop-target.html',n),(0,r.default)((0,a.default)(p),'Expected "options" provided as the fourth argument to DropTarget to be a plain object when specified. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs-drop-target.html',n),function(e){return(0,o.default)({connectBackend:function(e,t){return e.connectDropTarget(t)},containerDisplayName:"DropTarget",createHandler:h,registerHandler:s.default,createMonitor:l.default,createConnector:u.default,DecoratedComponent:e,getType:f,collect:n,options:p})}};var r=p(n(73)),a=p(n(94)),i=p(n(277)),o=p(n(533)),s=p(n(1055)),c=p(n(1056)),l=p(n(1057)),u=p(n(1058)),d=p(n(536));function p(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var r=n.getRegistry(),a=r.addTarget(e,t);return{handlerId:a,unregister:function(){r.removeTarget(a)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.default=function(e){Object.keys(e).forEach(function(t){(0,a.default)(o.indexOf(t)>-1,'Expected the drop target specification to only have some of the following keys: %s. Instead received a specification with an unexpected "%s" key. Read more: http://react-dnd.github.io/react-dnd/docs-drop-target.html',o.join(", "),t),(0,a.default)("function"==typeof e[t],"Expected %s in the drop target specification to be a function. Instead received a specification with %s: %s. Read more: http://react-dnd.github.io/react-dnd/docs-drop-target.html",t,t,e[t])});var t=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.monitor=e,this.props=null,this.component=null}return r(t,[{key:"receiveProps",value:function(e){this.props=e}},{key:"receiveMonitor",value:function(e){this.monitor=e}},{key:"receiveComponent",value:function(e){this.component=e}},{key:"canDrop",value:function(){return!e.canDrop||e.canDrop(this.props,this.monitor)}},{key:"hover",value:function(){e.hover&&e.hover(this.props,this.monitor,this.component)}},{key:"drop",value:function(){if(e.drop){var t=e.drop(this.props,this.monitor,this.component);return t}}}]),t}();return function(e){return new t(e)}};var a=i(n(73));i(n(94));function i(e){return e&&e.__esModule?e:{default:e}}var o=["canDrop","hover","drop"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.default=function(e){return new c(e)};var a,i=n(73),o=(a=i)&&a.__esModule?a:{default:a};var s=!1,c=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.internalMonitor=t.getMonitor()}return r(e,[{key:"receiveHandlerId",value:function(e){this.targetId=e}},{key:"canDrop",value:function(){(0,o.default)(!s,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs-drop-target-monitor.html");try{return s=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{s=!1}}},{key:"isOver",value:function(e){return this.internalMonitor.isOverTarget(this.targetId,e)}},{key:"getItemType",value:function(){return this.internalMonitor.getItemType()}},{key:"getItem",value:function(){return this.internalMonitor.getItem()}},{key:"getDropResult",value:function(){return this.internalMonitor.getDropResult()}},{key:"didDrop",value:function(){return this.internalMonitor.didDrop()}},{key:"getInitialClientOffset",value:function(){return this.internalMonitor.getInitialClientOffset()}},{key:"getInitialSourceClientOffset",value:function(){return this.internalMonitor.getInitialSourceClientOffset()}},{key:"getSourceClientOffset",value:function(){return this.internalMonitor.getSourceClientOffset()}},{key:"getClientOffset",value:function(){return this.internalMonitor.getClientOffset()}},{key:"getDifferenceFromInitialOffset",value:function(){return this.internalMonitor.getDifferenceFromInitialOffset()}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=void 0,n=void 0,i=void 0,o=void 0;function s(){o&&(o(),o=null),t&&n&&(o=e.connectDropTarget(t,n,i))}return{receiveHandlerId:function(e){if(e===t)return;t=e,s()},hooks:(0,r.default)({dropTarget:function(e,t){e===n&&(0,a.default)(t,i)||(n=e,i=t,s())}})}};var r=i(n(534)),a=i(n(535));function i(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";var r=n(1060),a=n(1061),i=n(1062);e.exports=function(){function e(e,t,n,r,o,s){s!==i&&a(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=r,n.PropTypes=n,n}},function(e,t,n){"use strict";function r(e){return function(){return e}}var a=function(){};a.thatReturns=r,a.thatReturnsFalse=r(!1),a.thatReturnsTrue=r(!0),a.thatReturnsNull=r(null),a.thatReturnsThis=function(){return this},a.thatReturnsArgument=function(e){return e},e.exports=a},function(e,t,n){"use strict";var r=function(e){};e.exports=function(e,t,n,a,i,o,s,c){if(r(t),!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,a,i,o,s,c],d=0;(l=new Error(t.replace(/%s/g,function(){return u[d++]}))).name="Invariant Violation"}throw l.framesToPop=1,l}}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){var r=n(1064),a=n(1112),i=n(552);e.exports=function(e){var t=a(e);return 1==t.length&&t[0][2]?i(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},function(e,t,n){var r=n(278),a=n(541),i=1,o=2;e.exports=function(e,t,n,s){var c=n.length,l=c,u=!s;if(null==e)return!l;for(e=Object(e);c--;){var d=n[c];if(u&&d[2]?d[1]!==e[d[0]]:!(d[0]in e))return!1}for(;++c<l;){var p=(d=n[c])[0],f=e[p],h=d[1];if(u&&d[2]){if(void 0===f&&!(p in e))return!1}else{var m=new r;if(s)var g=s(f,h,p,e,t,m);if(!(void 0===g?a(h,f,i|o,s,m):g))return!1}}return!0}},function(e,t){e.exports=function(){this.__data__=[],this.size=0}},function(e,t,n){var r=n(280),a=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0||(n==t.length-1?t.pop():a.call(t,n,1),--this.size,0))}},function(e,t,n){var r=n(280);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},function(e,t,n){var r=n(280);e.exports=function(e){return r(this.__data__,e)>-1}},function(e,t,n){var r=n(280);e.exports=function(e,t){var n=this.__data__,a=r(n,e);return a<0?(++this.size,n.push([e,t])):n[a][1]=t,this}},function(e,t,n){var r=n(279);e.exports=function(){this.__data__=new r,this.size=0}},function(e,t){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},function(e,t){e.exports=function(e){return this.__data__.get(e)}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t,n){var r=n(279),a=n(394),i=n(395),o=200;e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var s=n.__data__;if(!a||s.length<o-1)return s.push([e,t]),this.size=++n.size,this;n=this.__data__=new i(s)}return n.set(e,t),this.size=n.size,this}},function(e,t,n){var r=n(281),a=n(1078),i=n(118),o=n(540),s=/^\[object .+?Constructor\]$/,c=Function.prototype,l=Object.prototype,u=c.toString,d=l.hasOwnProperty,p=RegExp("^"+u.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!i(e)||a(e))&&(r(e)?p:s).test(o(e))}},function(e,t,n){var r=n(189),a=Object.prototype,i=a.hasOwnProperty,o=a.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=i.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(e){}var a=o.call(e);return r&&(t?e[s]=n:delete e[s]),a}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t,n){var r,a=n(1079),i=(r=/[^.]+$/.exec(a&&a.keys&&a.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(e){return!!i&&i in e}},function(e,t,n){var r=n(93)["__core-js_shared__"];e.exports=r},function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e,t,n){var r=n(1082),a=n(279),i=n(394);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(i||a),string:new r}}},function(e,t,n){var r=n(1083),a=n(1084),i=n(1085),o=n(1086),s=n(1087);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=a,c.prototype.get=i,c.prototype.has=o,c.prototype.set=s,e.exports=c},function(e,t,n){var r=n(282);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(e,t){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},function(e,t,n){var r=n(282),a="__lodash_hash_undefined__",i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return n===a?void 0:n}return i.call(t,e)?t[e]:void 0}},function(e,t,n){var r=n(282),a=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:a.call(t,e)}},function(e,t,n){var r=n(282),a="__lodash_hash_undefined__";e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?a:t,this}},function(e,t,n){var r=n(283);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},function(e,t){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},function(e,t,n){var r=n(283);e.exports=function(e){return r(this,e).get(e)}},function(e,t,n){var r=n(283);e.exports=function(e){return r(this,e).has(e)}},function(e,t,n){var r=n(283);e.exports=function(e,t){var n=r(this,e),a=n.size;return n.set(e,t),this.size+=n.size==a?0:1,this}},function(e,t,n){var r=n(278),a=n(542),i=n(1099),o=n(1102),s=n(227),c=n(86),l=n(286),u=n(398),d=1,p="[object Arguments]",f="[object Array]",h="[object Object]",m=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,g,v,b){var y=c(e),E=c(t),_=y?f:s(e),w=E?f:s(t),S=(_=_==p?h:_)==h,k=(w=w==p?h:w)==h,C=_==w;if(C&&l(e)){if(!l(t))return!1;y=!0,S=!1}if(C&&!S)return b||(b=new r),y||u(e)?a(e,t,n,g,v,b):i(e,t,_,n,g,v,b);if(!(n&d)){var N=S&&m.call(e,"__wrapped__"),O=k&&m.call(t,"__wrapped__");if(N||O){var x=N?e.value():e,T=O?t.value():t;return b||(b=new r),v(x,T,n,g,b)}}return!!C&&(b||(b=new r),o(e,t,n,g,v,b))}},function(e,t,n){var r=n(395),a=n(1095),i=n(1096);function o(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}o.prototype.add=o.prototype.push=a,o.prototype.has=i,e.exports=o},function(e,t){var n="__lodash_hash_undefined__";e.exports=function(e){return this.__data__.set(e,n),this}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},function(e,t){e.exports=function(e,t){return e.has(t)}},function(e,t,n){var r=n(189),a=n(543),i=n(226),o=n(542),s=n(1100),c=n(1101),l=1,u=2,d="[object Boolean]",p="[object Date]",f="[object Error]",h="[object Map]",m="[object Number]",g="[object RegExp]",v="[object Set]",b="[object String]",y="[object Symbol]",E="[object ArrayBuffer]",_="[object DataView]",w=r?r.prototype:void 0,S=w?w.valueOf:void 0;e.exports=function(e,t,n,r,w,k,C){switch(n){case _:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case E:return!(e.byteLength!=t.byteLength||!k(new a(e),new a(t)));case d:case p:case m:return i(+e,+t);case f:return e.name==t.name&&e.message==t.message;case g:case b:return e==t+"";case h:var N=s;case v:var O=r&l;if(N||(N=c),e.size!=t.size&&!O)return!1;var x=C.get(e);if(x)return x==t;r|=u,C.set(e,t);var T=o(N(e),N(t),r,w,k,C);return C.delete(e),T;case y:if(S)return S.call(e)==S.call(t)}return!1}},function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}},function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}},function(e,t,n){var r=n(544),a=1,i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,o,s,c){var l=n&a,u=r(e),d=u.length;if(d!=r(t).length&&!l)return!1;for(var p=d;p--;){var f=u[p];if(!(l?f in t:i.call(t,f)))return!1}var h=c.get(e);if(h&&c.get(t))return h==t;var m=!0;c.set(e,t),c.set(t,e);for(var g=l;++p<d;){var v=e[f=u[p]],b=t[f];if(o)var y=l?o(b,v,f,t,e,c):o(v,b,f,e,t,c);if(!(void 0===y?v===b||s(v,b,n,o,c):y)){m=!1;break}g||(g="constructor"==f)}if(m&&!g){var E=e.constructor,_=t.constructor;E!=_&&"constructor"in e&&"constructor"in t&&!("function"==typeof E&&E instanceof E&&"function"==typeof _&&_ instanceof _)&&(m=!1)}return c.delete(e),c.delete(t),m}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,a=0,i=[];++n<r;){var o=e[n];t(o,n,e)&&(i[a++]=o)}return i}},function(e,t){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},function(e,t,n){var r=n(172),a=n(109),i="[object Arguments]";e.exports=function(e){return a(e)&&r(e)==i}},function(e,t){e.exports=function(){return!1}},function(e,t,n){var r=n(172),a=n(399),i=n(109),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1,e.exports=function(e){return i(e)&&a(e.length)&&!!o[r(e)]}},function(e,t,n){var r=n(549)(Object.keys,Object);e.exports=r},function(e,t,n){var r=n(171)(n(93),"DataView");e.exports=r},function(e,t,n){var r=n(171)(n(93),"Promise");e.exports=r},function(e,t,n){var r=n(171)(n(93),"Set");e.exports=r},function(e,t,n){var r=n(551),a=n(284);e.exports=function(e){for(var t=a(e),n=t.length;n--;){var i=t[n],o=e[i];t[n]=[i,o,r(o)]}return t}},function(e,t,n){var r=n(541),a=n(446),i=n(1117),o=n(403),s=n(551),c=n(552),l=n(229),u=1,d=2;e.exports=function(e,t){return o(e)&&s(t)?c(l(e),t):function(n){var o=a(n,e);return void 0===o&&o===t?i(n,e):r(t,o,u|d)}}},function(e,t,n){var r=n(1115),a=500;e.exports=function(e){var t=r(e,function(e){return n.size===a&&n.clear(),e}),n=t.cache;return t}},function(e,t,n){var r=n(395),a="Expected a function";function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(a);var n=function(){var r=arguments,a=t?t.apply(this,r):r[0],i=n.cache;if(i.has(a))return i.get(a);var o=e.apply(this,r);return n.cache=i.set(a,o)||i,o};return n.cache=new(i.Cache||r),n}i.Cache=r,e.exports=i},function(e,t,n){var r=n(189),a=n(557),i=n(86),o=n(228),s=1/0,c=r?r.prototype:void 0,l=c?c.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(i(t))return a(t,e)+"";if(o(t))return l?l.call(t):"";var n=t+"";return"0"==n&&1/t==-s?"-0":n}},function(e,t,n){var r=n(1118),a=n(1119);e.exports=function(e,t){return null!=e&&a(e,t,r)}},function(e,t){e.exports=function(e,t){return null!=e&&t in Object(e)}},function(e,t,n){var r=n(554),a=n(285),i=n(86),o=n(287),s=n(399),c=n(229);e.exports=function(e,t,n){for(var l=-1,u=(t=r(t,e)).length,d=!1;++l<u;){var p=c(t[l]);if(!(d=null!=e&&n(e,p)))break;e=e[p]}return d||++l!=u?d:!!(u=null==e?0:e.length)&&s(u)&&o(p,u)&&(i(e)||a(e))}},function(e,t,n){var r=n(1121),a=n(1122),i=n(403),o=n(229);e.exports=function(e){return i(e)?r(o(e)):a(e)}},function(e,t){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},function(e,t,n){var r=n(553);e.exports=function(e){return function(t){return r(t,e)}}},function(e,t,n){var r=n(1124),a=1/0,i=1.7976931348623157e308;e.exports=function(e){return e?(e=r(e))===a||e===-a?(e<0?-1:1)*i:e==e?e:0:0===e?e:0}},function(e,t,n){var r=n(118),a=n(228),i=NaN,o=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,l=/^0o[0-7]+$/i,u=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(a(e))return i;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(o,"");var n=c.test(e);return n||l.test(e)?u(e.slice(2),n?2:8):s.test(e)?i:+e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._getTriggerRegex=void 0;var r=E(n(290)),a=E(n(291)),i=E(n(292)),o=E(n(293)),s=E(n(294)),c=E(n(295)),l=E(n(0)),u=E(n(11)),d=E(n(76)),p=E(n(88)),f=E(n(565)),h=E(n(55)),m=E(n(199)),g=n(193),v=E(n(416)),b=E(n(1184)),y=E(n(1187));function E(e){return e&&e.__esModule?e:{default:e}}var _=t._getTriggerRegex=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e instanceof RegExp)return e;var n=t.allowSpaceInQuery,r=v.default.escapeRegex(e);return new RegExp("(?:^|\\s)("+r+"([^"+(n?"":"\\s")+r+"]*))$")},w={TAB:9,RETURN:13,ESC:27,UP:38,DOWN:40},S=!1,k=function(e){function t(e){(0,i.default)(this,t);var n=(0,s.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));return C.call(n),n.suggestions={},n.state={focusIndex:0,selectionStart:null,selectionEnd:null,suggestions:{},caretPosition:null,suggestionsPosition:null},n}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){return l.default.createElement("div",(0,r.default)({ref:"container"},this.props.style),this.renderControl(),this.renderSuggestionsOverlay())}},{key:"componentDidMount",value:function(){this.updateSuggestionsPosition()}},{key:"componentDidUpdate",value:function(){this.updateSuggestionsPosition(),this.state.setSelectionAfterMentionChange&&(this.setState({setSelectionAfterMentionChange:!1}),this.setSelection(this.state.selectionStart,this.state.selectionEnd))}}]),t}(l.default.Component);k.propTypes={singleLine:u.default.bool,allowSpaceInQuery:u.default.bool,markup:u.default.string,value:u.default.string,displayTransform:u.default.func,onKeyDown:u.default.func,onSelect:u.default.func,onBlur:u.default.func,onChange:u.default.func,children:u.default.oneOfType([u.default.element,u.default.arrayOf(u.default.element)]).isRequired},k.defaultProps={markup:"@[__display__](__id__)",singleLine:!1,displayTransform:function(e,t,n){return t},onKeyDown:function(){return null},onSelect:function(){return null},onBlur:function(){return null}};var C=function(){var e=this;this.getInputProps=function(t){var n=e.props,a=n.readOnly,i=n.disabled,o=n.style,s=(0,h.default)(e.props,"style",(0,p.default)(k.propTypes));return(0,r.default)({},s,o("input"),{value:e.getPlainText()},!a&&!i&&{onChange:e.handleChange,onSelect:e.handleSelect,onKeyDown:e.handleKeyDown,onBlur:e.handleBlur,onCompositionStart:e.handleCompositionStart,onCompositionEnd:e.handleCompositionEnd})},this.renderControl=function(){var t=e.props,n=t.singleLine,r=t.style,a=e.getInputProps(!n);return l.default.createElement("div",r("control"),e.renderHighlighter(a.style),n?e.renderInput(a):e.renderTextarea(a))},this.renderInput=function(e){return l.default.createElement("input",(0,r.default)({type:"text",ref:"input"},e))},this.renderTextarea=function(e){return l.default.createElement("textarea",(0,r.default)({ref:"input"},e))},this.renderSuggestionsOverlay=function(){return v.default.isNumber(e.state.selectionStart)?l.default.createElement(b.default,{style:e.props.style("suggestions"),position:e.state.suggestionsPosition,focusIndex:e.state.focusIndex,scrollFocusedIntoView:e.state.scrollFocusedIntoView,ref:"suggestions",suggestions:e.state.suggestions,onSelect:e.addMention,onMouseDown:e.handleSuggestionsMouseDown,onMouseEnter:function(t){return e.setState({focusIndex:t,scrollFocusedIntoView:!1})},isLoading:e.isLoading()}):null},this.renderHighlighter=function(t){var n=e.state,r=n.selectionStart,a=n.selectionEnd,i=e.props,o=i.markup,s=i.displayTransform,c=i.singleLine,u=i.children,d=i.value,p=i.style;return l.default.createElement(y.default,{ref:"highlighter",style:p("highlighter"),inputStyle:t,value:d,markup:o,displayTransform:s,singleLine:c,selection:{start:r,end:a},onCaretPositionChange:function(t){return e.setState({caretPosition:t})}},u)},this.getPlainText=function(){return v.default.getPlainText(e.props.value||"",e.props.markup,e.props.displayTransform)},this.executeOnChange=function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];var i,o;return e.props.onChange?(i=e.props).onChange.apply(i,[t].concat(r)):e.props.valueLink?(o=e.props.valueLink).requestChange.apply(o,[t.target.value].concat(r)):void 0},this.handleChange=function(t){if((document.activeElement&&document.activeElement.contentDocument||document).activeElement===t.target){var n=e.props.value||"",r=t.target.value,a=v.default.applyChangeToValue(n,e.props.markup,r,e.state.selectionStart,e.state.selectionEnd,t.target.selectionEnd,e.props.displayTransform);r=v.default.getPlainText(a,e.props.markup,e.props.displayTransform);var i=t.target.selectionStart,o=t.target.selectionEnd,s=!1,c=v.default.findStartOfMentionInPlainText(n,e.props.markup,i,e.props.displayTransform);void 0!==c&&e.state.selectionEnd>c&&(o=i=c,s=!0),e.setState({selectionStart:i,selectionEnd:o,setSelectionAfterMentionChange:s});var l=v.default.getMentions(a,e.props.markup),u={target:{value:a}};e.executeOnChange(u,a,r,l)}},this.handleSelect=function(t){if(!S){e.setState({selectionStart:t.target.selectionStart,selectionEnd:t.target.selectionEnd});var n=e.refs.input;t.target.selectionStart===t.target.selectionEnd?e.updateMentionsQueries(n.value,t.target.selectionStart):e.clearSuggestions(),e.updateHighlighterScroll(),e.props.onSelect(t)}},this.handleKeyDown=function(t){var n=v.default.countSuggestions(e.state.suggestions),r=e.refs.suggestions;if(0!==n&&r)switch((0,f.default)(w).indexOf(t.keyCode)>=0&&t.preventDefault(),t.keyCode){case w.ESC:return void e.clearSuggestions();case w.DOWN:return void e.shiftFocus(1);case w.UP:return void e.shiftFocus(-1);case w.RETURN:case w.TAB:return void e.selectFocused()}else e.props.onKeyDown(t)},this.shiftFocus=function(t){var n=v.default.countSuggestions(e.state.suggestions);e.setState({focusIndex:(n+e.state.focusIndex+t)%n,scrollFocusedIntoView:!0})},this.selectFocused=function(){var t=e.state,n=t.suggestions,r=t.focusIndex,a=v.default.getSuggestion(n,r),i=a.suggestion,o=a.descriptor;e.addMention(i,o),e.setState({focusIndex:0})},this.handleBlur=function(t){var n=e._suggestionsMouseDown;e._suggestionsMouseDown=!1,n||e.setState({selectionStart:null,selectionEnd:null}),window.setTimeout(function(){e.updateHighlighterScroll()},1),e.props.onBlur(t,n)},this.handleSuggestionsMouseDown=function(t){e._suggestionsMouseDown=!0},this.updateSuggestionsPosition=function(){var t=e.state.caretPosition;if(t&&e.refs.suggestions){var n=e.refs.container,r=d.default.findDOMNode(e.refs.suggestions),a=d.default.findDOMNode(e.refs.highlighter);if(r){var i=t.left-a.scrollLeft,o={};i+r.offsetWidth>n.offsetWidth?o.right=0:o.left=i,o.top=t.top-a.scrollTop,(0,m.default)(o,e.state.suggestionsPosition)||e.setState({suggestionsPosition:o})}}},this.updateHighlighterScroll=function(){if(e.refs.input&&e.refs.highlighter){var t=e.refs.input;d.default.findDOMNode(e.refs.highlighter).scrollLeft=t.scrollLeft}},this.handleCompositionStart=function(){S=!0},this.handleCompositionEnd=function(){S=!1},this.setSelection=function(t,n){if(null!==t&&null!==n){var r=e.refs.input;if(r.setSelectionRange)r.setSelectionRange(t,n);else if(r.createTextRange){var a=r.createTextRange();a.collapse(!0),a.moveEnd("character",n),a.moveStart("character",t),a.select()}}},this.updateMentionsQueries=function(t,n){e._queryId++,e.suggestions={},e.setState({suggestions:{}});var r=e.props.value||"",a=v.default.mapPlainTextIndex(r,e.props.markup,n,"NULL",e.props.displayTransform);if(null!==a){var i=v.default.getEndOfLastMention(r.substring(0,a),e.props.markup,e.props.displayTransform),o=t.substring(i,n);l.default.Children.forEach(e.props.children,function(n){if(n){var r=_(n.props.trigger,e.props),a=o.match(r);if(a){var s=i+o.indexOf(a[1],a.index);e.queryData(a[2],n,s,s+a[1].length,t)}}})}},this.clearSuggestions=function(){e._queryId++,e.suggestions={},e.setState({suggestions:{},focusIndex:0})},this.queryData=function(t,n,r,a,i){var o,s=((o=n.props.data)instanceof Array?function(e,t){for(var n=[],r=0,a=o.length;r<a;++r)(o[r].display||o[r].id).toLowerCase().indexOf(e.toLowerCase())>=0&&n.push(o[r]);return n}:o)(t,e.updateSuggestions.bind(null,e._queryId,n,t,r,a,i));s instanceof Array&&e.updateSuggestions(e._queryId,n,t,r,a,i,s)},this.updateSuggestions=function(t,n,r,a,i,o,s){if(t===e._queryId){var c={};c[n.props.type]={query:r,mentionDescriptor:n,querySequenceStart:a,querySequenceEnd:i,results:s,plainTextValue:o},e.suggestions=v.default.extend({},e.suggestions,c);var l=e.state.focusIndex,u=v.default.countSuggestions(e.suggestions);e.setState({suggestions:e.suggestions,focusIndex:l>=u?Math.max(u-1,0):l})}},this.addMention=function(t,n){var r=n.mentionDescriptor,a=n.querySequenceStart,i=n.querySequenceEnd,o=n.plainTextValue,s=e.props.value||"",c=v.default.mapPlainTextIndex(s,e.props.markup,a,"START",e.props.displayTransform),l=c+i-a,u=v.default.makeMentionsMarkup(e.props.markup,t.id,t.display,r.props.type);r.props.appendSpaceOnAdd&&(u+=" ");var d=v.default.spliceString(s,c,l,u);e.refs.input.focus();var p=e.props.displayTransform(t.id,t.display,r.props.type);r.props.appendSpaceOnAdd&&(p+=" ");var f=a+p.length;e.setState({selectionStart:f,selectionEnd:f,setSelectionAfterMentionChange:!0});var h={target:{value:d}},m=v.default.getMentions(d,e.props.markup),g=v.default.spliceString(o,a,i,p);e.executeOnChange(h,d,g,m);var b=r.props.onAdd;b&&b(t.id,t.display),e.clearSuggestions()},this.isLoading=function(){var t=!1;return l.default.Children.forEach(e.props.children,function(e){t=t||e&&e.props.isLoading}),t},this._queryId=0},N="undefined"!=typeof navigator&&/iPhone|iPad|iPod/i.test(navigator.userAgent),O=(0,g.defaultStyle)({position:"relative",overflowY:"visible",input:{display:"block",position:"absolute",top:0,boxSizing:"border-box",backgroundColor:"transparent",width:"inherit"},"&multiLine":{input:(0,r.default)({width:"100%",height:"100%",bottom:0,overflow:"hidden",resize:"none"},N?{marginTop:1,marginLeft:-3}:null)}},function(e){var t=e.singleLine;return{"&singleLine":t,"&multiLine":!t}});t.default=O(k)},function(e,t,n){n(1127),e.exports=n(79).Object.getPrototypeOf},function(e,t,n){var r=n(183),a=n(497);n(493)("getPrototypeOf",function(){return function(e){return a(r(e))}})},function(e,t,n){e.exports={default:n(1129),__esModule:!0}},function(e,t,n){n(1130);var r=n(79).Object;e.exports=function(e,t,n){return r.defineProperty(e,t,n)}},function(e,t,n){var r=n(106);r(r.S+r.F*!n(128),"Object",{defineProperty:n(117).f})},function(e,t,n){e.exports={default:n(1132),__esModule:!0}},function(e,t,n){n(372),n(504),e.exports=n(405).f("iterator")},function(e,t,n){e.exports={default:n(1134),__esModule:!0}},function(e,t,n){n(1135),n(503),n(1138),n(1139),e.exports=n(79).Symbol},function(e,t,n){"use strict";var r=n(127),a=n(168),i=n(128),o=n(106),s=n(496),c=n(374).KEY,l=n(167),u=n(365),d=n(262),p=n(258),f=n(107),h=n(405),m=n(406),g=n(1136),v=n(509),b=n(166),y=n(137),E=n(182),_=n(359),w=n(218),S=n(261),k=n(1137),C=n(563),N=n(117),O=n(219),x=C.f,T=N.f,R=k.f,P=r.Symbol,I=r.JSON,A=I&&I.stringify,M=f("_hidden"),D=f("toPrimitive"),j={}.propertyIsEnumerable,L=u("symbol-registry"),F=u("symbols"),B=u("op-symbols"),U=Object.prototype,H="function"==typeof P,q=r.QObject,G=!q||!q.prototype||!q.prototype.findChild,W=i&&l(function(){return 7!=S(T({},"a",{get:function(){return T(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=x(U,t);r&&delete U[t],T(e,t,n),r&&e!==U&&T(U,t,r)}:T,V=function(e){var t=F[e]=S(P.prototype);return t._k=e,t},z=H&&"symbol"==typeof P.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof P},Y=function(e,t,n){return e===U&&Y(B,t,n),b(e),t=_(t,!0),b(n),a(F,t)?(n.enumerable?(a(e,M)&&e[M][t]&&(e[M][t]=!1),n=S(n,{enumerable:w(0,!1)})):(a(e,M)||T(e,M,w(1,{})),e[M][t]=!0),W(e,t,n)):T(e,t,n)},Q=function(e,t){b(e);for(var n,r=g(t=E(t)),a=0,i=r.length;i>a;)Y(e,n=r[a++],t[n]);return e},K=function(e){var t=j.call(this,e=_(e,!0));return!(this===U&&a(F,e)&&!a(B,e))&&(!(t||!a(this,e)||!a(F,e)||a(this,M)&&this[M][e])||t)},X=function(e,t){if(e=E(e),t=_(t,!0),e!==U||!a(F,t)||a(B,t)){var n=x(e,t);return!n||!a(F,t)||a(e,M)&&e[M][t]||(n.enumerable=!0),n}},$=function(e){for(var t,n=R(E(e)),r=[],i=0;n.length>i;)a(F,t=n[i++])||t==M||t==c||r.push(t);return r},Z=function(e){for(var t,n=e===U,r=R(n?B:E(e)),i=[],o=0;r.length>o;)!a(F,t=r[o++])||n&&!a(U,t)||i.push(F[t]);return i};H||(s((P=function(){if(this instanceof P)throw TypeError("Symbol is not a constructor!");var e=p(arguments.length>0?arguments[0]:void 0),t=function(n){this===U&&t.call(B,n),a(this,M)&&a(this[M],e)&&(this[M][e]=!1),W(this,e,w(1,n))};return i&&G&&W(U,e,{configurable:!0,set:t}),V(e)}).prototype,"toString",function(){return this._k}),C.f=X,N.f=Y,n(562).f=k.f=$,n(259).f=K,n(367).f=Z,i&&!n(257)&&s(U,"propertyIsEnumerable",K,!0),h.f=function(e){return V(f(e))}),o(o.G+o.W+o.F*!H,{Symbol:P});for(var J="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ee=0;J.length>ee;)f(J[ee++]);for(var te=O(f.store),ne=0;te.length>ne;)m(te[ne++]);o(o.S+o.F*!H,"Symbol",{for:function(e){return a(L,e+="")?L[e]:L[e]=P(e)},keyFor:function(e){if(!z(e))throw TypeError(e+" is not a symbol!");for(var t in L)if(L[t]===e)return t},useSetter:function(){G=!0},useSimple:function(){G=!1}}),o(o.S+o.F*!H,"Object",{create:function(e,t){return void 0===t?S(e):Q(S(e),t)},defineProperty:Y,defineProperties:Q,getOwnPropertyDescriptor:X,getOwnPropertyNames:$,getOwnPropertySymbols:Z}),I&&o(o.S+o.F*(!H||l(function(){var e=P();return"[null]"!=A([e])||"{}"!=A({a:e})||"{}"!=A(Object(e))})),"JSON",{stringify:function(e){for(var t,n,r=[e],a=1;arguments.length>a;)r.push(arguments[a++]);if(n=t=r[1],(y(t)||void 0!==e)&&!z(e))return v(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!z(t))return t}),r[1]=t,A.apply(I,r)}}),P.prototype[D]||n(145)(P.prototype,D,P.prototype.valueOf),d(P,"Symbol"),d(Math,"Math",!0),d(r.JSON,"JSON",!0)},function(e,t,n){var r=n(219),a=n(367),i=n(259);e.exports=function(e){var t=r(e),n=a.f;if(n)for(var o,s=n(e),c=i.f,l=0;s.length>l;)c.call(e,o=s[l++])&&t.push(o);return t}},function(e,t,n){var r=n(182),a=n(562).f,i={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return o&&"[object Window]"==i.call(e)?function(e){try{return a(e)}catch(e){return o.slice()}}(e):a(r(e))}},function(e,t,n){n(406)("asyncIterator")},function(e,t,n){n(406)("observable")},function(e,t,n){e.exports={default:n(1141),__esModule:!0}},function(e,t,n){n(1142),e.exports=n(79).Object.setPrototypeOf},function(e,t,n){var r=n(106);r(r.S,"Object",{setPrototypeOf:n(1143).set})},function(e,t,n){var r=n(137),a=n(166),i=function(e,t){if(a(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,r){try{(r=n(165)(Function.call,n(563).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return i(e,n),t?e.__proto__=n:r(e,n),e}}({},!1):void 0),check:i}},function(e,t,n){e.exports={default:n(1145),__esModule:!0}},function(e,t,n){n(1146);var r=n(79).Object;e.exports=function(e,t){return r.create(e,t)}},function(e,t,n){var r=n(106);r(r.S,"Object",{create:n(261)})},function(e,t,n){var r=n(527)(Object.keys,Object);e.exports=r},function(e,t,n){var r=n(139);e.exports=function(e,t){return r(t,function(t){return e[t]})}},function(e,t,n){var r=n(296),a=n(407),i=n(408),o=n(1155),s=n(1156),c=n(566),l=n(297),u=n(1157),d=n(1158),p=n(569),f=n(410),h=n(231),m=n(1161),g=n(1162),v=n(574),b=n(60),y=n(224),E=n(1166),_=n(99),w=n(1168),S=n(88),k=1,C=2,N=4,O="[object Arguments]",x="[object Function]",T="[object GeneratorFunction]",R="[object Object]",P={};P[O]=P["[object Array]"]=P["[object ArrayBuffer]"]=P["[object DataView]"]=P["[object Boolean]"]=P["[object Date]"]=P["[object Float32Array]"]=P["[object Float64Array]"]=P["[object Int8Array]"]=P["[object Int16Array]"]=P["[object Int32Array]"]=P["[object Map]"]=P["[object Number]"]=P[R]=P["[object RegExp]"]=P["[object Set]"]=P["[object String]"]=P["[object Symbol]"]=P["[object Uint8Array]"]=P["[object Uint8ClampedArray]"]=P["[object Uint16Array]"]=P["[object Uint32Array]"]=!0,P["[object Error]"]=P[x]=P["[object WeakMap]"]=!1,e.exports=function e(t,n,I,A,M,D){var j,L=n&k,F=n&C,B=n&N;if(I&&(j=M?I(t,A,M,D):I(t)),void 0!==j)return j;if(!_(t))return t;var U=b(t);if(U){if(j=m(t),!L)return l(t,j)}else{var H=h(t),q=H==x||H==T;if(y(t))return c(t,L);if(H==R||H==O||q&&!M){if(j=F||q?{}:v(t),!L)return F?d(t,s(j,t)):u(t,o(j,t))}else{if(!P[H])return M?t:{};j=g(t,H,L)}}D||(D=new r);var G=D.get(t);if(G)return G;if(D.set(t,j),w(t))return t.forEach(function(r){j.add(e(r,n,I,r,t,D))}),j;if(E(t))return t.forEach(function(r,a){j.set(a,e(r,n,I,a,t,D))}),j;var W=B?F?f:p:F?keysIn:S,V=U?void 0:W(t);return a(V||t,function(r,a){V&&(r=t[a=r]),i(j,a,e(r,n,I,a,t,D))}),j}},function(e,t,n){var r=n(270);e.exports=function(){this.__data__=new r,this.size=0}},function(e,t){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},function(e,t){e.exports=function(e){return this.__data__.get(e)}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t,n){var r=n(270),a=n(383),i=n(382),o=200;e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var s=n.__data__;if(!a||s.length<o-1)return s.push([e,t]),this.size=++n.size,this;n=this.__data__=new i(s)}return n.set(e,t),this.size=n.size,this}},function(e,t,n){var r=n(190),a=n(88);e.exports=function(e,t){return e&&r(t,a(t),e)}},function(e,t,n){var r=n(190),a=n(222);e.exports=function(e,t){return e&&r(t,a(t),e)}},function(e,t,n){var r=n(190),a=n(409);e.exports=function(e,t){return r(e,a(e),t)}},function(e,t,n){var r=n(190),a=n(568);e.exports=function(e,t){return r(e,a(e),t)}},function(e,t,n){var r=n(170)(n(85),"DataView");e.exports=r},function(e,t,n){var r=n(170)(n(85),"Promise");e.exports=r},function(e,t){var n=Object.prototype.hasOwnProperty;e.exports=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&n.call(e,"index")&&(r.index=e.index,r.input=e.input),r}},function(e,t,n){var r=n(411),a=n(1163),i=n(1164),o=n(1165),s=n(573),c="[object Boolean]",l="[object Date]",u="[object Map]",d="[object Number]",p="[object RegExp]",f="[object Set]",h="[object String]",m="[object Symbol]",g="[object ArrayBuffer]",v="[object DataView]",b="[object Float32Array]",y="[object Float64Array]",E="[object Int8Array]",_="[object Int16Array]",w="[object Int32Array]",S="[object Uint8Array]",k="[object Uint8ClampedArray]",C="[object Uint16Array]",N="[object Uint32Array]";e.exports=function(e,t,n){var O=e.constructor;switch(t){case g:return r(e);case c:case l:return new O(+e);case v:return a(e,n);case b:case y:case E:case _:case w:case S:case k:case C:case N:return s(e,n);case u:return new O;case d:case h:return new O(e);case p:return i(e);case f:return new O;case m:return o(e)}}},function(e,t,n){var r=n(411);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},function(e,t){var n=/\w*$/;e.exports=function(e){var t=new e.constructor(e.source,n.exec(e));return t.lastIndex=e.lastIndex,t}},function(e,t,n){var r=n(185),a=r?r.prototype:void 0,i=a?a.valueOf:void 0;e.exports=function(e){return i?Object(i.call(e)):{}}},function(e,t,n){var r=n(1167),a=n(187),i=n(380),o=i&&i.isMap,s=o?a(o):r;e.exports=s},function(e,t,n){var r=n(231),a=n(108),i="[object Map]";e.exports=function(e){return a(e)&&r(e)==i}},function(e,t,n){var r=n(1169),a=n(187),i=n(380),o=i&&i.isSet,s=o?a(o):r;e.exports=s},function(e,t,n){var r=n(231),a=n(108),i="[object Set]";e.exports=function(e){return a(e)&&r(e)==i}},function(e,t,n){var r=n(191),a=n(575),i=n(1173),o=n(192);e.exports=function(e,t){return t=r(t,e),null==(e=i(e,t))||delete e[o(a(t))]}},function(e,t,n){var r=n(1172),a=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,o=r(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(a,function(e,n,r,a){t.push(r?a.replace(i,"$1"):n||e)}),t});e.exports=o},function(e,t,n){var r=n(525),a=500;e.exports=function(e){var t=r(e,function(e){return n.size===a&&n.clear(),e}),n=t.cache;return t}},function(e,t,n){var r=n(299),a=n(576);e.exports=function(e,t){return t.length<2?e:r(e,a(t,0,-1))}},function(e,t,n){var r=n(94);e.exports=function(e){return r(e)?void 0:e}},function(e,t,n){var r=n(296),a=n(579),i=n(1177),o=n(1179),s=n(231),c=n(60),l=n(224),u=n(265),d=1,p="[object Arguments]",f="[object Array]",h="[object Object]",m=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,g,v,b){var y=c(e),E=c(t),_=y?f:s(e),w=E?f:s(t),S=(_=_==p?h:_)==h,k=(w=w==p?h:w)==h,C=_==w;if(C&&l(e)){if(!l(t))return!1;y=!0,S=!1}if(C&&!S)return b||(b=new r),y||u(e)?a(e,t,n,g,v,b):i(e,t,_,n,g,v,b);if(!(n&d)){var N=S&&m.call(e,"__wrapped__"),O=k&&m.call(t,"__wrapped__");if(N||O){var x=N?e.value():e,T=O?t.value():t;return b||(b=new r),v(x,T,n,g,b)}}return!!C&&(b||(b=new r),o(e,t,n,g,v,b))}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},function(e,t,n){var r=n(185),a=n(572),i=n(186),o=n(579),s=n(1178),c=n(386),l=1,u=2,d="[object Boolean]",p="[object Date]",f="[object Error]",h="[object Map]",m="[object Number]",g="[object RegExp]",v="[object Set]",b="[object String]",y="[object Symbol]",E="[object ArrayBuffer]",_="[object DataView]",w=r?r.prototype:void 0,S=w?w.valueOf:void 0;e.exports=function(e,t,n,r,w,k,C){switch(n){case _:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case E:return!(e.byteLength!=t.byteLength||!k(new a(e),new a(t)));case d:case p:case m:return i(+e,+t);case f:return e.name==t.name&&e.message==t.message;case g:case b:return e==t+"";case h:var N=s;case v:var O=r&l;if(N||(N=c),e.size!=t.size&&!O)return!1;var x=C.get(e);if(x)return x==t;r|=u,C.set(e,t);var T=o(N(e),N(t),r,w,k,C);return C.delete(e),T;case y:if(S)return S.call(e)==S.call(t)}return!1}},function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}},function(e,t,n){var r=n(569),a=1,i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,o,s,c){var l=n&a,u=r(e),d=u.length;if(d!=r(t).length&&!l)return!1;for(var p=d;p--;){var f=u[p];if(!(l?f in t:i.call(t,f)))return!1}var h=c.get(e);if(h&&c.get(t))return h==t;var m=!0;c.set(e,t),c.set(t,e);for(var g=l;++p<d;){var v=e[f=u[p]],b=t[f];if(o)var y=l?o(b,v,f,t,e,c):o(v,b,f,e,t,c);if(!(void 0===y?v===b||s(v,b,n,o,c):y)){m=!1;break}g||(g="constructor"==f)}if(m&&!g){var E=e.constructor,_=t.constructor;E!=_&&"constructor"in e&&"constructor"in t&&!("function"==typeof E&&E instanceof E&&"function"==typeof _&&_ instanceof _)&&(m=!1)}return c.delete(e),c.delete(t),m}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n(584),i=(r=a)&&r.__esModule?r:{default:r};var o={};t.default=function(e){return function(t,n){var r=n||o;e.memoize=e.memoize||new WeakMap;var a=void 0;e.memoize.has(r)?a=e.memoize.get(r):(a={},e.memoize.set(r,a));var s=(0,i.default)(t).join(" ");return s in a?a[s]:a[s]=e(t||[],n)}},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),o=d(n(444)),s=d(n(1182)),c=n(300),l=d(n(580)),u=n(585);function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}t.default=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return!0};return function(d){var f=function(o){function f(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(f.__proto__||Object.getPrototypeOf(f)).call(this,t,n));r.setWrappedInstance=function(e){r.wrappedInstance=e;var t=r.props.innerRef;"function"==typeof t?t(e):t&&"string"!=typeof t&&(t.current=e)};var a=t.style,i=t.className,o=t.classNames,s=(t.innerRef,p(t,["style","className","classNames","innerRef"]));return r.substyle=(0,l.default)({style:a,className:i,classNames:o},r.context[u.PROPS_DECORATOR_CONTEXT_NAME]),"function"==typeof e&&(r.defaultStyle=e(s)),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(f,i.Component),a(f,[{key:"shouldComponentUpdate",value:function(t){var r=t.style,a=t.className,i=t.classNames,o=p(t,["style","className","classNames"]),s=this.props,c=s.style,d=s.className,f=s.classNames,h=(s.innerRef,p(s,["style","className","classNames","innerRef"]));return r===c&&a===d&&i===f||(this.substyle=(0,l.default)({style:r,className:a,classNames:i},this.context[u.PROPS_DECORATOR_CONTEXT_NAME])),"function"==typeof e&&n(o,h)&&(this.defaultStyle=e(o)),!0}},{key:"render",value:function(){var n,a=this.props,o=(a.innerRef,a.style,a.className,a.classNames,p(a,["innerRef","style","className","classNames"])),s=this.getWrappedComponent(),c=t?t(o):[];return(0,i.createElement)(s,r({style:this.substyle(c,this.defaultStyle||e),ref:(n=s,n.prototype&&!n.prototype.render?void 0:this.setWrappedInstance)},o))}},{key:"getWrappedComponent",value:function(){var e=this.context[u.ENHANCER_CONTEXT_NAME],t=void 0===e?c.identity:e;return this.memoizedEnhance!==t&&(this.memoizedEnhance=t,this.enhancedWrappedComponent=t(d),this.enhancedWrappedComponent.propTypes&&(this.enhancedWrappedComponent.propTypes=r({},this.enhancedWrappedComponent.propTypes,{style:u.PropTypes.style}))),this.enhancedWrappedComponent||d}},{key:"getWrappedInstance",value:function(){return(0,s.default)(!0,"`getWrappedInstance()` is deprecated and will be removed with the next major release. Instead, use the `innerRef` prop to get a ref to the wrapped instance."),this.wrappedInstance}}]),f}(),h=d.displayName||d.name;return f.displayName="withDefaultStyle("+h+")",f.propTypes=r({},d.propTypes,u.PropTypes),f.contextTypes=u.ContextTypes,f.WrappedComponent=d,(0,o.default)(f,d)}},e.exports=t.default},function(e,t,n){"use strict";e.exports=function(){}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(0)),o=n(11),s=(r=o)&&r.__esModule?r:{default:r},c=n(585);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),a(t,[{key:"getChildContext",value:function(){var e;return l(e={},c.ENHANCER_CONTEXT_NAME,this.props.enhancer),l(e,c.PROPS_DECORATOR_CONTEXT_NAME,this.props.propsDecorator),e}},{key:"render",value:function(){return i.Children.only(this.props.children)}}]),t}();t.default=u,u.propTypes={enhancer:s.default.func,propsDecorator:s.default.func,children:s.default.element.isRequired},u.childContextTypes=c.ContextTypes,u.displayName="EnhancerProvider",e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=v(n(586)),a=v(n(290)),i=v(n(291)),o=v(n(292)),s=v(n(293)),c=v(n(294)),l=v(n(295)),u=n(0),d=v(u),p=v(n(11)),f=n(193),h=v(n(416)),m=v(n(1185)),g=v(n(1186));function v(e){return e&&e.__esModule?e:{default:e}}var b=function(e){function t(){return(0,o.default)(this,t),(0,c.default)(this,(t.__proto__||(0,i.default)(t)).apply(this,arguments))}return(0,l.default)(t,e),(0,s.default)(t,[{key:"componentDidUpdate",value:function(){var e=this.refs.suggestions;if(e&&!(e.offsetHeight>=e.scrollHeight)&&this.props.scrollFocusedIntoView){var t=e.scrollTop,n=e.children[this.props.focusIndex].getBoundingClientRect(),r=n.top,a=n.bottom,i=e.getBoundingClientRect().top;a=a-i+t,(r=r-i+t)<t?e.scrollTop=r:a>e.offsetHeight&&(e.scrollTop=a-e.offsetHeight)}}},{key:"render",value:function(){var e=this.props,t=e.suggestions,n=e.isLoading,r=e.style,i=e.onMouseDown;return 0!==h.default.countSuggestions(t)||n?d.default.createElement("div",(0,a.default)({},r,{onMouseDown:i}),d.default.createElement("ul",(0,a.default)({ref:"suggestions"},r("list")),this.renderSuggestions()),this.renderLoadingIndicator()):null}},{key:"renderSuggestions",value:function(){var e=this;return h.default.getSuggestions(this.props.suggestions).reduce(function(t,n){var a=n.suggestions,i=n.descriptor;return[].concat((0,r.default)(t),(0,r.default)(a.map(function(n,r){return e.renderSuggestion(n,i,t.length+r)})))},[])}},{key:"renderSuggestion",value:function(e,t,n){var r=this,a=this.getID(e),i=n===this.props.focusIndex,o=t.mentionDescriptor,s=t.query;return d.default.createElement(m.default,{style:this.props.style("item"),key:a,id:a,ref:i?"focused":null,query:s,index:n,descriptor:o,suggestion:e,focused:i,onClick:function(){return r.select(e,t)},onMouseEnter:function(){return r.handleMouseEnter(n)}})}},{key:"getID",value:function(e){return e instanceof String?e:e.id}},{key:"renderLoadingIndicator",value:function(){if(this.props.isLoading)return d.default.createElement(g.default,this.props.style("loadingIndicator"))}},{key:"handleMouseEnter",value:function(e,t){this.props.onMouseEnter&&this.props.onMouseEnter(e)}},{key:"select",value:function(e,t){this.props.onSelect(e,t)}}]),t}(u.Component);b.propTypes={suggestions:p.default.object.isRequired,focusIndex:p.default.number,scrollFocusedIntoView:p.default.bool,isLoading:p.default.bool,onSelect:p.default.func},b.defaultProps={suggestions:{},onSelect:function(){return null}};var y=(0,f.defaultStyle)(function(e){var t=e.position;return(0,a.default)({position:"absolute",zIndex:1,backgroundColor:"white",marginTop:14,minWidth:100},t,{list:{margin:0,padding:0,listStyleType:"none"}})});t.default=y(b)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=m(n(290)),a=m(n(291)),i=m(n(292)),o=m(n(293)),s=m(n(294)),c=m(n(295)),l=n(0),u=m(l),d=m(n(11)),p=n(193),f=m(n(55)),h=m(n(88));function m(e){return e&&e.__esModule?e:{default:e}}var g=function(e){function t(){return(0,i.default)(this,t),(0,s.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments))}return(0,c.default)(t,e),(0,o.default)(t,[{key:"render",value:function(){var e=(0,f.default)(this.props,"style",(0,h.default)(t.propTypes));return u.default.createElement("li",(0,r.default)({},e,this.props.style),this.renderContent())}},{key:"renderContent",value:function(){var e=this.props,t=(e.id,e.query),n=e.descriptor,r=e.suggestion,a=e.index,i=this.getDisplay(),o=this.renderHighlightedDisplay(i,t);return n.props.renderSuggestion?n.props.renderSuggestion(r,t,o,a):o}},{key:"getDisplay",value:function(){var e=this.props.suggestion;if(e instanceof String)return e;var t=e.id,n=e.display;return t&&n?n:t}},{key:"renderHighlightedDisplay",value:function(e){var t=this.props,n=t.query,r=t.style,a=e.toLowerCase().indexOf(n.toLowerCase());return-1===a?u.default.createElement("span",r("display"),e):u.default.createElement("span",r("display"),e.substring(0,a),u.default.createElement("b",r("highlight"),e.substring(a,a+n.length)),e.substring(a+n.length))}}]),t}(l.Component);g.propTypes={id:d.default.string.isRequired,query:d.default.string.isRequired,index:d.default.number.isRequired,suggestion:d.default.oneOfType([d.default.string,d.default.shape({id:d.default.string.isRequired,display:d.default.string})]).isRequired,descriptor:d.default.object.isRequired,focused:d.default.bool};var v=(0,p.defaultStyle)({cursor:"pointer"},function(e){return{"&focused":e.focused}});t.default=v(g)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(0)),a=i(n(193));function i(e){return e&&e.__esModule?e:{default:e}}t.default=(0,a.default)(function(e){var t=e.style,n=t("spinner");return r.default.createElement("div",t,r.default.createElement("div",n,r.default.createElement("div",n(["element","element1"])),r.default.createElement("div",n(["element","element2"])),r.default.createElement("div",n(["element","element3"])),r.default.createElement("div",n(["element","element4"])),r.default.createElement("div",n(["element","element5"]))))})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=g(n(290)),a=g(n(291)),i=g(n(292)),o=g(n(293)),s=g(n(294)),c=g(n(295)),l=n(0),u=g(l),d=g(n(11)),p=n(193),f=g(n(199)),h=g(n(416)),m=g(n(587));function g(e){return e&&e.__esModule?e:{default:e}}var v=function(e){function t(){(0,i.default)(this,t);var e=(0,s.default)(this,(t.__proto__||(0,a.default)(t)).apply(this,arguments));return e.state={lastPosition:{}},e}return(0,c.default)(t,e),(0,o.default)(t,[{key:"componentDidMount",value:function(){this.notifyCaretPosition()}},{key:"componentDidUpdate",value:function(){this.notifyCaretPosition()}},{key:"notifyCaretPosition",value:function(){var e=this.refs.caret;if(e){var t={left:e.offsetLeft,top:e.offsetTop},n=this.state.lastPosition;(0,f.default)(n,t)||(this.setState({lastPosition:t}),this.props.onCaretPositionChange(t))}}},{key:"render",value:function(){var e,t=this,n=this.props,a=n.selection,i=n.value,o=n.markup,s=n.displayTransform,c=n.style,l=n.inputStyle;a.start===a.end&&(e=h.default.mapPlainTextIndex(i,o,a.start,"START",s));var d=[],p={},f=d,m=0,g=function(e,t,n,r,a,i,o){var s=function(e,t){return e.hasOwnProperty(t)?e[t]++:e[t]=0,t+"_"+e[t]}(p,r);f.push(this.getMentionComponentForMatch(r,a,i,s))}.bind(this);return h.default.iterateMentionsMarkup(i,o,function(n,r,a){if(h.default.isNumber(e)&&e>=r&&e<=r+n.length){var i=e-r;f.push(t.renderSubstring(n.substring(0,i),m)),f=[t.renderSubstring(n.substring(i),m)]}else f.push(t.renderSubstring(n,m));m++},g,s),f.push(" "),f!==d&&d.push(this.renderHighlighterCaret(f)),u.default.createElement("div",(0,r.default)({},c,{style:(0,r.default)({},l,c.style)}),d)}},{key:"renderSubstring",value:function(e,t){return u.default.createElement("span",(0,r.default)({},this.props.style("substring"),{key:t}),e)}},{key:"getMentionComponentForMatch",value:function(e,t,n,r){var a=l.Children.count(this.props.children),i={id:e,display:t,key:r};if(a>1){if(!n)throw new Error("Since multiple Mention components have been passed as children, the markup has to define the __type__ placeholder");var o=null;return l.Children.forEach(this.props.children,function(e){e&&e.props.type===n&&(o=e)}),u.default.cloneElement(o,i)}if(1===a){var s=this.props.children.length?this.props.children[0]:l.Children.only(this.props.children);return u.default.cloneElement(s,i)}return(0,m.default)(i)}},{key:"renderHighlighterCaret",value:function(e){return u.default.createElement("span",(0,r.default)({},this.props.style("caret"),{ref:"caret",key:"caret"}),e)}}]),t}(l.Component);v.propTypes={selection:d.default.shape({start:d.default.number,end:d.default.number}).isRequired,markup:d.default.string.isRequired,value:d.default.string.isRequired,displayTransform:d.default.func.isRequired,onCaretPositionChange:d.default.func.isRequired,inputStyle:d.default.object},v.defaultProps={value:"",inputStyle:{}};var b=(0,p.defaultStyle)({position:"relative",width:"inherit",color:"transparent",overflow:"hidden",whiteSpace:"pre-wrap",wordWrap:"break-word","&singleLine":{whiteSpace:"pre",wordWrap:null},substring:{visibility:"hidden"}},function(e){return{"&singleLine":e.singleLine}});t.default=b(v)},function(e,t){e.exports="/assets/thread_loading-c24f39910d6693033cb9adc3a12fb203f2b6bcdb5dc3645d1b277012acd54e09.svg"},function(e,t,n){var r=n(511),a=n(1190);e.exports=function(e,t,n){return r(a,e,t,n)}},function(e,t,n){e.exports={ary:n(1191),assign:n(601),clone:n(1210),curry:n(1226),forEach:n(424),isArray:n(86),isError:n(1227),isFunction:n(281),isWeakMap:n(1228),iteratee:n(1229),keys:n(548),rearg:n(1230),toInteger:n(404),toPath:n(1234)}},function(e,t,n){var r=n(417),a=128;e.exports=function(e,t,n){return t=n?void 0:t,t=e&&null==t?e.length:t,r(e,a,void 0,void 0,void 0,void 0,t)}},function(e,t,n){var r=n(301),a=n(93),i=1;e.exports=function(e,t,n){var o=t&i,s=r(e);return function t(){return(this&&this!==a&&this instanceof t?s:e).apply(o?n:this,arguments)}}},function(e,t,n){var r=n(418),a=n(301),i=n(590),o=n(593),s=n(600),c=n(425),l=n(93);e.exports=function(e,t,n){var u=a(e);return function a(){for(var d=arguments.length,p=Array(d),f=d,h=s(a);f--;)p[f]=arguments[f];var m=d<3&&p[0]!==h&&p[d-1]!==h?[]:c(p,h);return(d-=m.length)<n?o(e,t,i,a.placeholder,void 0,p,m,void 0,void 0,n-d):r(this&&this!==l&&this instanceof a?u:e,this,p)}}},function(e,t){e.exports=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}},function(e,t){e.exports={}},function(e,t,n){var r=n(419),a=n(422),i=n(420),o=n(86),s=n(109),c=n(1197),l=Object.prototype.hasOwnProperty;function u(e){if(s(e)&&!o(e)&&!(e instanceof r)){if(e instanceof a)return e;if(l.call(e,"__wrapped__"))return c(e)}return new a(e)}u.prototype=i.prototype,u.prototype.constructor=u,e.exports=u},function(e,t,n){var r=n(419),a=n(422),i=n(233);e.exports=function(e){if(e instanceof r)return e.clone();var t=new a(e.__wrapped__,e.__chain__);return t.__actions__=i(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}},function(e,t){var n=/\{\n\/\* \[wrapped with (.+)\] \*/,r=/,? & /;e.exports=function(e){var t=e.match(n);return t?t[1].split(r):[]}},function(e,t){var n=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;e.exports=function(e,t){var r=t.length;if(!r)return e;var a=r-1;return t[a]=(r>1?"& ":"")+t[a],t=t.join(r>2?", ":" "),e.replace(n,"{\n/* [wrapped with "+t+"] */\n")}},function(e,t,n){var r=n(1201),a=n(599),i=n(289),o=a?function(e,t){return a(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:i;e.exports=o},function(e,t){e.exports=function(e){return function(){return e}}},function(e,t,n){var r=n(424),a=n(1203),i=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]];e.exports=function(e,t){return r(i,function(n){var r="_."+n[0];t&n[1]&&!a(e,r)&&e.push(r)}),e.sort()}},function(e,t,n){var r=n(1204);e.exports=function(e,t){return!(null==e||!e.length)&&r(e,t,0)>-1}},function(e,t,n){var r=n(537),a=n(1205),i=n(1206);e.exports=function(e,t,n){return t==t?i(e,t,n):r(e,a,n)}},function(e,t){e.exports=function(e){return e!=e}},function(e,t){e.exports=function(e,t,n){for(var r=n-1,a=e.length;++r<a;)if(e[r]===t)return r;return-1}},function(e,t,n){var r=n(233),a=n(287),i=Math.min;e.exports=function(e,t){for(var n=e.length,o=i(t.length,n),s=r(e);o--;){var c=t[o];e[o]=a(c,n)?s[c]:void 0}return e}},function(e,t,n){var r=n(418),a=n(301),i=n(93),o=1;e.exports=function(e,t,n,s){var c=t&o,l=a(e);return function t(){for(var a=-1,o=arguments.length,u=-1,d=s.length,p=Array(d+o),f=this&&this!==i&&this instanceof t?l:e;++u<d;)p[u]=s[u];for(;o--;)p[u++]=arguments[++a];return r(f,c?n:this,p)}}},function(e,t,n){var r=n(591),a=n(592),i=n(425),o="__lodash_placeholder__",s=1,c=2,l=4,u=8,d=128,p=256,f=Math.min;e.exports=function(e,t){var n=e[1],h=t[1],m=n|h,g=m<(s|c|d),v=h==d&&n==u||h==d&&n==p&&e[7].length<=t[8]||h==(d|p)&&t[7].length<=t[8]&&n==u;if(!g&&!v)return e;h&s&&(e[2]=t[2],m|=n&s?0:l);var b=t[3];if(b){var y=e[3];e[3]=y?r(y,b,t[4]):b,e[4]=y?i(e[3],o):t[4]}return(b=t[5])&&(y=e[5],e[5]=y?a(y,b,t[6]):b,e[6]=y?i(e[5],o):t[6]),(b=t[7])&&(e[7]=b),h&d&&(e[8]=null==e[8]?t[8]:f(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=m,e}},function(e,t,n){var r=n(603),a=4;e.exports=function(e){return r(e,a)}},function(e,t,n){var r=n(234),a=n(303);e.exports=function(e,t){return e&&r(t,a(t),e)}},function(e,t,n){var r=n(118),a=n(402),i=n(1213),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=a(e),n=[];for(var s in e)("constructor"!=s||!t&&o.call(e,s))&&n.push(s);return n}},function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},function(e,t,n){var r=n(234),a=n(397);e.exports=function(e,t){return r(e,a(e),t)}},function(e,t,n){var r=n(234),a=n(605);e.exports=function(e,t){return r(e,a(e),t)}},function(e,t,n){var r=n(545),a=n(605),i=n(303);e.exports=function(e){return r(e,i,a)}},function(e,t){var n=Object.prototype.hasOwnProperty;e.exports=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&n.call(e,"index")&&(r.index=e.index,r.input=e.input),r}},function(e,t,n){var r=n(428),a=n(1219),i=n(1220),o=n(1221),s=n(606),c="[object Boolean]",l="[object Date]",u="[object Map]",d="[object Number]",p="[object RegExp]",f="[object Set]",h="[object String]",m="[object Symbol]",g="[object ArrayBuffer]",v="[object DataView]",b="[object Float32Array]",y="[object Float64Array]",E="[object Int8Array]",_="[object Int16Array]",w="[object Int32Array]",S="[object Uint8Array]",k="[object Uint8ClampedArray]",C="[object Uint16Array]",N="[object Uint32Array]";e.exports=function(e,t,n){var O=e.constructor;switch(t){case g:return r(e);case c:case l:return new O(+e);case v:return a(e,n);case b:case y:case E:case _:case w:case S:case k:case C:case N:return s(e,n);case u:return new O;case d:case h:return new O(e);case p:return i(e);case f:return new O;case m:return o(e)}}},function(e,t,n){var r=n(428);e.exports=function(e,t){var n=t?r(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}},function(e,t){var n=/\w*$/;e.exports=function(e){var t=new e.constructor(e.source,n.exec(e));return t.lastIndex=e.lastIndex,t}},function(e,t,n){var r=n(189),a=r?r.prototype:void 0,i=a?a.valueOf:void 0;e.exports=function(e){return i?Object(i.call(e)):{}}},function(e,t,n){var r=n(1223),a=n(400),i=n(401),o=i&&i.isMap,s=o?a(o):r;e.exports=s},function(e,t,n){var r=n(227),a=n(109),i="[object Map]";e.exports=function(e){return a(e)&&r(e)==i}},function(e,t,n){var r=n(1225),a=n(400),i=n(401),o=i&&i.isSet,s=o?a(o):r;e.exports=s},function(e,t,n){var r=n(227),a=n(109),i="[object Set]";e.exports=function(e){return a(e)&&r(e)==i}},function(e,t,n){var r=n(417),a=8;function i(e,t,n){var o=r(e,a,void 0,void 0,void 0,void 0,void 0,t=n?void 0:t);return o.placeholder=i.placeholder,o}i.placeholder={},e.exports=i},function(e,t,n){var r=n(172),a=n(109),i=n(608),o="[object DOMException]",s="[object Error]";e.exports=function(e){if(!a(e))return!1;var t=r(e);return t==s||t==o||"string"==typeof e.message&&"string"==typeof e.name&&!i(e)}},function(e,t,n){var r=n(227),a=n(109),i="[object WeakMap]";e.exports=function(e){return a(e)&&r(e)==i}},function(e,t,n){var r=n(603),a=n(538),i=1;e.exports=function(e){return a("function"==typeof e?e:r(e,i))}},function(e,t,n){var r=n(417),a=n(609),i=a(function(e,t){return r(e,256,void 0,void 0,void 0,t)});e.exports=i},function(e,t,n){var r=n(1232);e.exports=function(e){return null!=e&&e.length?r(e,1):[]}},function(e,t,n){var r=n(396),a=n(1233);e.exports=function e(t,n,i,o,s){var c=-1,l=t.length;for(i||(i=a),s||(s=[]);++c<l;){var u=t[c];n>0&&i(u)?n>1?e(u,n-1,i,o,s):r(s,u):o||(s[s.length]=u)}return s}},function(e,t,n){var r=n(189),a=n(285),i=n(86),o=r?r.isConcatSpreadable:void 0;e.exports=function(e){return i(e)||a(e)||!!(o&&e&&e[o])}},function(e,t,n){var r=n(557),a=n(233),i=n(86),o=n(228),s=n(555),c=n(229),l=n(556);e.exports=function(e){return i(e)?r(e,c):o(e)?[e]:a(s(l(e)))}},function(e,t,n){var r=n(1236)();e.exports=r},function(e,t,n){var r=n(422),a=n(609),i=n(421),o=n(595),s=n(86),c=n(594),l="Expected a function",u=8,d=32,p=128,f=256;e.exports=function(e){return a(function(t){var n=t.length,a=n,h=r.prototype.thru;for(e&&t.reverse();a--;){var m=t[a];if("function"!=typeof m)throw new TypeError(l);if(h&&!g&&"wrapper"==o(m))var g=new r([],!0)}for(a=g?a:n;++a<n;){m=t[a];var v=o(m),b="wrapper"==v?i(m):void 0;g=b&&c(b[0])&&b[1]==(p|u|d|f)&&!b[4].length&&1==b[9]?g[o(b[0])].apply(g,b[3]):1==m.length&&c(m)?g[v]():g.thru(m)}return function(){var e=arguments,r=e[0];if(g&&1==e.length&&s(r))return g.plant(r).value();for(var a=0,i=n?t[a].apply(this,e):r;++a<n;)i=t[a].call(this,i);return i}})}},function(e,t,n){"use strict";var r=n(429),a=n(625),i=n(1298),o=n(1299),s=n(638),c=n(639),l=n(578),u=n(194),d=n(89),p=n(147),f=n(640),h=n(643);function m(e,t,n){e.addAlgoliaAgent&&!b(e)&&e.addAlgoliaAgent("JS Helper ("+h+")"),this.setClient(e);var a=n||{};a.index=t,this.state=r.make(a),this.lastResults=null,this._queryId=0,this._lastQueryIdReceived=-1,this.derivedHelpers=[],this._currentNbQueries=0}function g(e){if(e<0)throw new Error("Page requested below 0.");return this._change(this.state.setPage(e)),this}function v(){return this.state.page}function b(e){var t=e._ua;return!!t&&-1!==t.indexOf("JS Helper")}c(m,s.EventEmitter),m.prototype.search=function(){return this._search(),this},m.prototype.getQuery=function(){var e=this.state;return o._getHitsSearchParams(e)},m.prototype.searchOnce=function(e,t){var n=e?this.state.setQueryParameters(e):this.state,r=o._getQueries(n.index,n),i=this;if(this._currentNbQueries++,this.emit("searchOnce",n),!t)return this.client.search(r).then(function(e){return i._currentNbQueries--,0===i._currentNbQueries&&i.emit("searchQueueEmpty"),{content:new a(n,e.results),state:n,_originalResponse:e}},function(e){throw i._currentNbQueries--,0===i._currentNbQueries&&i.emit("searchQueueEmpty"),e});this.client.search(r).then(function(e){i._currentNbQueries--,0===i._currentNbQueries&&i.emit("searchQueueEmpty"),t(null,new a(n,e.results),n)}).catch(function(e){i._currentNbQueries--,0===i._currentNbQueries&&i.emit("searchQueueEmpty"),t(e,null,n)})},m.prototype.searchForFacetValues=function(e,t,n,r){var a="function"==typeof this.client.searchForFacetValues;if(!a&&"function"!=typeof this.client.initIndex)throw new Error("search for facet values (searchable) was called, but this client does not have a function client.searchForFacetValues or client.initIndex(index).searchForFacetValues");var i=this.state.setQueryParameters(r||{}),s=i.isDisjunctiveFacet(e),c=o.getSearchForFacetQuery(e,t,n,i);this._currentNbQueries++;var l=this;return this.emit("searchForFacetValues",i,e,t),(a?this.client.searchForFacetValues([{indexName:i.index,params:c}]):this.client.initIndex(i.index).searchForFacetValues(c)).then(function(t){return l._currentNbQueries--,0===l._currentNbQueries&&l.emit("searchQueueEmpty"),(t=Array.isArray(t)?t[0]:t).facetHits=u(t.facetHits,function(t){t.isRefined=s?i.isDisjunctiveFacetRefined(e,t.value):i.isFacetRefined(e,t.value)}),t},function(e){throw l._currentNbQueries--,0===l._currentNbQueries&&l.emit("searchQueueEmpty"),e})},m.prototype.setQuery=function(e){return this._change(this.state.setPage(0).setQuery(e)),this},m.prototype.clearRefinements=function(e){return this._change(this.state.setPage(0).clearRefinements(e)),this},m.prototype.clearTags=function(){return this._change(this.state.setPage(0).clearTags()),this},m.prototype.addDisjunctiveFacetRefinement=function(e,t){return this._change(this.state.setPage(0).addDisjunctiveFacetRefinement(e,t)),this},m.prototype.addDisjunctiveRefine=function(){return this.addDisjunctiveFacetRefinement.apply(this,arguments)},m.prototype.addHierarchicalFacetRefinement=function(e,t){return this._change(this.state.setPage(0).addHierarchicalFacetRefinement(e,t)),this},m.prototype.addNumericRefinement=function(e,t,n){return this._change(this.state.setPage(0).addNumericRefinement(e,t,n)),this},m.prototype.addFacetRefinement=function(e,t){return this._change(this.state.setPage(0).addFacetRefinement(e,t)),this},m.prototype.addRefine=function(){return this.addFacetRefinement.apply(this,arguments)},m.prototype.addFacetExclusion=function(e,t){return this._change(this.state.setPage(0).addExcludeRefinement(e,t)),this},m.prototype.addExclude=function(){return this.addFacetExclusion.apply(this,arguments)},m.prototype.addTag=function(e){return this._change(this.state.setPage(0).addTagRefinement(e)),this},m.prototype.removeNumericRefinement=function(e,t,n){return this._change(this.state.setPage(0).removeNumericRefinement(e,t,n)),this},m.prototype.removeDisjunctiveFacetRefinement=function(e,t){return this._change(this.state.setPage(0).removeDisjunctiveFacetRefinement(e,t)),this},m.prototype.removeDisjunctiveRefine=function(){return this.removeDisjunctiveFacetRefinement.apply(this,arguments)},m.prototype.removeHierarchicalFacetRefinement=function(e){return this._change(this.state.setPage(0).removeHierarchicalFacetRefinement(e)),this},m.prototype.removeFacetRefinement=function(e,t){return this._change(this.state.setPage(0).removeFacetRefinement(e,t)),this},m.prototype.removeRefine=function(){return this.removeFacetRefinement.apply(this,arguments)},m.prototype.removeFacetExclusion=function(e,t){return this._change(this.state.setPage(0).removeExcludeRefinement(e,t)),this},m.prototype.removeExclude=function(){return this.removeFacetExclusion.apply(this,arguments)},m.prototype.removeTag=function(e){return this._change(this.state.setPage(0).removeTagRefinement(e)),this},m.prototype.toggleFacetExclusion=function(e,t){return this._change(this.state.setPage(0).toggleExcludeFacetRefinement(e,t)),this},m.prototype.toggleExclude=function(){return this.toggleFacetExclusion.apply(this,arguments)},m.prototype.toggleRefinement=function(e,t){return this.toggleFacetRefinement(e,t)},m.prototype.toggleFacetRefinement=function(e,t){return this._change(this.state.setPage(0).toggleFacetRefinement(e,t)),this},m.prototype.toggleRefine=function(){return this.toggleFacetRefinement.apply(this,arguments)},m.prototype.toggleTag=function(e){return this._change(this.state.setPage(0).toggleTagRefinement(e)),this},m.prototype.nextPage=function(){return this.setPage(this.state.page+1)},m.prototype.previousPage=function(){return this.setPage(this.state.page-1)},m.prototype.setCurrentPage=g,m.prototype.setPage=g,m.prototype.setIndex=function(e){return this._change(this.state.setPage(0).setIndex(e)),this},m.prototype.setQueryParameter=function(e,t){return this._change(this.state.setPage(0).setQueryParameter(e,t)),this},m.prototype.setState=function(e){return this._change(r.make(e)),this},m.prototype.getState=function(e){return void 0===e?this.state:this.state.filter(e)},m.prototype.getStateAsQueryString=function(e){var t=e&&e.filters||["query","attribute:*"],n=this.getState(t);return f.getQueryStringFromState(n,e)},m.getConfigurationFromQueryString=f.getStateFromQueryString,m.getForeignConfigurationInQueryString=f.getUnrecognizedParametersInQueryString,m.prototype.setStateFromQueryString=function(e,t){var n=t&&t.triggerChange||!1,r=f.getStateFromQueryString(e,t),a=this.state.setQueryParameters(r);n?this.setState(a):this.overrideStateWithoutTriggeringChangeEvent(a)},m.prototype.overrideStateWithoutTriggeringChangeEvent=function(e){return this.state=new r(e),this},m.prototype.isRefined=function(e,t){if(this.state.isConjunctiveFacet(e))return this.state.isFacetRefined(e,t);if(this.state.isDisjunctiveFacet(e))return this.state.isDisjunctiveFacetRefined(e,t);throw new Error(e+" is not properly defined in this helper configuration(use the facets or disjunctiveFacets keys to configure it)")},m.prototype.hasRefinements=function(e){return!d(this.state.getNumericRefinements(e))||(this.state.isConjunctiveFacet(e)?this.state.isFacetRefined(e):this.state.isDisjunctiveFacet(e)?this.state.isDisjunctiveFacetRefined(e):!!this.state.isHierarchicalFacet(e)&&this.state.isHierarchicalFacetRefined(e))},m.prototype.isExcluded=function(e,t){return this.state.isExcludeRefined(e,t)},m.prototype.isDisjunctiveRefined=function(e,t){return this.state.isDisjunctiveFacetRefined(e,t)},m.prototype.hasTag=function(e){return this.state.isTagRefined(e)},m.prototype.isTagRefined=function(){return this.hasTagRefinements.apply(this,arguments)},m.prototype.getIndex=function(){return this.state.index},m.prototype.getCurrentPage=v,m.prototype.getPage=v,m.prototype.getTags=function(){return this.state.tagRefinements},m.prototype.getQueryParameter=function(e){return this.state.getQueryParameter(e)},m.prototype.getRefinements=function(e){var t=[];if(this.state.isConjunctiveFacet(e)){var n=this.state.getConjunctiveRefinements(e);u(n,function(e){t.push({value:e,type:"conjunctive"})});var r=this.state.getExcludeRefinements(e);u(r,function(e){t.push({value:e,type:"exclude"})})}else if(this.state.isDisjunctiveFacet(e)){var a=this.state.getDisjunctiveRefinements(e);u(a,function(e){t.push({value:e,type:"disjunctive"})})}var i=this.state.getNumericRefinements(e);return u(i,function(e,n){t.push({value:e,operator:n,type:"numeric"})}),t},m.prototype.getNumericRefinement=function(e,t){return this.state.getNumericRefinement(e,t)},m.prototype.getHierarchicalFacetBreadcrumb=function(e){return this.state.getHierarchicalFacetBreadcrumb(e)},m.prototype._search=function(){var e=this.state,t=o._getQueries(e.index,e),n=[{state:e,queriesCount:t.length,helper:this}];this.emit("search",e,this.lastResults);var r=p(this.derivedHelpers,function(t){var r=t.getModifiedState(e),a=o._getQueries(r.index,r);return n.push({state:r,queriesCount:a.length,helper:t}),t.emit("search",r,t.lastResults),a}),a=t.concat(l(r)),i=this._queryId++;this._currentNbQueries++;try{this.client.search(a).then(this._dispatchAlgoliaResponse.bind(this,n,i)).catch(this._dispatchAlgoliaError.bind(this,i))}catch(e){this.emit("error",e)}},m.prototype._dispatchAlgoliaResponse=function(e,t,n){if(!(t<this._lastQueryIdReceived)){this._currentNbQueries-=t-this._lastQueryIdReceived,this._lastQueryIdReceived=t,0===this._currentNbQueries&&this.emit("searchQueueEmpty");var r=n.results.slice();u(e,function(e){var t=e.state,n=e.queriesCount,i=e.helper,o=r.splice(0,n),s=i.lastResults=new a(t,o);i.emit("result",s,t)})}},m.prototype._dispatchAlgoliaError=function(e,t){e<this._lastQueryIdReceived||(this._currentNbQueries-=e-this._lastQueryIdReceived,this._lastQueryIdReceived=e,this.emit("error",t),0===this._currentNbQueries&&this.emit("searchQueueEmpty"))},m.prototype.containsRefinement=function(e,t,n,r){return e||0!==t.length||0!==n.length||0!==r.length},m.prototype._hasDisjunctiveRefinements=function(e){return this.state.disjunctiveRefinements[e]&&this.state.disjunctiveRefinements[e].length>0},m.prototype._change=function(e){e!==this.state&&(this.state=e,this.emit("change",this.state,this.lastResults))},m.prototype.clearCache=function(){return this.client.clearCache&&this.client.clearCache(),this},m.prototype.setClient=function(e){return this.client===e?this:(e.addAlgoliaAgent&&!b(e)&&e.addAlgoliaAgent("JS Helper ("+h+")"),this.client=e,this)},m.prototype.getClient=function(){return this.client},m.prototype.derive=function(e){var t=new i(this,e);return this.derivedHelpers.push(t),t},m.prototype.detachDerivedHelper=function(e){var t=this.derivedHelpers.indexOf(e);if(-1===t)throw new Error("Derived helper already detached");this.derivedHelpers.splice(t,1)},m.prototype.hasPendingRequests=function(){return this._currentNbQueries>0},e.exports=m},function(e,t,n){var r=n(235),a=n(612);e.exports=function(e,t){return e&&r(e,a(t))}},function(e,t){e.exports=function(e){return function(t,n,r){for(var a=-1,i=Object(t),o=r(t),s=o.length;s--;){var c=o[e?s:++a];if(!1===n(i[c],c,i))break}return t}}},function(e,t,n){var r=n(138);e.exports=function(e,t){return function(n,a){if(null==n)return n;if(!r(n))return e(n,a);for(var i=n.length,o=t?i:-1,s=Object(n);(t?o--:++o<i)&&!1!==a(s[o],o,s););return n}}},function(e,t,n){var r=n(304);e.exports=function(e,t){var n=[];return r(e,function(e,r,a){t(e,r,a)&&n.push(e)}),n}},function(e,t,n){var r=n(1243),a=n(1244),i=n(614);e.exports=function(e){var t=a(e);return 1==t.length&&t[0][2]?i(t[0][0],t[0][1]):function(n){return n===e||r(n,e,t)}}},function(e,t,n){var r=n(296),a=n(415),i=1,o=2;e.exports=function(e,t,n,s){var c=n.length,l=c,u=!s;if(null==e)return!l;for(e=Object(e);c--;){var d=n[c];if(u&&d[2]?d[1]!==e[d[0]]:!(d[0]in e))return!1}for(;++c<l;){var p=(d=n[c])[0],f=e[p],h=d[1];if(u&&d[2]){if(void 0===f&&!(p in e))return!1}else{var m=new r;if(s)var g=s(f,h,p,e,t,m);if(!(void 0===g?a(h,f,i|o,s,m):g))return!1}}return!0}},function(e,t,n){var r=n(613),a=n(88);e.exports=function(e){for(var t=a(e),n=t.length;n--;){var i=t[n],o=e[i];t[n]=[i,o,r(o)]}return t}},function(e,t,n){var r=n(415),a=n(121),i=n(615),o=n(412),s=n(613),c=n(614),l=n(192),u=1,d=2;e.exports=function(e,t){return o(e)&&s(t)?c(l(e),t):function(n){var o=a(n,e);return void 0===o&&o===t?i(n,e):r(t,o,u|d)}}},function(e,t){e.exports=function(e,t){return null!=e&&t in Object(e)}},function(e,t,n){var r=n(1248),a=n(1249),i=n(412),o=n(192);e.exports=function(e){return i(e)?r(o(e)):a(e)}},function(e,t){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},function(e,t,n){var r=n(299);e.exports=function(e){return function(t){return r(t,e)}}},function(e,t){e.exports=function(e,t,n,r){var a=-1,i=null==e?0:e.length;for(r&&i&&(n=e[++a]);++a<i;)n=t(n,e[a],a,e);return n}},function(e,t){e.exports=function(e,t,n,r,a){return a(e,function(e,a,i){n=r?(r=!1,e):t(n,e,a,i)}),n}},function(e,t,n){var r=n(99),a=n(232),i=NaN,o=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,l=/^0o[0-7]+$/i,u=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(a(e))return i;if(r(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=r(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(o,"");var n=c.test(e);return n||l.test(e)?u(e.slice(2),n?2:8):s.test(e)?i:+e}},function(e,t,n){var r=n(619);e.exports=function(e){return r(e)&&e!=+e}},function(e,t,n){var r=n(130),a=n(138),i=n(88);e.exports=function(e){return function(t,n,o){var s=Object(t);if(!a(t)){var c=r(n,3);t=i(t),n=function(e){return c(s[e],e,s)}}var l=e(t,n,o);return l>-1?s[c?t[l]:l]:void 0}}},function(e,t,n){var r=n(576);e.exports=function(e,t,n){var a=e.length;return n=void 0===n?a:n,!t&&n>=a?e:r(e,t,n)}},function(e,t,n){var r=n(225);e.exports=function(e,t){for(var n=e.length;n--&&r(t,e[n],0)>-1;);return n}},function(e,t,n){var r=n(225);e.exports=function(e,t){for(var n=-1,a=e.length;++n<a&&r(t,e[n],0)>-1;);return n}},function(e,t,n){var r=n(1259),a=n(1260),i=n(1261);e.exports=function(e){return a(e)?i(e):r(e)}},function(e,t){e.exports=function(e){return e.split("")}},function(e,t){var n=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return n.test(e)}},function(e,t){var n="[\\ud800-\\udfff]",r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",a="\\ud83c[\\udffb-\\udfff]",i="[^\\ud800-\\udfff]",o="(?:\\ud83c[\\udde6-\\uddff]){2}",s="[\\ud800-\\udbff][\\udc00-\\udfff]",c="(?:"+r+"|"+a+")"+"?",l="[\\ufe0e\\ufe0f]?"+c+("(?:\\u200d(?:"+[i,o,s].join("|")+")[\\ufe0e\\ufe0f]?"+c+")*"),u="(?:"+[i+r+"?",r,o,s,n].join("|")+")",d=RegExp(a+"(?="+a+")|"+u+l,"g");e.exports=function(e){return e.match(d)||[]}},function(e,t,n){var r=n(296),a=n(623),i=n(611),o=n(1263),s=n(99),c=n(222),l=n(624);e.exports=function e(t,n,u,d,p){t!==n&&i(n,function(i,c){if(s(i))p||(p=new r),o(t,n,c,u,e,d,p);else{var f=d?d(l(t,c),i,c+"",t,n,p):void 0;void 0===f&&(f=i),a(t,c,f)}},c)}},function(e,t,n){var r=n(623),a=n(566),i=n(573),o=n(297),s=n(574),c=n(223),l=n(60),u=n(188),d=n(224),p=n(184),f=n(99),h=n(94),m=n(265),g=n(624),v=n(1264);e.exports=function(e,t,n,b,y,E,_){var w=g(e,n),S=g(t,n),k=_.get(S);if(k)r(e,n,k);else{var C=E?E(w,S,n+"",e,t,_):void 0,N=void 0===C;if(N){var O=l(S),x=!O&&d(S),T=!O&&!x&&m(S);C=S,O||x||T?l(w)?C=w:u(w)?C=o(w):x?(N=!1,C=a(S,!0)):T?(N=!1,C=i(S,!0)):C=[]:h(S)||c(S)?(C=w,c(w)?C=v(w):f(w)&&!p(w)||(C=s(S))):N=!1}N&&(_.set(S,C),y(C,S,b,E,_),_.delete(S)),r(e,n,C)}}},function(e,t,n){var r=n(190),a=n(222);e.exports=function(e){return r(e,a(e))}},function(e,t,n){var r=n(129),a=n(378);e.exports=function(e){return r(function(t,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,s=i>2?n[2]:void 0;for(o=e.length>3&&"function"==typeof o?(i--,o):void 0,s&&a(n[0],n[1],s)&&(o=i<3?void 0:o,i=1),t=Object(t);++r<i;){var c=n[r];c&&e(t,c,r,o)}return t})}},function(e,t,n){"use strict";var r=n(147),a=n(619),i=n(238);e.exports=function e(t){if(a(t))return t;if(i(t))return parseFloat(t);if(Array.isArray(t))return r(t,e);throw new Error("The value should be a number, a parseable string or an array of those.")}},function(e,t,n){"use strict";var r=n(194),a=n(430),i=n(147),o=n(89),s=n(305);e.exports=function(e,t){var n={},c=a(t,function(e){return-1!==e.indexOf("attribute:")}),l=i(c,function(e){return e.split(":")[1]});-1===s(l,"*")?r(l,function(t){e.isConjunctiveFacet(t)&&e.isFacetRefined(t)&&(n.facetsRefinements||(n.facetsRefinements={}),n.facetsRefinements[t]=e.facetsRefinements[t]),e.isDisjunctiveFacet(t)&&e.isDisjunctiveFacetRefined(t)&&(n.disjunctiveFacetsRefinements||(n.disjunctiveFacetsRefinements={}),n.disjunctiveFacetsRefinements[t]=e.disjunctiveFacetsRefinements[t]),e.isHierarchicalFacet(t)&&e.isHierarchicalFacetRefined(t)&&(n.hierarchicalFacetsRefinements||(n.hierarchicalFacetsRefinements={}),n.hierarchicalFacetsRefinements[t]=e.hierarchicalFacetsRefinements[t]);var r=e.getNumericRefinements(t);o(r)||(n.numericRefinements||(n.numericRefinements={}),n.numericRefinements[t]=e.numericRefinements[t])}):(o(e.numericRefinements)||(n.numericRefinements=e.numericRefinements),o(e.facetsRefinements)||(n.facetsRefinements=e.facetsRefinements),o(e.disjunctiveFacetsRefinements)||(n.disjunctiveFacetsRefinements=e.disjunctiveFacetsRefinements),o(e.hierarchicalFacetsRefinements)||(n.hierarchicalFacetsRefinements=e.hierarchicalFacetsRefinements));var u=a(t,function(e){return-1===e.indexOf("attribute:")});return r(u,function(t){n[t]=e[t]}),n}},function(e,t,n){"use strict";var r=n(620),a=n(238),i=n(184),o=n(89),s=n(264),c=n(236),l=n(430),u=n(55),d={addRefinement:function(e,t,n){if(d.isRefined(e,t,n))return e;var r=""+n,a=e[t]?e[t].concat(r):[r],i={};return i[t]=a,s({},i,e)},removeRefinement:function(e,t,n){if(r(n))return d.clearRefinement(e,t);var a=""+n;return d.clearRefinement(e,function(e,n){return t===n&&a===e})},toggleRefinement:function(e,t,n){if(r(n))throw new Error("toggleRefinement should be used with a value");return d.isRefined(e,t,n)?d.removeRefinement(e,t,n):d.addRefinement(e,t,n)},clearRefinement:function(e,t,n){if(r(t))return o(e)?e:{};if(a(t))return o(e[t])?e:u(e,t);if(i(t)){var s=!1,d=c(e,function(e,r,a){var i=l(r,function(e){return!t(e,a,n)});return o(i)?s=!0:(i.length!==r.length&&(s=!0),e[a]=i),e},{});return s?d:e}},isRefined:function(e,t,a){var i=n(305),o=!!e[t]&&e[t].length>0;if(r(a)||!o)return o;var s=""+a;return-1!==i(e[t],s)}};e.exports=d},function(e,t){e.exports=function(e){for(var t=-1,n=null==e?0:e.length,r=0,a=[];++t<n;){var i=e[t];i&&(a[r++]=i)}return a}},function(e,t,n){var r=n(130),a=n(1271);e.exports=function(e,t){return e&&e.length?a(e,r(t,2)):0}},function(e,t){e.exports=function(e,t){for(var n,r=-1,a=e.length;++r<a;){var i=t(e[r]);void 0!==i&&(n=void 0===n?i:n+i)}return n}},function(e,t,n){var r=n(225),a=n(138),i=n(238),o=n(237),s=n(565),c=Math.max;e.exports=function(e,t,n,l){e=a(e)?e:s(e),n=n&&!l?o(n):0;var u=e.length;return n<0&&(n=c(u+n,0)),i(e)?n<=u&&e.indexOf(t,n)>-1:!!u&&r(e,t,n)>-1}},function(e,t,n){var r=n(139),a=n(130),i=n(617),o=n(1274),s=n(187),c=n(1275),l=n(169);e.exports=function(e,t,n){var u=-1;t=r(t.length?t:[l],s(a));var d=i(e,function(e,n,a){return{criteria:r(t,function(t){return t(e)}),index:++u,value:e}});return o(d,function(e,t){return c(e,t,n)})}},function(e,t){e.exports=function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}},function(e,t,n){var r=n(1276);e.exports=function(e,t,n){for(var a=-1,i=e.criteria,o=t.criteria,s=i.length,c=n.length;++a<s;){var l=r(i[a],o[a]);if(l)return a>=c?l:l*("desc"==n[a]?-1:1)}return e.index-t.index}},function(e,t,n){var r=n(232);e.exports=function(e,t){if(e!==t){var n=void 0!==e,a=null===e,i=e==e,o=r(e),s=void 0!==t,c=null===t,l=t==t,u=r(t);if(!c&&!u&&!o&&e>t||o&&s&&l&&!c&&!u||a&&s&&l||!n&&l||!i)return 1;if(!a&&!o&&!u&&e<t||u&&n&&i&&!a&&!o||c&&n&&i||!s&&i||!l)return-1}return 0}},function(e,t,n){var r=n(129),a=n(432),i=n(239),o=n(195),s=r(function(e,t){var n=o(t,i(s));return a(e,32,void 0,t,n)});s.placeholder={},e.exports=s},function(e,t,n){var r=n(306),a=n(85),i=1;e.exports=function(e,t,n){var o=t&i,s=r(e);return function t(){return(this&&this!==a&&this instanceof t?s:e).apply(o?n:this,arguments)}}},function(e,t,n){var r=n(376),a=n(306),i=n(628),o=n(631),s=n(239),c=n(195),l=n(85);e.exports=function(e,t,n){var u=a(e);return function a(){for(var d=arguments.length,p=Array(d),f=d,h=s(a);f--;)p[f]=arguments[f];var m=d<3&&p[0]!==h&&p[d-1]!==h?[]:c(p,h);return(d-=m.length)<n?o(e,t,i,a.placeholder,void 0,p,m,void 0,void 0,n-d):r(this&&this!==l&&this instanceof a?u:e,this,p)}}},function(e,t){e.exports=function(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}},function(e,t,n){var r=n(433),a=n(632),i=n(1282),o=n(1284);e.exports=function(e){var t=i(e),n=o[t];if("function"!=typeof n||!(t in r.prototype))return!1;if(e===n)return!0;var s=a(n);return!!s&&e===s[0]}},function(e,t,n){var r=n(1283),a=Object.prototype.hasOwnProperty;e.exports=function(e){for(var t=e.name+"",n=r[t],i=a.call(r,t)?n.length:0;i--;){var o=n[i],s=o.func;if(null==s||s==e)return o.name}return t}},function(e,t){e.exports={}},function(e,t,n){var r=n(433),a=n(633),i=n(434),o=n(60),s=n(108),c=n(1285),l=Object.prototype.hasOwnProperty;function u(e){if(s(e)&&!o(e)&&!(e instanceof r)){if(e instanceof a)return e;if(l.call(e,"__wrapped__"))return c(e)}return new a(e)}u.prototype=i.prototype,u.prototype.constructor=u,e.exports=u},function(e,t,n){var r=n(433),a=n(633),i=n(297);e.exports=function(e){if(e instanceof r)return e.clone();var t=new a(e.__wrapped__,e.__chain__);return t.__actions__=i(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}},function(e,t){var n=/\{\n\/\* \[wrapped with (.+)\] \*/,r=/,? & /;e.exports=function(e){var t=e.match(n);return t?t[1].split(r):[]}},function(e,t){var n=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;e.exports=function(e,t){var r=t.length;if(!r)return e;var a=r-1;return t[a]=(r>1?"& ":"")+t[a],t=t.join(r>2?", ":" "),e.replace(n,"{\n/* [wrapped with "+t+"] */\n")}},function(e,t,n){var r=n(407),a=n(273),i=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]];e.exports=function(e,t){return r(i,function(n){var r="_."+n[0];t&n[1]&&!a(e,r)&&e.push(r)}),e.sort()}},function(e,t,n){var r=n(297),a=n(221),i=Math.min;e.exports=function(e,t){for(var n=e.length,o=i(t.length,n),s=r(e);o--;){var c=t[o];e[o]=a(c,n)?s[c]:void 0}return e}},function(e,t,n){var r=n(376),a=n(306),i=n(85),o=1;e.exports=function(e,t,n,s){var c=t&o,l=a(e);return function t(){for(var a=-1,o=arguments.length,u=-1,d=s.length,p=Array(d+o),f=this&&this!==i&&this instanceof t?l:e;++u<d;)p[u]=s[u];for(;o--;)p[u++]=arguments[++a];return r(f,c?n:this,p)}}},function(e,t,n){var r=n(629),a=n(630),i=n(195),o="__lodash_placeholder__",s=1,c=2,l=4,u=8,d=128,p=256,f=Math.min;e.exports=function(e,t){var n=e[1],h=t[1],m=n|h,g=m<(s|c|d),v=h==d&&n==u||h==d&&n==p&&e[7].length<=t[8]||h==(d|p)&&t[7].length<=t[8]&&n==u;if(!g&&!v)return e;h&s&&(e[2]=t[2],m|=n&s?0:l);var b=t[3];if(b){var y=e[3];e[3]=y?r(y,b,t[4]):b,e[4]=y?i(e[3],o):t[4]}return(b=t[5])&&(y=e[5],e[5]=y?a(y,b,t[6]):b,e[6]=y?i(e[5],o):t[6]),(b=t[7])&&(e[7]=b),h&d&&(e[8]=null==e[8]?t[8]:f(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=m,e}},function(e,t,n){var r=n(129),a=n(432),i=n(239),o=n(195),s=r(function(e,t){var n=o(t,i(s));return a(e,64,void 0,t,n)});s.placeholder={},e.exports=s},function(e,t,n){var r=n(1294),a=n(414),i=n(237),o=n(413);e.exports=function(e,t,n){return e=o(e),n=null==n?0:r(i(n),0,e.length),t=a(t),e.slice(n,n+t.length)==t}},function(e,t){e.exports=function(e,t,n){return e==e&&(void 0!==n&&(e=e<=n?e:n),void 0!==t&&(e=e>=t?e:t)),e}},function(e,t,n){"use strict";e.exports=function(e){return function(t,n){var d=e.hierarchicalFacets[n],p=e.hierarchicalFacetsRefinements[d.name]&&e.hierarchicalFacetsRefinements[d.name][0]||"",f=e._getHierarchicalFacetSeparator(d),h=e._getHierarchicalRootPath(d),m=e._getHierarchicalShowParentLevel(d),g=u(e._getHierarchicalFacetSortBy(d)),v=function(e,t,n,i,u){return function(d,p,f){var h=d;if(f>0){var m=0;for(h=d;m<f;)h=h&&c(h.data,{isRefined:!0}),m++}if(h){var g=function(e,t,n,r,a){return function(i,o){return(!r||0===o.indexOf(r)&&r!==o)&&(!r&&-1===o.indexOf(n)||r&&o.split(n).length-r.split(n).length==1||-1===o.indexOf(n)&&-1===t.indexOf(n)||0===t.indexOf(o)||0===o.indexOf(e+n)&&(a||0===o.indexOf(t)))}}(h.path||n,u,t,n,i);h.data=o(a(l(p.data,g),function(e,t){return function(n,a){return{name:s(r(a.split(e))),path:a,count:n,isRefined:t===a||0===t.indexOf(a+e),data:null}}}(t,u)),e[0],e[1])}return d}}(g,f,h,m,p),b=t;return h&&(b=t.slice(h.split(f).length)),i(b,v,{name:e.hierarchicalFacets[n].name,count:null,isRefined:!0,path:null,data:null})}};var r=n(575),a=n(147),i=n(236),o=n(240),s=n(622),c=n(120),l=n(1296),u=n(636)},function(e,t,n){var r=n(139),a=n(130),i=n(637),o=n(410);e.exports=function(e,t){if(null==e)return{};var n=r(o(e),function(e){return[e]});return t=a(t),i(e,n,function(e,n){return t(e,n[0])})}},function(e,t,n){var r=n(408),a=n(191),i=n(221),o=n(99),s=n(192);e.exports=function(e,t,n,c){if(!o(e))return e;for(var l=-1,u=(t=a(t,e)).length,d=u-1,p=e;null!=p&&++l<u;){var f=s(t[l]),h=n;if(l!=d){var m=p[f];void 0===(h=c?c(m,f,p):void 0)&&(h=o(m)?m:i(t[l+1])?[]:{})}r(p,f,h),p=p[f]}return e}},function(e,t,n){"use strict";var r=n(638);function a(e,t){this.main=e,this.fn=t,this.lastResults=null}n(639)(a,r.EventEmitter),a.prototype.detach=function(){this.removeAllListeners(),this.main.detachDerivedHelper(this)},a.prototype.getModifiedState=function(e){return this.fn(e)},e.exports=a},function(e,t,n){"use strict";var r=n(194),a=n(147),i=n(236),o=n(431),s={_getQueries:function(e,t){var n=[];return n.push({indexName:e,params:s._getHitsSearchParams(t)}),r(t.getRefinedDisjunctiveFacets(),function(r){n.push({indexName:e,params:s._getDisjunctiveFacetSearchParams(t,r)})}),r(t.getRefinedHierarchicalFacets(),function(r){var a=t.getHierarchicalFacetByName(r),i=t.getHierarchicalRefinement(r),o=t._getHierarchicalFacetSeparator(a);i.length>0&&i[0].split(o).length>1&&n.push({indexName:e,params:s._getDisjunctiveFacetSearchParams(t,r,!0)})}),n},_getHitsSearchParams:function(e){var t=e.facets.concat(e.disjunctiveFacets).concat(s._getHitsHierarchicalFacetsAttributes(e)),n=s._getFacetFilters(e),r=s._getNumericFilters(e),a={facets:t,tagFilters:s._getTagFilters(e)};return n.length>0&&(a.facetFilters=n),r.length>0&&(a.numericFilters=r),o(e.getQueryParams(),a)},_getDisjunctiveFacetSearchParams:function(e,t,n){var r=s._getFacetFilters(e,t,n),a=s._getNumericFilters(e,t),i={hitsPerPage:1,page:0,attributesToRetrieve:[],attributesToHighlight:[],attributesToSnippet:[],tagFilters:s._getTagFilters(e),analytics:!1,clickAnalytics:!1},c=e.getHierarchicalFacetByName(t);return i.facets=c?s._getDisjunctiveHierarchicalFacetAttribute(e,c,n):t,a.length>0&&(i.numericFilters=a),r.length>0&&(i.facetFilters=r),o(e.getQueryParams(),i)},_getNumericFilters:function(e,t){if(e.numericFilters)return e.numericFilters;var n=[];return r(e.numericRefinements,function(e,i){r(e,function(e,o){t!==i&&r(e,function(e){if(Array.isArray(e)){var t=a(e,function(e){return i+o+e});n.push(t)}else n.push(i+o+e)})})}),n},_getTagFilters:function(e){return e.tagFilters?e.tagFilters:e.tagRefinements.join(",")},_getFacetFilters:function(e,t,n){var a=[];return r(e.facetsRefinements,function(e,t){r(e,function(e){a.push(t+":"+e)})}),r(e.facetsExcludes,function(e,t){r(e,function(e){a.push(t+":-"+e)})}),r(e.disjunctiveFacetsRefinements,function(e,n){if(n!==t&&e&&0!==e.length){var i=[];r(e,function(e){i.push(n+":"+e)}),a.push(i)}}),r(e.hierarchicalFacetsRefinements,function(r,i){var o=r[0];if(void 0!==o){var s,c,l=e.getHierarchicalFacetByName(i),u=e._getHierarchicalFacetSeparator(l),d=e._getHierarchicalRootPath(l);if(t===i){if(-1===o.indexOf(u)||!d&&!0===n||d&&d.split(u).length===o.split(u).length)return;d?(c=d.split(u).length-1,o=d):(c=o.split(u).length-2,o=o.slice(0,o.lastIndexOf(u))),s=l.attributes[c]}else c=o.split(u).length-1,s=l.attributes[c];s&&a.push([s+":"+o])}}),a},_getHitsHierarchicalFacetsAttributes:function(e){return i(e.hierarchicalFacets,function(t,n){var r=e.getHierarchicalRefinement(n.name)[0];if(!r)return t.push(n.attributes[0]),t;var a=e._getHierarchicalFacetSeparator(n),i=r.split(a).length,o=n.attributes.slice(0,i+1);return t.concat(o)},[])},_getDisjunctiveHierarchicalFacetAttribute:function(e,t,n){var r=e._getHierarchicalFacetSeparator(t);if(!0===n){var a=e._getHierarchicalRootPath(t),i=0;return a&&(i=a.split(r).length),[t.attributes[i]]}var o=(e.getHierarchicalRefinement(t.name)[0]||"").split(r).length-1;return t.attributes.slice(0,o+1)},getSearchForFacetQuery:function(e,t,n,r){var a=r.isDisjunctiveFacet(e)?r.clearRefinements(e):r,i={facetQuery:t,facetName:e};return"number"==typeof n&&(i.maxFacetHits=n),o(s._getHitsSearchParams(a),i)}};e.exports=s},function(e,t,n){"use strict";var r=n(641),a=n(88),i={advancedSyntax:"aS",allowTyposOnNumericTokens:"aTONT",analyticsTags:"aT",analytics:"a",aroundLatLngViaIP:"aLLVIP",aroundLatLng:"aLL",aroundPrecision:"aP",aroundRadius:"aR",attributesToHighlight:"aTH",attributesToRetrieve:"aTR",attributesToSnippet:"aTS",disjunctiveFacetsRefinements:"dFR",disjunctiveFacets:"dF",distinct:"d",facetsExcludes:"fE",facetsRefinements:"fR",facets:"f",getRankingInfo:"gRI",hierarchicalFacetsRefinements:"hFR",hierarchicalFacets:"hF",highlightPostTag:"hPoT",highlightPreTag:"hPrT",hitsPerPage:"hPP",ignorePlurals:"iP",index:"idx",insideBoundingBox:"iBB",insidePolygon:"iPg",length:"l",maxValuesPerFacet:"mVPF",minimumAroundRadius:"mAR",minProximity:"mP",minWordSizefor1Typo:"mWS1T",minWordSizefor2Typos:"mWS2T",numericFilters:"nF",numericRefinements:"nR",offset:"o",optionalWords:"oW",page:"p",queryType:"qT",query:"q",removeWordsIfNoResults:"rWINR",replaceSynonymsInHighlight:"rSIH",restrictSearchableAttributes:"rSA",synonyms:"s",tagFilters:"tF",tagRefinements:"tR",typoTolerance:"tT",optionalTagFilters:"oTF",optionalFacetFilters:"oFF",snippetEllipsisText:"sET",disableExactOnAttributes:"dEOA",enableExactOnSingleWordQuery:"eEOSWQ"},o=r(i);e.exports={ENCODED_PARAMETERS:a(o),decode:function(e){return o[e]},encode:function(e){return i[e]}}},function(e,t,n){var r=n(1302);e.exports=function(e,t){return function(n,a){return r(n,e,t(a),{})}}},function(e,t,n){var r=n(235);e.exports=function(e,t,n,a){return r(e,function(e,r,i){t(a,n(e),r,i)}),a}},function(e,t,n){"use strict";var r=n(1304),a=n(1305),i=n(642);e.exports={formats:i,parse:a,stringify:r}},function(e,t,n){"use strict";var r=n(435),a=n(642),i=Object.prototype.hasOwnProperty,o={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},s=Array.isArray,c=Array.prototype.push,l=function(e,t){c.apply(e,s(t)?t:[t])},u=Date.prototype.toISOString,d={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:r.encode,encodeValuesOnly:!1,formatter:a.formatters[a.default],indices:!1,serializeDate:function(e){return u.call(e)},skipNulls:!1,strictNullHandling:!1},p=function e(t,n,a,i,o,c,u,p,f,h,m,g,v){var b=t;if("function"==typeof u?b=u(n,b):b instanceof Date?b=h(b):"comma"===a&&s(b)&&(b=b.join(",")),null===b){if(i)return c&&!g?c(n,d.encoder,v):n;b=""}if("string"==typeof b||"number"==typeof b||"boolean"==typeof b||r.isBuffer(b))return c?[m(g?n:c(n,d.encoder,v))+"="+m(c(b,d.encoder,v))]:[m(n)+"="+m(String(b))];var y,E=[];if(void 0===b)return E;if(s(u))y=u;else{var _=Object.keys(b);y=p?_.sort(p):_}for(var w=0;w<y.length;++w){var S=y[w];o&&null===b[S]||(s(b)?l(E,e(b[S],"function"==typeof a?a(n,S):n,a,i,o,c,u,p,f,h,m,g,v)):l(E,e(b[S],n+(f?"."+S:"["+S+"]"),a,i,o,c,u,p,f,h,m,g,v)))}return E};e.exports=function(e,t){var n,r=e,c=function(e){if(!e)return d;if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||d.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=a.default;if(void 0!==e.format){if(!i.call(a.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var r=a.formatters[n],o=d.filter;return("function"==typeof e.filter||s(e.filter))&&(o=e.filter),{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:d.addQueryPrefix,allowDots:void 0===e.allowDots?d.allowDots:!!e.allowDots,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:d.charsetSentinel,delimiter:void 0===e.delimiter?d.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:d.encode,encoder:"function"==typeof e.encoder?e.encoder:d.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:d.encodeValuesOnly,filter:o,formatter:r,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:d.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:d.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:d.strictNullHandling}}(t);"function"==typeof c.filter?r=(0,c.filter)("",r):s(c.filter)&&(n=c.filter);var u,f=[];if("object"!=typeof r||null===r)return"";u=t&&t.arrayFormat in o?t.arrayFormat:t&&"indices"in t?t.indices?"indices":"repeat":"indices";var h=o[u];n||(n=Object.keys(r)),c.sort&&n.sort(c.sort);for(var m=0;m<n.length;++m){var g=n[m];c.skipNulls&&null===r[g]||l(f,p(r[g],g,h,c.strictNullHandling,c.skipNulls,c.encode?c.encoder:null,c.filter,c.sort,c.allowDots,c.serializeDate,c.formatter,c.encodeValuesOnly,c.charset))}var v=f.join(c.delimiter),b=!0===c.addQueryPrefix?"?":"";return c.charsetSentinel&&("iso-8859-1"===c.charset?b+="utf8=%26%2310003%3B&":b+="utf8=%E2%9C%93&"),v.length>0?b+v:""}},function(e,t,n){"use strict";var r=n(435),a=Object.prototype.hasOwnProperty,i={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:r.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},o=function(e){return e.replace(/&#(\d+);/g,function(e,t){return String.fromCharCode(parseInt(t,10))})},s=function(e,t,n){if(e){var r=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,i=/(\[[^[\]]*])/g,o=/(\[[^[\]]*])/.exec(r),s=o?r.slice(0,o.index):r,c=[];if(s){if(!n.plainObjects&&a.call(Object.prototype,s)&&!n.allowPrototypes)return;c.push(s)}for(var l=0;null!==(o=i.exec(r))&&l<n.depth;){if(l+=1,!n.plainObjects&&a.call(Object.prototype,o[1].slice(1,-1))&&!n.allowPrototypes)return;c.push(o[1])}return o&&c.push("["+r.slice(o.index)+"]"),function(e,t,n){for(var r=t,a=e.length-1;a>=0;--a){var i,o=e[a];if("[]"===o&&n.parseArrays)i=[].concat(r);else{i=n.plainObjects?Object.create(null):{};var s="["===o.charAt(0)&&"]"===o.charAt(o.length-1)?o.slice(1,-1):o,c=parseInt(s,10);n.parseArrays||""!==s?!isNaN(c)&&o!==s&&String(c)===s&&c>=0&&n.parseArrays&&c<=n.arrayLimit?(i=[])[c]=r:i[s]=r:i={0:r}}r=i}return r}(c,t,n)}};e.exports=function(e,t){var n=function(e){if(!e)return i;if(null!==e.decoder&&void 0!==e.decoder&&"function"!=typeof e.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new Error("The charset option must be either utf-8, iso-8859-1, or undefined");var t=void 0===e.charset?i.charset:e.charset;return{allowDots:void 0===e.allowDots?i.allowDots:!!e.allowDots,allowPrototypes:"boolean"==typeof e.allowPrototypes?e.allowPrototypes:i.allowPrototypes,arrayLimit:"number"==typeof e.arrayLimit?e.arrayLimit:i.arrayLimit,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:i.charsetSentinel,comma:"boolean"==typeof e.comma?e.comma:i.comma,decoder:"function"==typeof e.decoder?e.decoder:i.decoder,delimiter:"string"==typeof e.delimiter||r.isRegExp(e.delimiter)?e.delimiter:i.delimiter,depth:"number"==typeof e.depth?e.depth:i.depth,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof e.interpretNumericEntities?e.interpretNumericEntities:i.interpretNumericEntities,parameterLimit:"number"==typeof e.parameterLimit?e.parameterLimit:i.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"==typeof e.plainObjects?e.plainObjects:i.plainObjects,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:i.strictNullHandling}}(t);if(""===e||null==e)return n.plainObjects?Object.create(null):{};for(var c="string"==typeof e?function(e,t){var n,s={},c=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,l=t.parameterLimit===1/0?void 0:t.parameterLimit,u=c.split(t.delimiter,l),d=-1,p=t.charset;if(t.charsetSentinel)for(n=0;n<u.length;++n)0===u[n].indexOf("utf8=")&&("utf8=%E2%9C%93"===u[n]?p="utf-8":"utf8=%26%2310003%3B"===u[n]&&(p="iso-8859-1"),d=n,n=u.length);for(n=0;n<u.length;++n)if(n!==d){var f,h,m=u[n],g=m.indexOf("]="),v=-1===g?m.indexOf("="):g+1;-1===v?(f=t.decoder(m,i.decoder,p),h=t.strictNullHandling?null:""):(f=t.decoder(m.slice(0,v),i.decoder,p),h=t.decoder(m.slice(v+1),i.decoder,p)),h&&t.interpretNumericEntities&&"iso-8859-1"===p&&(h=o(h)),h&&t.comma&&h.indexOf(",")>-1&&(h=h.split(",")),a.call(s,f)?s[f]=r.combine(s[f],h):s[f]=h}return s}(e,n):e,l=n.plainObjects?Object.create(null):{},u=Object.keys(c),d=0;d<u.length;++d){var p=u[d],f=s(p,c[p],n);l=r.merge(l,f,n)}return r.compact(l)}},function(e,t,n){var r=n(129),a=n(432),i=n(239),o=n(195),s=r(function(e,t,n){var r=1;if(n.length){var c=o(n,i(s));r|=32}return a(e,r,t,n,c)});s.placeholder={},e.exports=s},function(e,t,n){var r=n(637),a=n(615);e.exports=function(e,t){return r(e,t,function(t,n){return a(e,n)})}},function(e,t,n){var r=n(230),a=n(235),i=n(130);e.exports=function(e,t){var n={};return t=i(t,3),a(e,function(e,a,i){r(n,t(e,a,i),e)}),n}},function(e,t,n){var r=n(230),a=n(235),i=n(130);e.exports=function(e,t){var n={};return t=i(t,3),a(e,function(e,a,i){r(n,a,t(e,a,i))}),n}},function(e,t,n){(function(t){e.exports=c;var r=n(307),a=n(1311),i=n(1312),o=n(1318),s=t.env.RESET_APP_DATA_TIMER&&parseInt(t.env.RESET_APP_DATA_TIMER,10)||12e4;function c(e,t,a){var i=n(310)("algoliasearch"),o=n(197),s=n(308),c=n(309),u="Usage: algoliasearch(applicationID, apiKey, opts)";if(!0!==a._allowEmptyCredentials&&!e)throw new r.AlgoliaSearchError("Please provide an application ID. "+u);if(!0!==a._allowEmptyCredentials&&!t)throw new r.AlgoliaSearchError("Please provide an API key. "+u);this.applicationID=e,this.apiKey=t,this.hosts={read:[],write:[]},a=a||{},this._timeouts=a.timeouts||{connect:1e3,read:2e3,write:3e4},a.timeout&&(this._timeouts.connect=this._timeouts.read=this._timeouts.write=a.timeout);var d=a.protocol||"https:";if(/:$/.test(d)||(d+=":"),"http:"!==d&&"https:"!==d)throw new r.AlgoliaSearchError("protocol must be `http:` or `https:` (was `"+a.protocol+"`)");if(this._checkAppIdData(),a.hosts)s(a.hosts)?(this.hosts.read=o(a.hosts),this.hosts.write=o(a.hosts)):(this.hosts.read=o(a.hosts.read),this.hosts.write=o(a.hosts.write));else{var p=c(this._shuffleResult,function(t){return e+"-"+t+".algolianet.com"}),f=(!1===a.dsn?"":"-dsn")+".algolia.net";this.hosts.read=[this.applicationID+f].concat(p),this.hosts.write=[this.applicationID+".algolia.net"].concat(p)}this.hosts.read=c(this.hosts.read,l(d)),this.hosts.write=c(this.hosts.write,l(d)),this.extraHeaders={},this.cache=a._cache||{},this._ua=a._ua,this._useCache=!(void 0!==a._useCache&&!a._cache)||a._useCache,this._useRequestCache=this._useCache&&a._useRequestCache,this._useFallback=void 0===a.useFallback||a.useFallback,this._setTimeout=a._setTimeout,i("init done, %j",this)}function l(e){return function(t){return e+"//"+t.toLowerCase()}}function u(e){if(void 0===Array.prototype.toJSON)return JSON.stringify(e);var t=Array.prototype.toJSON;delete Array.prototype.toJSON;var n=JSON.stringify(e);return Array.prototype.toJSON=t,n}function d(e){var t={};for(var n in e){var r;if(Object.prototype.hasOwnProperty.call(e,n))r="x-algolia-api-key"===n||"x-algolia-application-id"===n?"**hidden for security purposes**":e[n],t[n]=r}return t}c.prototype.initIndex=function(e){return new i(this,e)},c.prototype.setExtraHeader=function(e,t){this.extraHeaders[e.toLowerCase()]=t},c.prototype.getExtraHeader=function(e){return this.extraHeaders[e.toLowerCase()]},c.prototype.unsetExtraHeader=function(e){delete this.extraHeaders[e.toLowerCase()]},c.prototype.addAlgoliaAgent=function(e){var t="; "+e;-1===this._ua.indexOf(t)&&(this._ua+=t)},c.prototype._jsonRequest=function(e){this._checkAppIdData();var t,i,o,s=n(310)("algoliasearch:"+e.url),c=e.additionalUA||"",l=e.cache,p=this,f=0,h=!1,m=p._useFallback&&p._request.fallback&&e.fallback;this.apiKey.length>500&&void 0!==e.body&&(void 0!==e.body.params||void 0!==e.body.requests)?(e.body.apiKey=this.apiKey,o=this._computeRequestHeaders({additionalUA:c,withApiKey:!1,headers:e.headers})):o=this._computeRequestHeaders({additionalUA:c,headers:e.headers}),void 0!==e.body&&(t=u(e.body)),s("request start");var g=[];function v(e,t,n){return p._useCache&&e&&t&&void 0!==t[n]}function b(t,n){if(v(p._useRequestCache,l,i)&&t.catch(function(){delete l[i]}),"function"!=typeof e.callback)return t.then(n);t.then(function(t){a(function(){e.callback(null,n(t))},p._setTimeout||setTimeout)},function(t){a(function(){e.callback(t)},p._setTimeout||setTimeout)})}if(p._useCache&&p._useRequestCache&&(i=e.url),p._useCache&&p._useRequestCache&&t&&(i+="_body_"+t),v(p._useRequestCache,l,i)){s("serving request from cache");var y=l[i];return b("function"!=typeof y.then?p._promise.resolve({responseText:y}):y,function(e){return JSON.parse(e.responseText)})}var E=function n(a,b){p._checkAppIdData();var y=new Date;if(p._useCache&&!p._useRequestCache&&(i=e.url),p._useCache&&!p._useRequestCache&&t&&(i+="_body_"+b.body),v(!p._useRequestCache,l,i)){s("serving response from cache");var E=l[i];return p._promise.resolve({body:JSON.parse(E),responseText:E})}if(f>=p.hosts[e.hostType].length)return!m||h?(s("could not get any response"),p._promise.reject(new r.AlgoliaSearchError("Cannot connect to the AlgoliaSearch API. Send an email to support@algolia.com to report and resolve the issue. Application id was: "+p.applicationID,{debugData:g}))):(s("switching to fallback"),f=0,b.method=e.fallback.method,b.url=e.fallback.url,b.jsonBody=e.fallback.body,b.jsonBody&&(b.body=u(b.jsonBody)),o=p._computeRequestHeaders({additionalUA:c,headers:e.headers}),b.timeouts=p._getTimeoutsForRequest(e.hostType),p._setHostIndexByType(0,e.hostType),h=!0,n(p._request.fallback,b));var _=p._getHostByType(e.hostType),w=_+b.url,S={body:b.body,jsonBody:b.jsonBody,method:b.method,headers:o,timeouts:b.timeouts,debug:s,forceAuthHeaders:b.forceAuthHeaders};return s("method: %s, url: %s, headers: %j, timeouts: %d",S.method,w,S.headers,S.timeouts),a===p._request.fallback&&s("using fallback"),a.call(p,w,S).then(function(e){var n=e&&e.body&&e.body.message&&e.body.status||e.statusCode||e&&e.body&&200;s("received response: statusCode: %s, computed statusCode: %d, headers: %j",e.statusCode,n,e.headers);var a=2===Math.floor(n/100),c=new Date;if(g.push({currentHost:_,headers:d(o),content:t||null,contentLength:void 0!==t?t.length:null,method:b.method,timeouts:b.timeouts,url:b.url,startTime:y,endTime:c,duration:c-y,statusCode:n}),a)return p._useCache&&!p._useRequestCache&&l&&(l[i]=e.responseText),{responseText:e.responseText,body:e.body};if(4!==Math.floor(n/100))return f+=1,k();s("unrecoverable error");var u=new r.AlgoliaSearchError(e.body&&e.body.message,{debugData:g,statusCode:n});return p._promise.reject(u)},function(i){s("error: %s, stack: %s",i.message,i.stack);var c=new Date;return g.push({currentHost:_,headers:d(o),content:t||null,contentLength:void 0!==t?t.length:null,method:b.method,timeouts:b.timeouts,url:b.url,startTime:y,endTime:c,duration:c-y}),i instanceof r.AlgoliaSearchError||(i=new r.Unknown(i&&i.message,i)),f+=1,i instanceof r.Unknown||i instanceof r.UnparsableJSON||f>=p.hosts[e.hostType].length&&(h||!m)?(i.debugData=g,p._promise.reject(i)):i instanceof r.RequestTimeout?(s("retrying request with higher timeout"),p._incrementHostIndex(e.hostType),p._incrementTimeoutMultipler(),b.timeouts=p._getTimeoutsForRequest(e.hostType),n(a,b)):k()});function k(){return s("retrying request"),p._incrementHostIndex(e.hostType),n(a,b)}}(p._request,{url:e.url,method:e.method,body:t,jsonBody:e.body,timeouts:p._getTimeoutsForRequest(e.hostType),forceAuthHeaders:e.forceAuthHeaders});return p._useCache&&p._useRequestCache&&l&&(l[i]=E),b(E,function(e){return e.body})},c.prototype._getSearchParams=function(e,t){if(null==e)return t;for(var n in e)null!==n&&void 0!==e[n]&&e.hasOwnProperty(n)&&(t+=""===t?"":"&",t+=n+"="+encodeURIComponent("[object Array]"===Object.prototype.toString.call(e[n])?u(e[n]):e[n]));return t},c.prototype._computeRequestHeaders=function(e){var t=n(196),r={"x-algolia-agent":e.additionalUA?this._ua+"; "+e.additionalUA:this._ua,"x-algolia-application-id":this.applicationID};return!1!==e.withApiKey&&(r["x-algolia-api-key"]=this.apiKey),this.userToken&&(r["x-algolia-usertoken"]=this.userToken),this.securityTags&&(r["x-algolia-tagfilters"]=this.securityTags),t(this.extraHeaders,function(e,t){r[t]=e}),e.headers&&t(e.headers,function(e,t){r[t]=e}),r},c.prototype.search=function(e,t,r){var a=n(308),i=n(309);if(!a(e))throw new Error("Usage: client.search(arrayOfQueries[, callback])");"function"==typeof t?(r=t,t={}):void 0===t&&(t={});var o=this,s={requests:i(e,function(e){var t="";return void 0!==e.query&&(t+="query="+encodeURIComponent(e.query)),{indexName:e.indexName,params:o._getSearchParams(e.params,t)}})},c=i(s.requests,function(e,t){return t+"="+encodeURIComponent("/1/indexes/"+encodeURIComponent(e.indexName)+"?"+e.params)}).join("&");return void 0!==t.strategy&&(s.strategy=t.strategy),this._jsonRequest({cache:this.cache,method:"POST",url:"/1/indexes/*/queries",body:s,hostType:"read",fallback:{method:"GET",url:"/1/indexes/*",body:{params:c}},callback:r})},c.prototype.searchForFacetValues=function(e){var t=n(308),r=n(309),a="Usage: client.searchForFacetValues([{indexName, params: {facetName, facetQuery, ...params}}, ...queries])";if(!t(e))throw new Error(a);var i=this;return i._promise.all(r(e,function(e){if(!e||void 0===e.indexName||void 0===e.params.facetName||void 0===e.params.facetQuery)throw new Error(a);var t=n(197),r=n(646),o=e.indexName,s=e.params,c=s.facetName,l=r(t(s),function(e){return"facetName"===e}),u=i._getSearchParams(l,"");return i._jsonRequest({cache:i.cache,method:"POST",url:"/1/indexes/"+encodeURIComponent(o)+"/facets/"+encodeURIComponent(c)+"/query",hostType:"read",body:{params:u}})}))},c.prototype.setSecurityTags=function(e){if("[object Array]"===Object.prototype.toString.call(e)){for(var t=[],n=0;n<e.length;++n)if("[object Array]"===Object.prototype.toString.call(e[n])){for(var r=[],a=0;a<e[n].length;++a)r.push(e[n][a]);t.push("("+r.join(",")+")")}else t.push(e[n]);e=t.join(",")}this.securityTags=e},c.prototype.setUserToken=function(e){this.userToken=e},c.prototype.clearCache=function(){this.cache={}},c.prototype.setRequestTimeout=function(e){e&&(this._timeouts.connect=this._timeouts.read=this._timeouts.write=e)},c.prototype.setTimeouts=function(e){this._timeouts=e},c.prototype.getTimeouts=function(){return this._timeouts},c.prototype._getAppIdData=function(){var e=o.get(this.applicationID);return null!==e&&this._cacheAppIdData(e),e},c.prototype._setAppIdData=function(e){return e.lastChange=(new Date).getTime(),this._cacheAppIdData(e),o.set(this.applicationID,e)},c.prototype._checkAppIdData=function(){var e=this._getAppIdData(),t=(new Date).getTime();return null===e||t-e.lastChange>s?this._resetInitialAppIdData(e):e},c.prototype._resetInitialAppIdData=function(e){var t=e||{};return t.hostIndexes={read:0,write:0},t.timeoutMultiplier=1,t.shuffleResult=t.shuffleResult||function(e){var t,n,r=e.length;for(;0!==r;)n=Math.floor(Math.random()*r),t=e[r-=1],e[r]=e[n],e[n]=t;return e}([1,2,3]),this._setAppIdData(t)},c.prototype._cacheAppIdData=function(e){this._hostIndexes=e.hostIndexes,this._timeoutMultiplier=e.timeoutMultiplier,this._shuffleResult=e.shuffleResult},c.prototype._partialAppIdDataUpdate=function(e){var t=n(196),r=this._getAppIdData();return t(e,function(e,t){r[t]=e}),this._setAppIdData(r)},c.prototype._getHostByType=function(e){return this.hosts[e][this._getHostIndexByType(e)]},c.prototype._getTimeoutMultiplier=function(){return this._timeoutMultiplier},c.prototype._getHostIndexByType=function(e){return this._hostIndexes[e]},c.prototype._setHostIndexByType=function(e,t){var r=n(197)(this._hostIndexes);return r[t]=e,this._partialAppIdDataUpdate({hostIndexes:r}),e},c.prototype._incrementHostIndex=function(e){return this._setHostIndexByType((this._getHostIndexByType(e)+1)%this.hosts[e].length,e)},c.prototype._incrementTimeoutMultipler=function(){var e=Math.max(this._timeoutMultiplier+1,4);return this._partialAppIdDataUpdate({timeoutMultiplier:e})},c.prototype._getTimeoutsForRequest=function(e){return{connect:this._timeouts.connect*this._timeoutMultiplier,complete:this._timeouts[e]*this._timeoutMultiplier}}}).call(this,n(436))},function(e,t){e.exports=function(e,t){t(e,0)}},function(e,t,n){var r=n(645),a=n(1313),i=n(1314);function o(e,t){this.indexName=t,this.as=e,this.typeAheadArgs=null,this.typeAheadValueOption=null,this.cache={}}e.exports=o,o.prototype.clearCache=function(){this.cache={}},o.prototype.search=r("query"),o.prototype.similarSearch=a(r("similarQuery"),i("index.similarSearch(query[, callback])","index.search({ similarQuery: query }[, callback])")),o.prototype.browse=function(e,t,r){var a,i,o=n(1315);0===arguments.length||1===arguments.length&&"function"==typeof arguments[0]?(a=0,r=arguments[0],e=void 0):"number"==typeof arguments[0]?(a=arguments[0],"number"==typeof arguments[1]?i=arguments[1]:"function"==typeof arguments[1]&&(r=arguments[1],i=void 0),e=void 0,t=void 0):"object"==typeof arguments[0]?("function"==typeof arguments[1]&&(r=arguments[1]),t=arguments[0],e=void 0):"string"==typeof arguments[0]&&"function"==typeof arguments[1]&&(r=arguments[1],t=void 0),t=o({},t||{},{page:a,hitsPerPage:i,query:e});var s=this.as._getSearchParams(t,"");return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/browse",body:{params:s},hostType:"read",callback:r})},o.prototype.browseFrom=function(e,t){return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/browse",body:{cursor:e},hostType:"read",callback:t})},o.prototype.searchForFacetValues=function(e,t){var r=n(197),a=n(646);if(void 0===e.facetName||void 0===e.facetQuery)throw new Error("Usage: index.searchForFacetValues({facetName, facetQuery, ...params}[, callback])");var i=e.facetName,o=a(r(e),function(e){return"facetName"===e}),s=this.as._getSearchParams(o,"");return this.as._jsonRequest({method:"POST",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/facets/"+encodeURIComponent(i)+"/query",hostType:"read",body:{params:s},callback:t})},o.prototype.searchFacet=a(function(e,t){return this.searchForFacetValues(e,t)},i("index.searchFacet(params[, callback])","index.searchForFacetValues(params[, callback])")),o.prototype._search=function(e,t,n,r){return this.as._jsonRequest({cache:this.cache,method:"POST",url:t||"/1/indexes/"+encodeURIComponent(this.indexName)+"/query",body:{params:e},hostType:"read",fallback:{method:"GET",url:"/1/indexes/"+encodeURIComponent(this.indexName),body:{params:e}},callback:n,additionalUA:r})},o.prototype.getObject=function(e,t,n){1!==arguments.length&&"function"!=typeof t||(n=t,t=void 0);var r="";if(void 0!==t){r="?attributes=";for(var a=0;a<t.length;++a)0!==a&&(r+=","),r+=t[a]}return this.as._jsonRequest({method:"GET",url:"/1/indexes/"+encodeURIComponent(this.indexName)+"/"+encodeURIComponent(e)+r,hostType:"read",callback:n})},o.prototype.getObjects=function(e,t,r){var a=n(308),i=n(309);if(!a(e))throw new Error("Usage: index.getObjects(arrayOfObjectIDs[, callback])");var o=this;1!==arguments.length&&"function"!=typeof t||(r=t,t=void 0);var s={requests:i(e,function(e){var n={indexName:o.indexName,objectID:e};return t&&(n.attributesToRetrieve=t.join(",")),n})};return this.as._jsonRequest({method:"POST",url:"/1/indexes/*/objects",hostType:"read",body:s,callback:r})},o.prototype.as=null,o.prototype.indexName=null,o.prototype.typeAheadArgs=null,o.prototype.typeAheadValueOption=null},function(e,t){e.exports=function(e,t){var n=!1;return function(){return n||(console.warn(t),n=!0),e.apply(this,arguments)}}},function(e,t){e.exports=function(e,t){var n=e.toLowerCase().replace(/[\.\(\)]/g,"");return"algoliasearch: `"+e+"` was replaced by `"+t+"`. Please see https://github.com/algolia/algoliasearch-client-javascript/wiki/Deprecated#"+n}},function(e,t,n){var r=n(196);e.exports=function e(t){var n=Array.prototype.slice.call(arguments);return r(n,function(n){for(var r in n)n.hasOwnProperty(r)&&("object"==typeof t[r]&&"object"==typeof n[r]?t[r]=e({},t[r],n[r]):void 0!==n[r]&&(t[r]=n[r]))}),t}},function(e,t,n){"use strict";var r=Array.prototype.slice,a=n(647),i=Object.keys,o=i?function(e){return i(e)}:n(1317),s=Object.keys;o.shim=function(){Object.keys?function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2)||(Object.keys=function(e){return a(e)?s(r.call(e)):s(e)}):Object.keys=o;return Object.keys||o},e.exports=o},function(e,t,n){"use strict";var r;if(!Object.keys){var a=Object.prototype.hasOwnProperty,i=Object.prototype.toString,o=n(647),s=Object.prototype.propertyIsEnumerable,c=!s.call({toString:null},"toString"),l=s.call(function(){},"prototype"),u=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],d=function(e){var t=e.constructor;return t&&t.prototype===e},p={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},f=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!p["$"+e]&&a.call(window,e)&&null!==window[e]&&"object"==typeof window[e])try{d(window[e])}catch(e){return!0}}catch(e){return!0}return!1}();r=function(e){var t=null!==e&&"object"==typeof e,n="[object Function]"===i.call(e),r=o(e),s=t&&"[object String]"===i.call(e),p=[];if(!t&&!n&&!r)throw new TypeError("Object.keys called on a non-object");var h=l&&n;if(s&&e.length>0&&!a.call(e,0))for(var m=0;m<e.length;++m)p.push(String(m));if(r&&e.length>0)for(var g=0;g<e.length;++g)p.push(String(g));else for(var v in e)h&&"prototype"===v||!a.call(e,v)||p.push(String(v));if(c)for(var b=function(e){if("undefined"==typeof window||!f)return d(e);try{return d(e)}catch(e){return!1}}(e),y=0;y<u.length;++y)b&&"constructor"===u[y]||!a.call(e,u[y])||p.push(u[y]);return p}}e.exports=r},function(e,t,n){(function(t){var r,a=n(310)("algoliasearch:src/hostIndexState.js"),i="algoliasearch-client-js",o={state:{},set:function(e,t){return this.state[e]=t,this.state[e]},get:function(e){return this.state[e]||null}},s={set:function(e,n){o.set(e,n);try{var r=JSON.parse(t.localStorage[i]);return r[e]=n,t.localStorage[i]=JSON.stringify(r),r[e]}catch(t){return c(e,t)}},get:function(e){try{return JSON.parse(t.localStorage[i])[e]||null}catch(t){return c(e,t)}}};function c(e,n){return a("localStorage failed with",n),function(){try{t.localStorage.removeItem(i)}catch(e){}}(),(r=o).get(e)}function l(e,t){return 1===arguments.length?r.get(e):r.set(e,t)}function u(){try{return"localStorage"in t&&null!==t.localStorage&&(t.localStorage[i]||t.localStorage.setItem(i,JSON.stringify({})),!0)}catch(e){return!1}}r=u()?s:o,e.exports={get:l,set:l,supportsLocalStorage:u}}).call(this,n(43))},function(e,t,n){var r;function a(e){function n(){if(n.enabled){var e=n,a=+new Date,i=a-(r||a);e.diff=i,e.prev=r,e.curr=a,r=a;for(var o=new Array(arguments.length),s=0;s<o.length;s++)o[s]=arguments[s];o[0]=t.coerce(o[0]),"string"!=typeof o[0]&&o.unshift("%O");var c=0;o[0]=o[0].replace(/%([a-zA-Z%])/g,function(n,r){if("%%"===n)return n;c++;var a=t.formatters[r];if("function"==typeof a){var i=o[c];n=a.call(e,i),o.splice(c,1),c--}return n}),t.formatArgs.call(e,o),(n.log||t.log||console.log.bind(console)).apply(e,o)}}return n.namespace=e,n.enabled=t.enabled(e),n.useColors=t.useColors(),n.color=function(e){var n,r=0;for(n in e)r=(r<<5)-r+e.charCodeAt(n),r|=0;return t.colors[Math.abs(r)%t.colors.length]}(e),"function"==typeof t.init&&t.init(n),n}(t=e.exports=a.debug=a.default=a).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){t.save(e),t.names=[],t.skips=[];for(var n=("string"==typeof e?e:"").split(/[\s,]+/),r=n.length,a=0;a<r;a++)n[a]&&("-"===(e=n[a].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(1320),t.names=[],t.skips=[],t.formatters={}},function(e,t){var n=1e3,r=60*n,a=60*r,i=24*a,o=365.25*i;function s(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}e.exports=function(e,t){t=t||{};var c,l=typeof e;if("string"===l&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(!t)return;var s=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return s*o;case"days":case"day":case"d":return s*i;case"hours":case"hour":case"hrs":case"hr":case"h":return s*a;case"minutes":case"minute":case"mins":case"min":case"m":return s*r;case"seconds":case"second":case"secs":case"sec":case"s":return s*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}(e);if("number"===l&&!1===isNaN(e))return t.long?s(c=e,i,"day")||s(c,a,"hour")||s(c,r,"minute")||s(c,n,"second")||c+" ms":function(e){if(e>=i)return Math.round(e/i)+"d";if(e>=a)return Math.round(e/a)+"h";if(e>=r)return Math.round(e/r)+"m";if(e>=n)return Math.round(e/n)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,n){"use strict";var r=n(1322),a=r.Promise||n(1323).Promise;e.exports=function(e,t){var i=n(644),o=n(307),s=n(1324),c=n(1325),l=n(1326);function u(e,t,r){return(r=n(197)(r||{}))._ua=r._ua||u.ua,new p(e,t,r)}t=t||"",u.version=n(1329),u.ua="Algolia for JavaScript ("+u.version+"); "+t,u.initPlaces=l(u),r.__algolia={debug:n(310),algoliasearch:u};var d={hasXMLHttpRequest:"XMLHttpRequest"in r,hasXDomainRequest:"XDomainRequest"in r};function p(){e.apply(this,arguments)}return d.hasXMLHttpRequest&&(d.cors="withCredentials"in new XMLHttpRequest),i(p,e),p.prototype._request=function(e,t){return new a(function(n,r){if(d.cors||d.hasXDomainRequest){e=s(e,t.headers);var a,i,c=t.body,l=d.cors?new XMLHttpRequest:new XDomainRequest,u=!1;a=setTimeout(p,t.timeouts.connect),l.onprogress=function(){u||f()},"onreadystatechange"in l&&(l.onreadystatechange=function(){!u&&l.readyState>1&&f()}),l.onload=function(){if(i)return;var e;clearTimeout(a);try{e={body:JSON.parse(l.responseText),responseText:l.responseText,statusCode:l.status,headers:l.getAllResponseHeaders&&l.getAllResponseHeaders()||{}}}catch(t){e=new o.UnparsableJSON({more:l.responseText})}e instanceof o.UnparsableJSON?r(e):n(e)},l.onerror=function(e){if(i)return;clearTimeout(a),r(new o.Network({more:e}))},l instanceof XMLHttpRequest?(l.open(t.method,e,!0),t.forceAuthHeaders&&(l.setRequestHeader("x-algolia-application-id",t.headers["x-algolia-application-id"]),l.setRequestHeader("x-algolia-api-key",t.headers["x-algolia-api-key"]))):l.open(t.method,e),d.cors&&(c&&("POST"===t.method?l.setRequestHeader("content-type","application/x-www-form-urlencoded"):l.setRequestHeader("content-type","application/json")),l.setRequestHeader("accept","application/json")),c?l.send(c):l.send()}else r(new o.Network("CORS not supported"));function p(){i=!0,l.abort(),r(new o.RequestTimeout)}function f(){u=!0,clearTimeout(a),a=setTimeout(p,t.timeouts.complete)}})},p.prototype._request.fallback=function(e,t){return e=s(e,t.headers),new a(function(n,r){c(e,t,function(e,t){e?r(e):n(t)})})},p.prototype._promise={reject:function(e){return a.reject(e)},resolve:function(e){return a.resolve(e)},delay:function(e){return new a(function(t){setTimeout(t,e)})},all:function(e){return a.all(e)}},u}},function(e,t,n){(function(t){var n;n="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},e.exports=n}).call(this,n(43))},function(e,t,n){(function(t,n){
/*!
 * @overview es6-promise - a tiny implementation of Promises/A+.
 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
 * @license   Licensed under MIT license
 *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE
 * @version   v4.2.8+1e68dce6
 */var r;r=function(){"use strict";function e(e){return"function"==typeof e}var r=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},a=0,i=void 0,o=void 0,s=function(e,t){h[a]=e,h[a+1]=t,2===(a+=2)&&(o?o(m):E())},c="undefined"!=typeof window?window:void 0,l=c||{},u=l.MutationObserver||l.WebKitMutationObserver,d="undefined"==typeof self&&void 0!==t&&"[object process]"==={}.toString.call(t),p="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function f(){var e=setTimeout;return function(){return e(m,1)}}var h=new Array(1e3);function m(){for(var e=0;e<a;e+=2){(0,h[e])(h[e+1]),h[e]=void 0,h[e+1]=void 0}a=0}var g,v,b,y,E=void 0;function _(e,t){var n=this,r=new this.constructor(k);void 0===r[S]&&L(r);var a=n._state;if(a){var i=arguments[a-1];s(function(){return D(a,r,i,n._result)})}else A(n,r,e,t);return r}function w(e){if(e&&"object"==typeof e&&e.constructor===this)return e;var t=new this(k);return T(t,e),t}d?E=function(){return t.nextTick(m)}:u?(v=0,b=new u(m),y=document.createTextNode(""),b.observe(y,{characterData:!0}),E=function(){y.data=v=++v%2}):p?((g=new MessageChannel).port1.onmessage=m,E=function(){return g.port2.postMessage(0)}):E=void 0===c?function(){try{var e=Function("return this")().require("vertx");return void 0!==(i=e.runOnLoop||e.runOnContext)?function(){i(m)}:f()}catch(e){return f()}}():f();var S=Math.random().toString(36).substring(2);function k(){}var C=void 0,N=1,O=2;function x(t,n,r){n.constructor===t.constructor&&r===_&&n.constructor.resolve===w?function(e,t){t._state===N?P(e,t._result):t._state===O?I(e,t._result):A(t,void 0,function(t){return T(e,t)},function(t){return I(e,t)})}(t,n):void 0===r?P(t,n):e(r)?function(e,t,n){s(function(e){var r=!1,a=function(e,t,n,r){try{e.call(t,n,r)}catch(e){return e}}(n,t,function(n){r||(r=!0,t!==n?T(e,n):P(e,n))},function(t){r||(r=!0,I(e,t))},e._label);!r&&a&&(r=!0,I(e,a))},e)}(t,n,r):P(t,n)}function T(e,t){if(e===t)I(e,new TypeError("You cannot resolve a promise with itself"));else if(a=typeof(r=t),null===r||"object"!==a&&"function"!==a)P(e,t);else{var n=void 0;try{n=t.then}catch(t){return void I(e,t)}x(e,t,n)}var r,a}function R(e){e._onerror&&e._onerror(e._result),M(e)}function P(e,t){e._state===C&&(e._result=t,e._state=N,0!==e._subscribers.length&&s(M,e))}function I(e,t){e._state===C&&(e._state=O,e._result=t,s(R,e))}function A(e,t,n,r){var a=e._subscribers,i=a.length;e._onerror=null,a[i]=t,a[i+N]=n,a[i+O]=r,0===i&&e._state&&s(M,e)}function M(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var r=void 0,a=void 0,i=e._result,o=0;o<t.length;o+=3)r=t[o],a=t[o+n],r?D(n,r,a,i):a(i);e._subscribers.length=0}}function D(t,n,r,a){var i=e(r),o=void 0,s=void 0,c=!0;if(i){try{o=r(a)}catch(e){c=!1,s=e}if(n===o)return void I(n,new TypeError("A promises callback cannot return that same promise."))}else o=a;n._state!==C||(i&&c?T(n,o):!1===c?I(n,s):t===N?P(n,o):t===O&&I(n,o))}var j=0;function L(e){e[S]=j++,e._state=void 0,e._result=void 0,e._subscribers=[]}var F=function(){function e(e,t){this._instanceConstructor=e,this.promise=new e(k),this.promise[S]||L(this.promise),r(t)?(this.length=t.length,this._remaining=t.length,this._result=new Array(this.length),0===this.length?P(this.promise,this._result):(this.length=this.length||0,this._enumerate(t),0===this._remaining&&P(this.promise,this._result))):I(this.promise,new Error("Array Methods must be provided an Array"))}return e.prototype._enumerate=function(e){for(var t=0;this._state===C&&t<e.length;t++)this._eachEntry(e[t],t)},e.prototype._eachEntry=function(e,t){var n=this._instanceConstructor,r=n.resolve;if(r===w){var a=void 0,i=void 0,o=!1;try{a=e.then}catch(e){o=!0,i=e}if(a===_&&e._state!==C)this._settledAt(e._state,t,e._result);else if("function"!=typeof a)this._remaining--,this._result[t]=e;else if(n===B){var s=new n(k);o?I(s,i):x(s,e,a),this._willSettleAt(s,t)}else this._willSettleAt(new n(function(t){return t(e)}),t)}else this._willSettleAt(r(e),t)},e.prototype._settledAt=function(e,t,n){var r=this.promise;r._state===C&&(this._remaining--,e===O?I(r,n):this._result[t]=n),0===this._remaining&&P(r,this._result)},e.prototype._willSettleAt=function(e,t){var n=this;A(e,void 0,function(e){return n._settledAt(N,t,e)},function(e){return n._settledAt(O,t,e)})},e}(),B=function(){function t(e){this[S]=j++,this._result=this._state=void 0,this._subscribers=[],k!==e&&("function"!=typeof e&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof t?function(e,t){try{t(function(t){T(e,t)},function(t){I(e,t)})}catch(t){I(e,t)}}(this,e):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return t.prototype.catch=function(e){return this.then(null,e)},t.prototype.finally=function(t){var n=this.constructor;return e(t)?this.then(function(e){return n.resolve(t()).then(function(){return e})},function(e){return n.resolve(t()).then(function(){throw e})}):this.then(t,t)},t}();return B.prototype.then=_,B.all=function(e){return new F(this,e).promise},B.race=function(e){var t=this;return r(e)?new t(function(n,r){for(var a=e.length,i=0;i<a;i++)t.resolve(e[i]).then(n,r)}):new t(function(e,t){return t(new TypeError("You must pass an array to race."))})},B.resolve=w,B.reject=function(e){var t=new this(k);return I(t,e),t},B._setScheduler=function(e){o=e},B._setAsap=function(e){s=e},B._asap=s,B.polyfill=function(){var e=void 0;if(void 0!==n)e=n;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var r=null;try{r=Object.prototype.toString.call(t.resolve())}catch(e){}if("[object Promise]"===r&&!t.cast)return}e.Promise=B},B.Promise=B,B},e.exports=r()}).call(this,n(436),n(43))},function(e,t,n){"use strict";e.exports=function(e,t){/\?/.test(e)?e+="&":e+="?";return e+r(t)};var r=n(648)},function(e,t,n){"use strict";e.exports=function(e,t,n){if("GET"!==t.method)return void n(new Error("Method "+t.method+" "+e+" is not supported by JSONP."));t.debug("JSONP: start");var i=!1,o=!1;a+=1;var s=document.getElementsByTagName("head")[0],c=document.createElement("script"),l="algoliaJSONP_"+a,u=!1;window[l]=function(e){!function(){try{delete window[l],delete window[l+"_loaded"]}catch(e){window[l]=window[l+"_loaded"]=void 0}}(),o?t.debug("JSONP: Late answer, ignoring"):(i=!0,f(),n(null,{body:e,responseText:JSON.stringify(e)}))},e+="&callback="+l,t.jsonBody&&t.jsonBody.params&&(e+="&"+t.jsonBody.params);var d=setTimeout(function(){t.debug("JSONP: Script timeout"),o=!0,f(),n(new r.RequestTimeout)},t.timeouts.complete);function p(){t.debug("JSONP: success"),u||o||(u=!0,i||(t.debug("JSONP: Fail. Script loaded but did not call the callback"),f(),n(new r.JSONPScriptFail)))}function f(){clearTimeout(d),c.onload=null,c.onreadystatechange=null,c.onerror=null,s.removeChild(c)}c.onreadystatechange=function(){"loaded"!==this.readyState&&"complete"!==this.readyState||p()},c.onload=p,c.onerror=function(){if(t.debug("JSONP: Script error"),u||o)return;f(),n(new r.JSONPScriptError)},c.async=!0,c.defer=!0,c.src=e,s.appendChild(c)};var r=n(307),a=0},function(e,t,n){e.exports=function(e){return function(t,i,o){var s=n(197);(o=o&&s(o)||{}).hosts=o.hosts||["places-dsn.algolia.net","places-1.algolianet.com","places-2.algolianet.com","places-3.algolianet.com"],0!==arguments.length&&"object"!=typeof t&&void 0!==t||(t="",i="",o._allowEmptyCredentials=!0);var c=e(t,i,o),l=c.initIndex("places");return l.search=a("query","/1/places/query"),l.reverse=function(e,t){var n=r.encode(e);return this.as._jsonRequest({method:"GET",url:"/1/places/reverse?"+n,hostType:"read",callback:t})},l.getObject=function(e,t){return this.as._jsonRequest({method:"GET",url:"/1/places/"+encodeURIComponent(e),hostType:"read",callback:t})},l}};var r=n(1327),a=n(645)},function(e,t,n){"use strict";t.decode=t.parse=n(1328),t.encode=t.stringify=n(648)},function(e,t,n){"use strict";function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,n,i){t=t||"&",n=n||"=";var o={};if("string"!=typeof e||0===e.length)return o;var s=/\+/g;e=e.split(t);var c=1e3;i&&"number"==typeof i.maxKeys&&(c=i.maxKeys);var l=e.length;c>0&&l>c&&(l=c);for(var u=0;u<l;++u){var d,p,f,h,m=e[u].replace(s,"%20"),g=m.indexOf(n);g>=0?(d=m.substr(0,g),p=m.substr(g+1)):(d=m,p=""),f=decodeURIComponent(d),h=decodeURIComponent(p),r(o,f)?a(o[f])?o[f].push(h):o[f]=[o[f],h]:o[f]=h}return o};var a=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,n){"use strict";e.exports="3.33.0"},function(e,t){var n=Object.prototype.hasOwnProperty;e.exports=function(e,t){return null!=e&&n.call(e,t)}},function(e,t,n){var r=n(1332),a=n(378),i=n(618);e.exports=function(e){return function(t,n,o){return o&&"number"!=typeof o&&a(t,n,o)&&(n=o=void 0),t=i(t),void 0===n?(n=t,t=0):n=i(n),o=void 0===o?t<n?1:-1:i(o),r(t,n,o,e)}}},function(e,t){var n=Math.ceil,r=Math.max;e.exports=function(e,t,a,i){for(var o=-1,s=r(n((t-e)/(a||1)),0),c=Array(s);s--;)c[i?s:++o]=e,e+=a;return c}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n(121),i=(r=a)&&r.__esModule?r:{default:r};function o(e){var t=e.preTag,n=e.postTag,r=e.highlightedValue,a=(void 0===r?"":r).split(t),i=a.shift(),o=""===i?[]:[{value:i,isHighlighted:!1}];if(n===t){var s=!0;a.forEach(function(e){o.push({value:e,isHighlighted:s}),s=!s})}else a.forEach(function(e){var t=e.split(n);o.push({value:t[0],isHighlighted:!0}),""!==t[1]&&o.push({value:t[1],isHighlighted:!1})});return o}t.default=function(e){var t=e.preTag,n=void 0===t?"<em>":t,r=e.postTag,a=void 0===r?"</em>":r,s=e.highlightProperty,c=e.attribute,l=e.hit;if(!l)throw new Error("`hit`, the matching record, must be provided");var u=(0,i.default)(l[s],c,{});if(Array.isArray(u))return u.map(function(e){return o({preTag:n,postTag:a,highlightedValue:e.value})});return o({preTag:n,postTag:a,highlightedValue:u.value})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n(67),i=(r=a)&&r.__esModule?r:{default:r},o=n(74);var s=function(){return"query"};function c(e,t,n){var r=s();return(0,o.getCurrentRefinementValue)(e,t,n,r,"",function(e){return e||""})}function l(e){return e.results?e.results.hits&&Array.isArray(e.results.hits)?e.results.hits:Object.keys(e.results).reduce(function(t,n){return[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(t),[{index:n,hits:e.results[n].hits}])},[]):[]}function u(e,t,n,r){var a=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},s(),n);return(0,o.refineValue)(t,a,r,!0)}t.default=(0,i.default)({displayName:"AlgoliaAutoComplete",getProvidedProps:function(e,t,n){return{hits:l(n),currentRefinement:c(e,t,this.context)}},refine:function(e,t,n){return u(0,t,n,this.context)},cleanUp:function(e,t){return function(e,t,n){return(0,o.cleanUpValue)(t,n,s())}(0,t,this.context)},getSearchParameters:function(e,t,n){return e.setQuery(c(t,n,this.context))}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n(67),i=(r=a)&&r.__esModule?r:{default:r},o=n(74);t.default=(0,i.default)({displayName:"AlgoliaStateResults",getProvidedProps:function(e,t,n){return{searchState:t,searchResults:(0,o.getResults)(n,this.context),allSearchResults:n.results,searching:n.searching,isSearchStalled:n.isSearchStalled,error:n.error,searchingForFacetValues:n.searchingForFacetValues,props:e}}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(649)),a=i(n(1337));function i(e){return e&&e.__esModule?e:{default:e}}t.default=(0,r.default)(a.default)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return null}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(0)),a=s(n(437)),i=s(n(119)),o=s(n(1339));function s(e){return e&&e.__esModule?e:{default:e}}t.default=(0,a.default)(function(e){return r.default.createElement(i.default,e,r.default.createElement(o.default,e))})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CurrentRefinements=void 0;var r=s(n(0)),a=s(n(11)),i=s(n(31)),o=s(n(87));function s(e){return e&&e.__esModule?e:{default:e}}var c=(0,s(n(62)).default)("CurrentRefinements"),l=t.CurrentRefinements=function(e){var t=e.items,n=e.canRefine,a=e.refine,o=e.translate,s=e.className;return r.default.createElement("div",{className:(0,i.default)(c("",!n&&"-noRefinement"),s)},r.default.createElement("ul",{className:c("list",!n&&"list--noRefinement")},t.map(function(e){return r.default.createElement("li",{key:e.label,className:c("item")},r.default.createElement("span",{className:c("label")},e.label),e.items?e.items.map(function(e){return r.default.createElement("span",{key:e.label,className:c("category")},r.default.createElement("span",{className:c("categoryLabel")},e.label),r.default.createElement("button",{className:c("delete"),onClick:function(){return a(e.value)}},o("clearFilter",e)))}):r.default.createElement("span",{className:c("category")},r.default.createElement("button",{className:c("delete"),onClick:function(){return a(e.value)}},o("clearFilter",e))))})))},u=a.default.arrayOf(a.default.shape({label:a.default.string.isRequired,value:a.default.func.isRequired,items:function(){return u.apply(void 0,arguments)}}));l.propTypes={items:u.isRequired,canRefine:a.default.bool.isRequired,refine:a.default.func.isRequired,translate:a.default.func.isRequired,className:a.default.string},l.defaultProps={className:""},t.default=(0,o.default)({clearFilter:"✕"})(l)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.withKeysPropType=t.stateManagerPropType=t.configManagerPropType=void 0;var r,a=n(11),i=(r=a)&&r.__esModule?r:{default:r};t.configManagerPropType=i.default.shape({register:i.default.func.isRequired,swap:i.default.func.isRequired,unregister:i.default.func.isRequired}),t.stateManagerPropType=i.default.shape({createURL:i.default.func.isRequired,setState:i.default.func.isRequired,getState:i.default.func.isRequired,unlisten:i.default.func.isRequired}),t.withKeysPropType=function(e){return function(t,n,r){var a=t[n];if(a){var i=!0,o=!1,s=void 0;try{for(var c,l=Object.keys(a)[Symbol.iterator]();!(i=(c=l.next()).done);i=!0){var u=c.value;if(-1===e.indexOf(u))return new Error("Unknown `"+n+"` key `"+u+"`. Check the render method of `"+r+"`.")}}catch(e){o=!0,s=e}finally{try{!i&&l.return&&l.return()}finally{if(o)throw s}}}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(0)),a=s(n(650)),i=s(n(119)),o=s(n(1342));function s(e){return e&&e.__esModule?e:{default:e}}t.default=(0,a.default)(function(e){return r.default.createElement(i.default,e,r.default.createElement(o.default,e))})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=f(n(131)),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=f(n(11)),s=n(0),c=f(s),l=f(n(87)),u=f(n(62)),d=f(n(311)),p=f(n(312));function f(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var m=(0,u.default)("HierarchicalMenu"),g=o.default.arrayOf(o.default.shape({label:o.default.string.isRequired,value:o.default.string,count:o.default.number.isRequired,items:function(){return g.apply(void 0,arguments)}})),v=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=Array(a),o=0;o<a;o++)i[o]=arguments[o];return n=r=h(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.renderItem=function(e){var t=r.props,n=t.createURL,a=t.refine;return c.default.createElement(p.default,{className:m("link"),onClick:function(){return a(e.value)},href:n(e.value)},c.default.createElement("span",{className:m("label")},e.label)," ",c.default.createElement("span",{className:m("count")},e.count))},h(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.Component),i(t,[{key:"render",value:function(){return c.default.createElement(d.default,a({renderItem:this.renderItem,cx:m},(0,r.default)(this.props,["translate","items","showMore","limit","showMoreLimit","isEmpty","canRefine","className"])))}}]),t}();v.propTypes={translate:o.default.func.isRequired,refine:o.default.func.isRequired,createURL:o.default.func.isRequired,canRefine:o.default.bool.isRequired,items:g,showMore:o.default.bool,className:o.default.string,limit:o.default.number,showMoreLimit:o.default.number,transformItems:o.default.func},v.defaultProps={className:""},t.default=(0,l.default)({showMore:function(e){return e?"Show less":"Show more"}})(v)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=s(n(0)),i=s(n(62)),o=s(n(666));function s(e){return e&&e.__esModule?e:{default:e}}var c=(0,i.default)("Highlight");t.default=function(e){return a.default.createElement(o.default,r({},e,{highlightProperty:"_highlightResult",cx:c}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(438)),a=i(n(1345));function i(e){return e&&e.__esModule?e:{default:e}}t.default=(0,r.default)(a.default)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=s(n(0)),i=s(n(62)),o=s(n(666));function s(e){return e&&e.__esModule?e:{default:e}}var c=(0,i.default)("Snippet");t.default=function(e){return a.default.createElement(o.default,r({},e,{highlightProperty:"_snippetResult",cx:c}))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(652)),a=i(n(1347));function i(e){return e&&e.__esModule?e:{default:e}}t.default=(0,r.default)(a.default)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(0)),a=o(n(11)),i=o(n(31));function o(e){return e&&e.__esModule?e:{default:e}}var s=(0,o(n(62)).default)("Hits"),c=function(e){var t=e.hits,n=e.className,a=e.hitComponent;return r.default.createElement("div",{className:(0,i.default)(s(""),n)},r.default.createElement("ul",{className:s("list")},t.map(function(e){return r.default.createElement("li",{className:s("item"),key:e.objectID},r.default.createElement(a,{hit:e}))})))};c.propTypes={hits:a.default.arrayOf(a.default.object).isRequired,className:a.default.string,hitComponent:a.default.func},c.defaultProps={className:"",hitComponent:function(e){return r.default.createElement("div",{style:{borderBottom:"1px solid #bbb",paddingBottom:"5px",marginBottom:"5px",wordBreak:"break-all"}},JSON.stringify(e).slice(0,100),"...")}},t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(653)),a=i(n(1349));function i(e){return e&&e.__esModule?e:{default:e}}t.default=(0,r.default)(a.default)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),i=u(a),o=u(n(11)),s=u(n(31)),c=u(n(62)),l=u(n(667));function u(e){return e&&e.__esModule?e:{default:e}}var d=(0,c.default)("HitsPerPage"),p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"render",value:function(){var e=this.props,t=e.items,n=e.currentRefinement,r=e.refine,a=e.className;return i.default.createElement("div",{className:(0,s.default)(d(""),a)},i.default.createElement(l.default,{onSelect:r,selectedItem:n,items:t,cx:d}))}}]),t}();p.propTypes={items:o.default.arrayOf(o.default.shape({value:o.default.number.isRequired,label:o.default.string})).isRequired,currentRefinement:o.default.number.isRequired,refine:o.default.func.isRequired,className:o.default.string},p.defaultProps={className:""},t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(654)),a=i(n(1351));function i(e){return e&&e.__esModule?e:{default:e}}t.default=(0,r.default)(a.default)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),i=l(a),o=l(n(11)),s=l(n(31)),c=l(n(87));function l(e){return e&&e.__esModule?e:{default:e}}var u=(0,l(n(62)).default)("InfiniteHits"),d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"render",value:function(){var e=this.props,t=e.hitComponent,n=e.hits,r=e.hasMore,a=e.refine,o=e.translate,c=e.className;return i.default.createElement("div",{className:(0,s.default)(u(""),c)},i.default.createElement("ul",{className:u("list")},n.map(function(e){return i.default.createElement("li",{key:e.objectID,className:u("item")},i.default.createElement(t,{hit:e}))})),i.default.createElement("button",{className:u("loadMore",!r&&"loadMore--disabled"),onClick:function(){return a()},disabled:!r},o("loadMore")))}}]),t}();d.propTypes={hits:o.default.arrayOf(o.default.object).isRequired,hasMore:o.default.bool.isRequired,refine:o.default.func.isRequired,translate:o.default.func.isRequired,className:o.default.string,hitComponent:o.default.oneOfType([o.default.string,o.default.func])},d.defaultProps={className:"",hitComponent:function(e){return i.default.createElement("div",{style:{borderBottom:"1px solid #bbb",paddingBottom:"5px",marginBottom:"5px",wordBreak:"break-all"}},JSON.stringify(e).slice(0,100),"...")}},t.default=(0,c.default)({loadMore:"Load more"})(d)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(0)),a=s(n(439)),i=s(n(119)),o=s(n(1353));function s(e){return e&&e.__esModule?e:{default:e}}t.default=(0,a.default)(function(e){return r.default.createElement(i.default,e,r.default.createElement(o.default,e))})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=f(n(131)),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),s=f(o),c=f(n(11)),l=f(n(87)),u=f(n(311)),d=f(n(312)),p=f(n(441));function f(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var m=(0,f(n(62)).default)("Menu"),g=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=Array(a),o=0;o<a;o++)i[o]=arguments[o];return n=r=h(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.renderItem=function(e,t){var n=r.props.createURL,a=r.props.isFromSearch?s.default.createElement(p.default,{attribute:"label",hit:e}):e.label;return s.default.createElement(d.default,{className:m("link"),onClick:function(){return r.selectItem(e,t)},href:n(e.value)},s.default.createElement("span",{className:m("label")},a)," ",s.default.createElement("span",{className:m("count")},e.count))},r.selectItem=function(e,t){t(),r.props.refine(e.value)},h(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),i(t,[{key:"render",value:function(){return s.default.createElement(u.default,a({renderItem:this.renderItem,selectItem:this.selectItem,cx:m},(0,r.default)(this.props,["translate","items","showMore","limit","showMoreLimit","isFromSearch","searchForItems","searchable","canRefine","className"])))}}]),t}();g.propTypes={translate:c.default.func.isRequired,refine:c.default.func.isRequired,searchForItems:c.default.func.isRequired,searchable:c.default.bool,createURL:c.default.func.isRequired,items:c.default.arrayOf(c.default.shape({label:c.default.string.isRequired,value:c.default.string.isRequired,count:c.default.number.isRequired,isRefined:c.default.bool.isRequired})),isFromSearch:c.default.bool.isRequired,canRefine:c.default.bool.isRequired,showMore:c.default.bool,limit:c.default.number,showMoreLimit:c.default.number,transformItems:c.default.func,className:c.default.string},g.defaultProps={className:""},t.default=(0,l.default)({showMore:function(e){return e?"Show less":"Show more"},noResults:"No results",submit:null,reset:null,resetTitle:"Clear the search query.",submitTitle:"Submit your search query.",placeholder:"Search here…"})(g)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(0)),a=s(n(439)),i=s(n(119)),o=s(n(1355));function s(e){return e&&e.__esModule?e:{default:e}}t.default=(0,a.default)(function(e){return r.default.createElement(i.default,e,r.default.createElement(o.default,e))})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(120)),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),o=u(i),s=u(n(11)),c=u(n(31)),l=u(n(87));function u(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p=(0,u(n(62)).default)("MenuSelect"),f=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=Array(a),o=0;o<a;o++)i[o]=arguments[o];return n=r=d(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.handleSelectChange=function(e){var t=e.target.value;r.props.refine("ais__see__all__option"===t?"":t)},d(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),a(t,[{key:"render",value:function(){var e=this.props,t=e.items,n=e.canRefine,r=e.translate,a=e.className;return o.default.createElement("div",{className:(0,c.default)(p("",!n&&"-noRefinement"),a)},o.default.createElement("select",{value:this.selectedValue,onChange:this.handleSelectChange,className:p("select")},o.default.createElement("option",{value:"ais__see__all__option",className:p("option")},r("seeAllOption")),t.map(function(e){return o.default.createElement("option",{key:e.value,value:e.value,className:p("option")},e.label," (",e.count,")")})))}},{key:"selectedValue",get:function(){return((0,r.default)(this.props.items,{isRefined:!0})||{value:"ais__see__all__option"}).value}}]),t}();f.propTypes={items:s.default.arrayOf(s.default.shape({label:s.default.string.isRequired,value:s.default.string.isRequired,count:s.default.oneOfType([s.default.number.isRequired,s.default.string.isRequired]),isRefined:s.default.bool.isRequired})).isRequired,canRefine:s.default.bool.isRequired,refine:s.default.func.isRequired,translate:s.default.func.isRequired,className:s.default.string},f.defaultProps={className:""},t.default=(0,l.default)({seeAllOption:"See all"})(f)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(0)),a=s(n(655)),i=s(n(119)),o=s(n(1357));function s(e){return e&&e.__esModule?e:{default:e}}t.default=(0,a.default)(function(e){return r.default.createElement(i.default,e,r.default.createElement(o.default,e))})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=u(n(11)),o=n(0),s=u(o),c=u(n(311)),l=u(n(87));function u(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p=(0,u(n(62)).default)("NumericMenu"),f=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=Array(a),o=0;o<a;o++)i[o]=arguments[o];return n=r=d(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.renderItem=function(e){var t=r.props,n=t.refine,a=t.translate;return s.default.createElement("label",{className:p("label")},s.default.createElement("input",{className:p("radio"),type:"radio",checked:e.isRefined,disabled:e.noRefinement,onChange:function(){return n(e.value)}}),s.default.createElement("span",{className:p("labelText")},""===e.value?a("all"):e.label))},d(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"render",value:function(){var e=this.props,t=e.items,n=e.canRefine,a=e.className;return s.default.createElement(c.default,{renderItem:this.renderItem,showMore:!1,canRefine:n,cx:p,items:t.map(function(e){return r({},e,{key:e.value})}),className:a})}}]),t}();f.propTypes={items:i.default.arrayOf(i.default.shape({label:i.default.node.isRequired,value:i.default.string.isRequired,isRefined:i.default.bool.isRequired,noRefinement:i.default.bool.isRequired})).isRequired,canRefine:i.default.bool.isRequired,refine:i.default.func.isRequired,translate:i.default.func.isRequired,className:i.default.string},f.defaultProps={className:""},t.default=(0,l.default)({all:"All"})(f)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(0)),a=s(n(656)),i=s(n(119)),o=s(n(1359));function s(e){return e&&e.__esModule?e:{default:e}}t.default=(0,a.default)(function(e){return r.default.createElement(i.default,e,r.default.createElement(o.default,e))})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=h(n(330)),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),s=h(o),c=h(n(11)),l=h(n(31)),u=n(198),d=h(n(87)),p=h(n(62)),f=h(n(1360));function h(e){return e&&e.__esModule?e:{default:e}}var m=(0,p.default)("Pagination");function g(e,t,n){var a=function(e,t){return Math.min(2*e+1,t)}(n,t);if(a===t)return(0,r.default)(1,t+1);var i=function(e,t,n,r){return e<=t?e:e>=n-t?r-(n-e):t+1}(e,n,t,a),o=e-i,s=e+(a-i);return(0,r.default)(o+1,s+1)}var v=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),i(t,[{key:"getItem",value:function(e,t,n){var r=this.props,a=r.nbPages,i=r.totalPages,o=r.translate;return{key:e+"."+n,modifier:e,disabled:n<1||n>=Math.min(i,a),label:o(t,n),value:n,ariaLabel:o("aria"+(0,u.capitalize)(t),n)}}},{key:"render",value:function(){var e=this.props,t=e.listComponent,n=e.nbPages,r=e.totalPages,i=e.currentRefinement,o=e.padding,c=e.showFirst,u=e.showPrevious,d=e.showNext,p=e.showLast,f=e.refine,h=e.createURL,v=e.canRefine,b=e.translate,y=e.className,E=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["listComponent","nbPages","totalPages","currentRefinement","padding","showFirst","showPrevious","showNext","showLast","refine","createURL","canRefine","translate","className"]),_=Math.min(n,r),w=_,S=[];return c&&S.push({key:"first",modifier:"item--firstPage",disabled:1===i,label:b("first"),value:1,ariaLabel:b("ariaFirst")}),u&&S.push({key:"previous",modifier:"item--previousPage",disabled:1===i,label:b("previous"),value:i-1,ariaLabel:b("ariaPrevious")}),S=S.concat(g(i,_,o).map(function(e){return{key:e,modifier:"item--page",label:b("page",e),value:e,selected:e===i,ariaLabel:b("ariaPage",e)}})),d&&S.push({key:"next",modifier:"item--nextPage",disabled:i===w||w<=1,label:b("next"),value:i+1,ariaLabel:b("ariaNext")}),p&&S.push({key:"last",modifier:"item--lastPage",disabled:i===w||w<=1,label:b("last"),value:w,ariaLabel:b("ariaLast")}),s.default.createElement("div",{className:(0,l.default)(m("",!v&&"-noRefinement"),y)},s.default.createElement(t,a({},E,{cx:m,items:S,onSelect:f,createURL:h,canRefine:v})))}}]),t}();v.propTypes={nbPages:c.default.number.isRequired,currentRefinement:c.default.number.isRequired,refine:c.default.func.isRequired,createURL:c.default.func.isRequired,canRefine:c.default.bool.isRequired,translate:c.default.func.isRequired,listComponent:c.default.func,showFirst:c.default.bool,showPrevious:c.default.bool,showNext:c.default.bool,showLast:c.default.bool,padding:c.default.number,totalPages:c.default.number,className:c.default.string},v.defaultProps={listComponent:f.default,showFirst:!0,showPrevious:!0,showNext:!0,showLast:!1,padding:3,totalPages:1/0,className:""},t.default=(0,d.default)({previous:"‹",next:"›",first:"«",last:"»",page:function(e){return e.toString()},ariaPrevious:"Previous page",ariaNext:"Next page",ariaFirst:"First page",ariaLast:"Last page",ariaPage:function(e){return"Page "+e.toString()}})(v)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l(n(52)),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=l(n(11)),o=n(0),s=l(o),c=l(n(312));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"render",value:function(){var e=this.props,t=e.cx,n=e.createURL,a=e.items,i=e.onSelect,o=e.canRefine;return s.default.createElement("ul",{className:t("list",!o&&"list--noRefinement")},a.map(function(e){return s.default.createElement("li",{key:(0,r.default)(e,"key")?e.key:e.value,className:t("item",e.selected&&!e.disabled&&"item--selected",e.disabled&&"item--disabled",e.modifier)},e.disabled?s.default.createElement("span",{className:t("link")},(0,r.default)(e,"label")?e.label:e.value):s.default.createElement(c.default,{className:t("link",e.selected&&"link--selected"),"aria-label":e.ariaLabel,href:n(e.value),onClick:function(){return i(e.value)}},(0,r.default)(e,"label")?e.label:e.value))}))}}]),t}();u.propTypes={cx:i.default.func.isRequired,createURL:i.default.func.isRequired,items:i.default.arrayOf(i.default.shape({value:i.default.oneOfType([i.default.string,i.default.number,i.default.object]).isRequired,key:i.default.oneOfType([i.default.string,i.default.number]),label:i.default.node,modifier:i.default.string,ariaLabel:i.default.string,disabled:i.default.bool})),onSelect:i.default.func.isRequired,canRefine:i.default.bool.isRequired},t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(657)),a=i(n(1362));function i(e){return e&&e.__esModule?e:{default:e}}t.default=(0,r.default)(a.default)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),i=l(a),o=l(n(11)),s=l(n(31)),c=l(n(87));function l(e){return e&&e.__esModule?e:{default:e}}var u=(0,l(n(62)).default)("PoweredBy"),d=function(){return i.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",baseProfile:"basic",viewBox:"0 0 1366 362",width:"100",height:"27",className:u("logo")},i.default.createElement("linearGradient",{id:"g",x1:"428.258",x2:"434.145",y1:"404.15",y2:"409.85",gradientUnits:"userSpaceOnUse",gradientTransform:"matrix(94.045 0 0 -94.072 -40381.527 38479.52)"},i.default.createElement("stop",{offset:"0",stopColor:"#00AEFF"}),i.default.createElement("stop",{offset:"1",stopColor:"#3369E7"})),i.default.createElement("path",{d:"M61.8 15.4h242.8c23.9 0 43.4 19.4 43.4 43.4v242.9c0 23.9-19.4 43.4-43.4 43.4H61.8c-23.9 0-43.4-19.4-43.4-43.4v-243c0-23.9 19.4-43.3 43.4-43.3z",fill:"url(#g)"}),i.default.createElement("path",{d:"M187 98.7c-51.4 0-93.1 41.7-93.1 93.2S135.6 285 187 285s93.1-41.7 93.1-93.2-41.6-93.1-93.1-93.1zm0 158.8c-36.2 0-65.6-29.4-65.6-65.6s29.4-65.6 65.6-65.6 65.6 29.4 65.6 65.6-29.3 65.6-65.6 65.6zm0-117.8v48.9c0 1.4 1.5 2.4 2.8 1.7l43.4-22.5c1-.5 1.3-1.7.8-2.7-9-15.8-25.7-26.6-45-27.3-1 0-2 .8-2 1.9zm-60.8-35.9l-5.7-5.7c-5.6-5.6-14.6-5.6-20.2 0l-6.8 6.8c-5.6 5.6-5.6 14.6 0 20.2l5.6 5.6c.9.9 2.2.7 3-.2 3.3-4.5 6.9-8.8 10.9-12.8 4.1-4.1 8.3-7.7 12.9-11 1-.6 1.1-2 .3-2.9zM217.5 89V77.7c0-7.9-6.4-14.3-14.3-14.3h-33.3c-7.9 0-14.3 6.4-14.3 14.3v11.6c0 1.3 1.2 2.2 2.5 1.9 9.3-2.7 19.1-4.1 29-4.1 9.5 0 18.9 1.3 28 3.8 1.2.3 2.4-.6 2.4-1.9z",fill:"#FFFFFF"}),i.default.createElement("path",{d:"M842.5 267.6c0 26.7-6.8 46.2-20.5 58.6-13.7 12.4-34.6 18.6-62.8 18.6-10.3 0-31.7-2-48.8-5.8l6.3-31c14.3 3 33.2 3.8 43.1 3.8 15.7 0 26.9-3.2 33.6-9.6s10-15.9 10-28.5v-6.4c-3.9 1.9-9 3.8-15.3 5.8-6.3 1.9-13.6 2.9-21.8 2.9-10.8 0-20.6-1.7-29.5-5.1-8.9-3.4-16.6-8.4-22.9-15-6.3-6.6-11.3-14.9-14.8-24.8s-5.3-27.6-5.3-40.6c0-12.2 1.9-27.5 5.6-37.7 3.8-10.2 9.2-19 16.5-26.3 7.2-7.3 16-12.9 26.3-17s22.4-6.7 35.5-6.7c12.7 0 24.4 1.6 35.8 3.5 11.4 1.9 21.1 3.9 29 6.1v155.2zm-108.7-77.2c0 16.4 3.6 34.6 10.8 42.2 7.2 7.6 16.5 11.4 27.9 11.4 6.2 0 12.1-.9 17.6-2.6 5.5-1.7 9.9-3.7 13.4-6.1v-97.1c-2.8-.6-14.5-3-25.8-3.3-14.2-.4-25 5.4-32.6 14.7-7.5 9.3-11.3 25.6-11.3 40.8zm294.3 0c0 13.2-1.9 23.2-5.8 34.1s-9.4 20.2-16.5 27.9c-7.1 7.7-15.6 13.7-25.6 17.9s-25.4 6.6-33.1 6.6c-7.7-.1-23-2.3-32.9-6.6-9.9-4.3-18.4-10.2-25.5-17.9-7.1-7.7-12.6-17-16.6-27.9s-6-20.9-6-34.1c0-13.2 1.8-25.9 5.8-36.7 4-10.8 9.6-20 16.8-27.7s15.8-13.6 25.6-17.8c9.9-4.2 20.8-6.2 32.6-6.2s22.7 2.1 32.7 6.2c10 4.2 18.6 10.1 25.6 17.8 7.1 7.7 12.6 16.9 16.6 27.7 4.2 10.8 6.3 23.5 6.3 36.7zm-40 .1c0-16.9-3.7-31-10.9-40.8-7.2-9.9-17.3-14.8-30.2-14.8-12.9 0-23 4.9-30.2 14.8-7.2 9.9-10.7 23.9-10.7 40.8 0 17.1 3.6 28.6 10.8 38.5 7.2 10 17.3 14.9 30.2 14.9 12.9 0 23-5 30.2-14.9 7.2-10 10.8-21.4 10.8-38.5zm127.1 86.4c-64.1.3-64.1-51.8-64.1-60.1L1051 32l39.1-6.2v183.6c0 4.7 0 34.5 25.1 34.6v32.9zm68.9 0h-39.3V108.1l39.3-6.2v175zm-19.7-193.5c13.1 0 23.8-10.6 23.8-23.7S1177.6 36 1164.4 36s-23.8 10.6-23.8 23.7 10.7 23.7 23.8 23.7zm117.4 18.6c12.9 0 23.8 1.6 32.6 4.8 8.8 3.2 15.9 7.7 21.1 13.4s8.9 13.5 11.1 21.7c2.3 8.2 3.4 17.2 3.4 27.1v100.6c-6 1.3-15.1 2.8-27.3 4.6s-25.9 2.7-41.1 2.7c-10.1 0-19.4-1-27.7-2.9-8.4-1.9-15.5-5-21.5-9.3-5.9-4.3-10.5-9.8-13.9-16.6-3.3-6.8-5-16.4-5-26.4 0-9.6 1.9-15.7 5.6-22.3 3.8-6.6 8.9-12 15.3-16.2 6.5-4.2 13.9-7.2 22.4-9s17.4-2.7 26.6-2.7c4.3 0 8.8.3 13.6.8s9.8 1.4 15.2 2.7v-6.4c0-4.5-.5-8.8-1.6-12.8-1.1-4.1-3-7.6-5.6-10.7-2.7-3.1-6.2-5.5-10.6-7.2s-10-3-16.7-3c-9 0-17.2 1.1-24.7 2.4-7.5 1.3-13.7 2.8-18.4 4.5l-4.7-32.1c4.9-1.7 12.2-3.4 21.6-5.1s19.5-2.6 30.3-2.6zm3.3 141.9c12 0 20.9-.7 27.1-1.9v-39.8c-2.2-.6-5.3-1.3-9.4-1.9-4.1-.6-8.6-1-13.6-1-4.3 0-8.7.3-13.1 1-4.4.6-8.4 1.8-11.9 3.5s-6.4 4.1-8.5 7.2c-2.2 3.1-3.2 4.9-3.2 9.6 0 9.2 3.2 14.5 9 18 5.9 3.6 13.7 5.3 23.6 5.3zM512.9 103c12.9 0 23.8 1.6 32.6 4.8 8.8 3.2 15.9 7.7 21.1 13.4 5.3 5.8 8.9 13.5 11.1 21.7 2.3 8.2 3.4 17.2 3.4 27.1v100.6c-6 1.3-15.1 2.8-27.3 4.6-12.2 1.8-25.9 2.7-41.1 2.7-10.1 0-19.4-1-27.7-2.9-8.4-1.9-15.5-5-21.5-9.3-5.9-4.3-10.5-9.8-13.9-16.6-3.3-6.8-5-16.4-5-26.4 0-9.6 1.9-15.7 5.6-22.3 3.8-6.6 8.9-12 15.3-16.2 6.5-4.2 13.9-7.2 22.4-9s17.4-2.7 26.6-2.7c4.3 0 8.8.3 13.6.8 4.7.5 9.8 1.4 15.2 2.7v-6.4c0-4.5-.5-8.8-1.6-12.8-1.1-4.1-3-7.6-5.6-10.7-2.7-3.1-6.2-5.5-10.6-7.2-4.4-1.7-10-3-16.7-3-9 0-17.2 1.1-24.7 2.4-7.5 1.3-13.7 2.8-18.4 4.5l-4.7-32.1c4.9-1.7 12.2-3.4 21.6-5.1 9.4-1.8 19.5-2.6 30.3-2.6zm3.4 142c12 0 20.9-.7 27.1-1.9v-39.8c-2.2-.6-5.3-1.3-9.4-1.9-4.1-.6-8.6-1-13.6-1-4.3 0-8.7.3-13.1 1-4.4.6-8.4 1.8-11.9 3.5s-6.4 4.1-8.5 7.2c-2.2 3.1-3.2 4.9-3.2 9.6 0 9.2 3.2 14.5 9 18s13.7 5.3 23.6 5.3zm158.5 31.9c-64.1.3-64.1-51.8-64.1-60.1L610.6 32l39.1-6.2v183.6c0 4.7 0 34.5 25.1 34.6v32.9z",fill:"#182359"}))},p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"render",value:function(){var e=this.props,t=e.url,n=e.translate,r=e.className;return i.default.createElement("div",{className:(0,s.default)(u(""),r)},i.default.createElement("span",{className:u("text")},n("searchBy"))," ",i.default.createElement("a",{href:t,target:"_blank",className:u("link"),"aria-label":"Algolia"},i.default.createElement(d,null)))}}]),t}();p.propTypes={url:o.default.string.isRequired,translate:o.default.func.isRequired,className:o.default.string},t.default=(0,c.default)({searchBy:"Search by"})(p)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(0)),a=s(n(440)),i=s(n(119)),o=s(n(1364));function s(e){return e&&e.__esModule?e:{default:e}}t.default=(0,a.default)(function(e){return r.default.createElement(i.default,e,r.default.createElement(o.default,e))})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RawRangeInput=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),i=l(a),o=l(n(11)),s=l(n(31)),c=l(n(87));function l(e){return e&&e.__esModule?e:{default:e}}var u=(0,l(n(62)).default)("RangeInput"),d=t.RawRangeInput=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onSubmit=function(e){e.preventDefault(),n.props.refine({min:n.state.from,max:n.state.to})},n.state=n.normalizeStateForRendering(e),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"componentWillReceiveProps",value:function(e){!e.canRefine||this.props.canRefine===e.canRefine&&this.props.currentRefinement.min===e.currentRefinement.min&&this.props.currentRefinement.max===e.currentRefinement.max||this.setState(this.normalizeStateForRendering(e))}},{key:"normalizeStateForRendering",value:function(e){var t=e.canRefine,n=e.min,r=e.max,a=e.currentRefinement,i=a.min,o=a.max;return{from:t&&void 0!==i&&i!==n?i:"",to:t&&void 0!==o&&o!==r?o:""}}},{key:"normalizeRangeForRendering",value:function(e){var t=e.canRefine,n=e.min,r=e.max,a=void 0!==n,i=void 0!==r;return{min:t&&a&&i?n:"",max:t&&a&&i?r:""}}},{key:"render",value:function(){var e=this,t=this.state,n=t.from,r=t.to,a=this.props,o=a.precision,c=a.translate,l=a.canRefine,d=a.className,p=this.normalizeRangeForRendering(this.props),f=p.min,h=p.max,m=1/Math.pow(10,o);return i.default.createElement("div",{className:(0,s.default)(u("",!l&&"-noRefinement"),d)},i.default.createElement("form",{className:u("form"),onSubmit:this.onSubmit},i.default.createElement("input",{className:u("input","input--min"),type:"number",min:f,max:h,value:n,step:m,placeholder:f,disabled:!l,onChange:function(t){return e.setState({from:t.currentTarget.value})}}),i.default.createElement("span",{className:u("separator")},c("separator")),i.default.createElement("input",{className:u("input","input--max"),type:"number",min:f,max:h,value:r,step:m,placeholder:h,disabled:!l,onChange:function(t){return e.setState({to:t.currentTarget.value})}}),i.default.createElement("button",{className:u("submit"),type:"submit"},c("submit"))))}}]),t}();d.propTypes={canRefine:o.default.bool.isRequired,precision:o.default.number.isRequired,translate:o.default.func.isRequired,refine:o.default.func.isRequired,min:o.default.number,max:o.default.number,currentRefinement:o.default.shape({min:o.default.number,max:o.default.number}),className:o.default.string},d.defaultProps={currentRefinement:{},className:""},t.default=(0,c.default)({submit:"ok",separator:"to"})(d)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n(0),i=(r=a)&&r.__esModule?r:{default:r};t.default=function(){return i.default.createElement("div",null,"We do not provide any Slider, see the documentation to learn how to connect one easily:",i.default.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://community.algolia.com/react-instantsearch/widgets/RangeSlider.html"},"https://community.algolia.com/react-instantsearch/widgets/RangeSlider.html"))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(0)),a=s(n(440)),i=s(n(119)),o=s(n(1367));function s(e){return e&&e.__esModule?e:{default:e}}t.default=(0,a.default)(function(e){return r.default.createElement(i.default,e,r.default.createElement(o.default,e))})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),o=u(i),s=u(n(11)),c=u(n(31)),l=u(n(87));function u(e){return e&&e.__esModule?e:{default:e}}var d=(0,u(n(62)).default)("RatingMenu"),p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),a(t,[{key:"onClick",value:function(e,t,n){n.preventDefault(),n.stopPropagation(),e===this.props.currentRefinement.min&&t===this.props.currentRefinement.max?this.props.refine({min:this.props.min,max:this.props.max}):this.props.refine({min:e,max:t})}},{key:"buildItem",value:function(e){for(var t=e.max,n=e.lowerBound,a=e.count,i=e.translate,s=e.createURL,c=e.isLastSelectableItem,l=!a,u=this.props.currentRefinement.min<n,p=c&&u||!l&&n===this.props.currentRefinement.min&&t===this.props.currentRefinement.max,f=[],h=0,m=0;m<t;m++)m<n&&h++,f.push([o.default.createElement("svg",{key:m,className:d("starIcon",m>=n?"starIcon--empty":"starIcon--full"),"aria-hidden":"true",width:"24",height:"24"},o.default.createElement("use",{xlinkHref:"#"+d(m>=n?"starEmptySymbol":"starSymbol")}))," "]);var g=l||c&&p?{}:{href:s({min:n,max:t}),onClick:this.onClick.bind(this,n,t)};return o.default.createElement("li",{key:n,className:d("item",p&&"item--selected",l&&"item--disabled")},o.default.createElement("a",r({className:d("link"),"aria-label":""+h+i("ratingLabel")},g),f,o.default.createElement("span",{className:d("label"),"aria-hidden":"true"},i("ratingLabel"))," ",o.default.createElement("span",{className:d("count")},a)))}},{key:"render",value:function(){var e=this,t=this.props,n=t.min,a=t.max,i=t.translate,s=t.count,l=t.createURL,u=t.canRefine,p=t.className,f=void 0!==n&&n>=0?n:1,h=void 0!==a&&a>=0?a:0,m=h-f+1,g=Math.max(m,0),v=s.map(function(e){return r({},e,{value:parseFloat(e.value)})}).filter(function(e){return e.value>=f&&e.value<=h}),b=new Array(g).fill(null).map(function(e,t){return v.find(function(e){return e.value===h-t})||{value:h-t,count:0,total:0}}).reduce(function(e,t,n){return e.concat(r({},t,{total:0===n?t.count:e[n-1].total+t.count}))},[]),y=b.map(function(t,n){return e.buildItem({lowerBound:t.value,count:t.total,isLastSelectableItem:b.length-1===n,max:h,translate:i,createURL:l})});return o.default.createElement("div",{className:(0,c.default)(d("",!u&&"-noRefinement"),p)},o.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",style:{display:"none"}},o.default.createElement("symbol",{id:d("starSymbol"),viewBox:"0 0 24 24"},o.default.createElement("path",{d:"M12 .288l2.833 8.718h9.167l-7.417 5.389 2.833 8.718-7.416-5.388-7.417 5.388 2.833-8.718-7.416-5.389h9.167z"})),o.default.createElement("symbol",{id:d("starEmptySymbol"),viewBox:"0 0 24 24"},o.default.createElement("path",{d:"M12 6.76l1.379 4.246h4.465l-3.612 2.625 1.379 4.246-3.611-2.625-3.612 2.625 1.379-4.246-3.612-2.625h4.465l1.38-4.246zm0-6.472l-2.833 8.718h-9.167l7.416 5.389-2.833 8.718 7.417-5.388 7.416 5.388-2.833-8.718 7.417-5.389h-9.167l-2.833-8.718z"}))),o.default.createElement("ul",{className:d("list",!u&&"list--noRefinement")},y))}}]),t}();p.propTypes={translate:s.default.func.isRequired,refine:s.default.func.isRequired,createURL:s.default.func.isRequired,min:s.default.number,max:s.default.number,currentRefinement:s.default.shape({min:s.default.number,max:s.default.number}),count:s.default.arrayOf(s.default.shape({value:s.default.string,count:s.default.number})),canRefine:s.default.bool.isRequired,className:s.default.string},p.defaultProps={className:""},t.default=(0,l.default)({ratingLabel:" & Up"})(p)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(0)),a=s(n(658)),i=s(n(119)),o=s(n(1369));function s(e){return e&&e.__esModule?e:{default:e}}t.default=(0,a.default)(function(e){return r.default.createElement(i.default,e,r.default.createElement(o.default,e))})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=f(n(131)),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),s=f(o),c=f(n(11)),l=f(n(87)),u=f(n(62)),d=f(n(311)),p=f(n(441));function f(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var m=(0,u.default)("RefinementList"),g=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=Array(a),o=0;o<a;o++)i[o]=arguments[o];return n=r=h(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.state={query:""},r.selectItem=function(e,t){t(),r.props.refine(e.value)},r.renderItem=function(e,t){var n=r.props.isFromSearch?s.default.createElement(p.default,{attribute:"label",hit:e}):e.label;return s.default.createElement("label",{className:m("label")},s.default.createElement("input",{className:m("checkbox"),type:"checkbox",checked:e.isRefined,onChange:function(){return r.selectItem(e,t)}}),s.default.createElement("span",{className:m("labelText")},n)," ",s.default.createElement("span",{className:m("count")},e.count.toLocaleString()))},h(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),i(t,[{key:"render",value:function(){return s.default.createElement(d.default,a({renderItem:this.renderItem,selectItem:this.selectItem,cx:m},(0,r.default)(this.props,["translate","items","showMore","limit","showMoreLimit","isFromSearch","searchForItems","searchable","canRefine","className"]),{query:this.state.query}))}}]),t}();g.propTypes={translate:c.default.func.isRequired,refine:c.default.func.isRequired,searchForItems:c.default.func.isRequired,searchable:c.default.bool,createURL:c.default.func.isRequired,items:c.default.arrayOf(c.default.shape({label:c.default.string.isRequired,value:c.default.arrayOf(c.default.string).isRequired,count:c.default.number.isRequired,isRefined:c.default.bool.isRequired})),isFromSearch:c.default.bool.isRequired,canRefine:c.default.bool.isRequired,showMore:c.default.bool,limit:c.default.number,showMoreLimit:c.default.number,transformItems:c.default.func,className:c.default.string},g.defaultProps={className:""},t.default=(0,l.default)({showMore:function(e){return e?"Show less":"Show more"},noResults:"No results",submit:null,reset:null,resetTitle:"Clear the search query.",submitTitle:"Submit your search query.",placeholder:"Search here…"})(g)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(0)),a=s(n(437)),i=s(n(119)),o=s(n(1371));function s(e){return e&&e.__esModule?e:{default:e}}t.default=(0,a.default)(function(e){return r.default.createElement(i.default,e,r.default.createElement(o.default,e))})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=l(n(11)),i=n(0),o=l(i),s=l(n(31)),c=l(n(87));function l(e){return e&&e.__esModule?e:{default:e}}var u=(0,l(n(62)).default)("ClearRefinements"),d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),r(t,[{key:"render",value:function(){var e=this.props,t=e.items,n=e.canRefine,r=e.refine,a=e.translate,i=e.className;return o.default.createElement("div",{className:(0,s.default)(u(""),i)},o.default.createElement("button",{className:u("button",!n&&"button--disabled"),onClick:function(){return r(t)},disabled:!n},a("reset")))}}]),t}();d.propTypes={items:a.default.arrayOf(a.default.object).isRequired,canRefine:a.default.bool.isRequired,refine:a.default.func.isRequired,translate:a.default.func.isRequired,className:a.default.string},d.defaultProps={className:""},t.default=(0,c.default)({reset:"Clear all filters"})(d)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(659)),a=i(n(1373));function i(e){return e&&e.__esModule?e:{default:e}}t.default=(0,r.default)(a.default)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=s(n(11)),i=n(0),o=s(i);function s(e){return e&&e.__esModule?e:{default:e}}var c=(0,s(n(62)).default)("ScrollTo"),l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),r(t,[{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.value,r=t.hasNotChanged;n!==e.value&&r&&this.el.scrollIntoView()}},{key:"render",value:function(){var e=this;return o.default.createElement("div",{ref:function(t){return e.el=t},className:c("")},this.props.children)}}]),t}();l.propTypes={value:a.default.any,children:a.default.node,hasNotChanged:a.default.bool},t.default=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(661)),a=i(n(665));function i(e){return e&&e.__esModule?e:{default:e}}t.default=(0,r.default)(a.default)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(662)),a=i(n(1376));function i(e){return e&&e.__esModule?e:{default:e}}t.default=(0,r.default)(a.default)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),i=u(a),o=u(n(11)),s=u(n(31)),c=u(n(62)),l=u(n(667));function u(e){return e&&e.__esModule?e:{default:e}}var d=(0,c.default)("SortBy"),p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"render",value:function(){var e=this.props,t=e.items,n=e.currentRefinement,r=e.refine,a=e.className;return i.default.createElement("div",{className:(0,s.default)(d(""),a)},i.default.createElement(l.default,{cx:d,items:t,selectedItem:n,onSelect:r}))}}]),t}();p.propTypes={items:o.default.arrayOf(o.default.shape({label:o.default.string,value:o.default.string.isRequired})).isRequired,currentRefinement:o.default.string.isRequired,refine:o.default.func.isRequired,className:o.default.string},p.defaultProps={className:""},t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(663)),a=i(n(1378));function i(e){return e&&e.__esModule?e:{default:e}}t.default=(0,r.default)(a.default)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),i=l(a),o=l(n(11)),s=l(n(31)),c=l(n(87));function l(e){return e&&e.__esModule?e:{default:e}}var u=(0,l(n(62)).default)("Stats"),d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"render",value:function(){var e=this.props,t=e.translate,n=e.nbHits,r=e.processingTimeMS,a=e.className;return i.default.createElement("div",{className:(0,s.default)(u(""),a)},i.default.createElement("span",{className:u("text")},t("stats",n,r)))}}]),t}();d.propTypes={translate:o.default.func.isRequired,nbHits:o.default.number.isRequired,processingTimeMS:o.default.number.isRequired,className:o.default.string},d.defaultProps={className:""},t.default=(0,c.default)({stats:function(e,t){return e.toLocaleString()+" results found in "+t.toLocaleString()+"ms"}})(d)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(n(664)),a=i(n(1380));function i(e){return e&&e.__esModule?e:{default:e}}t.default=(0,r.default)(a.default)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(0)),a=o(n(11)),i=o(n(31));function o(e){return e&&e.__esModule?e:{default:e}}var s=(0,o(n(62)).default)("ToggleRefinement"),c=function(e){var t=e.currentRefinement,n=e.label,a=e.refine,o=e.className;return r.default.createElement("div",{className:(0,i.default)(s(""),o)},r.default.createElement("label",{className:s("label")},r.default.createElement("input",{className:s("checkbox"),type:"checkbox",checked:t,onChange:function(e){return a(e.target.checked)}}),r.default.createElement("span",{className:s("labelText")},n)))};c.propTypes={currentRefinement:a.default.bool.isRequired,label:a.default.string.isRequired,refine:a.default.func.isRequired,className:a.default.string},c.defaultProps={className:""},t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,a=n(1382),i=(r=a)&&r.__esModule?r:{default:r};t.default=i.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),i=c(a),o=c(n(11)),s=c(n(31));function c(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var u=(0,c(n(62)).default)("Panel"),d=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=Array(a),o=0;o<a;o++)i[o]=arguments[o];return n=r=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.state={canRefine:!0},r.setCanRefine=function(e){r.setState({canRefine:e})},l(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"getChildContext",value:function(){return{setCanRefine:this.setCanRefine}}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,r=e.header,a=e.footer,o=this.state.canRefine;return i.default.createElement("div",{className:(0,s.default)(u("",!o&&"-noRefinement"),n)},r&&i.default.createElement("div",{className:u("header")},r),i.default.createElement("div",{className:u("body")},t),a&&i.default.createElement("div",{className:u("footer")},a))}}]),t}();d.propTypes={children:o.default.node.isRequired,className:o.default.string,header:o.default.node,footer:o.default.node},d.childContextTypes={setCanRefine:o.default.func.isRequired},d.defaultProps={className:"",header:null,footer:null},t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s(n(0)),a=s(n(660)),i=s(n(119)),o=s(n(1384));function s(e){return e&&e.__esModule?e:{default:e}}t.default=(0,a.default)(function(e){return r.default.createElement(i.default,e,r.default.createElement(o.default,e))})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(0),i=d(a),o=d(n(11)),s=d(n(31)),c=d(n(87)),l=d(n(62)),u=d(n(312));function d(e){return e&&e.__esModule?e:{default:e}}var p=(0,l.default)("Breadcrumb"),f=o.default.arrayOf(o.default.shape({label:o.default.string.isRequired,value:o.default.string.isRequired})),h=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),r(t,[{key:"render",value:function(){var e=this.props,t=e.canRefine,n=e.createURL,r=e.items,a=e.refine,o=e.rootURL,c=e.separator,l=e.translate,d=e.className,f=t?i.default.createElement("li",{className:p("item")},i.default.createElement(u.default,{className:p("link"),onClick:function(){return o?null:a()},href:o||n()},l("rootLabel"))):null,h=r.map(function(e,t){var o=t===r.length-1;return i.default.createElement("li",{className:p("item",o&&"item--selected"),key:t},i.default.createElement("span",{className:p("separator")},c),o?e.label:i.default.createElement(u.default,{className:p("link"),onClick:function(){return a(e.value)},href:n(e.value)},e.label))});return i.default.createElement("div",{className:(0,s.default)(p("",!t&&"-noRefinement"),d)},i.default.createElement("ul",{className:p("list")},f,h))}}]),t}();h.propTypes={canRefine:o.default.bool.isRequired,createURL:o.default.func.isRequired,items:f,refine:o.default.func.isRequired,rootURL:o.default.string,separator:o.default.node,translate:o.default.func.isRequired,className:o.default.string},h.defaultProps={rootURL:null,separator:" > ",className:""},t.default=(0,c.default)({rootLabel:"Home"})(h)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.default=function(e,t){var n,c;return c=n=function(t){function n(){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n);for(var r=arguments.length,a=Array(r),i=0;i<r;i++)a[i]=arguments[i];var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t=n.__proto__||Object.getPrototypeOf(n)).call.apply(t,[this].concat(a)));return o.client=o.props.algoliaClient||e(o.props.appId,o.props.apiKey),o.client.addAlgoliaAgent("react-instantsearch "+l),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),r(n,[{key:"componentWillReceiveProps",value:function(t){var n=this.props;t.algoliaClient?this.client=t.algoliaClient:n.appId===t.appId&&n.apiKey===t.apiKey||(this.client=e(t.appId,t.apiKey)),this.client.addAlgoliaAgent("react-instantsearch "+l)}},{key:"render",value:function(){return o.default.createElement(s.default,{createURL:this.props.createURL,indexName:this.props.indexName,searchState:this.props.searchState,onSearchStateChange:this.props.onSearchStateChange,onSearchParameters:this.props.onSearchParameters,root:this.props.root,algoliaClient:this.client,refresh:this.props.refresh,resultsState:this.props.resultsState},this.props.children)}}]),n}(i.Component),n.propTypes={algoliaClient:a.default.object,appId:a.default.string,apiKey:a.default.string,children:a.default.oneOfType([a.default.arrayOf(a.default.node),a.default.node]),indexName:a.default.string.isRequired,createURL:a.default.func,searchState:a.default.object,refresh:a.default.bool.isRequired,onSearchStateChange:a.default.func,onSearchParameters:a.default.func,resultsState:a.default.oneOfType([a.default.object,a.default.array]),root:a.default.shape({Root:a.default.oneOfType([a.default.string,a.default.func]).isRequired,props:a.default.object})},n.defaultProps={refresh:!1,root:t},c};var a=c(n(11)),i=n(0),o=c(i),s=c(n(1386));function c(e){return e&&e.__esModule?e:{default:e}}var l="5.0.1"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=l(n(11)),o=n(0),s=l(o),c=l(n(1387));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.isControlled=Boolean(e.searchState);var r=n.isControlled?e.searchState:{};return n.isUnmounting=!1,n.aisManager=(0,c.default)({indexName:e.indexName,algoliaClient:e.algoliaClient,initialState:r,resultsState:e.resultsState,stalledSearchDelay:e.stalledSearchDelay}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"componentWillReceiveProps",value:function(e){!function(e,t){if(!e.searchState&&t.searchState)throw new Error("You can't switch <InstantSearch> from being uncontrolled to controlled");if(e.searchState&&!t.searchState)throw new Error("You can't switch <InstantSearch> from being controlled to uncontrolled")}(this.props,e),this.props.indexName!==e.indexName&&this.aisManager.updateIndex(e.indexName),this.props.refresh!==e.refresh&&e.refresh&&this.aisManager.clearCache(),this.props.algoliaClient!==e.algoliaClient&&this.aisManager.updateClient(e.algoliaClient),this.isControlled&&this.aisManager.onExternalStateUpdate(e.searchState)}},{key:"componentWillUnmount",value:function(){this.isUnmounting=!0,this.aisManager.skipSearch()}},{key:"getChildContext",value:function(){return this._aisContextCache||(this._aisContextCache={ais:{onInternalStateUpdate:this.onWidgetsInternalStateUpdate.bind(this),createHrefForState:this.createHrefForState.bind(this),onSearchForFacetValues:this.onSearchForFacetValues.bind(this),onSearchStateChange:this.onSearchStateChange.bind(this),onSearchParameters:this.onSearchParameters.bind(this)}}),{ais:r({},this._aisContextCache.ais,{store:this.aisManager.store,widgetsManager:this.aisManager.widgetsManager,mainTargetedIndex:this.props.indexName})}}},{key:"createHrefForState",value:function(e){return e=this.aisManager.transitionState(e),this.isControlled&&this.props.createURL?this.props.createURL(e,this.getKnownKeys()):"#"}},{key:"onWidgetsInternalStateUpdate",value:function(e){e=this.aisManager.transitionState(e),this.onSearchStateChange(e),this.isControlled||this.aisManager.onExternalStateUpdate(e)}},{key:"onSearchStateChange",value:function(e){this.props.onSearchStateChange&&!this.isUnmounting&&this.props.onSearchStateChange(e)}},{key:"onSearchParameters",value:function(e,t,n){if(this.props.onSearchParameters){var r=this.props.searchState?this.props.searchState:{};this.props.onSearchParameters(e,t,n,r)}}},{key:"onSearchForFacetValues",value:function(e){this.aisManager.onSearchForFacetValues(e)}},{key:"getKnownKeys",value:function(){return this.aisManager.getWidgetsIds()}},{key:"render",value:function(){var e=o.Children.count(this.props.children),t=this.props.root,n=t.Root,r=t.props;return 0===e?null:s.default.createElement(n,r,this.props.children)}}]),t}();u.defaultProps={stalledSearchDelay:200},u.propTypes={indexName:i.default.string.isRequired,algoliaClient:i.default.object.isRequired,createURL:i.default.func,refresh:i.default.bool.isRequired,searchState:i.default.object,onSearchStateChange:i.default.func,onSearchParameters:i.default.func,resultsState:i.default.oneOfType([i.default.object,i.default.array]),children:i.default.node,root:i.default.shape({Root:i.default.oneOfType([i.default.string,i.default.func]),props:i.default.object}).isRequired,stalledSearchDelay:i.default.number},u.childContextTypes={ais:i.default.object.isRequired},t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=d(n(89)),a=d(n(55)),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function(e){var t=e.indexName,n=e.initialState,d=void 0===n?{}:n,f=e.algoliaClient,h=e.resultsState,m=e.stalledSearchDelay,g=new o.SearchParameters(i({index:t},u.default)),v=null,b=(0,s.default)(f,t,g);b.on("result",O),b.on("error",x),b.on("search",function(){v||(v=setTimeout(function(){var e=(0,a.default)(i({},S.getState(),{isSearchStalled:!0}),"resultsFacetValues");S.setState(e)},m))});var y={},E={},_=b.state,w=(0,c.default)(function(){var e=C(S.getState().widgets);S.setState(i({},S.getState(),{metadata:e,searching:!0})),N()}),S=(0,l.default)({widgets:d,metadata:[],results:h||null,error:null,searching:!1,isSearchStalled:!0,searchingForFacetValues:!1}),k=!1;function C(e){return w.getWidgets().filter(function(e){return Boolean(e.getMetadata)}).map(function(t){return t.getMetadata(e)})}function N(){if(!k){var e=function(){E={};var e=w.getWidgets().filter(function(e){return Boolean(e.getSearchParameters)}).filter(function(e){return!(e.context.multiIndexContext||e.props.indexName!==t&&e.props.indexName)}).reduce(function(e,t){return t.getSearchParameters(e)},_);E[e.index]=t;var n=w.getWidgets().filter(function(e){return Boolean(e.getSearchParameters)}).filter(function(e){return e.context.multiIndexContext&&e.context.multiIndexContext.targetedIndex!==t||e.props.indexName&&e.props.indexName!==t}).reduce(function(e,t){var n=t.context.multiIndexContext?t.context.multiIndexContext.targetedIndex:t.props.indexName,r=e.find(function(e){return e.targetedIndex===n});return r?r.widgets.push(t):e.push({targetedIndex:n,widgets:[t]}),e},[]),r=w.getWidgets().filter(function(e){return Boolean(e.getSearchParameters)}).filter(function(e){return e.context.multiIndexContext&&e.context.multiIndexContext.targetedIndex===t||e.props.indexName&&e.props.indexName===t}).reduce(function(e,t){return t.getSearchParameters(e)},e);return E[r.index]=t,{sharedParameters:e,mainIndexParameters:r,derivatedWidgets:n}}(b.state),n=e.sharedParameters,r=e.mainIndexParameters,a=e.derivatedWidgets;Object.keys(y).forEach(function(e){return y[e].detach()}),y={},b.setState(n),a.forEach(function(e){var t=e.targetedIndex,r=b.derive(function(){var r=e.widgets.reduce(function(e,t){return t.getSearchParameters(e)},n);return E[r.index]=t,r});r.on("result",O),r.on("error",x),y[t]=r}),b.setState(r),b.search()}}function O(e){var t=S.getState(),n=t.results?t.results:{};n=!(0,r.default)(y)&&n.getFacetByName?{}:n,(0,r.default)(y)?n=e:n[E[e.index]]=e;var o=S.getState(),s=o.isSearchStalled;b.hasPendingRequests()||(clearTimeout(v),v=null,s=!1);var c=(0,a.default)(i({},o,{results:n,isSearchStalled:s,searching:!1,error:null}),"resultsFacetValues");S.setState(c)}function x(e){var t=S.getState(),n=t.isSearchStalled;b.hasPendingRequests()||(clearTimeout(v),n=!1);var r=(0,a.default)(i({},t,{isSearchStalled:n,error:e,searching:!1}),"resultsFacetValues");S.setState(r)}return{store:S,widgetsManager:w,getWidgetsIds:function(){return S.getState().metadata.reduce(function(e,t){return void 0!==t.id?e.concat(t.id):e},[])},onExternalStateUpdate:function(e){var t=C(e);S.setState(i({},S.getState(),{widgets:e,metadata:t,searching:!0})),N()},transitionState:function(e){var t=S.getState().widgets;return w.getWidgets().filter(function(e){return Boolean(e.transitionState)}).reduce(function(e,n){return n.transitionState(t,e)},e)},onSearchForFacetValues:function(e){var t=e.facetName,n=e.query,r=e.maxFacetHits;S.setState(i({},S.getState(),{searchingForFacetValues:!0})),b.searchForFacetValues(t,n,r).then(function(e){var r;S.setState(i({},S.getState(),{resultsFacetValues:i({},S.getState().resultsFacetValues,(r={},p(r,t,e.facetHits),p(r,"query",n),r)),searchingForFacetValues:!1}))},function(e){S.setState(i({},S.getState(),{error:e,searchingForFacetValues:!1}))}).catch(function(e){setTimeout(function(){throw e})})},updateClient:function(e){b.setClient(e),N()},updateIndex:function(e){_=_.setIndex(e),N()},clearCache:function(){b.clearCache(),N()},skipSearch:function(){k=!0}}};var o=n(173),s=d(o),c=d(n(1388)),l=d(n(1389)),u=d(n(651));function d(e){return e&&e.__esModule?e:{default:e}}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=[],n=!1;function a(){n||(n=!0,(0,r.defer)(function(){n=!1,e()}))}return{registerWidget:function(e){return t.push(e),a(),function(){t.splice(t.indexOf(e),1),a()}},update:a,getWidgets:function(){return t}}};var r=n(198)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e,n=[];return{getState:function(){return t},setState:function(e){t=e,n.forEach(function(e){return e()})},subscribe:function(e){return n.push(e),function(){n.splice(n.indexOf(e),1)}}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(0)),a=o(n(11)),i=o(n(1391));function o(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=function(e){var t=e.indexName,n=e.root,a=e.children;return r.default.createElement(i.default,{indexName:t,root:n},a)};return t.propTypes={indexName:a.default.string.isRequired,root:a.default.shape({Root:a.default.oneOfType([a.default.string,a.default.func]).isRequired,props:a.default.object}),children:a.default.node},t.defaultProps={root:e},t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=s(n(11)),i=n(0),o=s(i);function s(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),a=n.ais.widgetsManager;return r.unregisterWidget=a.registerWidget(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),r(t,[{key:"componentWillMount",value:function(){this.context.ais.onSearchParameters(this.getSearchParameters,this.getChildContext(),this.props)}},{key:"componentWillReceiveProps",value:function(e){this.props.indexName!==e.indexName&&this.context.ais.widgetsManager.update()}},{key:"componentWillUnmount",value:function(){this.unregisterWidget()}},{key:"getChildContext",value:function(){return{multiIndexContext:{targetedIndex:this.props.indexName}}}},{key:"getSearchParameters",value:function(e,t){return e.setIndex(this.props?this.props.indexName:t.indexName)}},{key:"render",value:function(){var e=i.Children.count(this.props.children),t=this.props.root,n=t.Root,r=t.props;return 0===e?null:o.default.createElement(n,r,this.props.children)}}]),t}();c.propTypes={indexName:a.default.string.isRequired,children:a.default.node,root:a.default.shape({Root:a.default.oneOfType([a.default.string,a.default.func]),props:a.default.object}).isRequired},c.childContextTypes={multiIndexContext:a.default.object.isRequired},c.contextTypes={ais:a.default.object.isRequired},t.default=c},function(e,t,n){var r=n(278),a=n(668),i=n(1393),o=n(1395),s=n(118),c=n(303),l=n(669);e.exports=function e(t,n,u,d,p){t!==n&&i(n,function(i,c){if(p||(p=new r),s(i))o(t,n,c,u,e,d,p);else{var f=d?d(l(t,c),i,c+"",t,n,p):void 0;void 0===f&&(f=i),a(t,c,f)}},c)}},function(e,t,n){var r=n(1394)();e.exports=r},function(e,t){e.exports=function(e){return function(t,n,r){for(var a=-1,i=Object(t),o=r(t),s=o.length;s--;){var c=o[e?s:++a];if(!1===n(i[c],c,i))break}return t}}},function(e,t,n){var r=n(668),a=n(604),i=n(606),o=n(233),s=n(607),c=n(285),l=n(86),u=n(1396),d=n(286),p=n(281),f=n(118),h=n(608),m=n(398),g=n(669),v=n(1397);e.exports=function(e,t,n,b,y,E,_){var w=g(e,n),S=g(t,n),k=_.get(S);if(k)r(e,n,k);else{var C=E?E(w,S,n+"",e,t,_):void 0,N=void 0===C;if(N){var O=l(S),x=!O&&d(S),T=!O&&!x&&m(S);C=S,O||x||T?l(w)?C=w:u(w)?C=o(w):x?(N=!1,C=a(S,!0)):T?(N=!1,C=i(S,!0)):C=[]:h(S)||c(S)?(C=w,c(w)?C=v(w):f(w)&&!p(w)||(C=s(S))):N=!1}N&&(_.set(S,C),y(C,S,b,E,_),_.delete(S)),r(e,n,C)}}},function(e,t,n){var r=n(288),a=n(109);e.exports=function(e){return a(e)&&r(e)}},function(e,t,n){var r=n(234),a=n(303);e.exports=function(e){return r(e,a(e))}},function(e,t,n){var r=n(1399),a=n(1400);e.exports=function(e){return r(function(t,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,s=i>2?n[2]:void 0;for(o=e.length>3&&"function"==typeof o?(i--,o):void 0,s&&a(n[0],n[1],s)&&(o=i<3?void 0:o,i=1),t=Object(t);++r<i;){var c=n[r];c&&e(t,c,r,o)}return t})}},function(e,t,n){var r=n(289),a=n(610),i=n(423);e.exports=function(e,t){return i(a(e,t,r),e+"")}},function(e,t,n){var r=n(226),a=n(288),i=n(287),o=n(118);e.exports=function(e,t,n){if(!o(n))return!1;var s=typeof t;return!!("number"==s?a(n)&&i(t,n.length):"string"==s&&t in n)&&r(n[t],e)}},,,,,,function(e,n,r){"use strict";r.r(n);var a=r(2),i=r.n(a),o=r(443),s=r.n(o),c=r(4),l=r.n(c),u=r(5),d=r.n(u),p=r(6),f=r.n(p),h=r(7),m=r.n(h),g=r(1),v=r.n(g),b=r(8),y=r.n(b),E=r(0),w=r.n(E),S=r(16),k=r(13),C=r(17),N=r(3),O=function(e){var t=e.className,n=e.onChange,r=e.value,a=e.i18n;return w.a.createElement("div",{className:t},w.a.createElement("label",{className:"d-b",htmlFor:"name"},a.common.name," *"),w.a.createElement("input",{className:"NewInput NewInput--white NewInput--fw NewInput--tall fz-20",name:"name",id:"name",onChange:n,value:r,maxLength:255,required:!0}))},x=function(e){var t=e.className,n=e.onChange,r=e.value,a=e.i18n;return w.a.createElement("div",{className:t},w.a.createElement("label",{className:"d-b",htmlFor:"description"},a.common.description),w.a.createElement("textarea",{name:"description",className:"Textarea mh-125 w-fill",id:"description",onChange:n,value:r}))},T=r(18),R=r.n(T),P=r(25),I=r.n(P),A=r(100),M=r.n(A),D={LMD:{en:"MMMM D",es:"D [de] MMMM",fr:"D MMMM",de:"D. MMMM",pt:"D [de] MMMM",it:"D MMMM",sv:"D MMMM",nl:"D MMMM",ru:"D MMMM",ja:"M月D日","zh-CN":"M月D日",ar:"D MMMM","tl-ph":"MMMM D",tr:"D MMMM",vi:"D MMMM"},LMDS:{en:"MMM D",es:"D [de] MMM",fr:"D MMM",de:"D. MMM",pt:"D [de] MMM",it:"D MMM",sv:"D MMM",nl:"D MMM",ru:"D MMM",ja:"M月D日","zh-CN":"M月D日",ar:"D MMM","tl-ph":"MMM D",tr:"D MMM",vi:"D MMM"},LMDYS:{en:"MMM D, YYYY",es:"D [de] MMM [de] YYYY",fr:"D MMM YYYY",de:"D. MMM YYYY",pt:"D [de] MMM [de] YYYY",it:"D MMM YYYY",sv:"D MMM YYYY",nl:"D MMM YYYY",ru:"D MMM YYYY г.",ja:"YYYY年M月D日","zh-CN":"YYYY年M月D日",ar:"D MMM YYYY","tl-ph":"MMM DD, YYYY",tr:"D MMM YYYY",vi:"D MMM [năm] YYYY"},LLLA:{en:"MMMM D, YYYY [at] h:mm A",es:"D [de] MMMM [de] YYYY [a las] H:mm",fr:"D MMMM YYYY [à] HH:mm",de:"D. MMMM YYYY [um] HH:mm [Uhr]",pt:"D [de] MMMM [de] YYYY [às] HH:mm",it:"D MMMM YYYY [alle] HH:mm",sv:"D MMMM YYYY [kl.] HH:mm",nl:"D MMMM YYYY [om] HH:mm [uur]",ru:"D MMMM YYYY г., H:mm",ja:"YYYY年M月D日 HH:mm","zh-CN":"YYYY年M月D日Ah点mm分",ar:"D MMMM YYYY HH:mm","tl-ph":"MMMM D, YYYY [sa] HH:mm",tr:"D MMMM YYYY, HH:mm",vi:"D MMMM [năm] YYYY [lúc] HH:mm"}},j=function(e){var t=I.a.locale(),n=D[e];return n[t]?n[t]:n.en},L={TIME:"LT",TIME_WITH_SECONDS:"LTS",SHORT:"L",LONG:"LL",LONG_WITH_TIME:"LLL",LONG_WITH_DAY_AND_TIME:"LLLL",get LONG_AT_TIME(){return j("LLLA")},get MONTH_DAY(){return j("LMD")},get MONTH_DAY_SHORT(){return j("LMDS")},get MONTH_DAY_YEAR_SHORT(){return j("LMDYS")},fixed:{DATE_SELECT_TIME:"HH:mm",FULL_YEAR_MONTH_DATE_TIME:"YYYYMMDDh:mm:ss a",ISO8601_LOCAL:"YYYY-MM-DDTHH:mm:ss.sss",NUMERIC_SHORT_MONTH_DAY_YEAR:"MM/DD/YY",SHORT_MONTH_DAY_YEAR:"MMM D, YYYY",DB_DATE:"YYYY-MM-DD",SPREADSHEET_DATE:"MM/DD/YYYY"}},F=function(e){e.className;var n=e.value,r=e.onChange,a=e.disabled;return w.a.createElement("div",{className:"EventSessionForm-field"},w.a.createElement("label",{htmlFor:"date-picker"},t("common.date")," *"),w.a.createElement(M.a,{id:"date-picker",selected:n,dateFormat:L.fixed.SHORT_MONTH_DAY_YEAR,onChange:r,className:"NewInput NewInput--white NewInput--fw",disabled:a,required:!0}))},B=function(e){e.className;var n=e.onChange,r=e.value;return w.a.createElement("div",{className:"EventSessionForm-field"},w.a.createElement("label",{className:"d-b",htmlFor:"location"},t("common.location")),w.a.createElement("input",{name:"location",className:"NewInput NewInput--white NewInput--fw",id:"location",onChange:n,value:r}))},U=r(19),H=r.n(U),q=r(21),G=r.n(q),W=r(15),V=r.n(W),z=r(10),Y=function(e){var t,n=e.white,r=e.fullWidth,a=e.children,o=e.className,s=G()(e,["white","fullWidth","children","className"]),c=V()("NewButton",{"NewButton--white":n}),l=V()("Select",(t={},i()(t,o,o),i()(t,"w-fill",r),i()(t,"Select--withIcon",s.icon),t));return w.a.createElement("div",{className:l},s.icon&&w.a.createElement(z.a,{customClass:"Select-icon",name:s.icon}),w.a.createElement("select",H()({},s,{className:c}),a),w.a.createElement(z.a,{customClass:"Select-arrowsIcon",name:"select_arrows"}))};Y.defaultProps={white:!0};var Q=Y,K=function(e){var n=e.disabled,r=e.capOption,a=e.maxAttendees,i=e.onCapOptionsChange,o=e.onMaxAttendeesChange;return w.a.createElement("div",{className:"EventSessionForm-field d-f ai-fe"},w.a.createElement("div",{className:"f-sh-0"},w.a.createElement("div",{className:"f-sh-0"},w.a.createElement("label",{htmlFor:"cap-options"},t("in_person_training.new_event.registration_cap")),w.a.createElement("div",{className:"f-sh-0"},w.a.createElement(Q,{fullWidth:!0,onChange:i,value:r,id:"cap-options",disabled:n},w.a.createElement("option",{value:"false"},t("common.no")),w.a.createElement("option",{value:"true"},t("common.yes")))))),r&&w.a.createElement(w.a.Fragment,null,w.a.createElement("input",{type:"number",min:"1",step:"1",name:"maxAttendees",className:"NewInput NewInput--white w-101 ml-8 mr-8",id:"max-attendees",onChange:o,value:a,required:r,disabled:n}),w.a.createElement("label",{htmlFor:"max-attendees"},"* ",t("in_person_training.new_event.no_of_people"))))},X=r(24),Z=r.n(X),J=L.fixed.DATE_SELECT_TIME,ee=function(e){function t(e){var n;return l()(this,t),(n=f()(this,m()(t).call(this,e))).handleOnChange=n.handleOnChange.bind(v()(n)),n}return y()(t,e),d()(t,[{key:"getOptionProps",value:function(e){var t,n=this.props,r=n.max,a=n.min,i=n.step;return{value:e.format(J),children:e.format(L.TIME),disabled:Object(S.some)([a&&e.isSameOrBefore(a),r&&(t=e.clone()).add.apply(t,Z()(i)).isAfter(r)])}}},{key:"getOptions",value:function(){for(var e=this.props.step,t=[],n=I()(this.props.value).startOf("day"),r=I()(n).set({hour:23,minute:30}),a=n;r.isAfter(a);)t.push(this.getOptionProps(a)),a.add.apply(a,Z()(e));return[].concat(t,[this.getOptionProps(r)])}},{key:"handleOnChange",value:function(e){var t=I()(this.props.value),n=I()(e.target.value,J);t.set({hour:n.get("hour"),minute:n.get("minute")}),this.props.onChange(t)}},{key:"render",value:function(){return w.a.createElement(Q,{id:this.props.id,onChange:this.handleOnChange,value:this.selectedValue,disabled:this.props.disabled},this.getOptions().map(function(e){return w.a.createElement("option",H()({key:e.value},e))}))}},{key:"selectedValue",get:function(){return I()(this.props.value).format(J)}}]),t}(w.a.Component);i()(ee,"defaultProps",{step:[30,"minute"]});var te=ee,ne=function(e){var n=e.className,r=e.startTime,a=e.endTime,i=e.onStartTimeChange,o=e.onEndTimeChange,s=e.disabled;return w.a.createElement("div",{className:n},w.a.createElement("label",{htmlFor:"start-time"},t("common.time")," *"),w.a.createElement("div",{className:"f-sh-0"},w.a.createElement(te,{id:"start-time",value:r,onChange:i,max:a,disabled:s}),w.a.createElement("label",{htmlFor:"start-time",className:"ml-8 mr-8"},t("common.to")),w.a.createElement(te,{id:"end-time",value:a,onChange:o,min:r,disabled:s})))},re=function(e){function n(e){var t;return l()(this,n),(t=f()(this,m()(n).call(this,e))).handleChange=t.handleChange.bind(v()(t)),t}return y()(n,e),d()(n,[{key:"handleChange",value:function(e){this.props.onChange(e.target.value)}},{key:"render",value:function(){var e=this.props,n=e.className,r=e.value,a=e.name,i=e.timeZones,o=e.disabled;return w.a.createElement(Q,{"aria-label":t("common.time_zone"),className:n,onChange:this.handleChange,value:r,name:a,disabled:o,fullWidth:!0},w.a.createElement("option",{disabled:!0,value:""},t("common.time_zone")),i.map(function(e){return w.a.createElement("option",{key:e.name,value:e.name},e.formatted)}))}}],[{key:"getLastSelected",value:function(){try{return localStorage.getItem("TimeZoneSelect.lastSelected")||""}catch(e){return""}}},{key:"setLastSelected",value:function(e){try{localStorage.setItem("TimeZoneSelect.lastSelected",e)}catch(e){}}}]),n}(E.Component),ae=function(e){function n(e){var t;return l()(this,n),(t=f()(this,m()(n).call(this,e))).handleChange=t.handleChange.bind(v()(t)),t}return y()(n,e),d()(n,[{key:"handleChange",value:function(e){this.props.onChange(e.target.value)}},{key:"render",value:function(){return w.a.createElement("div",{className:"EventSessionForm-field"},w.a.createElement("label",{htmlFor:this.props.id},t("common.instructor")),w.a.createElement(Q,{onChange:this.handleChange,value:this.props.value,id:this.props.id,fullWidth:!0},w.a.createElement("option",{value:""},t("users.select")),this.props.users.map(function(e){return w.a.createElement("option",{key:e.id,value:e.id},e.name)})))}}]),n}(E.Component);i()(ae,"defaultProps",{id:"trainer"});var ie=ae,oe=function(e){function t(e){var n;return l()(this,t),n=f()(this,m()(t).call(this,e)),i()(v()(n),"handleInputChange",function(e){var t=e.target,r=t.name,a=t.value;n.setState(i()({},r,a))}),i()(v()(n),"handleTrainerChange",function(e){n.setState({trainerId:e})}),i()(v()(n),"handleStartTimeChange",function(e){n.setState(function(t){return{startTime:e,endTime:I()(e).set({hour:t.endTime.get("hour"),minute:t.endTime.get("minute")})}})}),i()(v()(n),"handleEndTimeChange",function(e){n.setState({endTime:e})}),i()(v()(n),"handleTimeZoneChange",function(e){n.setState({timeZone:e},function(){re.setLastSelected(e)})}),i()(v()(n),"handleCapOptionsChange",function(e){var t=JSON.parse(e.target.value);n.setState({capOption:t},function(){return n.resetMaxAttendees(t)})}),i()(v()(n),"resetMaxAttendees",function(e){var t=n.state.maxAttendees;e||Object(S.isEmpty)(t)||n.setState({maxAttendees:""})}),n.dirty=!1,n.state=Object.assign({capOption:!1,startTime:I()().add(1,"hour").startOf("hour"),endTime:I()().add(2,"hour").startOf("hour"),location:"",maxAttendees:"",trainerId:"",timeZone:""},n.props.persistState&&n.getPersistentState(),n.props.defaultState),n}return y()(t,e),d()(t,[{key:"getPersistentState",value:function(){return this.dirty=!0,{timeZone:re.getLastSelected()}}},{key:"componentDidMount",value:function(){this.dirty&&this.handleStateChange()}},{key:"shouldComponentUpdate",value:function(e,t){return!Object(S.isEqual)(t,this.state)}},{key:"componentDidUpdate",value:function(){this.handleStateChange()}},{key:"handleStateChange",value:function(){this.props.onStateChange(R()({},this.state,{startTime:this.state.startTime.format("YYYY-MM-DD HH:mm"),endTime:this.state.endTime.format("YYYY-MM-DD HH:mm"),isValid:this.isValid}))}},{key:"render",value:function(){var e=this.state,t=e.startTime,n=e.endTime,r=e.timeZone,a=e.location,i=this.props,o=i.users,s=i.canEditTime,c=i.hasEventsAttendeeLimit;return w.a.createElement("div",{className:"EventSessionForm"},w.a.createElement(F,{value:t,onChange:this.handleStartTimeChange,disabled:!s}),w.a.createElement("div",{className:"EventSessionForm-field d-f ai-fe"},w.a.createElement(ne,{className:"f-sh-0",startTime:t,endTime:n,onStartTimeChange:this.handleStartTimeChange,onEndTimeChange:this.handleEndTimeChange,disabled:!s}),w.a.createElement(re,{className:"ml-8",value:r,onChange:this.handleTimeZoneChange,timeZones:this.props.timeZones,disabled:!s})),w.a.createElement(B,{value:a,onChange:this.handleInputChange}),w.a.createElement(ie,{users:o,onChange:this.handleTrainerChange,value:this.state.trainerId}),c&&w.a.createElement(K,{disabled:!s,capOption:this.state.capOption,maxAttendees:this.state.maxAttendees,onCapOptionsChange:this.handleCapOptionsChange,onMaxAttendeesChange:this.handleInputChange}))}},{key:"isValid",get:function(){return Object(S.every)([I()(this.state.startTime).isValid(),I()(this.state.endTime).isValid(),!Object(S.isEmpty)(this.state.timeZone)])}}]),t}(E.Component);i()(oe,"defaultProps",{onStateChange:function(){},defaultState:{},persistState:!0,canEditTime:!0});var se=oe,ce=function(e){function t(){var e,n;l()(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return n=f()(this,(e=m()(t)).call.apply(e,[this].concat(a))),i()(v()(n),"state",{name:"",description:"",session:{trainerId:n.props.meta.currentUser.id}}),i()(v()(n),"handleInputChange",function(e){var t=e.target,r=t.name,a=t.value;n.setState(i()({},r,a))}),i()(v()(n),"handleSessionFormStateChange",function(e){n.setState({session:e})}),i()(v()(n),"handleSubmit",function(e){e.preventDefault(),e.stopPropagation(),C.a.postJSON(N.k.IN_PERSON_TRAINING.EVENTS,{event:{name:n.state.name,description:n.state.description},session:n.state.session}).then(function(e){e.success&&(window.location=N.k.IN_PERSON_TRAINING.EVENT(e.id))})}),n}return y()(t,e),d()(t,[{key:"render",value:function(){var e=this.state,t=e.name,n=e.description,r=this.props.meta,a=r.users,i=r.timeZones,o=r.i18n,s=r.hasEventsAttendeeLimit;return w.a.createElement("form",{onSubmit:this.handleSubmit,className:"NewEventForm ff-ss mt-32"},w.a.createElement("h1",{className:"ff-ss mb-32"},o.heading),w.a.createElement(O,{i18n:o,value:t,onChange:this.handleInputChange}),w.a.createElement(x,{i18n:o,value:n,onChange:this.handleInputChange}),w.a.createElement("div",{className:"NewEventForm-sessionForm"},w.a.createElement(se,{defaultState:this.state.session,onStateChange:this.handleSessionFormStateChange,users:a,timeZones:i,i18n:o,hasEventsAttendeeLimit:s})),w.a.createElement(k.c,{tall:!0,submit:!0,primary:!0,disabled:!this.isValid},o.create_event))}},{key:"isValid",get:function(){return Object(S.every)([!!this.state.name.trim(),this.state.session.isValid])}}]),t}(E.Component),le=r(12),ue=r(34),de=r(674),pe=r.n(de),fe=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{combine:!0};return Object(ue.e)(n.combine?Object(ue.c)(t):t,e,Object(ue.d)(ue.a.apply(void 0,[pe.a].concat(Z()(n.middleware||[]))),function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(e){return e}}(n.name)))},he=r(14),me=r(9),ge=r(37),ve={data:[],totalPages:0,totalAttendees:0,statusCounts:{}},be={perPage:10,page:1,query:"",status:null,sort:{column:"name",direction:"asc"}},ye=Object(ue.c)({attendances:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case he.g.ATTENDANCES.DATA_RECEIVE:return{data:t.payload.data,totalPages:t.payload.totalPages,totalAttendees:t.payload.totalAttendees,statusCounts:t.payload.statusCounts};default:return e}},loading:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case he.g.ATTENDANCES.DATA_RECEIVE:return!1;case he.g.ATTENDANCES.DATA_REQUEST:return!0;default:return e}},filters:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case he.g.ATTENDANCES.SET_FILTERS:return R()({},e,t.payload,{page:t.payload.page||1});default:return e}}}),Ee={updateEmail:{confirmationVisible:!1,resource:null,changedAttributes:[]},trainerChange:{confirmationVisible:!1,session:{}}},_e=Object(ue.c)({event:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case he.g.EVENT.UPDATE:return t.event;default:return e}},sessions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case he.g.SESSIONS.CREATE:return[t.session].concat(Z()(e));case he.g.SESSIONS.REMOVE:return Object(me.reject)({id:t.session.id},e);case he.g.SESSIONS.UPDATE:return Object(ge.j)(e,{id:t.session.id},t.session,!1);default:return e}},attendees:ye,eventChangeManagement:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case he.g.EVENT_CHANGE_MANAGEMENT.TOGGLE_CONFIRM_TRAINER_CHANGE:return R()({},e,{trainerChange:{confirmationVisible:!e.trainerChange.confirmationVisible,session:e.trainerChange.confirmationVisible?Ee.session:t.session}});case he.g.EVENT_CHANGE_MANAGEMENT.TOGGLE_UPDATE_EMAIL:return R()({},e,{updateEmail:{confirmationVisible:!e.updateEmail.confirmationVisible,resource:t.resource,changedAttributes:t.changedAttributes}});default:return e}},meta:function(){return arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}}});var we=r(49),Se={primary:"h-td-u c-brand-blue c-p",secondary:"td-u c-inherit c-p"},ke=function(e){var t=e.className,n=e.type,r=e.disabled,a=G()(e,["className","type","disabled"]),i=V()("u-resetBtn",r&&"c-gray-dark",!r&&Se[n],t);return w.a.createElement("button",H()({className:i,disabled:r,type:"button"},a))};ke.defaultProps={type:"secondary"};var Ce=ke,Ne=r(29);function Oe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{resource:null,changedAttributes:[]},t=e.resource,n=e.changedAttributes;return function(e,r){e({type:he.g.EVENT_CHANGE_MANAGEMENT.TOGGLE_UPDATE_EMAIL,resource:t,changedAttributes:n})}}function xe(e){return{type:he.g.EVENT_CHANGE_MANAGEMENT.TOGGLE_CONFIRM_TRAINER_CHANGE,session:e}}function Te(){return function(e,t){var n=t().event;C.a.get(N.k.IN_PERSON_TRAINING.EVENT(n.id)).then(function(t){e({type:he.g.EVENT.UPDATE,event:t.event})})}}var Re=function(e){function n(){var e,t;l()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return t=f()(this,(e=m()(n)).call.apply(e,[this].concat(a))),i()(v()(t),"state",{loading:!1,name:t.props.event.name,description:t.props.event.description}),i()(v()(t),"descriptionInputRef",Object(E.createRef)()),i()(v()(t),"handleSubmit",function(e){e.preventDefault();var n={name:t.state.name,description:t.state.description};t.setState({loading:!0},function(){t.props.updateEvent(n).then(t.props.onDismiss).catch(function(){t.setState({loading:!1})})})}),i()(v()(t),"handleChange",function(e){t.setState(i()({},e.target.name,e.target.value))}),t}return y()(n,e),d()(n,[{key:"componentDidMount",value:function(){this.descriptionInputRef.current&&autosize(this.descriptionInputRef.current)}},{key:"render",value:function(){var e=this.props.onDismiss,n=this.state,r=n.name,a=n.description,i=n.loading;return w.a.createElement("form",{onSubmit:this.handleSubmit,className:"EventOverviewHeader-editForm"},w.a.createElement("label",{className:"c-gray-darker",htmlFor:"name"},t("common.name")," *"),w.a.createElement("input",{className:"NewInput NewInput--white NewInput--fw mb-8",id:"name",name:"name",value:r,onChange:this.handleChange,maxLength:255,required:!0}),w.a.createElement("label",{className:"c-gray-darker",htmlFor:"description"},t("common.description")),w.a.createElement("textarea",{className:"Textarea w-fill mb-8",id:"description",name:"description",value:a,onChange:this.handleChange,ref:this.descriptionInputRef}),w.a.createElement("div",{className:"d-f jc-sb mt-16"},w.a.createElement("button",{type:"button",className:"u-linkBtn",onClick:e},t("common.cancel")),w.a.createElement(k.c,{submit:!0,primary:!0,tall:!0,loading:i,disabled:!this.isValid},t("in_person_training.event_overview.edit_form.submit_button"))))}},{key:"isValid",get:function(){return!!this.state.name}}]),n}(E.Component),Pe={updateEvent:function(e){return function(t,n){return new Promise(function(r,a){var i=n().event;C.a.putJSON(N.k.IN_PERSON_TRAINING.EVENT(i.id),{event:e}).then(function(e){e.success?(t({type:he.g.EVENT.UPDATE,event:e.event}),i.next_session&&!Object(me.isEmpty)(e.changed_attributes)&&e.event.has_invitees&&t(Oe({resource:{id:i.id,type:"Event"},changedAttributes:e.changed_attributes})),r(e)):a()}).fail(a)})}}},Ie=Object(le.b)(function(e){return{event:e.event}},Pe)(Re),Ae=function(e){function n(){var e,t;l()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return t=f()(this,(e=m()(n)).call.apply(e,[this].concat(a))),i()(v()(t),"state",{editing:!1}),i()(v()(t),"toggleEdit",function(){t.setState(function(e){return{editing:!e.editing}})}),t}return y()(n,e),d()(n,[{key:"render",value:function(){var e=this.props,n=e.event,r=e.isArchived;return w.a.createElement("div",{className:"EventOverviewHeader"},this.state.editing&&w.a.createElement(Ie,{onDismiss:this.toggleEdit}),!this.state.editing&&w.a.createElement("div",null,w.a.createElement("div",{className:"d-f jc-sb ai-fs mb-16"},w.a.createElement("h1",{className:"ff-ss ws-pr mr-8"},n.name),w.a.createElement(we.a,{text:r&&t("in_person_training.event_overview.archived_cannot_be_edited")},w.a.createElement(Ce,{type:"primary",disabled:r,className:"EventOverviewHeader-editBtn u-linkBtn",onClick:this.toggleEdit},w.a.createElement(z.a,{name:"edit",customClass:"mr-4"}),t("common.edit")))),w.a.createElement("p",{className:"fz-bigger c-gray-dark",dangerouslySetInnerHTML:{__html:Object(Ne.f)(this.props.event.description)}})))}}]),n}(E.Component),Me=Object(le.b)(function(e){return{event:e.event,isArchived:e.event.is_archived}})(Ae),De=r(316),je=r.n(De),Le=Object(S.once)(function(){var e=document.documentElement.getAttribute("data-useragent");return!e.includes("Edge")&&/msie\s|trident\//i.test(e)}),Fe=750,Be=function(e){function n(){var e,t;l()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return t=f()(this,(e=m()(n)).call.apply(e,[this].concat(a))),i()(v()(t),"state",{copied:!1}),i()(v()(t),"inputRef",Object(E.createRef)()),i()(v()(t),"buttonRef",Object(E.createRef)()),i()(v()(t),"handleCopySuccess",function(e){e.clearSelection(),clearTimeout(t.copyTimerId),t.setState({copied:!0},function(){t.copyTimerId=setTimeout(function(){return t.setState({copied:!1})},Fe)})}),i()(v()(t),"selectInput",function(e){var n=t.inputRef.current;n&&n.select()}),t}return y()(n,e),d()(n,[{key:"componentDidMount",value:function(){Le()||(this.clipboard=new je.a(this.buttonRef.current),this.clipboard.on("success",this.handleCopySuccess))}},{key:"render",value:function(){return w.a.createElement(w.a.Fragment,null,w.a.createElement("div",{className:"mb-8 c-gray-darker fz-base"},t("in_person_training.event_overview.session.link_description")),w.a.createElement("div",{className:"d-f"},w.a.createElement("input",{className:"NewInput NewInput--white NewInput--fw",onFocus:this.selectInput,onClick:this.selectInput,ref:this.inputRef,value:this.props.link,readOnly:!0}),!Le()&&w.a.createElement(k.c,{"data-clipboard-text":this.props.link,ref:this.buttonRef,onClick:this.copyLinkToClipboard,className:"ml-8 w-125"},this.state.copied?t("in_person_training.event_overview.session.copied"):t("in_person_training.event_overview.session.copy_link"))))}}]),n}(E.Component),Ue=function(e){var t=e.label,n=e.value;return!!n&&w.a.createElement("tr",{className:"EventSessionDetails-row"},w.a.createElement("td",{className:"EventSessionDetails-cell"},t,":"),w.a.createElement("td",{className:"EventSessionDetails-cell"},n))},He=function(e){var n=e.session,r=n.max_attendees,a=n.total_registered,i=t("in_person_training.event_overview.registration_cap.not_set");return r&&(i=a<r?r:t("in_person_training.event_overview.registration_cap.at_capacity",{count:r})),w.a.createElement("span",{dangerouslySetInnerHTML:{__html:i}})},qe=function(e){var n=e.session,r=e.className,a=e.showAttendeeLimit,i=void 0!==a&&a,o=n.location,s=n.trainer;return[o,s.name,i].some(Boolean)?w.a.createElement("table",{className:V()("EventSessionDetails",r)},w.a.createElement("tbody",null,w.a.createElement(Ue,{label:t("in_person_training.event_overview.location"),value:o}),w.a.createElement(Ue,{label:t("in_person_training.event_overview.instructor"),value:s.name}),i&&w.a.createElement(Ue,{label:t("in_person_training.event_overview.registration_cap.label"),value:w.a.createElement(He,{session:n})}))):null},Ge=function(e,t){return I()(e,L.fixed.ISO8601_LOCAL).format(t)},We=function(e){var n=e.startTime,r=e.endTime,a=e.className,i=e.timeZone;return w.a.createElement("div",{className:a},w.a.createElement("h4",{className:"ff-ss fw-b fz-bigger"},Ge(n,L.LONG),", ",Ge(n,L.TIME)," ",t("conjunctions.to")," ",Ge(r,L.TIME)," "),i&&w.a.createElement("div",{className:"c-gray-dark c-gray-dark mt-4"},i))};function Ve(e,t){var n={};return _.forEach(t,function(e,t){var r=t.replace(/([A-Z]+)/g,function(e){return"_"+e.toLowerCase()});n[r]=e}),_.isEmpty(t)?e:e+"?"+decodeURI($.param(n))}var ze=r(22),Ye=r.n(ze),Qe=r(56),Ke=r.n(Qe),Xe=r(68);function $e(e){Object(Xe.a)(e&&"object"===Ke()(e),'Expected argument "actionsTypesMap" to be of be type "object"');var t={};return Object.entries(e).forEach(function(e){var n=Ye()(e,2),r=n[0],a=n[1];t[r]=function(e){return{type:a,payload:e}}}),t}var Ze=$e({dataRequest:he.g.ATTENDANCES.DATA_REQUEST,dataReceive:he.g.ATTENDANCES.DATA_RECEIVE,setFilters:he.g.ATTENDANCES.SET_FILTERS});function Je(){return function(e,t){return new Promise(function(n){e(Ze.dataRequest());var r=t(),a=r.event,i=r.attendees,o=N.k.IN_PERSON_TRAINING.EVENT_ATTENDANCES(a.id);C.a.get(Ve(o,i.filters)).then(function(t){e(Ze.dataReceive(t)),n()})})}}function et(e){return function(t,n){var r=R()({},e);Object(me.has)("query",r)&&(r.query.trim()!==n().attendees.filters.query.trim().trim()&&(r.status=null));t(Ze.setFilters(r)),t(Je())}}function tt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n,r){return new Promise(function(a,i){var o=r().event;C.a.putJSON(N.k.IN_PERSON_TRAINING.EVENT_SESSION(o.id,e.id),R()({session:e},t)).then(function(e){t.trainer_change_confirmed?window.location=N.k.IN_PERSON_TRAINING.EVENTS:(e.session.upcoming&&!Object(me.isEmpty)(e.changed_attributes)&&e.session.has_invitees&&n(Oe({resource:{id:e.session.id,type:"Session"},changedAttributes:e.changed_attributes})),a(e),n({type:he.g.SESSIONS.UPDATE,session:e.session}),n(Je()),n(Te()))}).fail(function(t){428===t.status&&n(xe(e)),i(new Error)})})}}var nt=function(e){function n(){var e,t,r,a;l()(this,n);for(var o=arguments.length,s=new Array(o),c=0;c<o;c++)s[c]=arguments[c];return t=f()(this,(e=m()(n)).call.apply(e,[this].concat(s))),i()(v()(t),"state",{loading:!1,error:null,session:(r=t.props.session,{capOption:(a=r.max_attendees,a>=1),startTime:I()(r.start_time,L.fixed.ISO8601_LOCAL),endTime:I()(r.end_time,L.fixed.ISO8601_LOCAL),location:r.location||"",maxAttendees:r.max_attendees||"",trainerId:Object(S.isNumber)(r.trainer.id)?r.trainer.id.toString():"",timeZone:r.time_zone.name})}),i()(v()(t),"handleFormStateChange",function(e){t.setState({session:e})}),i()(v()(t),"handleSubmit",function(e){e.preventDefault(),e.stopPropagation(),t.setState({loading:!0,error:null}),t.props.updateSession(R()({id:t.props.session.id},t.state.session)).then(function(){t.setState({loading:!1},t.props.onDismiss)}).catch(function(e){t.setState({loading:!1,error:e.responseJSON})})}),t}return y()(n,e),d()(n,[{key:"render",value:function(){var e,n=this.props,r=n.users,a=n.timeZones,i=n.hasEventsAttendeeLimit,o=this.state.error;return w.a.createElement(k.f.Content,{padding:"large"},o&&w.a.createElement("div",{className:"ErrorContainer ErrorContainer--brandRed mb-16 Animated Animated--fadeIn"},o.message),w.a.createElement("form",{onSubmit:this.handleSubmit},w.a.createElement(se,{defaultState:this.state.session,onStateChange:this.handleFormStateChange,users:r,timeZones:a,canEditTime:(e=this.props.session.start_time_utc,!I()(e,P.ISO_8601).isBefore(Object(P.now)())),hasEventsAttendeeLimit:i}),w.a.createElement("div",{className:"d-f jc-sb ai-c mt-24"},w.a.createElement("button",{type:"button",disabled:this.props.loading,onClick:this.props.onDismiss,className:"u-linkBtn"},t("common.cancel")),w.a.createElement(k.c,{primary:!0,tall:!0,submit:!0,loading:this.state.loading,disabled:!this.state.session.isValid},t("in_person_training.event_overview.sessions.update")))))}}]),n}(E.Component),rt={updateSession:tt},at=Object(le.b)(function(e){return{hasEventsAttendeeLimit:e.meta.features.events_attendee_limit,timeZones:e.meta.timeZones,users:e.meta.users}},rt)(nt),it=function(e){function n(){var e,t;l()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return t=f()(this,(e=m()(n)).call.apply(e,[this].concat(a))),i()(v()(t),"state",{editing:!1}),i()(v()(t),"toggleEditing",function(){t.setState(function(e){return{editing:!e.editing}})}),t}return y()(n,e),d()(n,[{key:"render",value:function(){var e=this.props,n=e.session,r=e.isArchived,a=e.showAttendeeLimit,i=this.state.editing;return w.a.createElement(k.f,{className:"EventSession"},i&&w.a.createElement(at,{session:n,onDismiss:this.toggleEditing}),!i&&w.a.createElement(w.a.Fragment,null,w.a.createElement(k.f.Content,{className:"fz-base",padding:"large"},w.a.createElement("div",{className:"d-f jc-sb ai-fs"},w.a.createElement(We,{startTime:n.start_time,endTime:n.end_time,timeZone:n.time_zone.formatted}),w.a.createElement(we.a,{text:r&&t("in_person_training.event_overview.archived_cannot_be_edited")},w.a.createElement(Ce,{disabled:r,type:"primary",onClick:this.toggleEditing},w.a.createElement(z.a,{name:"edit",customClass:"mr-4"}),t("common.edit")))),w.a.createElement(qe,{className:"mt-24",session:n,showAttendeeLimit:a})),w.a.createElement(k.f.Content,{className:"bg-gray-lightest bt-gray-lighter",padding:"large"},w.a.createElement(Be,{link:n.urls.register}))))}}]),n}(E.Component),ot=Object(le.b)(function(e){var t=e.event,n=e.meta;return{isArchived:t.is_archived,showAttendeeLimit:n.features.events_attendee_limit}})(it),st=Object(le.b)(function(e){return{sessions:e.sessions}})(function(e){var t=e.sessions;return w.a.createElement("div",{className:"mb-32"},t.map(function(e){return w.a.createElement(ot,{session:e,key:e.id})}))}),ct=300,lt=function(e){function n(){var e,t;l()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return t=f()(this,(e=m()(n)).call.apply(e,[this].concat(a))),i()(v()(t),"state",{value:""}),i()(v()(t),"clearSearch",function(){t.setState({value:""},function(){return t.props.onSubmit("")})}),i()(v()(t),"handleSubmit",Object(me.debounce)(ct)(function(){t.props.query!==t.state.value&&t.props.onSubmit(t.state.value)})),i()(v()(t),"handleChange",function(e){t.setState({value:e.target.value},function(){""===t.state.value||""===t.props.query?t.props.onSubmit(t.state.value):t.handleSubmit()})}),t}return y()(n,e),d()(n,[{key:"render",value:function(){var e=this.props.query||this.state.value;return w.a.createElement("div",{className:"EventAttendanceSearchBox"},e&&w.a.createElement(k.c,{smaller:!0,className:"EventAttendanceSearchBox-clearBtn",onClick:this.clearSearch},t("common.clear")),w.a.createElement("input",{className:"EventAttendanceSearchBox-input NewInput NewInput--lightestGray NewInput--fw",value:this.state.value,onChange:this.handleChange,onKeyDown:this.handleKeyDown,placeholder:t("in_person_training.event_overview.attendance.search_placeholder")}))}}]),n}(E.Component),ut=Object(me.memoize)(function(e){return Object(me.get)(e,{did_attend:t("in_person_training.attendance.status.did_attend"),did_not_attend:t("in_person_training.attendance.status.did_not_attend"),will_attend:t("in_person_training.attendance.status.will_attend"),will_not_attend:t("in_person_training.attendance.status.will_not_attend"),awaiting_reply:t("in_person_training.attendance.status.awaiting_reply")})}),dt={onChange:function(e){return et({status:e})}},pt=Object(le.b)(function(e){return{status:e.attendees.filters.status,statusCounts:e.attendees.attendances.statusCounts,totalAttendees:e.attendees.attendances.totalAttendees}},dt)(function(e){var n=e.status,r=e.onChange,a=e.statusCounts,i=(e.hasFutureSessions,e.hasPastSessions,e.totalAttendees);return w.a.createElement(k.m,{className:"mt-16",selected:n,onChange:r},w.a.createElement(k.l,{value:null},t("groups.everyone.name")," (",i,")"),a.awaiting_reply>0&&w.a.createElement(k.l,{value:"awaiting_reply"},ut("awaiting_reply")," (",a.awaiting_reply,")"),a.will_attend>0&&w.a.createElement(k.l,{value:"will_attend"},ut("will_attend")," (",a.will_attend,")"),a.will_not_attend>0&&w.a.createElement(k.l,{value:"will_not_attend"},ut("will_not_attend")," (",a.will_not_attend,")"),a.did_attend>0&&w.a.createElement(k.l,{value:"did_attend"},ut("did_attend")," (",a.did_attend,")"),a.did_not_attend>0&&w.a.createElement(k.l,{value:"did_not_attend"},ut("did_not_attend")," (",a.did_not_attend,")"))}),ft=r(42),ht=function(e){var t=e.children,n=e.className,r=void 0===n?"":n;return w.a.createElement("div",{className:"Table-body ".concat(r)},t)},mt=["role"];var gt=function(e){var t,n,r=function(t){return w.a.createElement(e,H()({},t,{className:V()("Table-cell",t.className,{"Table-cell--xSmall":"xs"===t.size,"Table-cell--small":"s"===t.size,"Table-cell--large":"l"===t.size,"Table-cell--xLarge":"xl"===t.size,"Table-cell--sortable":"string"==typeof t.sort,"Table-cell--center":t.center,"Table-cell--clickable":t.clickable,"Table-cell--split":t.split,"u-hideBelowMD":t.hideBelowMD,"u-hideBelowXS":t.hideBelowXS})}))};return t=e,n=r,mt.forEach(function(e){Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e])}),r.displayName="Cell(".concat(e.displayName||e.name,")"),r},vt=gt(function(e){var t=e.className,n=e.children,r=e.style,a=e.contentClassName;return w.a.createElement("div",{className:t,style:r},w.a.createElement("div",{className:V()("Table-cellContent",a)},n))}),bt=function(e){var t=e.children,n=e.className,r=void 0===n?"":n;return w.a.createElement("div",{className:"Table-row Table-row--header ".concat(r)},t)},yt=function(e){var t=V()("SortIcon",{"ml-8":!0,"SortIcon--desc":"desc"===e.sort});return w.a.createElement("div",{className:e.className,onClick:e.onClick},w.a.createElement("div",{className:"Table-cellContent fd-r ai-c"},w.a.createElement("div",null,e.children),e.sort&&w.a.createElement("div",{className:t},w.a.createElement(z.a,{name:"triangle_down"}))))};yt.role="headerCell";var Et,_t=gt(yt),wt=(Et={},i()(Et,"asc","desc"),i()(Et,"desc","asc"),Et),St=function(e){function t(e){var n;return l()(this,t),(n=f()(this,m()(t).call(this,e))).state={column:void 0===e.sortBy?e.children[0].props.name:e.sortBy,direction:e.direction},n}return y()(t,e),d()(t,[{key:"handleSort",value:function(e){var t=this;this.setState(function(n){return{column:e,direction:e===n.column?t.reverseDirection:"asc"}},function(){return t.props.onSort(t.state)})}},{key:"renderChildren",value:function(){var e=this;return E.Children.map(this.props.children,function(t,n){return(r=t)&&"headerCell"===r.type.role?Object(E.cloneElement)(t,{onClick:function(){return e.handleSort(t.props.name)},clickable:!0,sort:e.state.column===t.props.name?e.state.direction:void 0}):t;var r})}},{key:"render",value:function(){var e=this.props,t=(e.onSort,e.sortBy,e.direction,G()(e,["onSort","sortBy","direction"]));return w.a.createElement(bt,H()({},t,{children:this.renderChildren()}))}},{key:"reverseDirection",get:function(){return wt[this.state.direction]}}]),t}(E.Component);i()(St,"defaultProps",{direction:"asc",onSort:function(){}});var kt=St,Ct=function(e){var t=e.children,n=e.className,r=void 0===n?"":n;return w.a.createElement("div",{className:"Table-footer ".concat(r)},t)},Nt=function(e){return function(t){"Enter"===t.key&&e()}},Ot=function(e){var n=e.selected,r=e.className,a=e.link,o=e.onClick,s=e.pageNumber,c=V()("Pagination-pageLink",i()({"Pagination-pageLink--selected":n},r,!0));return w.a.createElement("li",{className:c},w.a.createElement("a",{tabIndex:"0",href:a,role:"button",onClick:o,onKeyPress:Nt(o),"aria-label":"".concat(t("pagination.page")," ").concat(s)},s))},xt=function(e){var t=e.disabled,n=e.onClick,r=e.children,a=e.href,i=e.ariaLabel,o=V()("Pagination-navButton",{"Pagination-navButton--disabled":t});return w.a.createElement("li",{className:o},w.a.createElement("a",{tabIndex:"0",role:"button",href:a,onKeyPress:n?Nt(n):null,onClick:n||null,"aria-label":i},r))},Tt=function(e){function n(e){var t;return l()(this,n),(t=f()(this,m()(n).call(this,e))).handleNext=t.handleNext.bind(v()(t)),t.handlePrev=t.handlePrev.bind(v()(t)),t.previousButtonHref=t.previousButtonHref.bind(v()(t)),t.nextButtonHref=t.nextButtonHref.bind(v()(t)),t}return y()(n,e),d()(n,[{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.scrollTopOnChange,r=t.selected;n&&r!==e.selected&&$(window).scrollTop(0)}},{key:"renderPageLink",value:function(e){var t=this;return w.a.createElement(Ot,{selected:this.props.selected===e,pageNumber:e,onClick:this.props.links?void 0:function(){return t.handleSelected(e)},key:e,link:this.props.links?this.props.links[e]:void 0,className:this.props.hidePagesOnMobile?"u-hideBelowSM":""})}},{key:"renderPageBreak",value:function(e){var t=this.props.hidePagesOnMobile,n="Pagination-pageBreak ".concat(t?"u-hideBelowSM":"");return w.a.createElement("li",{key:e,className:n,children:"..."})}},{key:"renderPages",value:function(){var e=this.props,t=e.margins,n=e.range,r=e.pages,a=e.selected,i=[];if(r<=n)for(var o=1;o<=r;o+=1)i.push(this.renderPageLink(o));else{var s,c=n/2,l=n-c;a>r-n/2?c=n-(l=r-a):a<n/2&&(l=n-(c=a));for(var u=1;u<=r;u+=1)u<=t?(i.push(this.renderPageLink(u)),s=!0):u>r-t?i.push(this.renderPageLink(u)):u>=a-c&&u<=a+l?(i.push(this.renderPageLink(u)),s=!0):s&&(i.push(this.renderPageBreak(u)),s=!1)}return i}},{key:"handleSelected",value:function(e){var t=this.props,n=t.pageSelectCallback;t.selected!==e&&n(e)}},{key:"handleNext",value:function(){this.props.selected>=this.props.pages||this.props.links||this.handleSelected(this.props.selected+1)}},{key:"handlePrev",value:function(){this.props.selected<=1||this.props.links||this.handleSelected(this.props.selected-1)}},{key:"previousButtonHref",value:function(e){var t=this.props,n=t.links,r=t.selected;if(n&&!e)return n[r-1]}},{key:"nextButtonHref",value:function(e){var t=this.props,n=t.links,r=t.selected;if(n&&!e)return n[r+1]}},{key:"render",value:function(){var e=this.props,n=e.pages,r=e.selected,a=e.customClass,i=r<=1,o=r>=n,s=V()("Pagination-list",a);return w.a.createElement("ul",{className:s,"aria-label":t("pagination.controls_group")},w.a.createElement(xt,{href:this.previousButtonHref(i),onClick:this.handlePrev,disabled:i,ariaLabel:t("pagination.previous_page")},t("pagination.prev")),this.renderPages(),w.a.createElement(xt,{href:this.nextButtonHref(o),onClick:this.handleNext,disabled:o,ariaLabel:t("pagination.next_page")},t("pagination.next")))}}]),n}(w.a.Component);Tt.defaultProps={margins:1,range:6,selected:1,hidePagesOnMobile:!0,scrollTopOnChange:!1};var Rt=Tt,Pt=function(e){var n=e.onChange,r=e.value,a=e.options;return w.a.createElement("div",{className:"Table-perPage"},w.a.createElement("label",{htmlFor:"perPage",className:"u-showBelowMD"},t("common.per_page")),w.a.createElement("label",{htmlFor:"perPage",className:"u-hideBelowMD"},t("common.rows_per_page")),w.a.createElement(Q,{className:"ml-8",id:"perPage",value:r,onChange:function(e){return n(parseInt(e.target.value,10))}},a.map(function(e){return w.a.createElement("option",{key:e,value:e,children:e})})))};Pt.defaultProps={options:[10,25,50,100]};var It=Pt,At=function(e){var t=e.className,n=e.onPageChange,r=e.onPerPageChange,a=e.page,i=e.pageCount,o=e.perPage,s=e.perPageOptions,c=e.scrollTopOnChange;return w.a.createElement("div",{className:V()("Table-pagination",t)},i>1&&w.a.createElement(Rt,{pages:i,pageSelectCallback:n,selected:a,scrollTopOnChange:c}),!Object(me.isUndefined)(o)&&w.a.createElement(It,{onChange:r,options:s,value:o}))};At.defaultProps={onPageChange:me.identity,onPagePerChange:me.identity};var Mt=At,Dt=function(e){var t=e.children,n=e.selected;return w.a.createElement("div",{className:"Table-row ".concat(n?"Table-row--selected":"")},t)},jt=function(e){var t=V()("Table",e.className,{"Table--alternate":e.alternate,"Table--hover":e.hover,"Table--noBorderTop":e.noBorderTop,"Table--roundedBottom":e.roundedBottom});return w.a.createElement("div",{className:t},e.children)},Lt=Object.assign(jt,{Body:Object.assign(ht,{Cell:vt}),BodyCell:vt,Footer:Ct,Header:Object.assign(bt,{Cell:_t,Sortable:kt}),HeaderCell:_t,Pagination:Mt,PerPage:It,Row:Dt}),Ft=r(110),Bt=function(e){function t(){return l()(this,t),f()(this,m()(t).apply(this,arguments))}return y()(t,e),d()(t,[{key:"componentDidMount",value:function(){this.props.autoPosition&&(this.timeoutId=window.setTimeout(this.positionPopover.bind(this),0))}},{key:"componentWillUnmount",value:function(){window.clearTimeout(this.timeoutId)}},{key:"positionPopover",value:function(){if(this.arrow&&this.popover){var e=this.popover.container.getBoundingClientRect(),t=e.height,n=e.top;t>window.innerHeight-n-10&&(this.popover.container.style.top="".concat(-t-10,"px"),this.arrow.style.bottom="".concat(0,"px"),this.arrow.style.top="initial",this.arrow.style.border="0",this.arrow.style.borderBottom="1px solid rgba(222, 221, 221, .7)",this.arrow.style.borderRight="1px solid rgba(222, 221, 221, .7)")}}},{key:"render",value:function(){var e=this,t=this.props,n=t.dismissable,r=t.dismissCallback,a=V()(i()({NewPopover:!this.props.customClass,"NewPopover--right":"right"===this.props.position},this.props.styleName,!!this.props.styleName)),o=n?Ft.a:"div";return w.a.createElement(o,H()({className:a,ref:function(t){e.popover=t}},n&&{dismissCallback:r}),w.a.createElement("div",{className:"NewPopover-content"},this.props.children),w.a.createElement("div",{className:"NewPopover-arrow",ref:function(t){e.arrow=t}}))}}]),t}(w.a.Component);i()(Bt,"defaultProps",{position:"left",autoPosition:!1,dismissable:!0});var Ut=Bt,Ht=function(e){var n=e.status,r=e.changeAttendanceStatus,a=e.removeAttendance,i=e.hide;return w.a.createElement(Ut,{dismissCallback:i,position:"right",styleName:"AttendanceRow--Popover"},("will_attend"===n||"awaiting_reply"===n)&&w.a.createElement("button",{type:"button",onClick:function(){return r("will_not_attend")},className:"u-resetBtn AttendanceRow--PopoverButton"},t("in_person_training.event_overview.attendance.move_will_not_attend")),("will_not_attend"===n||"awaiting_reply"===n)&&w.a.createElement("button",{type:"button",onClick:function(){return r("will_attend")},className:"u-resetBtn AttendanceRow--PopoverButton"},t("in_person_training.event_overview.attendance.move_will_attend")),"did_attend"===n&&w.a.createElement("button",{type:"button",onClick:function(){return r("did_not_attend")},className:"u-resetBtn AttendanceRow--PopoverButton"},t("in_person_training.event_overview.attendance.move_did_not_attend")),"did_not_attend"===n&&w.a.createElement("button",{type:"button",onClick:function(){return r("did_attend")},className:"u-resetBtn AttendanceRow--PopoverButton"},t("in_person_training.event_overview.attendance.move_did_attend")),w.a.createElement("button",{type:"button",onClick:function(){return a()},className:"u-resetBtn AttendanceRow--PopoverButton"},t("in_person_training.event_overview.attendance.remove_guest")))},qt=function(e){function t(){var e,n;l()(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return n=f()(this,(e=m()(t)).call.apply(e,[this].concat(a))),i()(v()(n),"state",{popoverOpen:!1}),i()(v()(n),"togglePopover",function(){var e=n.state.popoverOpen;n.setState({popoverOpen:!e})}),i()(v()(n),"changeAttendanceStatus",function(e){var t=n.props,r=t.event,a=t.attendance,i=t.updateAttendance,o=N.k.IN_PERSON_TRAINING.UPDATE_EVENT_ATTENDANCES(r.id,a.id);C.a.put(o,{status:e}).then(function(e){var t=e.attendance;e.success&&(i(t),n.togglePopover())})}),i()(v()(n),"removeAttendance",function(){var e=n.props,t=e.attendance,r=e.updateAttendance,a=N.k.IN_PERSON_TRAINING.SESSION_ATTENDANCE(t.session_id||t.session.id,t.id);C.a.delete(a).then(function(e){e.success&&r()})}),n}return y()(t,e),d()(t,[{key:"render",value:function(){var e=this.state.popoverOpen,t=this.props,n=t.attendance,r=n.status,a=n.user,i=t.showAttendanceDropdown;return w.a.createElement(Lt.Row,{className:"AttendanceRow"},w.a.createElement(Lt.Body.Cell,{size:"xl",contentClassName:"d-f jc-sb fd-r"},w.a.createElement("span",null,a.name),w.a.createElement("div",{className:"d-f jc-c ai-c"},w.a.createElement("div",{className:"fw-b"},ut(r)),i&&w.a.createElement("div",{className:"ml-16 pos-r"},w.a.createElement("button",{type:"button",onClick:this.togglePopover,className:"u-resetBtn AttendanceRowActions"},w.a.createElement(z.a,{name:"ellipsis-v"})),e&&w.a.createElement(Ht,{removeAttendance:this.removeAttendance,changeAttendanceStatus:this.changeAttendanceStatus,status:r,hide:this.togglePopover})))))}}]),t}(E.Component),Gt=Object(le.b)(function(e){return{event:e.event,showAttendanceDropdown:!e.event.is_archived}})(qt),Wt={onPageChange:function(e){return et({page:e})},onPerPageChange:function(e){return et({perPage:e})},updateAttendees:function(){return function(e,t){var n=t().attendees,r=n.filters;1===n.attendances.statusCounts[r.status]?e(et({status:null})):e(Je())}}},Vt=Object(le.b)(function(e){var t=e.attendees;return{attendances:t.attendances,filters:t.filters,loading:t.loading}},Wt)(function(e){var t=e.attendances,n=e.filters,r=e.loading,a=e.onPageChange,i=e.onPerPageChange,o=e.updateAttendees;return w.a.createElement(Lt,{alternate:!0},w.a.createElement(ft.a,{loading:r},t.data.map(function(e){return w.a.createElement(Gt,{updateAttendance:o,key:e.user.id,attendance:e})})),w.a.createElement(Lt.Pagination,{className:"p-16 bt-gray-lighter",onPageChange:a,onPerPageChange:i,page:n.page,pageCount:t.totalPages,perPage:n.perPage}))}),zt=function(e){var n=e.filter,r=e.onClick,a=e.currentTotal;if(0===a)return null;var i=n.searchCount>a,o=Math.min(n.perPage,n.searchCount-a);return i&&w.a.createElement("button",{type:"button",className:"u-linkBtn w-fill p-16 bt-gray-lighter",onClick:r},w.a.createElement(z.a,{name:"add",customClass:"mr-4"}),t("in_person_training.event_overview.attendance.show_more_button",{count:o}))},Yt=function(e){var n=e.unregistered,r=e.query,a=e.onShowMore,i=e.loading,o=e.addGuest,s=e.attendanceErrors;return w.a.createElement("div",{className:"AttendanceTableSection"},w.a.createElement("h4",{className:"AttendanceTableSection-header mt-16"},t("in_person_training.event_overview.attendance.everyone_else_title",{count:n.searchCount})),!n.data.length&&w.a.createElement("div",{className:"AttendanceTableSection-placeholder"},i?t("common.loading"):t("in_person_training.event_overview.attendance.no_results_for_query",{query:r})),!!n.data.length&&w.a.createElement(Lt,{alternate:!0},n.data.map(function(e){return w.a.createElement(Lt.Row,{key:e.id},w.a.createElement(Lt.Body.Cell,{size:"xl",contentClassName:"d-f jc-sb fd-r ai-c fw-w"},w.a.createElement("span",null,e.name),w.a.createElement(k.c,{small:!0,onClick:function(){return o(e.id)}},t("in_person_training.event_overview.attendance.add_to_guest_list")),s[e.id]&&s[e.id].length>0&&w.a.createElement("div",{className:"w-fill ErrorContainer ErrorContainer--brandRed mt-8"},t("in_person_training.event_overview.attendance.error_please_refresh"))))}),w.a.createElement(zt,{onClick:a,filter:Object(me.omit)("data",n),currentTotal:n.data.length})))},Qt=function(e){var n=e.attendances,r=e.query,a=e.onShowMore,i=e.loading,o=e.updateAttendance;return w.a.createElement("div",{className:"AttendanceTableSection"},w.a.createElement("h4",{className:"AttendanceTableSection-header"},t("in_person_training.event_overview.attendance.matching_guests_title",{count:n.searchCount})),!n.data.length&&w.a.createElement("div",{className:"AttendanceTableSection-placeholder"},i?t("common.loading"):t("in_person_training.event_overview.attendance.no_results_for_query",{query:r})),!!n.data.length&&w.a.createElement(Lt,{alternate:!0},n.data.map(function(e){return w.a.createElement(Gt,{updateAttendance:o,key:e.user.id,attendance:e})})),w.a.createElement(zt,{filter:Object(me.omit)("data",n),currentTotal:n.data.length,onClick:a}))},Kt=function(e){return I()(e,P.ISO_8601).isBefore(Object(P.now)())},Xt={page:1,totalPages:0,perPage:10,searchCount:0},$t=function(e){function t(){var e,n;l()(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return n=f()(this,(e=m()(t)).call.apply(e,[this].concat(a))),i()(v()(n),"state",{loading:!0,attendances:R()({data:[]},Xt),unregistered:R()({data:[]},Xt),attendanceErrors:{}}),i()(v()(n),"updateAttendance",function(){var e=n.props.query,t=n.getRouteForResource("attendances",R()({query:e},Xt,{page:n.state.attendances.page}));C.a.get(t).then(function(e){n.mounted&&n.setState({loading:!1,attendances:R()({},Object(me.pick)(["page","searchCount","totalPages","perPage"],e),{data:e.data})})})}),i()(v()(n),"addGuestAttendance",function(e){var t=n.props.event;if(0!==t.number_of_sessions){var r=t.next_session||t.last_session;C.a.postJSON(N.k.IN_PERSON_TRAINING.SESSION_ATTENDANCES(r.id),{type:"User",id:e,status:Kt(r.start_time)?"did_attend":null}).then(function(t){0===t.errors.length?n.setState(function(n){return{attendances:R()({},n.attendances,{searchCount:n.attendances.searchCount+1,data:n.attendances.data.concat(t.created_attendances)}),unregistered:R()({},n.unregistered,{data:Object(me.reject)({id:e},n.unregistered.data)}),attendanceErrors:{}}}):n.setState(function(n){return{attendanceErrors:R()({},n.attendanceErrors,i()({},e,t.errors))}})})}}),n}return y()(t,e),d()(t,[{key:"componentDidMount",value:function(){this.mounted=!0,this.getSearchResults()}},{key:"componentDidUpdate",value:function(e){e.query!==this.props.query&&this.getSearchResults()}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"getRouteForResource",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.props.event;return Ve({attendances:N.k.IN_PERSON_TRAINING.EVENT_ATTENDANCES(n.id),unregistered:N.k.IN_PERSON_TRAINING.EVENT_UNREGISTERED(n.id)}[e],t)}},{key:"getSearchResults",value:function(){var e=this,t=this.props,n=t.event,r=t.query;this.setState({loading:!0});var a=R()({query:r},Xt),i=this.getRouteForResource("attendances",a),o=this.getRouteForResource("unregistered",a);return Promise.all([C.a.get(i),n.is_archived?Promise.resolve():C.a.get(o)]).then(function(t){var n=Ye()(t,2),r=n[0],a=n[1];e.mounted&&e.setState({unregistered:a,attendances:r,loading:!1})})}},{key:"getNextPage",value:function(e){var t=this,n=this.props.query,r=this.getRouteForResource(e,R()({query:n},Xt,{page:this.state[e].page+1}));C.a.get(r).then(function(n){t.mounted&&t.setState(function(t){return i()({loading:!1},e,R()({},Object(me.pick)(["page","searchCount","totalPages","perPage"],n),{data:t[e].data.concat(n.data)}))})})}},{key:"render",value:function(){var e=this,t=this.state,n=t.loading,r=t.unregistered,a=t.attendances,i=t.attendanceErrors,o=!this.props.event.is_archived&&a.searchCount<Xt.perPage;return w.a.createElement(ft.a,{loading:n},w.a.createElement(Qt,{attendances:a,query:this.props.query,onShowMore:function(){return e.getNextPage("attendances")},loading:n,updateAttendance:this.updateAttendance}),o&&w.a.createElement(Yt,{unregistered:r,query:this.props.query,onShowMore:function(){return e.getNextPage("unregistered")},loading:n,addGuest:this.addGuestAttendance,attendanceErrors:i,showAddButton:!this.props.event.is_archived}))}}]),t}(E.Component),Zt=Object(le.b)(function(e){return{event:e.event}})($t),Jt=function(e){function n(){var e,t;l()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return t=f()(this,(e=m()(n)).call.apply(e,[this].concat(a))),i()(v()(t),"state",{query:""}),i()(v()(t),"hasMultipleStatuses",function(){return Object.values(t.props.statusCounts).reduce(function(e,t){return t>0?e+1:e},0)>1}),i()(v()(t),"handleSearch",function(e){t.setState({query:e})}),t}return y()(n,e),d()(n,[{key:"componentDidMount",value:function(){this.props.requestAttendees()}},{key:"componentDidUpdate",value:function(e,t){var n=t.query.trim(),r=this.state.query.trim();n!==r&&""===r&&this.props.requestAttendees()}},{key:"shouldComponentUpdate",value:function(e){return!e.loading}},{key:"render",value:function(){var e=this.props,n=e.totalAttendees,r=e.event,a=e.isArchived,i=!!this.state.query.trim(),o=0!==n;return w.a.createElement(k.f,{className:"AttendanceTable Animated Animated--fadeIn"},w.a.createElement(k.f.Content,{padding:"large"},w.a.createElement("h4",{className:"ff-ss fw-b fz-bigger mb-16"},t("in_person_training.event_overview.attendances.guests")),w.a.createElement(lt,{onSubmit:this.handleSearch,query:this.state.query}),!i&&this.hasMultipleStatuses()&&w.a.createElement(pt,null)),!i&&o&&w.a.createElement(Vt,null),i&&w.a.createElement(Zt,{query:this.state.query}),!a&&!i&&!o&&r.next_session&&w.a.createElement("div",{className:"fz-bigger c-brand-gray-dark px-24 fs-i pb-24"},t("in_person_training.event_overview.attendance.no_attendees.invite_text")," ",w.a.createElement("a",{href:N.k.IN_PERSON_TRAINING.SESSION_INVITATIONS(r.id,r.next_session.id),className:"td-u"},t("in_person_training.event_overview.attendance.no_attendees.invite_text_link"))))}}]),n}(E.Component),en={requestAttendees:Je},tn=Object(le.b)(function(e){return{event:e.event,totalAttendees:e.attendees.attendances.totalAttendees,statusCounts:e.attendees.attendances.statusCounts,loading:e.attendees.loading,isArchived:e.event.is_archived}},en)(Jt),nn=r(63),rn=function(e){return document.querySelector(e).getBoundingClientRect()},an=function(e){function t(e){var n;return l()(this,t),(n=f()(this,m()(t).call(this,e))).state={sticky:!1},n.ticking=!1,n.scrollY=0,n.navbarHeight=rn("nav.navbar").height,n.handleScroll=n.handleScroll.bind(v()(n)),n.toggleStickBar=n.toggleStickBar.bind(v()(n)),n}return y()(t,e),d()(t,[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.handleScroll,!1)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.handleScroll,!1)}},{key:"toggleStickBar",value:function(e){var t=0,n=document.querySelector(".NotificationContainer");n&&(t=n.getBoundingClientRect().height),this.setState({sticky:e>=this.navbarHeight+t})}},{key:"handleScroll",value:function(){var e=this;this.props.disable||(this.scrollY=window.scrollY||window.pageYOffset,this.ticking||requestAnimationFrame(function(){e.toggleStickBar(e.scrollY),e.ticking=!1}),this.ticking=!0)}},{key:"render",value:function(){var e=this.props.children,t=V()(i()({sticky:this.state.sticky},this.props.className,!!this.props.className));return w.a.createElement("div",{className:t,children:e})}}]),t}(w.a.Component),on=r(33),sn=function(e){return I()(e).format(L.LONG_AT_TIME)},cn=Object(le.b)(function(e){return{event:e.event}})(function(e){var n=e.event;return w.a.createElement(on.b,null,w.a.createElement("div",null,w.a.createElement(on.a,null,t("in_person_training.event_overview.created")),w.a.createElement("div",{className:"c-gray mb-4"},sn(n.created_at.date)),w.a.createElement("div",{className:"c-gray"},t("conjunctions.by")," ",n.created_at.user)),n.last_updated_at.date&&w.a.createElement("div",{className:"mt-16"},w.a.createElement(on.a,null,t("common.last_updated")),w.a.createElement("span",{className:"c-gray mb-4"},sn(n.last_updated_at.date)),w.a.createElement("div",{className:"c-gray"},t("conjunctions.by")," ",n.last_updated_at.user)))}),ln=Object(le.b)(function(e){return{event:e.event,session:e.event.next_session?e.event.next_session:null}})(function(e){var n=e.session,r=e.event;return n&&w.a.createElement(k.c,{icon:"envelope",url:N.k.IN_PERSON_TRAINING.SESSION_INVITATIONS(r.id,n.id),className:"mr-8",small:!0,fullWidth:!0},t("in_person_training.invite_users.invite"))}),un=r(28);var dn=function(e){var t=e.children,n=e.method,r=e.url,a=e.formMethod,i=G()(e,["children","method","url","formMethod"]),o=Object(E.useMemo)(function(){var e=document.querySelector("meta[name=csrf-param]"),t=document.querySelector("meta[name=csrf-token]");return e&&t?{param:e.content,token:t.content}:null},[]);return w.a.createElement("form",H()({method:a,action:r},i),o&&w.a.createElement(w.a.Fragment,null,w.a.createElement("input",{hidden:!0,readOnly:!0,name:"_method",value:n}),w.a.createElement("input",{hidden:!0,readOnly:!0,name:o.param,value:o.token})),t)};dn.defaultProps={method:"put",formMethod:"post"};var pn=dn,fn=function(e){var t=e.name,n=e.onChange,r=e.disabled,a=e.selectedValue,i=e.children,o=e.className,s=e.readOnly;return w.a.createElement("fieldset",{className:V()("RadioFieldGroup",o),disabled:r},E.Children.map(i,function(e){return Object(E.cloneElement)(e,{name:t,checked:e.props.value===a,onChange:n,readOnly:s})}))},hn=function(e){var t=e.children,n=e.className,r=G()(e,["children","className"]),a="".concat(r.name,"-").concat(r.value);return w.a.createElement("label",{htmlFor:a,className:V()("InputField-label",n)},w.a.createElement("input",H()({},r,{id:a,className:"InputField-input"})),w.a.createElement("span",{className:"InputField-labelText"},t))},mn=function(e){var t=e.children,n=G()(e,["children"]);return w.a.createElement("div",{className:"RadioField"},w.a.createElement(hn,H()({type:"radio"},n),t))},gn=Object(le.b)(function(e){return{event:e.event}})(function(e){var n=e.event,r=e.onDismiss,a=Object(E.useState)(!0),i=Ye()(a,2),o=i[0],s=i[1],c=Object(E.useState)(!1),l=Ye()(c,2),u=l[0],d=l[1],p=Object(E.useCallback)(function(e){return s(JSON.parse(e.target.value))},[]);return w.a.createElement(un.c,{onDismiss:u?null:r},w.a.createElement(pn,{url:N.k.IN_PERSON_TRAINING.ARCHIVE_EVENT(n.id),onSubmit:function(){return d(!0)}},w.a.createElement("h2",{className:"ff-ss mb-16"},t("in_person_training.event_overview.confirmations.archive.title")),!!n.next_session&&w.a.createElement(fn,{selectedValue:o,className:"mb-16",name:"send_cancellation_email",onChange:p},w.a.createElement(mn,{className:"p-4-8",value:!0},t("in_person_training.event_overview.confirmations.archive.send_email")),w.a.createElement(mn,{className:"p-4-8",value:!1},t("in_person_training.event_overview.confirmations.archive.do_not_send_email"))),w.a.createElement(k.d,{alignEnd:!0},w.a.createElement(Ce,{disabled:u,type:"primary",className:"mr-8",onClick:r},t("common.cancel")),w.a.createElement(k.c,{loading:u,submit:!0,primary:!0},t("common.archive")))))}),vn=function(e){return!e},bn=Object(le.b)(function(e){return{event:e.event}})(function(e){e.event,e.features;var n=Object(E.useReducer)(vn,!1),r=Ye()(n,2),a=r[0],i=r[1];return w.a.createElement(w.a.Fragment,null,a&&w.a.createElement(gn,{onDismiss:i}),w.a.createElement(k.c,{icon:"archive",small:!0,fullWidth:!0,onClick:i},t("common.archive")))}),yn=Object(le.b)(function(e){return{event:e.event}})(function(e){var n=e.event;return w.a.createElement(k.c,{fullWidth:!0,small:!0,"data-confirm":t("in_person_training.event_overview.confirmations.restore"),"data-method":"put",icon:"restore",url:N.k.IN_PERSON_TRAINING.RESTORE_EVENT(n.id)},t("common.restore"))}),En="id";var _n=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:En,n=(arguments.length>2?arguments[2]:void 0)||Object(me.last)(t.split("."));return function(r){var a=Object(me.map)(t,e);return Object(me.reject)(function(e){return a.includes(e[n])},r)}},wn=r(201),Sn=function(e,t){var n=Object(E.useState)(void 0),r=Ye()(n,2),a=r[0],i=r[1],o=Object(E.useState)(!0),s=Ye()(o,2),c=s[0],l=s[1];return Object(E.useEffect)(function(){C.a.get(e).then(function(e){t?t(e):i(e),l(!1)})},[e,t]),{data:a,loading:c}};var kn=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=Object(E.useReducer)(function(e){return!e},e),n=Ye()(t,2);return[n[0],n[1]]};var Cn=function(e){var t=e.tooltip,n=G()(e,["tooltip"]);return w.a.createElement("span",{className:V()("fz-base c-brand-gray-light h-c-gray-darker d-fi ai-c",i()({},n.className,n.className))},w.a.createElement("button",{type:"button",className:"u-resetBtn","data-toggle":"tooltip","data-original-title":t},w.a.createElement(z.a,{name:"info"})))},Nn=r(148),On=r.n(Nn),xn=function(e){function t(e){var n;return l()(this,t),n=f()(this,m()(t).call(this,e)),i()(v()(n),"onInputChange",function(e,t){var r=t.newValue;n.setState({query:r})}),i()(v()(n),"onSuggestionFetchRequested",function(e){var t=e.value;C.a.get(n.props.url,i()({},n.props.queryParam,t)).then(function(e){var t=n.props.mapResponseToSuggestions(e),r=n.props.filterSuggestions(t);n.setState({suggestions:r})})}),i()(v()(n),"onSuggestionsClearRequested",function(){n.setState({suggestions:[]})}),i()(v()(n),"onSuggestionSelected",function(e,t){var r=t.suggestion;n.props.onSuggestionSelected(r),n.setState({query:""})}),n.state={suggestions:[],query:""},n.onDebouncedFetchRequested=Object(me.debounce)(e.wait)(n.onSuggestionFetchRequested),n}return y()(t,e),d()(t,[{key:"render",value:function(){return w.a.createElement("div",{className:"".concat(this.props.icon?"NewInput-wrapper--withIcon":"")},w.a.createElement(On.a,{suggestions:this.state.suggestions,renderSuggestion:this.props.renderSuggestion,getSuggestionValue:this.props.getSuggestionValue,onSuggestionsClearRequested:this.onSuggestionsClearRequested,onSuggestionSelected:this.onSuggestionSelected,onSuggestionsFetchRequested:this.onDebouncedFetchRequested,className:"w-fill",inputProps:R()({placeholder:this.props.placeholder,onChange:this.onInputChange,value:this.state.query,disabled:this.props.disabled},this.props.className&&{className:this.props.className})}),this.props.icon&&this.state.query.length<1&&w.a.createElement(z.a,{name:this.props.icon}))}}]),t}(E.PureComponent);i()(xn,"defaultProps",{wait:250,queryParam:"query",mapResponseToSuggestions:me.identity,onSuggestionSelected:me.identity,filterSuggestions:me.identity,getSuggestionValue:function(e){return e.name},renderSuggestion:function(e){return e.name}});var Tn=xn,Rn=function(e){var t=e.onDone,n=e.children;return w.a.createElement("div",null,n,w.a.createElement("div",{className:"d-f jc-e ai-c mt-16"},w.a.createElement("button",{type:"button",className:"ml-16 NewButton NewButton--blue NewButton--wide NewButton--center",onClick:t,children:"Done"})))},Pn=function(e){var t=e.libraryContents,n=e.children;return w.a.createElement("div",null,t.map(n))},In=function(e){var t=e.name,n=e.editable,r=e.onRemove,a=e.removeTooltip;return w.a.createElement("div",{className:"fz-base c-brand-gray-darker mb-4 p-4 ai-c d-f jc-sb bdrs-base h-bc-gray-lightest"},w.a.createElement("div",null,t),n&&w.a.createElement("div",null,w.a.createElement("button",{type:"button",className:"u-resetBtn c-brand-gray h-c-gray-darker",onClick:r,"data-toggle":"tooltip","data-original-title":a},w.a.createElement(z.a,{name:"delete"}))))};In.defaultProps={editable:!1};var An=In,Mn=function(e){var t=e.libraryContents,n=e.onCreateContent,r=e.onRemoveContent,a=e.removeTooltip,i=e.suggestionsProps,o=e.toggleEditing;return w.a.createElement(Rn,{onDone:o},w.a.createElement(Tn,H()({placeholder:"Add a Group by Name",className:"NewInput NewInput--light NewInput--fw mb-16 mt-8",onSuggestionSelected:n},i)),w.a.createElement(Pn,{libraryContents:t},function(e){return w.a.createElement(An,{key:e.group.id,name:e.group.name,removeTooltip:a,onRemove:function(){return r(e)},editable:!0})}))},Dn=function(e){var t=e.libraryContents;return w.a.createElement(Pn,{libraryContents:t},function(e){return w.a.createElement(An,{key:e.group.id,name:e.group.name})})},jn=function(e){var t=e.toggleEditing,n=e.libraryContents,r=e.emptyStateActionText;return Object(me.isEmpty)(n)?w.a.createElement("button",{type:"button",className:"u-linkBtn fz-base fw-n td-n",onClick:t},w.a.createElement(z.a,{name:"add"})," ",r):w.a.createElement(Dn,{libraryContents:n})},Ln=function(e){return Object(E.createElement)(e.editing?Mn:jn,e)},Fn="Not available in the Learning Library",Bn="Available in the Learning Library",Un=function(e){var t=e.children,n=G()(e,["children"]),r="".concat(n.name,".").concat(n.value);return w.a.createElement("label",{htmlFor:r,className:"d-f"},w.a.createElement("input",H()({},n,{id:r,type:"radio",className:"f-sh-0"})),w.a.createElement("span",{className:"ml-8"},t))},Hn=function(e){var t=e.toggleEditing,n=e.availableToEveryone,r=e.setLibraryVisibility,a=function(e){var t=JSON.parse(e.target.value);t!==n&&r(t)},i=function(e){return w.a.createElement(Un,H()({},e,{name:"addedToLibrary",onChange:a,checked:n===e.value}))};return w.a.createElement(Rn,{onDone:t},w.a.createElement(i,{value:!1},Fn),w.a.createElement(i,{value:!0},Bn))},qn=function(e){return w.a.createElement("span",{className:"c-brand-gray-darker"},e.availableToEveryone?Bn:Fn)},Gn=function(e){return Object(E.createElement)(e.editing?Hn:qn,e)},Wn=function(e){var t=e.advanced,n=G()(e,["advanced"]);return Object(E.createElement)(t?Ln:Gn,n)};Wn.defaultProps={advanced:!1};var Vn=Wn;var zn=Object(le.b)(function(e){return{initialVisibilityGroups:e.event.visibility_groups,event:e.event}},{})(function(e){var n=e.event,r=e.initialVisibilityGroups,a=kn(),i=Ye()(a,2),o=i[0],s=i[1],c=function(e){var t=e.eventId,n=e.initialState,r=Object(E.useState)(n),a=Ye()(r,2),i=a[0],o=a[1],s=Object(E.useCallback)(function(e){C.a.post(N.k.IN_PERSON_TRAINING.EVENT_VISIBILITY_GROUPS(t),{group_id:e.id}).then(function(e){o(function(t){return[].concat(Z()(t),[e])})})},[t]);return{data:i,remove:Object(E.useCallback)(function(e){C.a.delete(N.k.IN_PERSON_TRAINING.EVENT_VISIBILITY_GROUP(t,e.id)).then(function(){o(Object(me.reject)({id:e.id}))})},[t]),create:s}}({eventId:n.id,initialState:r});return w.a.createElement(on.b,null,w.a.createElement(on.a,{className:"d-f jc-sb"},w.a.createElement("span",null,w.a.createElement("span",{className:"mr-4"},t("in_person_training.event_overview.open_registration.title")),w.a.createElement(Cn,{tooltip:t("in_person_training.event_overview.open_registration.tooltip")})),!o&&!Object(me.isEmpty)(c.data)&&w.a.createElement("button",{type:"button",className:"u-linkBtn fz-base fw-n",onClick:s},w.a.createElement(z.a,{name:"edit",customClass:"mr-4"}),t("common.edit"))),w.a.createElement(Vn,{advanced:!0,editing:o,onCreateContent:c.create,onRemoveContent:c.remove,toggleEditing:s,libraryContents:c.data,emptyStateActionText:t("in_person_training.event_overview.open_registration.make_event_visible"),removeTooltip:t("in_person_training.event_overview.open_registration.remove_group_visibility"),suggestionsProps:{url:"".concat(N.k.IN_PERSON_TRAINING.PEOPLE,"?filter[type][]=Group"),mapResponseToSuggestions:function(e){return e.data},filterSuggestions:_n(c.data,"group.id"),queryParam:"query"}}))}),Yn=Object(le.b)(function(e){return{event:e.event,isArchived:e.event.is_archived}})(function(e){var t=e.isArchived,n=(e.features,e.event);return w.a.createElement(an,{className:"PathBuilderSidebar"},w.a.createElement(nn.a,{maxHeight:null,hidden:!0},w.a.createElement(on.b,{className:"d-f"},!t&&n.next_session&&w.a.createElement(ln,null),!t&&w.a.createElement(bn,null),t&&w.a.createElement(yn,null)),w.a.createElement(cn,null),w.a.createElement(zn,null)))}),Qn=r(41),Kn=r.n(Qn),Xn=r(69),$n=r.n(Xn),Zn={sendUpdateEmail:function(){return function(e,t){var n=t().eventChangeManagement.updateEmail,r=n.resource,a=n.changedAttributes;return new Promise(function(t,n){C.a.postJSON(N.k.IN_PERSON_TRAINING.UPDATE_EMAIL,{id:r.id,type:r.type,changed_attributes:a}).then(function(){e(Oe()),t()}).fail(n)})}},onDismiss:Oe},Jn=Object(le.b)(null,Zn)(function(e){var n=e.sendUpdateEmail,r=e.onDismiss,a=w.a.useState(!1),i=Ye()(a,2),o=i[0],s=i[1],c=w.a.useState(!1),l=Ye()(c,2),u=l[0],d=l[1],p=w.a.useCallback($n()(Kn.a.mark(function e(){return Kn.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),d(!1),e.prev=2,e.next=5,n();case 5:e.next=11;break;case 7:e.prev=7,e.t0=e.catch(2),s(!1),d(!0);case 11:case"end":return e.stop()}},e,null,[[2,7]])})));return w.a.createElement(un.c,{onDismiss:r},u&&w.a.createElement("div",{className:"ErrorContainer Animated Animated--fadeIn"},t("in_person_training.errors.submit_error")),w.a.createElement(un.a,null,t("in_person_training.event_overview.update_email_confirmation")),w.a.createElement(k.d,{alignEnd:!0},w.a.createElement(Ce,{type:"primary",className:"mr-8",disabled:o,onClick:r},t("common.do_not_send")),w.a.createElement(k.c,{primary:!0,loading:o,onClick:p},t("common.send"))))}),er={updateSession:tt,onDismiss:xe},tr=Object(le.b)(function(e){return{sessionChanges:e.eventChangeManagement.trainerChange.session}},er)(function(e){var n=e.updateSession,r=e.onDismiss,a=e.sessionChanges,i=Object(E.useState)(!1),o=Ye()(i,2),s=o[0],c=o[1],l=kn(!1),u=Ye()(l,2),d=u[0],p=u[1],f=Object(E.useCallback)(function(){c(!0),n(a,{trainer_change_confirmed:!0,send_update_to_participants:d})});return w.a.createElement(un.c,{onDismiss:s?function(){}:r},w.a.createElement(un.a,null,t("in_person_training.event_overview.trainer_change_confirmation.heading")),w.a.createElement("div",{dangerouslySetInnerHTML:{__html:t("in_person_training.event_overview.trainer_change_confirmation.body")}}),w.a.createElement("label",{className:"mt-8",htmlFor:"send_update_to_participants"},w.a.createElement("input",{type:"checkbox",id:"send_update_to_participants",checked:d,onChange:p}),w.a.createElement("span",{className:"ml-8"},t("in_person_training.event_overview.trainer_change_confirmation.notify_attendants"))),w.a.createElement(k.d,{alignEnd:!0},w.a.createElement(Ce,{type:"primary",className:"mr-8",disabled:s,onClick:r},t("common.cancel")),w.a.createElement(k.c,{primary:!0,loading:s,onClick:f},t("in_person_training.event_overview.trainer_change_confirmation.change_instructor"))))}),nr=Object(le.b)(function(e){return{updateEmailConfirmationVisible:e.eventChangeManagement.updateEmail.confirmationVisible,trainerChangeConfirmationVisible:e.eventChangeManagement.trainerChange.confirmationVisible}})(function(e){var t=e.updateEmailConfirmationVisible,n=e.trainerChangeConfirmationVisible;return w.a.createElement(w.a.Fragment,null,t&&w.a.createElement(Jn,null),n&&w.a.createElement(tr,null))}),rr=function(e){function t(){var e,n,r;l()(this,t);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return n=f()(this,(e=m()(t)).call.apply(e,[this].concat(o))),i()(v()(n),"store",(r=n.props,fe(r,_e,{name:"EventOverview"}))),n}return y()(t,e),d()(t,[{key:"render",value:function(){return w.a.createElement(le.a,{store:this.store},w.a.createElement("div",{className:"PathBuilder"},w.a.createElement(nr,null),w.a.createElement("div",{className:"PathBuilder-main"},w.a.createElement("div",{className:"PathViewer"},w.a.createElement(Me,null),w.a.createElement(st,null),w.a.createElement(tn,null))),w.a.createElement("div",{className:"PathBuilder-side"},w.a.createElement(Yn,null))))}}]),t}(E.Component),ar=r(202),ir=Object(me.curryRight)(ar.a),or=Object(ue.c)({attendances:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case he.g.ATTENDANCES.CREATE:return[].concat(Z()(t.attendances.map(Object(me.assign)({dateAdded:Date.now()}))),Z()(e));case he.g.ATTENDANCES.REMOVE:return Object(me.reject)({id:t.attendance.id})(e);default:return e}},event:ir({}),meta:ir({}),session:ir({})});var sr=function(e){var t=e.label,n=e.value;return n&&w.a.createElement("div",{className:"EventSession-detail"},w.a.createElement("span",{className:"EventSession-detailLabel"},t),n)},cr=Object(le.b)(function(e){return{event:e.event,session:e.session,i18n:e.meta.i18n}})(function(e){var t=e.event,n=e.session,r=e.i18n,a=I()(n.start_time).format(L.LONG),i=I()(n.start_time,L.fixed.ISO8601_LOCAL).format(L.TIME),o=n.time_zone.formatted;return w.a.createElement("div",{className:"EventSessionOverview-header"},w.a.createElement("a",{className:"c-brand-blue",href:N.k.IN_PERSON_TRAINING.EVENT(t.id)},w.a.createElement(z.a,{name:"back",customClass:"mr-8"}),r.back_to_event_overview),w.a.createElement("h1",{className:"ff-ss mt-32"},t.name),w.a.createElement("div",{className:"mt-16"},a,w.a.createElement("span",{className:"mr-8 ml-8 c-gray-light"},"|"),i," ",o),w.a.createElement("div",null,w.a.createElement(sr,{value:n.location,label:r.common.location}),w.a.createElement(sr,{value:n.trainer.name,label:r.common.instructor})))});var lr=function(e){var t=e.name,n=e.type;return w.a.createElement("span",{className:"fz-20"},n===N.i.GROUP&&w.a.createElement(z.a,{name:"group",customClass:"mr-8"}),t)};function ur(e){var t=e.map(function(e){return e.user.id});return function(e){return e.filter(function(e){var n=e.type,r=e.id;return!(n===N.i.USER&&t.includes(r))})}}var dr={createAttendance:function(e){return function(t,n){return new Promise(function(r){var a=n().session;C.a.postJSON(N.k.IN_PERSON_TRAINING.SESSION_ATTENDANCES(a.id),{id:e.id,type:e.type,status:"did_attend"}).then(function(e){t({type:he.g.ATTENDANCES.CREATE,attendances:e.created_attendances}),r()})})}}},pr=Object(le.b)(function(e){return{i18n:e.meta.i18n,attendances:e.attendances}},dr)(function(e){var t=e.i18n,n=e.attendances,r=e.createAttendance;return w.a.createElement(Tn,{url:N.k.IN_PERSON_TRAINING.PEOPLE,mapResponseToSuggestions:function(e){return e.data},onSuggestionSelected:r,filterSuggestions:ur(n),getSuggestionValue:function(e){return e.name},renderSuggestion:lr,placeholder:t.add_people,className:"NewInput NewInput--white NewInput--tall NewInput--fw fz-20"})}),fr=r(149),hr=r.n(fr),mr=function(e){function t(e){var n;return l()(this,t),(n=f()(this,m()(t).call(this,e))).state={justAdded:Date.now()-n.props.attendance.dateAdded<=hr()("1s")},n}return y()(t,e),d()(t,[{key:"componentDidMount",value:function(){var e=this;this.state.justAdded&&setTimeout(function(){return e.setState({justAdded:!1})},500)}},{key:"render",value:function(){var e=this.props,t=e.onRemove,n=e.attendance;return w.a.createElement(Lt.Row,{selected:this.state.justAdded},w.a.createElement(Lt.BodyCell,{split:!0,className:"fz-bigger"},n.user.name,w.a.createElement(k.c,{square:!0,icon:"delete",onClick:t})))}}]),t}(E.Component),gr=Object(le.b)(null,function(e,t){return{onRemove:function(){return e((n=t.attendance,function(e,t){return new Promise(function(r,a){var i=t().session;C.a.delete(N.k.IN_PERSON_TRAINING.SESSION_ATTENDANCE(i.id,n.id)).then(function(t){e({type:he.g.ATTENDANCES.REMOVE,attendance:n}),r()})})}));var n}}})(mr),vr=Object(le.b)(function(e){return{attendances:e.attendances,i18n:e.meta.i18n}})(function(e){var t=e.attendances,n=e.i18n;return w.a.createElement(Lt,{alternate:!0,className:"mt-16 bdrs-small ov-h"},w.a.createElement(Lt.Header,null,w.a.createElement(Lt.HeaderCell,null,n.common.name)),w.a.createElement("div",{className:"Table-body"},t.map(function(e){return w.a.createElement(gr,{key:e.id,attendance:e})})))}),br=Object(le.b)(function(e){return{i18n:e.meta.i18n,attendances:e.attendances}})(function(e){var t=e.i18n,n=e.attendances;return w.a.createElement("div",{className:"EventSessionOverview-attendees mb-32"},w.a.createElement("h2",{className:"ff-ss mb-16"},t.all_attendees," (",n.length,")"),w.a.createElement(pr,null),!Object(S.isEmpty)(n)&&w.a.createElement(vr,null))}),yr=function(e){function t(e){var n;return l()(this,t),(n=f()(this,m()(t).call(this,e))).store=fe(e,or,{name:"EventSession"}),n}return y()(t,e),d()(t,[{key:"render",value:function(){return w.a.createElement(le.a,{store:this.store},w.a.createElement("div",{className:"EventSessionOverview mt-32"},w.a.createElement(cr,null),w.a.createElement(br,null)))}}]),t}(E.Component),Er=function(e){function t(){return l()(this,t),f()(this,m()(t).apply(this,arguments))}return y()(t,e),d()(t,[{key:"render",value:function(){var e=this.props,t=e.if,n=e.forceClick,r=e.onClick,a=e.linkProps,i=e.children,o=G()(e,["if","forceClick","onClick","linkProps","children"]);return t&&this.props.href?w.a.createElement("a",H()({ref:"content"},o,a),i):w.a.createElement("span",H()({ref:"content"},o,{onClick:n?r:void 0}),i)}}]),t}(w.a.Component);Er.defaultProps={forceClick:!1};var _r=Er,wr=function(e){var t=e.title,n=e.actions,r=e.count,a=e.className,i=void 0===a?"":a;return w.a.createElement("div",{className:"Index-header ".concat(i)},w.a.createElement("h1",{className:"Index-title"},t," ",r&&"(".concat(r,")")),n)},Sr=function(){return{type:he.b.LIST.REMOVE_ALL}},kr=function(e){return{type:he.b.SUBMIT.REQUEST,name:e,lastSubmitted:Date.now()}},Cr=function(){return function(e,t){var n=t(),r=n.data,a=n.bulk;return e({type:he.b.SUBMIT.DONE}),e(Sr()),(!r.lastFetched||r.lastFetched<a.lastSubmitted)&&e(Ur(!0))}},Nr=function(e){var t=e.name,n=e.route,r=e.data;return function(e,a){a().bulk.inProgress||(e(kr(t)),C.a.post(n,r).done(function(){e(function(e){e({type:he.b.SUBMIT.SUCCESS}),setTimeout(function(){e(Cr())},N.l.NOTIFICATION_SUCCESS_DELAY)})}).fail(function(t,n,r){e({type:he.b.SUBMIT.FAILURE})}))}},Or=r(20);function xr(e){var t=e.page,n=e.query,r=e.type,a=e.date,i=e.sort,o=e.perPage,s=e.initialState,c=e.editing,l={};return l.perPage=o,_.isEmpty(n)||(l.query=encodeURIComponent(n)),1!==t&&(l.page=t),_.isEmpty(a)||(l.date={},_.isUndefined(a.start)||_.isNull(a.start)||(l.date.start=a.start),_.isUndefined(a.end)||_.isNull(a.end)||(l.date.end=a.end)),i.column!==s.sort.column&&(l.sort={},l.sort.column=i.column),i.direction!==s.sort.direction&&(l.sort=l.sort||{},l.sort.direction=i.direction),"fresh_content"===r&&(l.sort={},l.sort.column=i.column||"freshness-score",l.sort.direction=i.direction||"asc"),"true"===c&&(l.editing=!0),l}var Tr={date:null,type:"any",creator:null,tags:null,page:1,query:"",sort:{column:"title",direction:"asc"},perPage:10,workspace:"all"},Rr=function(e,t){var n=R()({},e,t),r=n.type,a=n.creator,i=n.tags,o=n.query,s=n.date,c=n.workspace;return n.isActive=["any"===r,"any"===a||Object(S.isNull)(a),"all"===c,Object(S.isEmpty)(i),Object(S.isEmpty)(o),Object(S.isEmpty)(s)].some(function(e){return!e}),n.page=!!t&&t.page||1,t&&Object(S.isEmpty)(t.url)&&t.type&&!t.sort&&(n.sort.column="fresh_content"===t.type?"freshness-score":"title",n.sort.direction="asc"),n.url=Ve(N.k.CONTENT,function(e){var t=e.tags,n=e.creator,r=e.query,a=e.page,i=e.type,o=e.date,s=e.sort,c=e.perPage,l=e.workspace,u=xr({page:a,query:r,type:i,date:o,sort:s,perPage:c,initialState:Tr});return Object(S.isEmpty)(t)||(u.tags=t),"any"===n||Object(S.isNull)(n)||(u.creator=n),"any"!==i&&(u.type=i),"all"!==l&&(u.workspace=l),u}(n)),n},Pr=function(e,t){switch(t.type){case he.f.UPDATE.TAGS:return Rr(e,{tags:t.tags});case he.f.UPDATE.PAGE:return Rr(e,{page:t.page});case he.f.UPDATE.DATE:return Rr(e,{date:t.date});case he.f.UPDATE.CREATOR:return Rr(e,{creator:t.id});case he.f.UPDATE.WORKSPACE:return Rr(e,{workspace:t.id});case he.f.UPDATE.CONTENT_TYPE:return Rr(e,{type:t.contentType});case he.f.UPDATE.QUERY:return Rr(e,{query:t.query});case he.f.UPDATE.PER_PAGE:return Rr(e,{perPage:t.perPage});case he.f.UPDATE.ALL:return Rr(e,t.filter);case he.f.CLEAR:return Rr(e,Object(S.merge)({},Tr,{perPage:e.perPage}));case he.f.SORT:return Rr(e,{sort:{column:t.sortOn,direction:Object(Or.e)({filter:e},t.sortOn)}});default:return Rr(Tr,e)}},Ir={DIRTY:"dirty",SET:"set",UNSET:"unset"},Ar=function(e){return{type:he.d.SET_VIEW_STATE,view:e}},Mr=Object(me.omit)(["perPage","isActive","page","url"]),Dr=function(){var e=localStorage.getItem("defaultContentView.filters");return e?JSON.parse(e):null},jr=function(){return function(e,t){return new Promise(function(n){var r=Dr();e(Yr(r)),t().defaultView!==Ir.SET&&e(Ar(Ir.SET)),n()})}},Lr=function(){return function(e,t){var n=Mr(t().filter),r=Dr();r?Object(me.isEqual)(n,r)?e(Ar(Ir.SET)):e(Ar(Ir.DIRTY)):e(Ar(Ir.UNSET))}},Fr=function(e){e?NProgress.done():NProgress.start(),$("html, body").animate({scrollTop:"0"},300)},Br=null,Ur=function(e){return function(t,n){var r=n(),a=r.filter.url,i=r.data,o=a===i.requestUrl;i.isFetching&&!o&&Br.abort(),o&&!e||(t(function(e,t){Fr(!1);var n=t(),r=n.bulk,a=n.filter;return!r.done||r.success||r.inProgress||e(Cr()),e({type:he.c.REQUEST,requestUrl:a.url})}),Br=C.a.get(a).done(function(e){t(function(e){return function(t,n){return Fr(!0),Object(Or.l)(n())&&t(Sr()),t({type:he.c.SUCCESS,lastFetched:Date.now(),isFetching:!1,success:!0,response:e})}}(e))}).fail(function(e,n,r){"abort"!==r&&t((Fr(!0),{type:he.c.FAILURE}))}))}},Hr=function(e){return function(t,n){return t(e),Object(me.get)("data.meta.currentUser.canSaveFilters",n())&&t(Lr()),t(Ur())}},qr=function(e){return function(t){return t(e)}},Gr=function(){return function(e,t){return e(Ur(!0))}},Wr=function(e){return function(t,n){var r=n().data.meta.groups,a=_.extend(r[e.id],e);return t({type:he.c.GROUPS,meta:{groups:_.extend(r,i()({},e.id,a))}})}},Vr=function(e){return function(t){return t({type:he.f.CLEAR}),t(e)}},zr=function(){return Hr({type:he.f.CLEAR})},Yr=function(e){return Hr({type:he.f.UPDATE.ALL,filter:e})},Qr=function(e){return Hr({type:he.f.UPDATE.TAGS,tags:e})},Kr=function(e){return Hr({type:he.f.UPDATE.QUERY,query:e})},Xr=function(e){return Hr({type:he.f.UPDATE.DATE,date:e})},$r=function(e){return Hr({type:he.f.UPDATE.GROUPS,groups:e})},Zr=function(e){return Hr({type:he.f.UPDATE.ACTIVE_GROUP,group:e})},Jr=function(e){return qr({type:he.f.UPDATE.MY_ORGANIZATION,myOrganization:e})},ea=Object(le.b)(function(e){var t=e.data,n=e.filter;return{currentPage:parseInt(n.page,10),totalPages:t.pageCount}},function(e){return{onPageSelect:function(t){return e(function(e){return Hr({type:he.f.UPDATE.PAGE,page:e})}(t))}}})(function(e){var t=e.currentPage,n=e.totalPages,r=e.onPageSelect;return n>1&&w.a.createElement(Rt,{pages:n,selected:t,pageSelectCallback:function(e){return r(e)}})}),ta=Object(le.b)(function(e){return{selectedValue:e.filter.perPage}},function(e){return{selectCallback:function(t){var n;e((n=t,Hr({type:he.f.UPDATE.PER_PAGE,perPage:n})))}}})(function(e){return w.a.createElement("div",{className:"Index-rowsCount"},w.a.createElement("label",{htmlFor:"per-page",className:"u-showBelowMD"},t("common.per_page")),w.a.createElement("label",{htmlFor:"per-page",className:"u-hideBelowMD"},t("common.rows_per_page")),w.a.createElement("div",{className:"SelectWithArrows"},w.a.createElement("select",{id:"per-page",className:"NewButton NewButton--white",onChange:function(t){return e.selectCallback(t.target.value)},value:e.selectedValue,children:N.l.INDEX_ROWS_PER_PAGE.map(function(e){return w.a.createElement("option",{key:e,value:e,children:e})})}),w.a.createElement(z.a,{name:"select_arrows"})))}),na=function(){return w.a.createElement("div",{className:"Table-footer"},w.a.createElement(ea,null),w.a.createElement(ta,null))},ra=Object(le.b)(function(){var e=Object(Or.o)(),t=Object(Or.w)();return function(n,r){var a=r.name;return{sort:e(n,a)?t(n,a):void 0}}},function(e){return{toggleSort:function(t){var n;e((n=t,Hr({type:he.f.SORT,sortOn:n})))}}})(function(e){return w.a.createElement(Lt.HeaderCell,H()({},e,{onClick:function(){return e.clickable&&e.toggleSort(e.name)||null}}))}),aa=function(e){e.indeterminate;var t=G()(e,["indeterminate"]);return w.a.createElement("input",H()({},t,{type:"checkbox",ref:function(e){e&&(e.indeterminate=t.checked&&t.indeterminate)}}))},ia=function(e){e.label;var t=e.ariaLabel,n=e.className,r=G()(e,["label","ariaLabel","className"]),a=Object(E.useMemo)(function(){return Object(me.uniqueId)("Checkbox_")},[]);return w.a.createElement("label",{"aria-label":t,htmlFor:a,name:e.name,className:n},w.a.createElement(aa,H()({id:a},r)),e.label||"")},oa=function(e){return!e.type||"practice/container"!==e.type},sa=Object(le.b)(function(e){return{checked:!!Object(Or.r)(e),indexes:Object(Or.p)(e,oa),indeterminate:(t=e.data.content,t.filter(oa)).length!==Object(Or.r)(e),isLoading:Object(Or.n)(e),disabled:Object(Or.u)(e)};var t},function(e,t){return{toggleItems:function(t,n){e(n?function(e){return{type:he.b.LIST.ADD_ALL,indexes:e}}(t):Sr())}}})(function(e){return w.a.createElement(Lt.BodyCell,{size:"xs",style:e.style},w.a.createElement(ia,{disabled:e.isLoading||e.disabled,onChange:function(){return e.toggleItems(e.indexes,e.indeterminate)},checked:e.checked,indeterminate:e.indeterminate,className:"u-margin-0",ariaLabel:t("common.select_all")}))});var ca=function(e){var t=e.selectable,n=e.tableHeaders,r=e.useHideClass,a=n.map(function(e){var t=e.size,n=e.name,a=e.label,i=e.classes,o=e.getTooltip,s=e.clickable;return w.a.createElement(ra,H()({size:t},function(e,t){return t&&void 0!==e?e.hideBelowXS||e.hideBelowMD:e}(i,r),{name:n,key:a,clickable:s}),a,o&&w.a.createElement("span",{className:"h-ci ml-4","data-toggle":"tooltip",title:o(),"data-placement":"top"},w.a.createElement(z.a,{name:"info",customClass:"NestedList-headerIcon c-brand-gray"})))});return w.a.createElement(Lt.Header,null,t&&w.a.createElement(sa,null),a)},la=function(e){var t=e.tableHeaders,n=e.children,r=e.selectable;return w.a.createElement(Lt,{className:"Index-table",alternate:!0,noBorderTop:!0,roundedBottom:!0},w.a.createElement(ca,{selectable:r,tableHeaders:t}),n,w.a.createElement(na,null))};la.defaultProps={selectable:!0};var ua=la,da=function(e){function t(e){var n;return l()(this,t),(n=f()(this,m()(t).call(this,e))).state={browsingHistory:!1},n.handlePopState=n.handlePopState.bind(v()(n)),n}return y()(t,e),d()(t,[{key:"componentDidMount",value:function(){var e=this;this.hasCallback&&(window.addEventListener("popstate",this.handlePopState),window.onbeforeunload=function(){window.removeEventListener("popstate",e.handlePopState),window.onbeforeunload=null}),this.props.disableTurbolinks&&(document.body.dataset.noTurbolink=!0),this.updateHistoryState(this.props.state,this.props.url,!0)}},{key:"componentWillUnmount",value:function(){this.props.disableTurbolinks&&window.history.replaceState(R()({},window.history.state,{turbolinks:!0}),null)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.state,n=e.url;this.state.browsingHistory||n===this.props.url||this.updateHistoryState(t,n)}},{key:"shouldComponentUpdate",value:function(e){return e.url!==this.props.url}},{key:"updateHistoryState",value:function(e,n,r){var a=R()({},window.history.state);n&&(a.url=this.props.omitParam?t.omitParam(n,this.props.omitParam):n),this.hasCustomState&&(a[this.props.stateKey]=e),this.props.disableTurbolinks&&(a.turbolinks=!1),r?window.history.replaceState(a,null,a.url):window.history.pushState(a,null,a.url)}},{key:"handlePopState",value:function(e){var t=this,n=e.state;this.setState({browsingHistory:!0},function(){t.props.onPopState(n),t.setState({browsingHistory:!1})})}},{key:"render",value:function(){return!1}},{key:"hasCustomState",get:function(){return this.props.state&&this.props.stateKey}},{key:"hasCallback",get:function(){return"function"==typeof this.props.onPopState}}],[{key:"omitParam",value:function(e,t){var n=new RegExp(t+/(=(\w|\.|-)+)(&?)/.source);return e.replace(n,"").replace(/(\?|&)?$/gi,"")}}]),t}(w.a.Component);i()(da,"defaultProps",{disableTurbolinks:!1});var pa=function(){return w.a.createElement(da,{disableTurbolinks:!0})},fa=da,ha=Object(le.b)(function(e){var t=e.filter;return{state:t,url:t.url}},function(e){return{onPopState:function(t){t&&t.filter&&e(Yr(t.filter))}}})(function(e){return w.a.createElement(fa,H()({},e,{stateKey:"filter",disableTurbolinks:!0}))}),ma=function(){return w.a.createElement("a",{className:"Index-archiveLink NewButton NewButton--white NewButton--center undecorated mb-16",href:N.k.ARCHIVES},"View Archives")};function ga(){return(ga=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function va(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}function ba(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var ya=r(11),Ea=r.n(ya),_a=r(675),wa=r.n(_a),Sa=r(676),ka=r.n(Sa),Ca=r(76),Na=r.n(Ca),Oa=!1,xa=w.a.createContext(null),Ta="unmounted",Ra="exited",Pa="entering",Ia="entered",Aa=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var a,i=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?i?(a=Ra,r.appearStatus=Pa):a=Ia:a=t.unmountOnExit||t.mountOnEnter?Ta:Ra,r.state={status:a},r.nextCallback=null,r}ba(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===Ta?{status:Ra}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==Pa&&n!==Ia&&(t=Pa):n!==Pa&&n!==Ia||(t="exiting")}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!=typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t){this.cancelNextCallback();var n=Na.a.findDOMNode(this);t===Pa?this.performEnter(n,e):this.performExit(n)}else this.props.unmountOnExit&&this.state.status===Ra&&this.setState({status:Ta})},n.performEnter=function(e,t){var n=this,r=this.props.enter,a=this.context?this.context.isMounting:t,i=this.getTimeouts(),o=a?i.appear:i.enter;!t&&!r||Oa?this.safeSetState({status:Ia},function(){n.props.onEntered(e)}):(this.props.onEnter(e,a),this.safeSetState({status:Pa},function(){n.props.onEntering(e,a),n.onTransitionEnd(e,o,function(){n.safeSetState({status:Ia},function(){n.props.onEntered(e,a)})})}))},n.performExit=function(e){var t=this,n=this.props.exit,r=this.getTimeouts();n&&!Oa?(this.props.onExit(e),this.safeSetState({status:"exiting"},function(){t.props.onExiting(e),t.onTransitionEnd(e,r.exit,function(){t.safeSetState({status:Ra},function(){t.props.onExited(e)})})})):this.safeSetState({status:Ra},function(){t.props.onExited(e)})},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t,n){this.setNextCallback(n);var r=null==t&&!this.props.addEndListener;e&&!r?(this.props.addEndListener&&this.props.addEndListener(e,this.nextCallback),null!=t&&setTimeout(this.nextCallback,t)):setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===Ta)return null;var t=this.props,n=t.children,r=va(t,["children"]);if(delete r.in,delete r.mountOnEnter,delete r.unmountOnExit,delete r.appear,delete r.enter,delete r.exit,delete r.timeout,delete r.addEndListener,delete r.onEnter,delete r.onEntering,delete r.onEntered,delete r.onExit,delete r.onExiting,delete r.onExited,"function"==typeof n)return w.a.createElement(xa.Provider,{value:null},n(e,r));var a=w.a.Children.only(n);return w.a.createElement(xa.Provider,{value:null},w.a.cloneElement(a,r))},t}(w.a.Component);function Ma(){}Aa.contextType=xa,Aa.propTypes={},Aa.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Ma,onEntering:Ma,onEntered:Ma,onExit:Ma,onExiting:Ma,onExited:Ma},Aa.UNMOUNTED=0,Aa.EXITED=1,Aa.ENTERING=2,Aa.ENTERED=3,Aa.EXITING=4;var Da=Aa,ja=function(e,t){return e&&t&&t.split(" ").forEach(function(t){return ka()(e,t)})},La=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,n){t.removeClasses(e,"exit"),t.addClass(e,n?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var r=n?"appear":"enter";t.addClass(e,r,"active"),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var r=n?"appear":"enter";t.removeClasses(e,r),t.addClass(e,r,"done"),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){t.removeClasses(e,"appear"),t.removeClasses(e,"enter"),t.addClass(e,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){t.addClass(e,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){t.removeClasses(e,"exit"),t.addClass(e,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.getClassNames=function(e){var n=t.props.classNames,r="string"==typeof n,a=r?""+(r&&n?n+"-":"")+e:n[e];return{baseClassName:a,activeClassName:r?a+"-active":n[e+"Active"],doneClassName:r?a+"-done":n[e+"Done"]}},t}ba(t,e);var n=t.prototype;return n.addClass=function(e,t,n){var r=this.getClassNames(t)[n+"ClassName"];"appear"===t&&"done"===n&&(r+=" "+this.getClassNames("enter").doneClassName),"active"===n&&e&&e.scrollTop,this.appliedClasses[t][n]=r,function(e,t){e&&t&&t.split(" ").forEach(function(t){return wa()(e,t)})}(e,r)},n.removeClasses=function(e,t){var n=this.appliedClasses[t],r=n.base,a=n.active,i=n.done;this.appliedClasses[t]={},r&&ja(e,r),a&&ja(e,a),i&&ja(e,i)},n.render=function(){var e=this.props,t=(e.classNames,va(e,["classNames"]));return w.a.createElement(Da,ga({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(w.a.Component);La.defaultProps={classNames:""},La.propTypes={};var Fa=La,Ba=function(e){var t=e.selectedCount,n=e.totalResults,r=e.filterIsActive,a=e.archivesIsActive,i=Object(Ne.d)(n,"result"),o=Object(Ne.d)(t,"item"),s=Object(Ne.d)(n,"item");return w.a.createElement("span",null,n?t?r?"".concat(n," ").concat(i," found (").concat(t," selected)."):"".concat(t," ").concat(o," selected."):a?"".concat(n," ").concat(s," archived."):"".concat(n," ").concat(i," found."):"No results found.")},Ua=function(e){var n=e.loading,r=e.hasError,a=e.bulkDone,o=(e.selectedItems,e.bulkName),s=e.bulkCount,c=e.bulkInProgress,l=e.updatedShared,u=function(e){var t;return t={count:l.length},i()(t,e,l.length>0?l[0].name:""),i()(t,"bulkCount",s),t},d=function(){return w.a.createElement("div",{className:"Index-success"},w.a.createElement(z.a,{name:"completed",customClass:"Index-toolbarStateIcon"}),function(){var e;switch(o){case N.f.RESTORE:return t("mass_actions.restore.success",{count:s});case N.f.ARCHIVE:return t("mass_actions.archive.success",{count:s});case N.f.MASS_LEARN:return e=u("group"),s>1?t("mass_actions.mass_learn.updated.items",e):t("mass_actions.mass_learn.updated.item",e);case N.f.MASS_OWNERSHIP:return e=u("owner"),s>1?t("mass_actions.mass_ownership.updated.items",e):t("mass_actions.mass_ownership.updated.item",e);case N.f.MASS_TAGGING:return e=u("tag"),s>1?t("mass_actions.mass_tagging.updated.items",e):t("mass_actions.mass_tagging.updated.item",e);default:return""}}())},p=function(){var e=c?function(){switch(o){case N.f.RESTORE:return t("mass_actions.restore.restoring",{count:s});case N.f.ARCHIVE:return t("mass_actions.archive.archiving",{count:s});case N.f.MASS_LEARN:case N.f.MASS_OWNERSHIP:return t("mass_actions.applying",{count:s});default:return""}}():t("mass_actions.looking");return w.a.createElement("div",{className:"Index-loading"},w.a.createElement(k.k,null),w.a.createElement("span",{style:{marginLeft:"8px"}},e))};return w.a.createElement("div",null,r?w.a.createElement("div",{className:"Index-fail"},w.a.createElement(z.a,{name:"info",customClass:"Index-toolbarStateIcon"}),w.a.createElement("span",null,t("mass_actions.failed"))):n&&!a?p():a?d():t("mass_actions.looking"))},Ha=r(70),qa=function(e){function t(e){var n;return l()(this,t),(n=f()(this,m()(t).call(this,e))).state={showModal:!1},n.handleClick=n.handleClick.bind(v()(n)),n.closeModal=n.closeModal.bind(v()(n)),n.handleConfirm=n.handleConfirm.bind(v()(n)),n}return y()(t,e),d()(t,[{key:"handleClick",value:function(){this.props.confirm?this.setState({showModal:!0}):this.props.onClick()}},{key:"handleConfirm",value:function(){var e=this;this.setState({showModal:!1},function(){e.props.onClick()})}},{key:"closeModal",value:function(){this.setState({showModal:!1})}},{key:"render",value:function(){var e=this.props,t=V()("NewButton",{"NewButton--center":!0,"NewButton--small":!0,"IndexFilter-actionButton":!0});return w.a.createElement("button",{type:"button",className:t,onClick:this.handleClick,"data-tooltip":e.tooltip},w.a.createElement(z.a,{name:e.iconName}),e.label&&w.a.createElement("span",{className:"ml-8 c-brand-gray-darkest"},e.label),w.a.createElement(Ha.a,{type:"confirm",show:this.state.showModal,title:e.modalTitle,message:e.modalMessage,confirmButtonText:e.modalConfirmButton,cancelButtonText:e.modalCancelButton,onConfirm:this.handleConfirm,onCancel:this.closeModal,dismissCallback:this.closeModal}))}}]),t}(w.a.Component);qa.defaultProps={confirm:!0,modalConfirmButton:"Yes",modalCancelButton:"Cancel"};var Ga=qa,Wa=function(e){var t=e.actions,n=e.selectedCount,r=e.buttons;return w.a.createElement("div",{className:"Index-toolbarActions"},r.map(function(e){return w.a.createElement(Ga,H()({},e,{key:e.onClickKey,onClick:t[e.onClickKey],modalMessage:(r=e.modalMessage,a={"%selectedCount%":n,"%nItems%":n>1?"items":"item"},"string"==typeof r?r.replace(/%selectedCount%|%nItems%/gi,function(e){return a[e]}):r)}));var r,a}))};Wa.defaultProps={buttons:[]};var Va=Wa,za=function(e){var t,n=w.a.isValidElement(e.buttons),r=V()("Index-toolbar",{"Index-toolbar--secondary":!0,"Index-toolbar--success":e.success,"Index-toolbar--danger":e.hasError}),a=w.a.createElement("button",{type:"button",key:"clear",className:"IndexFilter-clearFiltersButton NewButton NewButton--center NewButton--small IndexFilter-actionButton mr-12",onClick:e.clearFilter},w.a.createElement("span",{className:"c-brand-gray-darkest"},"Clear Filters")),i=n?e.buttons:w.a.createElement(Va,e);return w.a.createElement(Fa,{in:e.visible,classNames:"Index-toolbar--secondary",timeout:300,unmountOnExit:!0},w.a.createElement("div",{className:r},e.children,(t=[w.a.createElement(Ba,H()({key:"count"},e))],e.loading||e.hasError?w.a.createElement(Ua,e):(e.filterIsActive&&t.unshift(a),t)),!e.disabled&&(e.success||!e.hasError)&&i))},Ya={clearFilter:zr},Qa=Object(le.b)(function(e){return{visible:Object(Or.v)(e),filterIsActive:e.filter.isActive,hasError:Object(Or.h)(e),totalResults:e.data.totalResults,loading:Object(Or.n)(e)}},Ya)(za),Ka=function(e){var t=e.enabled,n=e.onClick,r=e.label,a=void 0===r?"Apply":r,i=V()("NewButton",{"NewButton--darkNavy":!0,"NewButton--center":!0,"NewButton--disabled":!t,"IndexFilter-applyButton":!0});return w.a.createElement("button",{type:"button",onClick:n,className:i},a)},Xa=function(e,t){return Object(S.isEqual)(e.sort(),t.sort())},$a=function(e){function t(){var e,n;l()(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return n=f()(this,(e=m()(t)).call.apply(e,[this].concat(a))),i()(v()(n),"state",{isActive:!1,lastSelectedOptions:n.props.selected||[],selectedOptions:n.props.selected||[]}),i()(v()(n),"toggleMenu",function(){n.setState(function(e){return{isActive:!e.isActive}})}),i()(v()(n),"handleOptionClick",function(e){var t=new Set(n.state.selectedOptions);t.has(e)?t.delete(e):t.add(e),n.setState({selectedOptions:Array.from(t)})}),i()(v()(n),"applyChanges",function(){if(n.shouldApplyFilter){var e=n.state.selectedOptions,t=n.props.applyCallback;n.setState({isActive:!1,lastSelectedOptions:e}),t(e)}}),n}return y()(t,e),d()(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.selected||[];Xa(t,this.state.selectedOptions)||this.setState({selectedOptions:t,lastSelectedOptions:t})}},{key:"getLabel",value:function(){var e=this.state.selectedOptions.length,t=this.props.label,n=t.singular,r=t.plural;return e?"".concat(Object(Ne.e)(e,n,r)," selected"):r}},{key:"getSortedKeys",value:function(){var e=this,t=this.props.sort.descending?-1:1;return Object.keys(this.props.data).map(function(t){var n=e.props.data[t][e.props.sort.key];return n="string"==typeof n?n.toLowerCase():n,[parseInt(t,10),n]}).sort(function(e,n){return e[1]<n[1]?-1*t:t})}},{key:"renderToggleButton",value:function(){var e=this.state.isActive,t=this.props.renderToggle;if(t)return t({isActive:e,toggle:this.toggleMenu});var n=V()("NewButton NewButton--darkNavy",{"NewButton--active":e});return w.a.createElement("button",{type:"button",className:n,onClick:this.toggleMenu},this.getLabel())}},{key:"render",value:function(){var e=this,t=this.props,n=t.wrapperClassName,r=t.popoverClassName;return w.a.createElement("div",{className:n},this.renderToggleButton(),this.state.isActive&&w.a.createElement(Ut,{styleName:r,dismissCallback:this.toggleMenu},w.a.createElement(nn.a,null,this.getSortedKeys().map(function(t){return w.a.createElement("label",{htmlFor:"select-option-".concat(t[0]),key:t[0],className:"NewPopoverOption"},w.a.createElement("input",{id:"select-option-".concat(t[0]),checked:e.state.selectedOptions.indexOf(t[0])>-1,onChange:function(){return e.handleOptionClick(t[0])},type:"checkbox"}),w.a.createElement("span",{className:"NewPopoverOption-label"},e.props.data[t[0]].name),w.a.createElement("span",{className:"NewPopoverOption-count"},e.props.data[t[0]].count))})),w.a.createElement(Ka,{onClick:this.applyChanges,enabled:this.shouldApplyFilter})))}},{key:"shouldApplyFilter",get:function(){var e=this.state,t=e.selectedOptions,n=e.lastSelectedOptions;return!Xa(t,n)}}]),t}(w.a.Component);i()($a,"defaultProps",{wrapperClassName:"IndexFilter IndexFilter-button",popoverClassName:"IndexFilter-popover",label:{singular:"option",plural:"options"},sort:{key:"name",descending:!1},data:[],selected:[],applyCallback:function(){}});var Za=$a,Ja=function(e){return w.a.createElement("div",{className:"IndexFilter IndexFilter-button"},w.a.createElement("select",{name:e.name,className:"NewButton NewButton--darkNavy",value:e.selectedValue||"default",onChange:function(t){return e.selectCallback(t.target.value)}},e.label&&w.a.createElement("option",{value:"default",disabled:!0},e.label),e.children))},ei=function(e){function t(e){var n;l()(this,t),n=f()(this,m()(t).call(this,e)),i()(v()(n),"showMenu",function(){n.setState({isActive:!0})});var r=e.startDate,a=e.endDate;return n.state={isActive:!1,shouldApplyFilter:!1,isDatePickerOpen:!1,startDate:r?I()(r):null,endDate:a?I()(a):null,lastSelectedOptions:e.data?e.data:{startDate:null,endDate:null}},n.callApplyCallback=n.callApplyCallback.bind(v()(n)),n.handleDatePickerOpen=n.handleDatePickerOpen.bind(v()(n)),n.handleDatePickerClose=n.handleDatePickerClose.bind(v()(n)),n}return y()(t,e),d()(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.startDate,n=void 0===t?null:t,r=e.endDate,a=void 0===r?null:r;this.setState({startDate:n?I()(n):n,endDate:a?I()(a):a,lastSelectedOptions:{startDate:this.props.startDate,endDate:this.props.endDate}})}},{key:"getLabel",value:function(){var e,t=this.state,n=t.endDate,r=t.startDate,a=this.props,i=a.label,o=a.longLabel;return r||n?(r&&!n&&(e="from ".concat(I()(r).format("MM/DD"))),!r&&n&&(e="to ".concat(I()(n).format("MM/DD"))),r&&n&&(e="".concat(I()(r).format("MM/DD")," – ").concat(I()(n).format("MM/DD"))),"".concat(i," (").concat(e,")")):o}},{key:"getParsedOptions",value:function(e){var t=e.startDate,n=e.endDate;return{start:t?t.locale("en").format(this.props.dateFormat.output):null,end:n?n.locale("en").format(this.props.dateFormat.output):null}}},{key:"handleDatePickerOpen",value:function(){this.setState({isDatePickerOpen:!0})}},{key:"handleDatePickerClose",value:function(){this.setState({isDatePickerOpen:!1})}},{key:"handleDateChange",value:function(e,t){var n=e.startDate,r=void 0===n?this.state.startDate:n,a=e.endDate,i=void 0===a?this.state.endDate:a;if(r&&i&&r.isAfter(i)){var o=r;r=i,i=o}this.setState({startDate:r,endDate:i},t)}},{key:"handleStartDateChange",value:function(e){var t=this;this.handleDateChange({startDate:e},function(){t.setState({shouldApplyFilter:t.shouldApplyFilter()})})}},{key:"handleEndDateChange",value:function(e){var t=this;this.handleDateChange({endDate:e},function(){t.setState({shouldApplyFilter:t.shouldApplyFilter()})})}},{key:"closeMenu",value:function(){this.state.isDatePickerOpen||this.setState({isActive:!1})}},{key:"callApplyCallback",value:function(){var e=this,t=this.state,n=t.startDate,r=t.endDate,a=t.shouldApplyFilter,i=this.getParsedOptions({startDate:n,endDate:r});a&&this.setState({shouldApplyFilter:!1,lastSelectedOptions:i},function(){e.props.applyCallback(i),e.closeMenu()})}},{key:"shouldApplyFilter",value:function(){var e=this.state,t=e.startDate,n=e.endDate,r=e.lastSelectedOptions,a=this.getParsedOptions({startDate:t,endDate:n});return!(!t&&!n||Object(S.isEqual)(a,r))}},{key:"renderToggleButton",value:function(){var e=this.state.isActive,t=this.props.renderToggle;if(t)return t({isActive:e,toggle:this.showMenu});var n=V()("NewButton NewButton--darkNavy",{"NewButton--active":e});return w.a.createElement("button",{type:"button",className:n,onClick:this.showMenu},this.getLabel())}},{key:"render",value:function(){var e=this,t=this.state,n=t.shouldApplyFilter,r=t.isActive,a=t.startDate,i=t.endDate,o=this.props,s=o.dateFormat,c=o.wrapperClassName,l=o.popoverClassName;return w.a.createElement("div",{className:c},this.renderToggleButton(),r&&w.a.createElement(Ut,{styleName:l,dismissCallback:function(){return e.closeMenu()}},w.a.createElement("div",{className:"IndexFilter-dateInputs"},w.a.createElement("div",{className:"IndexFilter-dateRange"},w.a.createElement("label",{htmlFor:"startDate"},"From"),w.a.createElement(M.a,{id:"startDate",selected:a,className:"NewInput NewInput--lightestGray",dateFormat:s.input,onChange:function(t){return e.handleStartDateChange(t)},placeholderText:s.input,onFocus:this.handleDatePickerOpen,onBlur:this.handleDatePickerClose,startDate:a,endDate:i})),w.a.createElement("div",{className:"IndexFilter-dateRange",htmlFor:"endDate"},w.a.createElement("label",{htmlFor:"endDate"},"To"),w.a.createElement(M.a,{id:"endDate",selected:i,className:"NewInput NewInput--lightestGray",dateFormat:s.input,onChange:function(t){return e.handleEndDateChange(t)},placeholderText:s.input,onFocus:this.handleDatePickerOpen,onBlur:this.handleDatePickerClose,startDate:a,endDate:i}))),w.a.createElement(Ka,{onClick:this.callApplyCallback,enabled:n})))}}]),t}(w.a.Component);ei.defaultProps={wrapperClassName:"IndexFilter IndexFilter-button",popoverClassName:"IndexFilter-popover",label:"Date",longLabel:"Date",dateFormat:{input:L.fixed.SPREADSHEET_DATE,output:L.fixed.DB_DATE},startDate:null,endDate:null};var ti=ei,ni=function(e){function t(e){var n;return l()(this,t),(n=f()(this,m()(t).call(this,e))).state={searchQuery:e.value||""},n.handleSubmit=n.handleSubmit.bind(v()(n)),n.handleChange=n.handleChange.bind(v()(n)),n}return y()(t,e),d()(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.setState({searchQuery:e.value})}},{key:"handleChange",value:function(e){this.setState({searchQuery:e.target.value})}},{key:"handleSubmit",value:function(e){var t=this.state.searchQuery;e.preventDefault(),t.trim().length>0&&this.props.submitCallback(this.state.searchQuery)}},{key:"render",value:function(){return w.a.createElement("form",{className:"IndexFilter IndexFilter-search",onSubmit:this.handleSubmit,ref:"form"},w.a.createElement("input",{className:"NewInput NewInput--lightestGray",type:"search",placeholder:"Search",ref:"input",onChange:this.handleChange,value:this.state.searchQuery,required:!0}))}}]),t}(w.a.Component),ri=function(e){function t(e){var n;return l()(this,t),(n=f()(this,m()(t).call(this,e))).handleResize=_.throttle(n.handleResize.bind(v()(n)),250),n.handleClick=n.handleClick.bind(v()(n)),n}return y()(t,e),d()(t,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize)}},{key:"handleResize",value:function(){this.filtersContainer&&$(window).width()>=this.props.breakPoint&&(this.filtersContainer.style.display="")}},{key:"handleClick",value:function(e){$(window).width()<this.props.breakPoint&&$(this.filtersContainer).slideToggle(300)}},{key:"render",value:function(){var e=this,t=this.props.children,n=1===E.Children.count(t);return w.a.createElement("div",{className:"Index-toolbar Index-toolbar--primary"},!n&&w.a.createElement(z.a,{onClick:this.handleClick,name:"filter",customClass:"Index-filterIcon"}),!n&&w.a.createElement("div",{ref:function(t){e.filtersContainer=t},className:"Index-filtersContainer"},Object(S.slice)(t,0,-1)),n?t:Object(S.last)(t))}}]),t}(w.a.Component);ri.defaultProps={breakPoint:768};var ai={MultiSelect:Za,Select:Ja,DatePicker:ti,Search:ni,Toolbar:ri},ii=Object(le.b)(function(e){var t=e.filter;e.data.meta;return{selectedQuery:t.query}},function(e){return{filterUpdateQuery:function(t){return e(Kr(t))}}})(function(e){var t=e.selectedQuery,n=e.filterUpdateQuery;return w.a.createElement(ai.Toolbar,null,w.a.createElement(ai.Search,{value:t,submitCallback:function(e){return n(e)}}))}),oi=Object(le.b)(function(){var e=Object(Or.m)();return function(t,n){var r=n.index,a=n.selectable;return{disabled:a&&(Object(Or.n)(t)||Object(Or.u)(t)),selected:a&&e(t,r)}}},function(e){return{toggleItem:function(t){e(function(e){return{type:he.b.LIST.TOGGLE_ITEM,index:e}}(t))}}})(function(e){return w.a.createElement(Lt.Row,{selected:e.selected},e.selectable&&w.a.createElement(Lt.BodyCell,{size:"xs"},w.a.createElement(ia,{checked:e.selected,disabled:e.disabled||e.checkBoxDisabled,onChange:function(t){return e.toggleItem(e.index)},className:"u-margin-0",ariaLabel:t("common.select")})),e.children)});oi.defaultProps={selectable:!0};var si=oi,ci=Object(le.b)(function(){var e=Object(Or.o)();return function(t,n){var r=n.name;return{dark:e(t,r)}}})(function(e){return w.a.createElement(Lt.BodyCell,e)}),li=function(e){var t,n=e.event;e.features;return w.a.createElement(si,{selectable:!1},w.a.createElement(ci,{size:"xl",name:"name"},w.a.createElement("a",{href:N.k.IN_PERSON_TRAINING.EVENT(n.id)},n.name)),w.a.createElement(ci,{size:"l",name:"start_time",hideBelowXS:!0},(t=n.start_time)?I()(t,L.fixed.ISO8601_LOCAL).format(L.LONG):"-"),w.a.createElement(ci,{size:"l",name:"location",hideBelowXS:!0},n.location||"-"),w.a.createElement(ci,{size:"s",name:"instructor",hideBelowXS:!0},n.instructor||"-"),w.a.createElement(ci,{size:"s",name:"number_of_registered",hideBelowXS:!0,center:!0},n.number_of_registered),w.a.createElement(ci,{size:"s",name:"number_of_attendees",hideBelowMD:!0,center:!0},n.number_of_attendees))},ui=Object(le.b)(function(e){var t=e.data;return{events:t.content,lastFetched:t.lastFetched}})(function(e){var t=e.events;e.lastFetched;return w.a.createElement("div",{className:"Content-tableBody Table-body"},t.map(function(e){return w.a.createElement(li,{key:e.id,event:e})}))}),di=r(317),pi=r.n(di),fi=r(111),hi=r.n(fi),mi=r(318),gi=r.n(mi),vi=r(77),bi=r(313),yi=r(241),Ei=function(e){return w.a.createElement("div",{className:"Index-blankSlate"},w.a.createElement(vi.a,{large:!0},e.image&&w.a.createElement("img",{className:"mh-300",src:e.image,alt:e.description}),e.icon&&!e.image&&w.a.createElement(bi.a,{src:e.icon}),w.a.createElement("br",null),e.title&&w.a.createElement("h2",{className:"ff-ss mt-16"},e.title),w.a.createElement(yi.a,null,e.description),!!e.additionalDescription&&w.a.createElement(yi.a,null,e.additionalDescription),e.children))},_i=function(e){var t=e.size,n=e.width,r=e.roleTag;return w.a.createElement(Lt.Body.Cell,{size:t},w.a.createElement("div",{className:"Placeholder-text",style:{width:"".concat(n,"%"),margin:"4px 0"}}),r&&w.a.createElement("div",{className:"Placeholder-text",style:{width:"25%",margin:"4px 0px"}}))},wi=function(e){var t=e.selectable,n=e.tableHeaders;return w.a.createElement(Lt.Row,null,t&&w.a.createElement(_i,{size:"xs",width:"70"}),n.map(function(e){return w.a.createElement(_i,{key:e.name,roleTag:e.loadingPlaceholder.roleTag,size:e.size,width:e.loadingPlaceholder.width})}))},Si=function(e){var t=e.totalRows,n=e.tableHeaders,r=e.selectable;return w.a.createElement(Lt,{className:"Index-table",alternate:!0,noBorderTop:!0,roundedBottom:!0},w.a.createElement(ca,{selectable:r,tableHeaders:n,useHideClass:!0}),w.a.createElement("div",{className:"Table-body"},Object(S.times)(t,function(e){return w.a.createElement(wi,H()({key:e},{tableHeaders:n,selectable:r}))})))};Si.defaultProps={selectable:!0,totalRows:3};var ki=Si,Ci=function(e){var t=e.isFetching,n=e.hasFailed,r=e.hasContent,a=e.hasResults,i=e.children,o=e.blankSlates,s=e.activeGroupCalculating,c=e.invalidSmartGroup,l=e.tableHeaders,u=e.selectable,d=!n&&r&&a,p=!n&&!a,f=!n&&!r,h={noResults:{description:"We couldn’t find any search results that matched your criteria, but tweaking the filters you selected may help."},hasFailed:{image:gi.a,title:"Pay No Attention to the Llama Behind the Curtain",description:"Sorry, an error occurred during the processing of your request, but refreshing the page may help."}};return w.a.createElement(ft.a,null,t?w.a.createElement(ki,{selectable:u,tableHeaders:l}):s?w.a.createElement(Ei,{title:o.isCalculating.title,image:o.isCalculating.image,description:o.isCalculating.description}):c?w.a.createElement(Ei,{title:o.invalidSmartGroup.title,image:o.invalidSmartGroup.image,description:o.invalidSmartGroup.description,additionalDescription:o.invalidSmartGroup.additionalDescription}):d?i:f?w.a.createElement(Ei,{title:o.noContent.title,icon:o.noContent.icon,image:o.noContent.image,description:o.noContent.description,additionalDescription:o.noContent.additionalDescription,children:o.noContent.children}):p?w.a.createElement(Ei,{title:o.noResults.title||h.noResults.title,image:o.noResults.image||h.noResults.image,icon:o.noResults.icon,description:o.noResults.description||h.noResults.description,additionalDescription:o.noResults.additionalDescription||h.noResults.additionalDescription,children:o.noResults.children}):n?w.a.createElement(Ei,{title:o.hasFailed.title||h.hasFailed.title,image:o.hasFailed.image||h.hasFailed.image,icon:o.hasFailed.icon,description:o.hasFailed.description||h.hasFailed.description}):null)};Ci.defaultProps={selectable:!0};var Ni=Object(le.b)(function(e){return{isFetching:e.data.isFetching,hasFailed:Object(Or.h)(e),hasContent:!!e.data.totalManageable,hasResults:!!e.data.totalResults}})(Ci),Oi=Object(le.b)(function(e){return{i18n:e.meta.i18n}})(function(e){var t=e.i18n,n=G()(e,["i18n"]),r={hasFailed:{icon:"".concat(N.k.ASSETS_BLANK_SLATES,"/danger.svg")},noResults:{title:t.blank_slate.no_results.title,description:t.blank_slate.no_results.description,image:hi.a,icon:"".concat(N.k.ASSETS_BLANK_SLATES,"/filter.svg")},noContent:{image:pi.a,title:t.blank_slate.no_content.title,description:t.blank_slate.no_content.description,children:w.a.createElement("div",{className:"mt-16 fz-bigger"},w.a.createElement("span",{className:"c-brand-gray-dark"},t.blank_slate.no_content.call_to_action)," ",w.a.createElement("a",{className:"u-link",href:N.k.IN_PERSON_TRAINING.NEW_EVENT},t.blank_slate.no_content.call_to_action_link))}};return w.a.createElement(Ni,H()({},n,{selectable:!1,blankSlates:r}))}),xi=Object(S.memoize)(function(){return Object(S.compact)([{label:t("in_person_training.events.event"),name:"name",size:"xl",clickable:!0,loadingPlaceholder:{width:55}},{label:t("in_person_training.events.date_and_time"),name:"start_time",size:"l",clickable:!0,classes:{hideBelowMD:!0,center:!0},loadingPlaceholder:{width:40}},{label:t("in_person_training.events.location"),name:"location",size:"l",clickable:!0,classes:{hideBelowMD:!0,center:!0},loadingPlaceholder:{width:40}},{label:t("in_person_training.events.instructor"),name:"instructor",size:"s",clickable:!0,classes:{hideBelowMD:!0,center:!0},loadingPlaceholder:{width:40}},{label:t("in_person_training.events.number_of_registered"),name:"number_of_registered",size:"s",clickable:!0,classes:{hideBelowMD:!0,center:!0},loadingPlaceholder:{width:40}},{label:t("in_person_training.events.attended"),name:"number_of_attendees",size:"s",clickable:!0,classes:{hideBelowMD:!0,center:!0},loadingPlaceholder:{width:40}}])}),Ti=w.a.createElement("div",{className:"Index-newButtonsContainer"},w.a.createElement(k.c,{icon:"add",url:N.k.IN_PERSON_TRAINING.NEW_EVENT,customClass:"NewButton NewButton--white NewButton--center undecorated"},t("in_person_training.events.new_event"))),Ri=function(e){function n(){return l()(this,n),f()(this,m()(n).apply(this,arguments))}return y()(n,e),d()(n,[{key:"render",value:function(){var e=xi();return w.a.createElement("div",{className:"Index"},w.a.createElement(ha,{omitParam:"per_page"}),w.a.createElement(wr,{title:t("training_events.events"),actions:this.props.canCreateEvents&&Ti}),w.a.createElement(ii,null),w.a.createElement(Qa,null),w.a.createElement(Oi,{tableHeaders:e},w.a.createElement(ua,{selectable:!1,tableHeaders:e},w.a.createElement(ui,null)),w.a.createElement(ma,null)))}}]),n}(E.Component),Pi=Object(le.b)(function(e){return{canCreateEvents:e.meta.policies.canCreateEvents}})(Ri),Ii={page:1,query:"",sort:{column:"name",direction:"asc"},perPage:10},Ai=function(e,t){var n=Object(S.merge)({},e,t),r=n.query;n.isActive=Object(S.some)([!Object(S.isEmpty)(r)]),n.page=t&&t.page||1;try{n.url=Ve(N.k.IN_PERSON_TRAINING.EVENTS,function(e){var t=e.query;return xr({page:e.page,query:t,sort:e.sort,perPage:e.perPage,initialState:Ii})}(n))}catch(e){}return n},Mi={success:null,inProgress:null,done:null,name:null,selected:[]},Di=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case he.b.LIST.TOGGLE_ITEM:var n=e.indexOf(t.index);return n>-1?e.slice(0,n).concat(e.slice(n+1)):e.concat(t.index);case he.b.LIST.ADD_ALL:return t.indexes;case he.b.LIST.REMOVE_ALL:return[];default:return e}},ji=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mi,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case he.b.SUBMIT.REQUEST:return _.extend({},e,{inProgress:!0,done:!1,success:null,name:t.name,count:e.selected.length,lastSubmitted:t.lastSubmitted});case he.b.SUBMIT.SUCCESS:return _.extend({},e,{inProgress:!1,success:!0,done:!0});case he.b.MASS_ACTION.DONE:return R()({},e,{success:null,inProgress:null,done:null});case he.b.SUBMIT.DONE:return _.extend({},e,Mi);case he.b.SUBMIT.FAILURE:return _.extend({},e,{inProgress:!1,success:!1,done:!0});case he.b.LIST.TOGGLE_ITEM:case he.b.LIST.ADD_ALL:case he.b.LIST.REMOVE_ALL:return _.extend({},e,{selected:Di(e.selected,t)});default:return e}},Li={type:null,lastFetched:Date.now(),success:null,isFetching:!1,content:[]},Fi=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Li,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case he.c.REQUEST:return _.extend({},e,{isFetching:!0,requestUrl:t.requestUrl});case he.c.FAILURE:return _.extend({},e,{isFetching:!1,success:!1});case he.c.SUCCESS:var n=t.response,r=t.success,a=t.isFetching,i=t.lastFetched;return _.extend({},e,n.data,{isFetching:a,success:r,lastFetched:i});case he.c.GROUPS:var o=t.meta;return _.extend({},e,o);default:return _.extend({},Li,e)}},Bi=Object(ue.c)({filter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ii,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case he.f.UPDATE.PAGE:return Ai(e,{page:t.page});case he.f.UPDATE.QUERY:return Ai(e,{query:t.query});case he.f.UPDATE.PER_PAGE:return Ai(e,{perPage:t.perPage});case he.f.UPDATE.ALL:return Ai(e,t.filter);case he.f.CLEAR:return Ai(e,Object(S.merge)({},Ii,{sort:e.sort,perPage:e.perPage}));case he.f.SORT:return Ai(e,{sort:{column:t.sortOn,direction:Object(Or.e)({filter:e},t.sortOn)}});default:return Ai(Ii,e)}},data:Fi,bulk:ji,meta:function(){return arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}}});var Ui=function(e){function t(e){var n,r;return l()(this,t),(n=f()(this,m()(t).call(this,e))).store=(r=n.props,fe(r,Bi,{name:"EventsIndex"})),n}return y()(t,e),d()(t,[{key:"render",value:function(){return w.a.createElement(le.a,{store:this.store},w.a.createElement(Pi,null))}}]),t}(E.Component),Hi={userEvents:[],openEvents:[]},qi={policies:{},features:{}},Gi=Object(ue.c)({events:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hi,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case he.g.EVENTS_DASHBOARD.DATA_RECEIVE:return{userEvents:t.payload.user_events,openEvents:t.payload.open_events};default:return e}},loading:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case he.g.EVENTS_DASHBOARD.DATA_REQUEST:return!0;case he.g.EVENTS_DASHBOARD.DATA_RECEIVE:return!1;default:return e}},meta:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qi;arguments.length>1&&arguments[1];return e}});var Wi=$e({dataRequest:he.g.EVENTS_DASHBOARD.DATA_REQUEST,dataReceive:he.g.EVENTS_DASHBOARD.DATA_RECEIVE});var Vi=r(23),zi=Object(me.get)("session.id"),Yi=function(e){return Object(me.orderBy)(function(e){return I()(e.session.start_time_utc).valueOf()},e)},Qi=Object(me.pipe)(Object(me.get)("session.start_time"),function(e){return t=e,I()(t,P.ISO_8601).isBefore(Object(P.now)())?"past":"upcoming";var t}),Ki=Object(Vi.createSelector)(Object(me.get)("events.userEvents"),Object(me.groupBy)(Qi)),Xi=Object(Vi.createSelector)(Ki,Object(me.pipe)(function(e){return e.past||[]},Yi("desc"))),$i=Object(Vi.createSelector)(Ki,Object(me.pipe)(function(e){return e.upcoming||[]},Yi("asc"))),Zi=Object(Vi.createSelector)($i,Object(me.find)(["attendance.status","will_attend"])),Ji=Object(Vi.createSelector)([Zi,$i],function(e,t){return t.filter(function(t){return zi(t)!==zi(e)})}),eo=Object(Vi.createSelector)(Object(me.get)("events.openEvents"),Yi("asc")),to=r(92),no=function(e){var n=e.status,r=["did_attend","will_attend"].includes(n),a=["did_not_attend","will_not_attend"].includes(n),i=["limit_met"].includes(n),o=function(e,t){return e?"info":t?"correct":"remove"}(i,r),s=V()("p-2-8 bdrs-small fz-sm d-ib fw-b f-smooth d-f ai-c",r&&"bg-green c-white",a&&"bd-red c-red",i&&"bd-brand-blue c-brand-blue");return w.a.createElement("div",{className:s},w.a.createElement(z.a,{name:o,customClass:"mr-4"}),function(e){return{did_attend:t("in_person_training.attendance.phrase.did_attend"),did_not_attend:t("in_person_training.attendance.phrase.did_not_attend"),limit_met:t("in_person_training.attendance.phrase.limit_met"),will_attend:t("in_person_training.attendance.phrase.will_attend"),will_not_attend:t("in_person_training.attendance.phrase.will_not_attend")}[e]}(n))},ro=Object(le.b)(function(e){return{event:Zi(e)}})(function(e){var n=e.event;return n?w.a.createElement(k.f,{url:n.urls.register,className:"EventsDashboardEvent ff-ss mb-24  d-b"},w.a.createElement(k.f.Content,{padding:"large"},w.a.createElement("div",{className:"mb-16 c-gray-darker"},t("in_person_training.events_dashboard.your_next_event")),w.a.createElement("div",{className:"fz-lg mb-8"},n.event.name),n.event.description&&w.a.createElement("div",{className:"c-gray-darker"},w.a.createElement(to.a,null,n.event.description)),w.a.createElement(We,{className:"mt-16 mb-16",startTime:n.session.start_time,endTime:n.session.end_time,timeZone:n.session.time_zone.formatted}),w.a.createElement(qe,{className:"mb-16",session:n.session}),w.a.createElement(no,{status:n.attendance.status}))):null}),ao={TAB:0,TAB_LIST:1,TABBED_VIEW:2,TAB_PANEL:3},io=function(e,t){return e&&e.type.role===t};function oo(e){return io(e,ao.TAB)}var so=function(e){function t(e){var n;return l()(this,t),n=f()(this,m()(t).call(this,e)),i()(v()(n),"handleTabUnmount",function(e){e===n.state.selectedIndex&&n.handleTabSelect(0)}),n.state={selectedIndex:n.props.selectedIndex},n.handleTabSelect=n.handleTabSelect.bind(v()(n)),n}return y()(t,e),d()(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.selectedIndex!==this.state.selectedIndex&&this.setState({selectedIndex:e.selectedIndex})}},{key:"handleTabSelect",value:function(e){var t=this;this.state.selectedIndex!==e&&this.setState({selectedIndex:e},function(){t.props.onSelect(e)})}},{key:"handleTabKeyDown",value:function(e){var t=e.key,n=(e.keyCode,this.state.selectedIndex);if("ArrowRight"===t){var r=n+1,a=r>=Object.keys(this.tabRefList).length?0:r;this.tabRefList[a].current.focus(),this.handleTabSelect(a)}else if("ArrowLeft"===t){var i=n-1,o=i<0?Object.keys(this.tabRefList).length-1:i;this.tabRefList[o].current.focus(),this.handleTabSelect(o)}}},{key:"renderChildren",value:function(){var e=this,t=0,n=this.props.children,r=this.state.selectedIndex;return this.tabRefList={},E.Children.map(n,function(n){var a=n;if(io(n,ao.TAB_LIST)){var i=0;a=Object(E.cloneElement)(n,{children:E.Children.map(n.props.children,function(t){if(!oo(t))return t;var n=i,a=w.a.createRef();e.tabRefList[i]=a;var o={index:n,onClick:function(){return e.handleTabSelect(n)},onKeyDown:function(t){return e.handleTabKeyDown(t)},onUnmount:e.handleTabUnmount,selected:r===n,tabRef:a};return i++,Object(E.cloneElement)(t,o)})})}else if(function(e){return io(e,ao.TAB_PANEL)}(n)){var o=t===r;a=o?Object(E.cloneElement)(n,{selected:o}):null,t++}return a})}},{key:"render",value:function(){return w.a.createElement("div",{className:"TabbedView"},this.renderChildren())}}]),t}(E.PureComponent);i()(so,"defaultProps",{selectedIndex:0,onSelect:function(){}});var co=so,lo=function(e){var t=e.children,n=e.className,r=void 0===n?"":n,a=e.tabClassName;return w.a.createElement("ul",{role:"tablist",className:"TabbedView-tabList ".concat(r)},E.Children.map(t,function(e){return oo(e)?w.a.cloneElement(e,{className:a}):e}))};lo.role=ao.TAB_LIST;var uo=lo,po=function(e){var t=e.children,n=e.onUnmount,r=e.onClick,a=e.onKeyDown,i=e.selected,o=e.index,s=e.className,c=e.tabRef;return Object(E.useEffect)(function(){return function(){return n(o)}},[o,n]),w.a.createElement("li",{className:V()(s,"TabbedView-tab",{"TabbedView-tab--selected":i}),"aria-selected":i?"true":"false",role:"tab",tabIndex:i?"0":"-1",ref:c,onClick:r,onKeyDown:a,children:t})};po.role=ao.TAB;var fo=po,ho=function(e){var t=e.children,n=e.render;return w.a.createElement("div",{className:"TabbedView-tabPanel"},n?Object(E.createElement)(n):t)};ho.role=ao.TAB_PANEL;var mo=ho,go=Object(le.b)(function(e,t){var n=e.meta,r=n.policies.canChangeAttendance,a=n.features,i=t.session,o=t.attendance,s=a.events_attendee_limit,c=i.max_attendees&&i.total_registered>=i.max_attendees,l=!function(e){return!!e&&"awaiting_reply"!==e.status}(o),u=s&&c,d=i.upcoming||r,p=!l&&["did_attend","will_attend"].includes(o.status),f=!l&&"will_not_attend"===o.status;return{showNoStatus:l&&d&&!u,showLimitMet:l&&d&&u,showDidNotAttend:l&&!d,canRegister:d&&!u||!i.upcoming&&r&&!u||d&&u&&p,showLimitMetOverrideStatus:!l&&f&&u,showRsvpStatus:!l}})(function(e){var n=e.event,r=e.session,a=e.attendance,i=e.urls,o=e.showNoStatus,s=e.canRegister,c=e.showLimitMet,l=e.showDidNotAttend,u=e.showRsvpStatus,d=e.showLimitMetOverrideStatus;return w.a.createElement(k.f,{url:s&&i.register,className:"EventsDashboardEvent ff-ss mb-24 d-b"},w.a.createElement(k.f.Content,{padding:"large"},w.a.createElement("div",{className:"mb-16 c-gray-darker d-f ai-c"},w.a.createElement(z.a,{name:"calendar_dashboard",customClass:"mr-8 f-sh-0"}),I()(r.start_time,L.fixed.ISO8601_LOCAL).format(L.LONG_WITH_DAY_AND_TIME)," | ",r.time_zone.formatted),w.a.createElement("div",{className:"fz-lg mb-8"},n.name),n.description&&w.a.createElement("div",{className:"c-gray-darker"},w.a.createElement(to.a,null,n.description)),w.a.createElement(qe,{className:"mt-16",session:r}),u&&!d&&w.a.createElement("div",{className:"mt-16"},w.a.createElement(no,{status:a.status})),d&&w.a.createElement("div",{className:"mt-16"},w.a.createElement(no,{status:"limit_met"})),o&&w.a.createElement("div",{className:"mt-16 fz-bigger c-brand-blue"},t("in_person_training.attendance.phrase.no_status")),r.upcoming&&c&&w.a.createElement("div",{className:"mt-16"},w.a.createElement(no,{status:"limit_met"})),l&&w.a.createElement("div",{className:"mt-16"},w.a.createElement(no,{status:"did_not_attend"})),!r.upcoming&&c&&w.a.createElement("div",{className:"mt-16"},w.a.createElement(no,{status:"did_not_attend"}))))}),vo=function(e){var t=e.events;return w.a.createElement("div",{className:"Animated Animated--fadeIn"},t.map(function(e){return w.a.createElement(go,{key:e.session.id,event:e.event,session:e.session,attendance:e.attendance,urls:e.urls})}))},bo=Object(le.b)(function(e){return{openEvents:eo(e),pastEvents:Xi(e),upcomingEvents:Ji(e)}})(function(e){var n=e.pastEvents,r=e.upcomingEvents,a=e.openEvents,i=!Object(me.isEmpty)(n),o=!Object(me.isEmpty)(r),s=!Object(me.isEmpty)(a);return w.a.createElement("div",{className:"EventsDashboardEventList"},w.a.createElement(co,null,w.a.createElement(uo,{className:"mb-24"},o&&w.a.createElement(fo,null,t("in_person_training.events_dashboard.upcoming_events")),i&&w.a.createElement(fo,null,t("in_person_training.events_dashboard.past_events")),s&&w.a.createElement(fo,null,t("in_person_training.events_dashboard.open_events"))),o&&w.a.createElement(mo,null,w.a.createElement(vo,{events:r})),i&&w.a.createElement(mo,null,w.a.createElement(mo,null,w.a.createElement(vo,{events:n}))),s&&w.a.createElement(mo,null,w.a.createElement(mo,null,w.a.createElement(vo,{events:a})))))}),yo=r(314),Eo=function(){return w.a.createElement(vi.a,{large:!0,className:"Animated Animated--fadeIn"},w.a.createElement("img",{className:"mh-300",src:pi.a,alt:t("in_person_training.events_dashboard.empty_state.description")}),w.a.createElement("br",null),w.a.createElement(yo.a,null,t("in_person_training.events_dashboard.empty_state.description")))},_o=function(e){function n(){return l()(this,n),f()(this,m()(n).apply(this,arguments))}return y()(n,e),d()(n,[{key:"componentDidMount",value:function(){this.props.requestEvents()}},{key:"render",value:function(){var e=this.props,n=e.loading,r=e.hasEvents;return w.a.createElement("div",{className:"EventDashboard"},w.a.createElement("h1",{className:"EventDashboard-heading ff-ss"},t("in_person_training.events_dashboard.heading")),!n&&r&&w.a.createElement(w.a.Fragment,null,w.a.createElement(ro,null),w.a.createElement(bo,null)),!n&&!r&&w.a.createElement(Eo,null))}}]),n}(E.Component),wo={requestEvents:function(){return e=$n()(Kn.a.mark(function e(t){var n;return Kn.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t(Wi.dataRequest()),e.next=3,C.a.get(N.k.IN_PERSON_TRAINING.EVENTS_DASHBOARD);case 3:n=e.sent,t(Wi.dataReceive(n));case 5:case"end":return e.stop()}},e)})),function(t){return e.apply(this,arguments)};var e}},So=Object(le.b)(function(e){var t=e.loading,n=e.events;return{loading:t,hasEvents:n.openEvents.length>0||n.userEvents.length>0}},wo)(_o),ko=function(e){function t(e){var n;return l()(this,t),(n=f()(this,m()(t).call(this,e))).store=fe(e,Gi,{name:"EventOverview"}),n}return y()(t,e),d()(t,[{key:"render",value:function(){return w.a.createElement(le.a,{store:this.store},w.a.createElement(So,null))}}]),t}(E.Component),Co=function(e){var t=e.event;e.session;return w.a.createElement("div",{className:"EventRegistrationHeader"},w.a.createElement("div",null,w.a.createElement("div",{className:"d-f jc-sb ai-fs mb-16"},w.a.createElement("h1",{className:"ff-ss ws-pr mr-8"},t.name)),w.a.createElement("p",{className:"fz-bigger c-gray-dark"},w.a.createElement(to.a,null,t.description))))},No=r(90),Oo=function(e){var n=e.pastEvent,r=e.setUserAttendance,a=e.statusLoading,i=function(e){var t=e.children,n=e.value;return w.a.createElement(No.a,{className:"EventRegistration-AttendanceButton",disabled:null!==a&&a!==n,loading:null!==a&&a===n,onClick:function(){return r(n)}},w.a.createElement(z.a,{name:n?"correct":"incorrect"}),t)};return w.a.createElement(w.a.Fragment,null,w.a.createElement(i,{value:!0},n?t("in_person_training.rsvp_status.did_attend"):t("in_person_training.rsvp_status.will_attend")),w.a.createElement(i,{value:!1},n?t("in_person_training.rsvp_status.did_not_attend"):t("in_person_training.rsvp_status.will_not_attend")))},xo=function(e){var n,r,a,i=e.attendance,o=e.changeAttendance,s=e.pastEvent,c=e.canChangeAttendance,l=e.showSessionAtCapacityNotice,u=void 0!==l&&l;u?(a="info",n="blue",r=t("in_person_training.attendance.phrase.at_capacity")):((s?i.did_attend:"will_attend"===i.rsvp_status)?(n="green",a="correct"):(n="red",a="incorrect"),r=function(e,n){return n?e.did_attend?t("in_person_training.attendance.phrase.did_attend"):t("in_person_training.attendance.phrase.did_not_attend"):"will_attend"===e.rsvp_status?t("in_person_training.attendance.phrase.will_attend"):t("in_person_training.attendance.phrase.will_not_attend")}(i,s));return w.a.createElement(w.a.Fragment,null,w.a.createElement("div",{className:"EventRegistration-AttendanceStatus\n        EventRegistration-AttendanceStatus--".concat(n,"\n        mr-16\n        ")},w.a.createElement(z.a,{name:a,customClass:"EventRegistration-AttendanceIcon"}),r),c&&!u&&w.a.createElement("button",{type:"button",onClick:o,className:"EventRegistration-ChangeRSVPButton"},t("in_person_training.rsvp_details.change_rsvp")))},To=function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream},Ro=function(){return/(android)/i.test(navigator.userAgent)},Po=function(e){return new Date(e).toISOString().replace(/-|:|\.\d+/g,"")},Io=function(e,n){var r=function(e,t){return{startTime:Po(e.start_time),endTime:Po(e.end_time)}}(n),a=r.startTime,i=r.endTime;return"https://www.google.com/calendar/render?action=TEMPLATE&text=".concat(encodeURIComponent(e.name||""),"&dates=").concat(encodeURIComponent(a||""),"/").concat(encodeURIComponent(i||""),"&details=").concat(encodeURIComponent(function(e){return t("in_person_training.calendar.change_register",{description:e.description||"",link:document.URL})}(e)),"&location=").concat(encodeURIComponent(n.location||""))},Ao=function(e){function n(e){var t;return l()(this,n),(t=f()(this,m()(n).call(this,e))).state={active:!1},t.togglePopover=t.togglePopover.bind(v()(t)),t}return y()(n,e),d()(n,[{key:"togglePopover",value:function(){var e=this.state.active;this.setState({active:!e})}},{key:"render",value:function(){var e=this.props,n=e.event,r=e.session,a=this.state.active;return w.a.createElement("div",{className:"mt-16 pos-r"},w.a.createElement(No.a,{tall:!0,icon:"calendar_add",onClick:this.togglePopover,className:"AddToCalendarButton"},"Add To Calendar"),a&&w.a.createElement(Ut,{styleName:"AddToCalendarPopover"},To()&&w.a.createElement(w.a.Fragment,null,w.a.createElement("a",{className:"AddToCalendarLink mb-4",target:"_blank",rel:"noopener noreferrer",href:Io(n,r)},w.a.createElement(z.a,{name:"google",customClass:"mr-4"}),t("in_person_training.calendar.add_to_google_web")),w.a.createElement("a",{className:"AddToCalendarLink mb-4",href:N.k.IN_PERSON_TRAINING.ICS_LINK(n.id,r.id),download:!0},w.a.createElement(z.a,{name:"apple",customClass:"mr-4"}),t("in_person_training.calendar.add_to_ical"))),Ro()&&w.a.createElement(w.a.Fragment,null,w.a.createElement("a",{className:"AddToCalendarLink mb-4",target:"_blank",rel:"noopener noreferrer",href:Io(n,r)},w.a.createElement(z.a,{name:"google",customClass:"mr-4"}),t("in_person_training.calendar.add_to_google_web")),w.a.createElement("a",{className:"AddToCalendarLink",href:N.k.IN_PERSON_TRAINING.ICS_LINK(n.id,r.id),download:!0},w.a.createElement(z.a,{name:"calendar",customClass:"mr-4"}),t("in_person_training.calendar.add_to_general"))),!To()&&!Ro()&&w.a.createElement(w.a.Fragment,null,w.a.createElement("a",{className:"AddToCalendarLink mb-4",target:"_blank",rel:"noopener noreferrer",href:Io(n,r)},w.a.createElement(z.a,{name:"google",customClass:"mr-4"}),t("in_person_training.calendar.add_to_google")),w.a.createElement("a",{className:"AddToCalendarLink",href:N.k.IN_PERSON_TRAINING.ICS_LINK(n.id,r.id),download:!0},w.a.createElement(z.a,{name:"microsoft",customClass:"mr-4"}),t("in_person_training.calendar.add_to_outlook")),w.a.createElement("a",{className:"AddToCalendarLink mb-4",href:N.k.IN_PERSON_TRAINING.ICS_LINK(n.id,r.id),download:!0},w.a.createElement(z.a,{name:"apple",customClass:"mr-4"}),t("in_person_training.calendar.add_to_ical")))))}}]),n}(E.Component),Mo=function(e){var t=e.attendance,n=e.event,r=e.session,a=e.pastEvent,i=e.setUserAttendance,o=e.changeAttendance,s=e.statusLoading,c=e.canChangeAttendance,l=e.showAttendanceStatus,u=e.showSessionAtCapacityNotice,d=e.showRsvpButtons,p=e.showAddToCalendar;return w.a.createElement("div",{className:"mt-8"},d&&w.a.createElement(Oo,{pastEvent:a,setUserAttendance:i,statusLoading:s}),l&&w.a.createElement(w.a.Fragment,null,w.a.createElement(xo,{attendance:t,changeAttendance:o,pastEvent:a,showSessionAtCapacityNotice:u,event:n,canChangeAttendance:c}),p&&w.a.createElement(Ao,{event:n,session:r})))},Do=function(e){var t=e.attendance,n=e.session,r=e.pastEvent,a=e.changingAttendance,i=e.canChangeAttendance,o=e.cappedRegistration,s=Object(S.some)([null!==t.did_attend,null!==t.rsvp_status]),c=Object(S.every)([null===t.did_attend,null===t.rsvp_status,!r||i]),l=Object(S.some)([s&&!a,r&&!i]),u=Object(S.every)([null!==n.max_attendees,n.total_registered>=n.max_attendees]),d=Object(S.every)([!r||i,!(t.did_attend||"will_attend"===t.rsvp_status),o&&u]),p=Object(S.every)([c||a,!d]);return w.a.createElement(Mo,H()({},e,{showSessionAtCapacityNotice:d,showRsvpButtons:p,showAttendanceStatus:l||d,showAddToCalendar:"will_attend"===t.rsvp_status&&!r}))},jo=function(e,t){return I()(e,L.fixed.ISO8601_LOCAL).format(t)},Lo=function(e){function n(){var e,t;l()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return t=f()(this,(e=m()(n)).call.apply(e,[this].concat(a))),i()(v()(t),"state",{changingAttendance:!1,attendance:t.props.attendance,statusLoading:null}),i()(v()(t),"setUserAttendance",function(e){var n=t.props.event,r=t.state.attendance.session,a=N.k.IN_PERSON_TRAINING.EVENT_SET_ATTENDANCE(n.id,r.id);t.setState({statusLoading:e}),C.a.post(a,{status:e}).then(function(e){t.setState({attendance:e.attendance,changingAttendance:!1,statusLoading:null})}).fail(function(){t.setState({changingAttendance:!1,statusLoading:null})})}),i()(v()(t),"changeAttendance",function(){t.setState({changingAttendance:!0})}),t}return y()(n,e),d()(n,[{key:"render",value:function(){var e=this.props,n=e.event,r=e.pastEvent,a=e.meta,i=a.policies,o=a.features,s=this.state,c=s.changingAttendance,l=s.attendance,u=s.statusLoading,d=this.state.attendance.session;return w.a.createElement("div",{className:"EventRegistration"},w.a.createElement(Co,{event:n,session:d}),w.a.createElement(k.f,null,w.a.createElement(k.f.Content,{padding:"large"},w.a.createElement("div",{className:"EventRegistration-date"},jo(d.start_time,L.LONG),", ",jo(d.start_time,L.TIME)," to ",jo(d.end_time,L.TIME)),w.a.createElement("div",{className:"c-gray-darker fz-base"},d.time_zone.formatted),w.a.createElement("div",{className:"mt-16"},d.location&&w.a.createElement("div",null,w.a.createElement("span",{className:"c-gray-darker fz-base"},t("in_person_training.event_details.location"))," ",d.location),d.trainer.name&&w.a.createElement("div",null,w.a.createElement("span",{className:"c-gray-darker fz-base"},t("in_person_training.event_details.instructor"))," ",d.trainer.name)),w.a.createElement(Do,{changeAttendance:this.changeAttendance,changingAttendance:c,event:n,session:d,pastEvent:r,attendance:l,setUserAttendance:this.setUserAttendance,statusLoading:u,canChangeAttendance:i.canChangeAttendance,cappedRegistration:o.events_attendee_limit}))))}}]),n}(E.Component),Fo='\n  <p style="text-align: center; margin-top: 50px; width: 100%; font-family: sans-serif">\n    Loading...\n  </p>\n';function Bo(e){var t=e.width,n=void 0===t?"800":t,r=e.height,a=void 0===r?"600":r,i=e.location,o=void 0===i?"":i,s=e.name,c=void 0===s?"_blank":s,l=e.loadingTemplate,u=void 0===l?Fo:l;return new Promise(function(e){var t=window.screen,r=t.availWidth,i=t.availHeight,s=parseInt((r-n)/2,10),l=parseInt((i-a)/2,10),d="width=".concat(n,",height=").concat(a,",left=").concat(s,",top=").concat(l),p=window.open(o,c,"".concat(d,",").concat("status=no,location=no,scrollbars=yes,resizable=yes"));p.document.body.innerHTML=u,e(p)})}var Uo=function(e){var n=e.eventName,r=e.session;return w.a.createElement(w.a.Fragment,null,w.a.createElement("div",{className:"fz-h1 ff-ss lh-1 mb-32"},t("in_person_training.invite_users.invite_people_to_event")," ",w.a.createElement("b",null,n)),w.a.createElement("div",{className:"mb-24"},w.a.createElement("div",{className:"fw-b mb-4"},I()(r.start_time,L.fixed.ISO8601_LOCAL).format(L.LONG_WITH_DAY_AND_TIME)),w.a.createElement("span",{className:"c-brand-gray-dark"},r.time_zone.formatted)),w.a.createElement(qe,{session:r}))},Ho=function(e){"Enter"===e.key&&e.preventDefault()},qo=function(e){var n=e.message,r=e.onChange;return w.a.createElement("div",{className:"mt-48"},w.a.createElement("h2",{className:"ff-ss"},t("in_person_training.invite_users.add_custom_message")),w.a.createElement("span",{className:"c-brand-gray-dark"},t("common.optional")),w.a.createElement("textarea",{onKeyDown:Ho,className:"AssignModal-messageInput mt-8",onChange:function(e){return r(e.target.value)},value:n}))};var Go=function(e){var t=e.name,n=e.type;return w.a.createElement("div",{className:"fz-20"},n===N.i.GROUP&&w.a.createElement(z.a,{name:"group",customClass:"mr-8"}),t)},Wo=function(e){var n,r,a,i=e.invitees,o=e.onSuggestionSelected;return w.a.createElement(Tn,{className:"NewInput NewInput--white NewInput--tall NewInput--fw fz-20 mt-8",filterSuggestions:(n=i,r=function(e){return"".concat(e.id,".").concat(e.type)},a=n.map(r),function(e){return e.filter(function(e){return!a.includes(r(e))})}),getSuggestionValue:function(e){return e.name},mapResponseToSuggestions:function(e){return e.data},onSuggestionSelected:o,placeholder:t("in_person_training.session.add_people"),renderSuggestion:Go,url:N.k.IN_PERSON_TRAINING.PEOPLE})},Vo=function(e){var n=e.invitees,r=e.onRemove;return w.a.createElement(Lt,{alternate:!0,className:"mt-16 bdrs-small ov-h"},w.a.createElement("div",{className:"Table-body"},n.map(function(e){return w.a.createElement(Lt.Row,{key:"".concat(e.id,".").concat(e.type)},w.a.createElement(Lt.BodyCell,{split:!0,className:"fz-bigger"},w.a.createElement("div",{className:"d-f jc-sb ai-c w-fill mr-16"},w.a.createElement("div",null,e.type===N.i.GROUP&&w.a.createElement(z.a,{name:"group",customClass:"mr-8 c-brand-gray-dark"}),e.name),e.type===N.i.GROUP&&w.a.createElement("span",{className:"c-brand-gray-dark fz-sm"},e.meta.usersCount," ",t("common.people"))),w.a.createElement("div",null,w.a.createElement(k.c,{icon:"delete",onClick:function(){return r(e)}}))))})))},zo=function(e){e.count;var n=e.invitees,r=e.onRemove,a=e.onAdd;return w.a.createElement("div",{className:"mt-48"},w.a.createElement("h2",{className:"ff-ss"},t("in_person_training.invite_users.who_to_invite")),w.a.createElement(Wo,{invitees:n,onSuggestionSelected:a}),!Object(me.isEmpty)(n)&&w.a.createElement(Vo,{invitees:n,onRemove:r}))},Yo=function(e){function n(){var e,t;l()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return t=f()(this,(e=m()(n)).call.apply(e,[this].concat(a))),i()(v()(t),"state",{loading:!1,invitees:[],message:""}),i()(v()(t),"addInvitee",function(e){t.setState(function(t){return{invitees:[].concat(Z()(t.invitees),[e])}})}),i()(v()(t),"removeInvitee",function(e){t.setState(function(t){return{invitees:Object(me.reject)(e,t.invitees)}})}),i()(v()(t),"handleMessageChange",function(e){t.setState({message:e.replace(/\r?\n|\r/g," ")})}),i()(v()(t),"handlePreviewEmail",function(){Bo({name:"email_preview"}).then(function(e){var n=t.props,r=n.session,a=n.event;C.a.postJSON(N.k.IN_PERSON_TRAINING.INVITATION_PREVIEW(a.id,r.id),{message:t.state.message},{dataType:"html"}).then(function(t){var n=e.document.createElement("style");n.innerHTML="body { padding: 5%; background: rgb(244, 244, 244); font: normal 13px/1 'proxima-nova', 'Helvetica Neue', sans-serif;} .maincontain { box-shadow: 0px 1px 1px 0px #ececec; }",e.document.body.innerHTML=t,e.document.body.appendChild(n)})})}),i()(v()(t),"handleSubmit",function(){var e=t.state,n=e.invitees,r=e.message,a=t.props,i=a.event,o=a.session;t.setState({loading:!0},function(){C.a.postJSON(N.k.IN_PERSON_TRAINING.SESSION_INVITATIONS(i.id,o.id),{invitees:n.map(Object(me.pick)(["id","type"])),message:r.trim()}).then(function(){window.location.assign(t.getEventRoute())})})}),t}return y()(n,e),d()(n,[{key:"getEventRoute",value:function(){return N.k.IN_PERSON_TRAINING.EVENT(this.props.event.id)}},{key:"render",value:function(){var e=this.props,n=e.session,r=e.event,a=this.state,i=a.invitees,o=a.message,s=a.loading;return w.a.createElement("div",{className:"InviteUsersForm"},w.a.createElement(Uo,{eventName:r.name,session:n}),w.a.createElement(zo,{invitees:i,onAdd:this.addInvitee,onRemove:this.removeInvitee}),w.a.createElement(qo,{message:o,onChange:this.handleMessageChange}),w.a.createElement("div",{className:"d-f jc-sb ai-c mt-24"},w.a.createElement("a",{className:"c-brand-blue fz-bigger",href:this.getEventRoute()},t("common.cancel")),w.a.createElement("div",null,w.a.createElement("button",{type:"button",className:"AssignModal-previewEmailBtn h-td-u td-n fz-bigger mr-16",onClick:this.handlePreviewEmail,disabled:!this.state.message},t("in_person_training.invite_users.preview_invitation"),w.a.createElement(z.a,{name:"external-link"})),w.a.createElement(k.c,{tall:!0,onClick:this.handleSubmit,primary:!0,loading:s,disabled:0===i.length},t("in_person_training.invite_users.invite")))))}}]),n}(E.Component),Qo=r(203),Ko=r.n(Qo),Xo=r(150),$o=r.n(Xo);var Zo=function(){var e=Object(E.useRef)(),t=Object(E.useMemo)(function(){return document.querySelector(".lesson_viewer")},[]),n=Object(E.useCallback)(function(){var n=t.getBoundingClientRect(),r=e.current.getBoundingClientRect();r.top<n.top?e.current.style.paddingTop="".concat(n.top-r.top,"px"):e.current.style.paddingTop=0},[t]);return Object(E.useEffect)(function(){return n(),window.addEventListener("resize",n),window.addEventListener("scroll",n),function(){window.removeEventListener("resize",n),window.removeEventListener("scroll",n)}},[n]),e};var Jo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.endpoint,n=e.include,r=void 0===n?{}:n,a=e.autoResetDelay,i=void 0===a?0:a,o=e.onReset,s=Object(E.useState)(!1),c=Ye()(s,2),l=c[0],u=c[1],d=Object(E.useState)(!1),p=Ye()(d,2),f=p[0],h=p[1],m=Object(E.useState)(""),g=Ye()(m,2),v=g[0],b=g[1],y=Object(E.useCallback)(function(){u(!1),b(""),o&&o()},[o]);return{submit:Object(E.useCallback)(function(){h(!0),C.a.post(t,R()({message:v},r)).then(function(){h(!1),u(!0),i&&setTimeout(y,i)}).fail(function(){return h(!1)})},[t,r,v,y,i]),sent:l,sending:f,message:v,setMessage:b,reset:y}},es=function(e){var n=e.onClick,r=e.disabled,a=e.icon;return w.a.createElement("div",{className:"LessonHeader-button Expert-toggle"},w.a.createElement("button",{type:"button",onClick:n,className:"u-resetBtn ExpertIcon-toggle o-0",disabled:r,"data-toggle":"tooltip","data-placement":"bottom","data-title":t("expert.learner.tooltip")},w.a.createElement(z.a,{customClass:"ExpertIcon",name:a})))},ts=r(35);function ns(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];C.a.post(N.k.EVENTS,{event_data:t,event_type:e,browser_information:n})}var rs=function(e){function n(){var e,t;l()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return t=f()(this,(e=m()(n)).call.apply(e,[this].concat(a))),i()(v()(t),"popoverRef",Object(E.createRef)()),i()(v()(t),"arrowRef",Object(E.createRef)()),t}return y()(n,e),d()(n,[{key:"componentDidMount",value:function(){this.positionPopover(),this.positionArrow()}},{key:"positionPopover",value:function(){var e=this.props.selectionRect,t=this.popoverRef.current,n=t.getBoundingClientRect().width;t.style.top=e.top+window.pageYOffset+"px";var r=e.left+e.width/2-n/2;r<=10?t.style.left="10px":r+n+10>window.innerWidth?t.style.left=window.innerWidth-n-10+"px":t.style.left=r+"px"}},{key:"positionArrow",value:function(){var e=this.props.selectionRect,t=this.popoverRef.current,n=this.arrowRef.current,r=t.getBoundingClientRect(),a=e.left+e.width/2-(r.left+r.width/2);n.style.left=r.width/2+a+"px"}},{key:"render",value:function(){var e=this.props.onClick;return w.a.createElement("div",{ref:this.popoverRef,className:"MicroFeedbackPopover"},w.a.createElement("div",{className:"MicroFeedbackPopover-content"},w.a.createElement("div",{className:"mb-8"},t("micro_feedback.send_feedback_question")),w.a.createElement(k.c,{customColor:!0,onClick:e},t("micro_feedback.send_feedback"))),w.a.createElement("div",{ref:this.arrowRef,className:"MicroFeedbackPopover-arrow"}))}}]),n}(E.Component),as="micro-feedback:submit",is=function(e){function t(){var e,n;l()(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return n=f()(this,(e=m()(t)).call.apply(e,[this].concat(a))),i()(v()(n),"state",{hasSelection:!1,selectionRect:null,selectionText:""}),i()(v()(n),"contentEl",document.querySelector(".lesson_viewer")),i()(v()(n),"registerSelection",function(e){n.contentEl.contains(e.target)&&(n.selectionStarted=!0)}),i()(v()(n),"cancelSelection",function(){n.selectionStarted=!1}),i()(v()(n),"closePopover",function(){n.state.hasSelection&&n.setState({hasSelection:!1,selectionRect:null})}),i()(v()(n),"closeOnSelectionCollapse",function(){document.getSelection().isCollapsed&&n.closePopover()}),i()(v()(n),"handleSelection",function(e){if(n.selectionStarted){n.selectionStarted=!1,e.stopPropagation();var t=window.getSelection(),r=t.toString().trim();if(r){var a=t.getRangeAt(0).cloneRange().getBoundingClientRect();n.setState({hasSelection:!0,selectionText:r,selectionRect:a})}}}),i()(v()(n),"handleClick",function(){var e=n.state.selectionText,t=n.props,r=t.lessonId,a=t.sectionId;pubsub.publish(as,e),ns("micro_feedback/popup_clicked",{section_id:a,lesson_id:r,selected_text:e}),n.closePopover()}),n}return y()(t,e),d()(t,[{key:"componentDidMount",value:function(){document.addEventListener("selectstart",this.registerSelection),document.addEventListener("selectionchange",this.closeOnSelectionCollapse),window.addEventListener("resize",this.closePopover),document.addEventListener("mouseup",this.cancelSelection),this.contentEl.addEventListener("mouseup",this.handleSelection)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("selectstart",this.registerSelection),document.removeEventListener("selectionchange",this.closeOnSelectionCollapse),window.removeEventListener("resize",this.closePopover),document.removeEventListener("mouseup",this.cancelSelection),this.contentEl.removeEventListener("mouseup",this.handleSelection)}},{key:"render",value:function(){var e=this.state,t=e.hasSelection,n=e.selectionRect;return t&&w.a.createElement(ts.a,null,w.a.createElement(rs,{selectionRect:n,onClick:this.handleClick}))}}]),t}(E.Component);var os=function(e,t){var n=Object(E.useCallback)(e,t);Object(E.useEffect)(function(){return pubsub.subscribe(as,n),function(){pubsub.unsubscribe(as,n)}},[n])},ss=function(e){var n=e.value,r=e.disabled,a=e.onChange,i=e.lessonTitle,o=Object(wn.a)();return w.a.createElement("textarea",{className:"ExpertForm-message",placeholder:t("expert.learner.placeholder",{title:i}),value:n,onChange:function(e){return a(e.target.value)},disabled:r,ref:function(e){e&&(e.focus(),o(e))},onFocus:function(e){var t=e.target.value;e.target.value="",e.target.value=t}})},cs=function(e){var n=e.lesson,r=e.postUrl,a=e.sectionId,i=e.expert,o=e.expertIconName,s=Object(E.useState)(!1),c=Ye()(s,2),l=c[0],u=c[1],d=Zo(),p=Object(E.useRef)({section_id:a}),f=Jo({endpoint:r,autoResetDelay:2e3,onReset:function(){return u(!1)},include:p.current}),h=f.setMessage,m=f.sending,g=f.sent,v=f.message,b=f.submit;return os(function(e){window.innerWidth<801||(p.current.originally_selected_text=e,h(t("micro_feedback.feedback_template",{selected:e})),u(!0))},[h]),w.a.createElement("div",{ref:d,className:"Expert Expert--sticky"},w.a.createElement("div",{className:"ExpertContainer"},w.a.createElement(es,{icon:o,disabled:g,onClick:function(){return u(function(e){return!e})}}),l&&w.a.createElement(Ft.a,{dismissCallback:function(){return!m&&!g&&u(!1)}},w.a.createElement("div",{className:V()("ExpertPopout ExpertPopout--bubble NewDropDown-list Animated Animated--popDown is-open",g&&"is-sent")},w.a.createElement("div",{className:"ExpertPopout-formContainer"},w.a.createElement("p",{className:"ExpertPopout-title"},t("expert.learner.title")),w.a.createElement("div",{className:"ExpertForm"},w.a.createElement(ss,{lessonTitle:n.title,onChange:h,disabled:m,value:v}),w.a.createElement("div",{className:"p-16"},w.a.createElement(k.c,{tall:!0,customColor:!0,fullWidth:!0,type:"button",onClick:b,className:"ExpertForm-submit",loading:m,disabled:!v.trim()},t("expert.learner.submit",{name:i.name}))))),w.a.createElement("div",{className:"ExpertPopout-successContainer"},w.a.createElement("div",{className:"ExpertPopout-image"},w.a.createElement("img",{src:$o.a,alt:t("expert.learner.sent_title")})),w.a.createElement("div",{className:"ExpertPopout-waves"},w.a.createElement("img",{src:Ko.a,alt:""})),w.a.createElement("div",{className:"ExpertPopout-body"},w.a.createElement("p",null,w.a.createElement("strong",null,t("expert.learner.sent_title"))),w.a.createElement("p",null,t("expert.learner.sent_body"))))))))},ls=function(e){var n=e.lesson,r=e.postUrl,a=e.sectionId,i=e.expert,o=e.expertIconName,s=Object(E.useState)(!1),c=Ye()(s,2),l=c[0],u=c[1],d=Object(E.useRef)({section_id:a}),p=Jo({endpoint:r,include:d.current}),f=p.message,h=p.setMessage,m=p.sent,g=p.sending,v=p.reset,b=p.submit;os(function(e){window.innerWidth>=801||(d.current.originally_selected_text=e,h(t("micro_feedback.feedback_template",{selected:e})),u(!0))},[h]);var y=function(){g||(u(!1),v())};return w.a.createElement("div",{className:"Expert Expert--mobile"},w.a.createElement("div",{className:"ExpertContainer"},w.a.createElement(es,{icon:o,disabled:m,onClick:function(){return u(function(e){return!e})}}),l&&w.a.createElement(ts.a,null,w.a.createElement("div",{className:V()("ExpertPopout is-open",m&&"is-sent")},w.a.createElement("div",{className:"Modal"},w.a.createElement(Ft.a,{className:"w-fill d-f jc-c",dismissCallback:y},w.a.createElement("div",{className:"Modal-container"},w.a.createElement("div",{className:"ExpertPopout-formContainer"},w.a.createElement("div",{className:"Modal-header"},t("expert.learner.title"),w.a.createElement("button",{type:"button",onClick:y,className:"u-resetBtn Modal-closeIcon"},w.a.createElement(z.a,{name:"remove",className:"Expert-toggle"}))),w.a.createElement("div",{className:"ExpertForm"},w.a.createElement(ss,{lessonTitle:n.title,onChange:h,disabled:g,value:f}),w.a.createElement("div",{className:"ExpertForm-buttonGroup"},w.a.createElement(k.c,{tall:!0,customColor:!0,className:"ExpertForm-submit",disabled:!f.trim(),loading:g,onClick:b},t("expert.learner.submit",{name:i.name})),w.a.createElement(Ce,{disabled:g,onClick:y,className:"ExpertForm-cancel Expert-toggle td-n"},t("expert.cancel"))))),w.a.createElement("div",{className:"ExpertPopout-successContainer"},w.a.createElement("div",{className:"ExpertPopout-image"},w.a.createElement("img",{src:$o.a,alt:t("expert.learner.sent_body")})),w.a.createElement("div",{className:"ExpertPopout-waves"},w.a.createElement("img",{src:Ko.a,alt:""})),w.a.createElement("div",{className:"ExpertPopout-body"},w.a.createElement("p",null,w.a.createElement("strong",null,t("expert.learner.sent_title"))),w.a.createElement("p",null,t("expert.learner.sent_body")),w.a.createElement(k.c,{onClick:y},t("expert.close")))))),w.a.createElement("div",{className:"Modal-background Expert-toggle"}))))))},us=function(e){function n(){var e,t;l()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return t=f()(this,(e=m()(n)).call.apply(e,[this].concat(a))),i()(v()(t),"state",{selectedId:t.props.workspaceId||"",loading:!1}),i()(v()(t),"handleWorkspaceChange",function(e){var n=t.props.contentId,r=t.state.selectedId;t.setState({selectedId:e.target.value,loading:!0},function(){C.a.put(N.k.LESSON(n),{lesson:{workspace_id:t.state.selectedId}}).then(function(){return t.setState({loading:!1})}).fail(function(){return t.setState({loading:!1,selectedId:r})})})}),t}return y()(n,e),d()(n,[{key:"render",value:function(){var e=this.props.workspaces,n=this.state,r=n.selectedId,a=n.loading;return w.a.createElement("div",null,w.a.createElement("h3",{className:"Module-heading SectionHeading"},t("workspaces.workspace")),w.a.createElement("div",{className:"px-16"},w.a.createElement(Q,{disabled:a,onChange:this.handleWorkspaceChange,value:r,fullWidth:!0},e.map(function(e){return w.a.createElement("option",{key:e.id,value:e.id||""},e.name)}))))}}]),n}(E.Component);i()(us,"defaultProps",{workspaces:[],workspaceId:""});var ds=us,ps=function(e){function n(e){var t;return l()(this,n),(t=f()(this,m()(n).call(this,e))).state={loading:!1,checked:!!e.id,id:e.id},t.handleCheckboxChange=t.handleCheckboxChange.bind(v()(t)),t.handleError=t.handleError.bind(v()(t)),t}return y()(n,e),d()(n,[{key:"handleError",value:function(){this.setState({loading:!1})}},{key:"handleCheckboxChange",value:function(e){var t=this;this.setState({loading:!0,checked:e.target.checked},function(){t.state.id?t.unFeatureContent():t.featureContent()})}},{key:"featureContent",value:function(){var e=this;C.a.postJSON(N.k.FEATURED_CONTENTS,{content_id:this.props.contentId,content_type:this.props.contentType}).then(function(t){e.setState({id:t.featured_content.id,loading:!1})}).fail(this.handleError)}},{key:"unFeatureContent",value:function(){var e=this;C.a.delete(N.k.FEATURED_CONTENT(this.state.id)).then(function(){e.setState({id:null,loading:!1})}).fail(this.handleError)}},{key:"render",value:function(){return w.a.createElement("h3",{className:"Module-heading SectionHeading"},t("learn.featured_content.feature_lesson"),w.a.createElement(z.a,{name:"info",customClass:"Module-headingIcon","data-toggle":"tooltip","data-original-title":t("learn.featured_content.feature_lesson_tooltip")}),w.a.createElement("input",{checked:this.state.checked,onChange:this.handleCheckboxChange,className:"pull-right",type:"checkbox",disabled:this.state.loading}))}}]),n}(E.Component),fs=r(677),hs=r.n(fs),ms=function(e){var n=e.canAssign,r=kn(),a=Ye()(r,2),i=a[0],o=a[1],s=Object(E.useMemo)(function(){return localStorage.getItem("display_lesson_published_success")},[]);Object(E.useEffect)(function(){"true"===new URLSearchParams(window.location.search).get("publish_success")&&"false"!==s&&o()},[s,o]);var c=Object(E.useCallback)(function(e){e.target.checked?localStorage.setItem("display_lesson_published_success",!1):localStorage.removeItem("display_lesson_published_success")},[]),l=Object(E.useCallback)(function(e){o(),pubsub.publish(N.d.ASSIGN_MODAL_TOGGLE)},[o]);return w.a.createElement(Ha.a,{dismissCallback:o,show:i,title:w.a.createElement("h1",{className:"ff-ss"},t("drafts.publishing.lesson_success_modal.heading"))},w.a.createElement("div",{className:"fz-16"},w.a.createElement("div",{className:"ta-c mb-32"},w.a.createElement("img",{className:"w-180 mr-32",src:hs.a,alt:t("common.success")})),w.a.createElement("p",null,t("drafts.publishing.lesson_success_modal.body")),w.a.createElement("div",{className:"d-f ai-fs mb-24"},w.a.createElement("span",{className:"c-gray-darker mr-4"},w.a.createElement("b",null,t("common.note_with_colon"))),w.a.createElement("span",{className:"c-gray-dark"},t("drafts.publishing.lesson_success_modal.note"))),w.a.createElement("label",{className:"mb-16",htmlFor:"toggle_display_message_preference"},w.a.createElement("input",{id:"toggle_display_message_preference",type:"checkbox",onChange:c,defaultChecked:!1}),w.a.createElement("span",{className:"ml-4"},t("common.do_not_show_again")))),w.a.createElement(k.d,{alignEnd:!0},w.a.createElement(k.c,{onClick:o},t("common.dismiss")),n&&w.a.createElement(k.c,{primary:!0,onClick:l},t("drafts.publishing.lesson_success_modal.assign_lesson"))))},gs=r(40),vs=function(e){var n=e.currentExpert,r=e.suggestionsPath,a=e.addExpertPath,i=e.removeExpertPath,o=Object(E.useState)(function(){return Object(S.get)(n,"[0].owner")}),s=Ye()(o,2),c=s[0],l=s[1],u=Object(E.useState)(!1),d=Ye()(u,2),p=d[0],f=d[1];function h(){return(h=$n()(Kn.a.mark(function e(){return Kn.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!confirm(t("expert.remove_confirmation",{name:c.name}))){e.next=9;break}return e.prev=1,f(!0),e.next=5,C.a.delete(i,{owner_id:c.id});case 5:l(null);case 6:return e.prev=6,f(!1),e.finish(6);case 9:case"end":return e.stop()}},e,null,[[1,,6,9]])}))).apply(this,arguments)}function m(){return(m=$n()(Kn.a.mark(function e(t){return Kn.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,f(!0),e.next=4,C.a.post(a,{owner_id:t.id});case 4:l(t);case 5:return e.prev=5,f(!1),e.finish(5);case 8:case"end":return e.stop()}},e,null,[[0,,5,8]])}))).apply(this,arguments)}var g=Object(E.useCallback)(function(e){c&&c.id===e&&l(null)},[c]);return Object(E.useEffect)(function(){return pubsub.subscribe("lesson-owner-removed",g)},[g]),w.a.createElement("div",{id:"experts"},w.a.createElement("h3",{className:"Module-heading SectionHeading"},t("expert.lesson.title"),w.a.createElement(z.a,{name:"info",customClass:"Module-headingIcon","data-toggle":"tooltip","data-original-title":t("expert.lesson.tooltip")})),c&&w.a.createElement("div",{className:"quicklist-item"},w.a.createElement(ft.a,{loading:p},c.name,w.a.createElement("button",{type:"button",className:"u-resetBtn quicklist-remove",onClick:function(){return h.apply(this,arguments)},disabled:p},w.a.createElement(z.a,{name:"remove"})))),!c&&w.a.createElement(Tn,{className:"SidebarModule-input",placeholder:t("ownership.share.placeholder"),getSuggestionValue:function(e){return e.name},mapResponseToSuggestions:function(e){return e.owners},onSuggestionSelected:function(e){return m.apply(this,arguments)},renderSuggestion:function(e){return e.name},url:Object(gs.b)(r,{limit:10},{merge:!0}),disabled:p}))},bs=w.a.createContext(),ys=function(e){var t=e.children,n=e.onClick,r=e.icon,a=Object(E.useContext)(bs);return w.a.createElement("li",null,w.a.createElement("button",{type:"button",className:"u-resetBtn w-240 ta-l p-2-8",onClick:function(){return n(a.directOwnership)}},w.a.createElement(z.a,{name:r,customClass:"mr-8"}),Object(S.isFunction)(t)?t(a):t))},Es=function(e){var t=e.id,n=e.heading,r=e.owners,a=e.children,i=e.collapsed,o=w.a.Children.only(a);return w.a.createElement(w.a.Fragment,null,w.a.createElement("h3",{className:"Accordion-headingWrapper"},w.a.createElement("a",{href:"#".concat(t),"data-toggle":"collapse",className:V()("d-f jc-sb u-resetBtn w-fill Accordion-heading",i&&"collapsed")},n,w.a.createElement(z.a,{name:"expand",customClass:"Accordion-icon"}))),w.a.createElement("div",{id:t,className:V()("collapse",!i&&"in")},r.map(function(e){return w.a.cloneElement(o,{key:e.id,owner:e})})))},_s={EditOnly:"edit_only",EditAndViewActivity:"edit_and_view_activity"},ws=function(e){return function(t){return t.ownerships&&Object(me.find)({permission:e},t.ownerships)}},Ss=ws(_s.EditOnly),ks=ws(_s.EditAndViewActivity),Cs=function(e){var n=e.owner,r=e.children;return w.a.createElement(bs.Provider,{value:n},w.a.createElement("div",{className:"user owner quicklist-item d-f jc-sb"},w.a.createElement("div",null,n.name,ks(n)&&w.a.createElement("span",{className:"Role","data-toggle":"tooltip",title:t("ownership.reporting_permissions.lessons.description")},t("ownership.reporting_permissions.badge"))),Object(S.isFunction)(r)?r(n):r))};var Ns=function(e){var t=e.children;return w.a.createElement("div",{className:"dropdown"},w.a.createElement("button",{type:"button","data-action":"tag-dropdown","data-toggle":"dropdown",className:"u-resetBtn dropdown-toggle"},w.a.createElement(z.a,{name:"settings"})),w.a.createElement("div",{className:"dropdown-menu",role:"menu"},t))};var Os=function(e){var n,r,a,i,o=e.initialDirectOwnerships,s=e.policies,c=e.ownableId,l=e.ownableType,u=e.isArchived,d=(n=Object(E.useState)([]),r=Ye()(n,2),a=r[0],i=r[1],Object(E.useEffect)(function(){C.a.get(N.k.OWNERSHIPS_PEOPLE,{ownership_type:"automatic_ownership"}).then(function(e){return i(e.owners)})},[]),a),p=kn(),f=Ye()(p,2),h=f[0],m=f[1],g=Object(E.useState)(o),v=Ye()(g,2),b=v[0],y=v[1],_=Object(E.useMemo)(function(){return function(e){var t=e.reduce(function(e,t){var n=t.owner;return e[n.id]||(e[n.id]=R()({},n,{ownerships:[]})),e[n.id].ownerships.push(t),t.direct_ownership&&(e[n.id].directOwnership=t),e},{});return Object.values(t)}(b)},[b]),S=Object(E.useMemo)(function(){return _.filter(function(e){return e.ownerships.every(function(e){return e.ownable_id===c})})},[c,_]),k=Object(E.useMemo)(function(){return _.filter(function(e){return e.ownerships.some(function(e){return e.ownable_id!==c})})},[c,_]),O=Object(E.useMemo)(function(){return _n([].concat(Z()(d),Z()(S),Z()(k)))},[d,S,k]);function x(){return(x=$n()(Kn.a.mark(function e(t){var n;return Kn.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,m(),e.next=4,C.a.postJSON(N.k.OWNERSHIPS,{ownableId:c,ownableType:l,ownerId:t.id});case 4:n=e.sent,y(function(e){return[].concat(Z()(e),[n])});case 6:return e.prev=6,m(),e.finish(6);case 9:case"end":return e.stop()}},e,null,[[0,,6,9]])}))).apply(this,arguments)}function T(e){return P.apply(this,arguments)}function P(){return(P=$n()(Kn.a.mark(function e(n){var r;return Kn.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!confirm(t("ownership.share.remove_confirmation",{name:n.owner.name}))){e.next=12;break}return e.prev=1,e.next=4,C.a.delete(N.k.OWNERSHIP(n.id));case 4:r=e.sent,y(function(e){return Object(me.reject)(n,e)}),pubsub.publish("lesson-owner-removed",n.owner.id),r.redirect&&(window.location.href=r.redirect),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(1);case 12:case"end":return e.stop()}},e,null,[[1,10]])}))).apply(this,arguments)}function I(e){return A.apply(this,arguments)}function A(){return(A=$n()(Kn.a.mark(function e(t){var n;return Kn.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.permission===_s.EditOnly?_s.EditAndViewActivity:_s.EditOnly,e.prev=1,e.next=4,C.a.put(N.k.OWNERSHIP(t.id),{permission:n});case 4:y(function(e){return Object(ge.j)(e,{id:t.id},{permission:n})}),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(1);case 9:case"end":return e.stop()}},e,null,[[1,7]])}))).apply(this,arguments)}return w.a.createElement("div",{id:"ownerships"},w.a.createElement("h3",{className:"Module-heading SectionHeading"},u?t("ownership.share.title.archived"):t("ownership.share.title.enabled"),w.a.createElement(z.a,{name:"info",customClass:"Module-headingIcon","data-toggle":"tooltip","data-original-title":u?t("ownership.share.tooltip_archived"):t("ownership.share.tooltip")})),s.add_owner&&w.a.createElement(Tn,{className:"SidebarModule-input",filterSuggestions:O,placeholder:t("ownership.share.placeholder"),getSuggestionValue:function(e){return e.name},mapResponseToSuggestions:function(e){return e.owners},onSuggestionSelected:function(e){return x.apply(this,arguments)},renderSuggestion:function(e){return e.name},url:Object(gs.b)(N.k.OWNERSHIPS_PEOPLE,{limit:10}),disabled:h}),w.a.createElement("section",null,w.a.createElement(Es,{id:"automatic_owners_list",heading:t("ownership.heading.automatic_owners"),owners:d,collapsed:!0},w.a.createElement(Cs,null)),!!k.length&&w.a.createElement(Es,{id:"inherited_owners_list",heading:t("ownership.heading.inherited_owners"),owners:k},w.a.createElement(Cs,null)),w.a.createElement(Es,{id:"explicit_owners",heading:t("ownership.heading.shared_owners"),owners:S},w.a.createElement(Cs,null,function(e){return w.a.createElement(w.a.Fragment,null,s.update_ownership&&s.remove_ownership&&w.a.createElement(Ns,null,w.a.createElement(ys,{icon:"remove",onClick:T},t("ownership.remove")),w.a.createElement(ys,{icon:"reporting",onClick:I},Ss(e)?t("ownership.reporting_permissions.lessons.share"):t("ownership.reporting_permissions.lessons.revoke"))),!s.update_ownership&&s.remove_ownership&&w.a.createElement("button",{type:"button",className:"u-resetBtn quicklist-remove",onClick:function(){return T(e.directOwnership)}},w.a.createElement(z.a,{name:"remove"})))}))))},xs=r(112),Ts=r(83),Rs=function(e){var t=e.children,n=e.omitCurrentYear,r=e.className,a=I()(t),i=a.format(L.MONTH_DAY_SHORT);return n&&!a.isSame(Date.now(),"year")&&(i=a.format(L.MONTH_DAY_YEAR_SHORT)),w.a.createElement("time",{className:r,dateTime:a.toJSON(),title:a.format(L.LONG)},i)};Rs.defaultProps={omitCurrentYear:!0,className:null};var Ps,Is=Rs,As=Object(E.createContext)({onDemandPractice:!1,practiceWithPeers:!1}),Ms=Object(S.once)(function(){var e=document.documentElement.getAttribute("data-useragent");return!e.includes("Edge")&&/msie\s|trident\//i.test(e)}),Ds=750,js=function(e){function n(){var e,t;l()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return t=f()(this,(e=m()(n)).call.apply(e,[this].concat(a))),i()(v()(t),"state",{copied:!1}),i()(v()(t),"inputRef",Object(E.createRef)()),i()(v()(t),"buttonRef",Object(E.createRef)()),i()(v()(t),"handleCopySuccess",function(e){e.clearSelection(),clearTimeout(t.copyTimerId),t.setState({copied:!0},function(){t.copyTimerId=setTimeout(function(){return t.setState({copied:!1})},Ds)})}),i()(v()(t),"selectInput",function(e){var n=t.inputRef.current;n&&n.select()}),t}return y()(n,e),d()(n,[{key:"componentDidMount",value:function(){Ms()||(this.clipboard=new je.a(this.buttonRef.current),this.clipboard.on("success",this.handleCopySuccess))}},{key:"render",value:function(){return w.a.createElement(w.a.Fragment,null,w.a.createElement("div",{className:"mb-8 c-gray-darker fz-base"},this.props.caption),w.a.createElement("div",{className:"d-f ai-c"},w.a.createElement("input",{className:"NewInput NewInput--white f-1 f-sh-0",onFocus:this.selectInput,onClick:this.selectInput,ref:this.inputRef,value:this.props.link,readOnly:!0}),!Ms()&&w.a.createElement(k.c,{"data-clipboard-text":this.props.link,ref:this.buttonRef,onClick:this.copyLinkToClipboard,onlyIconOnMobile:!0,icon:"copy",className:"ml-8"},this.state.copied?t("common.copied"):t("common.copy_link"))))}}]),n}(E.Component),Ls=function(e){var t=e.attempt,n=e.caption,r=e.prompt;return"written_response"===t.scenarioType?null:w.a.createElement(w.a.Fragment,null,r&&t&&w.a.createElement(k.f.Content,{padding:"medium"},w.a.createElement("div",{className:"PreviousAttempt-description mr-16"},w.a.createElement("h2",{className:"PreviousAttempt-prompt"},r),w.a.createElement(Is,null,t.createdAt))),w.a.createElement(k.f.Content,{padding:"medium",className:"bg-gray-lightest"},w.a.createElement(js,{caption:n,link:t.sharableLink})))},Fs=function(e){var n=e.scenarioId,r=e.attempt,a=e.caption,i=e.prompt;return Object(E.useContext)(As).practiceWithPeers?w.a.createElement(k.f.Content,{padding:"medium",className:"bg-gray-lightest bt-gray-lighter"},w.a.createElement("div",{className:"d-f fd-c mb-16"},w.a.createElement("span",{className:"fw-b fz-14"},t("practice.on_demand_practice.previous_attempts.feedback.ask_for_feedback_title")),w.a.createElement("span",null,t("practice.on_demand_practice.previous_attempts.feedback.ask_for_feedback_instructions"))),w.a.createElement(k.d,{className:"d-f jc-sb fw-w"},w.a.createElement(k.c,{customColor:!0,className:"mb-8",url:N.k.ON_DEMAND_PRACTICE.LEARNING.ATTEMPTS.REQUEST_FEEDBACK(n,r.id)},t("practice.on_demand_practice.previous_attempts.feedback.ask_for_feedback_button")),r.hasFeedback&&w.a.createElement(k.c,{className:"mb-8",url:N.k.ON_DEMAND_PRACTICE.LEARNING.ATTEMPTS.FEEDBACK(n,r.id)},t("practice.on_demand_practice.previous_attempts.feedback.view_feedback_button")))):w.a.createElement(Ls,{attempt:r,caption:a,prompt:i})},Bs=r(39),Us=Object(Ts.d)(function(e){var t=e.token,n=e.className,r=Object(E.useRef)(null);return Object(E.useEffect)(function(){r.current&&Object(Ts.a)(t,null,r.current)},[t]),w.a.createElement("div",{ref:r,className:"".concat(n," m-mh-a")},w.a.createElement("div",{className:"d-f ai-c jc-c p-24 m-mh-a iframe-16-9"},w.a.createElement(k.k,{size:"larger"})))}),Hs=r(95),qs=function(e){return/\/video\/play\/(.+)$/g.exec(e.recorded_url)[1]},Gs=function(e,t){return"".concat(e).concat(t,"?type=lessonly")},Ws=function(e){var t=e.scenarioId,n=e.handleDismiss,r=e.show,a=e.attempt,i=e.prompt,o=e.hippoPreviewBase,s=(e.caption,"webcam_recording"===a.scenarioType);return r&&w.a.createElement(ts.a,{type:"portal"},w.a.createElement(Bs.a,{className:"ModalTakeover-background Modal-background",onEscape:n},w.a.createElement("div",{className:"PreviousAttempt-modal ModalTakeover-container"},w.a.createElement("div",{className:"ModalTakeover-closeButton",onClick:n},w.a.createElement(z.a,{name:"error"})),w.a.createElement(k.f,null,w.a.createElement(k.f.Content,null,w.a.createElement("div",{className:"VideoEmbed VideoEmbed-player VideoEmbed--background"},s&&w.a.createElement(Us,{token:a.answer,className:"VideoEmbed-videoPlayer PreviousAttempt-modalPlayer"}),!s&&w.a.createElement(Hs.a,{embedUrl:Gs(o,a.answer)}))),w.a.createElement(Fs,{scenarioId:t,attempt:a,prompt:i})))))},Vs=function(e){var n=e.toggleDeleteModal,r=e.deleteAttempt;return w.a.createElement(un.c,{onDismiss:n},w.a.createElement(un.a,null,t("practice.on_demand_practice.confirm_delete.title")),t("practice.on_demand_practice.confirm_delete.description"),w.a.createElement(k.d,{alignEnd:!0,className:"mt-8"},w.a.createElement(k.c,{customColor:!0,onClick:r,className:"PreviousAttempt-confirmDelete"},t("common.delete")),w.a.createElement(k.c,{onClick:n},t("common.cancel"))))},zs=function(e){var n=e.closeDeleteErrorModal;return w.a.createElement(un.c,{onDismiss:n},w.a.createElement(un.a,null,t("practice.on_demand_practice.error.delete_attempt.title")),t("practice.on_demand_practice.error.delete_attempt.description"),w.a.createElement(k.d,{alignEnd:!0,className:"mt-8"},w.a.createElement(k.c,{customColor:!0,onClick:n},t("common.ok"))))},Ys="audio_recording",Qs="screen_recording",Ks="webcam_recording",Xs="written_response",$s=(Ps={},i()(Ps,Ys,!0),i()(Ps,Qs,!0),i()(Ps,Ks,!0),Ps),Zs=function(e){var t=e.onClick,n=e.onKeyDown,r=e.attempt,a=e.thumbnail;return w.a.createElement("div",{className:"PreviousAttempt-thumbnail mr-16 mb-16",onClick:t,onKeyDown:n,tabIndex:"0",role:"button"},w.a.createElement(xs.a,{mediaThumbnailSrc:a,questionType:r.scenarioType}))},Js=function(e){var t=e.attempt;return w.a.createElement("div",{className:"PreviousAttempt-written mr-16 mb-16"},w.a.createElement(to.a,null,t.answer))},ec=function(e){var t=e.attempt,n=e.thumbnail,r=e.onClick,a=e.onKeyDown;return $s[t.scenarioType]?w.a.createElement(Zs,{attempt:t,thumbnail:n,onClick:r,onKeyDown:a}):t.scenarioType===Xs?w.a.createElement(Js,{attempt:t}):null},tc=function(e){function n(){var e,t;l()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return t=f()(this,(e=m()(n)).call.apply(e,[this].concat(a))),i()(v()(t),"state",{modalVisible:!1,deleteError:!1,confirmDelete:!1}),i()(v()(t),"playerRef",w.a.createRef()),i()(v()(t),"openModal",function(){t.setState({modalVisible:!0})}),i()(v()(t),"closeModal",function(){t.setState({modalVisible:!1})}),i()(v()(t),"closeDeleteErrorModal",function(){t.setState({deleteError:!1})}),i()(v()(t),"deleteAttempt",function(){var e=t.props,n=e.attempt,r=e.scenarioId;C.a.delete(N.k.ON_DEMAND_PRACTICE.LEARNING.ATTEMPTS.SHOW(r,n.id)).then(function(e){e.success&&t.props.removeAttempt(n.id)}).fail(function(){t.setState({deleteError:!0})})}),i()(v()(t),"toggleDeleteModal",function(){t.setState(function(e){return{confirmDelete:!e.confirmDelete}})}),i()(v()(t),"thumbnail",function(){var e=t.props.attempt;return"audio_recording"===e.scenarioType?"":"webcam_recording"===e.scenarioType?Object(Ts.c)(e.answer):"screen_recording"===e.scenarioType?t.props.hippoThumbnailBase+e.answer+".jpg":""}),t}return y()(n,e),d()(n,[{key:"render",value:function(){var e=this,n=this.state,r=n.modalVisible,a=n.deleteError,i=n.confirmDelete,o=this.props,s=o.scenarioId,c=o.prompt,l=o.description,u=o.highlighted,d=o.attempt,p=o.hippoPreviewBase;return w.a.createElement(k.f,{className:V()("PreviousAttempt","mb-32",{"is-highlighted":u})},w.a.createElement(k.f.Content,{className:"PreviousAttempt-content d-f m-fd-c jc-sb px-16 pt-16"},w.a.createElement(ec,{attempt:d,thumbnail:this.thumbnail(),onClick:this.openModal,onKeyDown:function(t){return"Enter"===t.key&&e.openModal()}}),w.a.createElement("div",{className:"d-f f-1 jc-s"},w.a.createElement("div",{className:"PreviousAttempt-description mr-16 mb-16"},w.a.createElement("h2",{className:"PreviousAttempt-prompt"},c),w.a.createElement("h3",{className:"PreviousAttempt-description"},l),w.a.createElement(Is,{omitCurrentYear:!1,className:"h-36 lh-36"},d.createdAt)),w.a.createElement("div",{className:"PreviousAttempt-actions"},w.a.createElement(k.c,{icon:"delete",className:"PreviousAttempt-deleteButton",onClick:this.toggleDeleteModal})))),w.a.createElement(Fs,{scenarioId:s,attempt:d,caption:t("practice.on_demand_practice.previous_attempts.link_description")}),w.a.createElement(Ws,{scenarioId:s,attempt:d,caption:t("practice.on_demand_practice.previous_attempts.link_description"),show:r,prompt:c,handleDismiss:this.closeModal,hippoPreviewBase:p}),a&&w.a.createElement(zs,{closeDeleteErrorModal:this.closeDeleteErrorModal}),i&&w.a.createElement(Vs,{toggleDeleteModal:this.toggleDeleteModal,deleteAttempt:this.deleteAttempt}))}}]),n}(w.a.Component);i()(tc,"contextType",As);var nc=Object(Ts.d)(tc),rc=function(e){function n(){var e,t;l()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return t=f()(this,(e=m()(n)).call.apply(e,[this].concat(a))),i()(v()(t),"state",{attempts:[],loading:!0,ziggeoApiKey:null,hippoPreviewBase:null}),i()(v()(t),"removeAttempt",function(e){t.setState(function(t){return{attempts:Object(me.remove)(function(t){return t.id===e},t.attempts)}})}),i()(v()(t),"renderPreviousAttempt",function(e,n){var r=t.props.highlightFirstAttempt,a=t.state,i=a.ziggeoApiKey,o=a.hippoPreviewBase,s=a.hippoThumbnailBase;return w.a.createElement(nc,{highlighted:r&&0===n,key:e.id,apiKey:i,prompt:e.prompt,attempt:e,removeAttempt:t.removeAttempt,scenarioId:e.scenarioId,hippoPreviewBase:o,hippoThumbnailBase:s})}),t}return y()(n,e),d()(n,[{key:"componentDidMount",value:function(){var e=this;C.a.get(N.k.ON_DEMAND_PRACTICE.LEARNING.ATTEMPTS.ALL).then(function(t){e.setState(R()({loading:!1},t))}).fail(function(){e.setState({loading:!1})})}},{key:"render",value:function(){var e=this.state,n=e.loading,r=e.attempts,a=this.props.meta;return w.a.createElement(As.Provider,{value:a.features},w.a.createElement("div",{className:"OnDemandPracticeScenario"},w.a.createElement("a",{className:"OnDemandPracticeScenario-backLink",href:N.k.ON_DEMAND_PRACTICE.LEARNING.INDEX(1)},w.a.createElement(z.a,{name:"back",customClass:"mr-4"}),t("practice.on_demand_practice.back_link")),w.a.createElement("h2",{className:"ff-ss fw-b ws-pr bb-gray-lighter pb-8 mb-16 mt-16"},t("practice.on_demand_practice.overview.learner_page.all_previous_responses.title")),n&&w.a.createElement(k.k,null),!n&&r.map(this.renderPreviousAttempt)))}}]),n}(E.Component),ac="lessons",ic=function(e){var n=e.onSubmit,r=e.onChange,a=e.searchQuery;return w.a.createElement("form",{className:"IndexFilter IndexFilter-search",onSubmit:n},w.a.createElement("input",{className:"NewInput NewInput--lightestGray",type:"search",placeholder:t("common.search"),onChange:r,value:a}))},oc=function(e){var n=e.children,r=e.className;return w.a.createElement("div",{className:V()("TabSection-tabsList",r),"aria-label":t("training_activity.content_button_label")},n)},sc=function(e){var t=e.children,n=e.isActive,r=e.onSelect;return w.a.createElement("button",{type:"button",className:V()("TabSection-tab u-resetBtn",{"TabSection-tab--active":n}),tabIndex:"0",onClick:r},t)},cc=function(e){function n(e){var t;return l()(this,n),(t=f()(this,m()(n).call(this,e))).state={activeView:ac,lessonPage:1,lessonPageCount:0,lessonPerPage:10,lessons:[],loading:!0,pathPage:1,pathPageCount:0,pathPerPage:10,paths:[],recentLessonSearchQuery:null,recentPathSearchQuery:null,searchQuery:""},t}return y()(n,e),d()(n,[{key:"componentDidMount",value:function(){this.getLessons()}},{key:"goToView",value:function(e){"paths"===e?this.state.searchQuery!==this.state.recentPathSearchQuery&&this.getPaths():e===ac&&this.state.searchQuery!==this.state.recentLessonSearchQuery&&this.getLessons(),this.setState({activeView:e})}},{key:"getActiveView",value:function(){return this.state.loading?"loading":this.state.activeView}},{key:"isCurrentView",value:function(e){return this.getActiveView()===e}},{key:"getLessons",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.page,r=void 0===n?this.state.lessonPage:n,a=t.perPage,i=void 0===a?this.state.lessonPerPage:a,o=this.state.searchQuery;this.setState({loading:!0}),C.a.get(N.k.ANALYZER_RIGHTS.LESSONS,{query:o,perPage:i,page:r}).then(function(t){e.setState({lessons:t.lessons,loading:!1,recentLessonSearchQuery:o,lessonPageCount:t.pageCount,lessonPage:t.page,lessonPerPage:t.perPage})})}},{key:"getPaths",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.page,r=void 0===n?this.state.pathPage:n,a=t.perPage,i=void 0===a?this.state.pathPerPage:a,o=this.state.searchQuery;this.setState({loading:!0}),C.a.get(N.k.ANALYZER_RIGHTS.PATHS,{query:o,perPage:i,page:r}).then(function(t){e.setState({paths:t.paths,loading:!1,recentPathSearchQuery:o,pathPageCount:t.pageCount,pathPage:t.page,pathPerPage:t.perPage})})}},{key:"handleLessonPageChange",value:function(e){this.getLessons({page:e})}},{key:"handleLessonPerPageChange",value:function(e){this.getLessons({perPage:e})}},{key:"handlePathPageChange",value:function(e){this.getPaths({page:e})}},{key:"handlePathPerPageChange",value:function(e){this.getPaths({perPage:e})}},{key:"handleSearchSubmit",value:function(e){e.preventDefault(),this.isCurrentView(ac)?this.getLessons():this.isCurrentView("paths")&&this.getPaths()}},{key:"showNoResultsRow",value:function(){return w.a.createElement(Lt.Row,null,w.a.createElement(Lt.Body.Cell,null,t("training_activity.no_results")))}},{key:"render",value:function(){var e=this,n=this.state,r=n.lessons,a=n.paths,i=n.loading,o=n.searchQuery,s=n.lessonPageCount,c=n.lessonPage,l=n.lessonPerPage,u=n.pathPageCount,d=n.pathPage,p=n.pathPerPage;return w.a.createElement("div",{className:"AnalyzerRightsContents DataCard fd-c p-24"},w.a.createElement("h3",{className:"DataCard-title"},t("training_activity.name"),w.a.createElement(Cn,{tooltip:t("training_activity.description"),className:"ml-4"})),w.a.createElement(ft.a,{loading:i},w.a.createElement("div",{className:"Index-toolbar"},w.a.createElement(oc,{className:"py-16"},w.a.createElement(sc,{isActive:this.isCurrentView(ac),onSelect:function(){e.goToView(ac)}},t("activerecord.models.lesson.other")),w.a.createElement(sc,{isActive:this.isCurrentView("paths"),onSelect:function(){e.goToView("paths")}},t("activerecord.models.learning_paths/path.other"))),w.a.createElement(ic,{searchQuery:o,onChange:function(t){return e.setState({searchQuery:t.target.value})},onSubmit:function(t){return e.handleSearchSubmit(t)}})),this.isCurrentView("loading")&&w.a.createElement("h3",null,t("common.loading")),this.isCurrentView(ac)&&w.a.createElement("div",null,w.a.createElement(Lt,{alternate:!0},w.a.createElement(Lt.Body,null,!r.length&&this.showNoResultsRow(),r.map(function(e){return w.a.createElement(Lt.Row,{key:e.id},w.a.createElement(Lt.Body.Cell,null,w.a.createElement("a",{tabIndex:"0",href:e.urls.overview},e.title)))})),w.a.createElement(Lt.Footer,null,w.a.createElement(Lt.Pagination,{pageCount:s,page:c,perPage:l,onPageChange:function(t){return e.handleLessonPageChange(t)},onPerPageChange:function(t){return e.handleLessonPerPageChange(t)}})))),this.isCurrentView("paths")&&w.a.createElement("div",null,w.a.createElement(Lt,{alternate:!0},w.a.createElement(Lt.Body,null,!a.length&&this.showNoResultsRow(),a.map(function(e){return w.a.createElement(Lt.Row,{key:e.id},w.a.createElement(Lt.Body.Cell,null,w.a.createElement("a",{tabIndex:"0",href:e.urls.overview},e.title)))})),w.a.createElement(Lt.Footer,null,w.a.createElement(Lt.Pagination,{pageCount:u,page:d,perPage:p,onPageChange:function(t){return e.handlePathPageChange(t)},onPerPageChange:function(t){return e.handlePathPerPageChange(t)}}))))))}}]),n}(E.Component),lc=function(e){return fe(e,{data:Fi,bulk:ji,filter:function(){return{url:N.k.ARCHIVES}}})},uc=function(e){return w.a.createElement(Lt.BodyCell,{size:"xl",name:"title",split:!0},w.a.createElement("div",null,w.a.createElement("a",{href:e.urls.overview},e.title)),w.a.createElement("div",{className:"IndexAction-container"},!!e.urls.preview&&w.a.createElement("a",{className:"IndexAction-button ButtonWithTooltip IndexAction-button--square",target:"lesson_preview_".concat(e.id),"data-tooltip":"Preview",href:e.urls.preview},w.a.createElement(z.a,{name:"preview"})),!!e.urls.copy&&w.a.createElement("a",{className:"IndexAction-button ButtonWithTooltip IndexAction-button--square","data-tooltip":"Copy","data-method":"post","data-remote":"true",href:e.urls.copy},w.a.createElement(z.a,{name:"copy"}))))},dc=function(e){var t=e.archivedAt?moment(e.archivedAt):null;return w.a.createElement(Lt.BodyCell,{size:"s",hideBelowMD:!0},t?t.format(L.LONG_AT_TIME):"-")},pc=function(e){return w.a.createElement(Lt.BodyCell,{size:"s",hideBelowMD:!0,center:!0},e.activityCount||"0")},fc=function(e){return w.a.createElement(si,{index:e.index},w.a.createElement(uc,H()({},e,{selected:void 0})),w.a.createElement(dc,e),w.a.createElement(pc,e))},hc=function(e){return w.a.createElement("div",null,!!e.archivables.length&&w.a.createElement(Lt.Header,null,w.a.createElement(Lt.HeaderCell,{size:"xs"}),w.a.createElement(Lt.HeaderCell,{size:"xl"},e.headers.title),w.a.createElement(Lt.HeaderCell,{size:"s",hideBelowMD:!0},e.headers.date),w.a.createElement(Lt.HeaderCell,{size:"s",center:!0,hideBelowMD:!0},e.headers.activity)),w.a.createElement("div",{className:"Table-body"},e.archivables.map(function(t,n){return w.a.createElement(fc,H()({key:"".concat(e.lastFetched,"_").concat(n),index:t.index},t))})))},mc=function(){return function(e,t){return e(Nr({name:"archive",route:N.k.BULK_ARCHIVE,data:{archivables:Object(Or.s)(t())}}))}},gc=Object(le.b)(function(e,t){return{bulkActionDone:e.bulk.done,visible:!0,hasError:Object(Or.h)(e),success:e.bulk.success,selectedCount:e.bulk.selected.length,archivesIsActive:!0,totalResults:e.data.totalResults,loading:Object(Or.n)(e),bulkDone:!e.bulk.inProgress&&e.bulk.done,bulkInProgress:e.bulk.inProgress,bulkCount:e.bulk.count,bulkName:e.bulk.name,disabled:Object(Or.t)(e)}},function(e){return{actions:{restore:function(){return e(function(e,t){return e(Nr({name:"restore",route:N.k.BULK_RESTORE,data:{archivables:Object(Or.s)(t())}}))})}}}})(function(e){return w.a.createElement(za,H()({},e,{buttons:[{label:"Restore",iconName:"restore",onClickKey:"restore",modalTitle:"Restore Content",modalMessage:"Are you sure you want to restore %selectedCount% %nItems%?",modalConfirmButton:"Yes, restore"}]}))}),vc=Object(le.b)(function(e){return{data:e.data.content,filter:e.filter,sections:e.data.sections,lastFetched:e.data.lastFetched,visible:!0,loading:Object(Or.n)(e)}})(function(e){var t=e.data.map(function(e,t){return R()({},e,{index:t})}),n=e.sections.map(function(e){return R()({},e,{archivables:t.filter(function(t){return t.type===e.type})})}).filter(function(e){return e.archivables.length>0});return w.a.createElement("div",null,w.a.createElement(gc,e,w.a.createElement(sa,{style:{opacity:e.loading?0:1}})),n.map(function(t,n){return w.a.createElement(hc,H()({},t,{key:"".concat(n,"_").concat(e.lastFetched),lastFetched:e.lastFetched}))}))}),bc=function(e){return w.a.createElement(Lt,{className:"Index-table--multipleHeaders",alternate:!0,noBorderTop:!0,roundedBottom:!0},w.a.createElement(vc,null))},yc={hasFailed:{icon:"".concat(N.k.ASSETS_BLANK_SLATES,"/danger.svg")},noContent:{icon:"".concat(N.k.ASSETS_BLANK_SLATES,"/add.svg")},noResults:{icon:"".concat(N.k.ASSETS_BLANK_SLATES,"/filter.svg")}},Ec=function(e){return w.a.createElement(Ni,H()({},e,{blankSlates:yc}))},_c=Object(le.b)(function(e){return{hasData:!!e.data.content.length,historyState:e.filter}})(function(e,t){var n=e.hasData,r=e.historyState,a=G()(e,["hasData","historyState"]);return w.a.createElement("div",null,w.a.createElement(fa,{disableTurbolinks:!0,state:r,stateKey:"filter",url:r.url}),n&&w.a.createElement(Ec,H()({},a,{tableHeaders:[]}),w.a.createElement(bc,null)),!n&&w.a.createElement(vi.a,{simple:!0,icon:"info"},"Nothing is currently archived."))}),wc=function(e){function t(e){var n;return l()(this,t),(n=f()(this,m()(t).call(this,e))).store=lc(e.initialState),n}return y()(t,e),d()(t,[{key:"render",value:function(){return w.a.createElement(le.a,{store:this.store},w.a.createElement(_c,null))}}]),t}(w.a.Component),Sc=r(151),kc=r(84),Cc=r.n(kc),Nc=r(96),Oc={activeStep:"CONTENT",data:[],pagination:{},params:{query:"",sort:{order:N.g.DESC,type:N.b.LAST_MODIFIED},filter:{type:["Lesson"]}},selection:{content:{data:[]},assignees:{count:0,data:[]}},schedule:{assignDate:void 0,dueDate:void 0,recurring:!1,recurringOptions:{assignOnAmount:null,assignOnUnit:null,dueDateAmount:null,dueDateUnit:null}},existingAssignments:{sendReminder:!1,reassignCompleted:!1},message:"",loading:!1,success:!0},xc={params:{query:"",sort:{order:N.g.DESC,type:N.b.LAST_MODIFIED},filter:{type:["User","Group"]}}},Tc=function(e){var t=new Set([].concat(Z()(Oc.params.filter.type),[e]));Oc.params.filter.type=Array.from(t)},Rc=function(e){return Nc.a.CONTENT.test(e.type)},Pc=function(e){return Nc.a.ASSIGNEES.test(e.type)},Ic=function(e,t){var n=function(t){return R()({},e,t)};switch(t.type){case he.a.STEP.SET_ACTIVE:return R()({},e,{activeStep:t.step});case he.a.DATA.REQUEST:return n({loading:!0});case he.a.DATA.RESET:return n({data:Oc.data,pagination:Oc.pagination,params:"ASSIGNEES"===e.activeStep?xc.params:Oc.params});case he.a.DATA.REQUEST_SUCCESS:var r=t.payload;return n({data:r.data,pagination:G()(r,["data"]),success:!0,loading:!1});case he.a.DATA.REQUEST_NEXT_PAGE_SUCCESS:var a=t.payload,i=a.data,o=G()(a,["data"]);return n({data:e.data.concat(i),pagination:o,success:!0,loading:!1});case he.a.PARAMS.UPDATE_QUERY:return Object(me.set)("params.query",t.query)(e);case he.a.PARAMS.UPDATE_SORT:return Object(me.set)("params.sort",t.option)(e);case he.a.PARAMS.UPDATE_FILTER_TYPE:return Object(me.set)("params.filter.type",t.values)(e);case he.a.ITEM.SELECT:var s=t.item;return Rc(s)?Cc()(e,{selection:{content:{data:{$unshift:[s]}}}}):Pc(s)?Cc()(e,{selection:{assignees:{data:{$unshift:[s]}}}}):e;case he.a.ITEM.DESELECT:var c=t.item,l=c.id,u=G()(c,["id"]);if(Rc(u)){var d=e.selection.content.data;return Cc()(e,{selection:{content:{data:{$set:Object(me.reject)({id:l},d)}}}})}if(Pc(u)){var p=e.selection.assignees.data;return Cc()(e,{selection:{assignees:{data:{$set:Object(me.reject)({id:l},p)}}}})}return e;case he.a.ITEM.SET_ASSIGNEES_COUNT:return Object(me.set)("selection.assignees.count",t.count)(e);case he.a.SCHEDULE.UPDATE:var f=Object(me.merge)(e.schedule);return R()({},e,{schedule:f(t.changes)});case he.a.REVIEW.UPDATE_MESSAGE:return n({message:t.body});case he.a.REVIEW.UPDATE_EXISTING_ASSIGNMENT_OPTION:return Cc()(e,{existingAssignments:{$merge:t.option}});default:var h=e.meta.features;return h.paths&&Tc(N.i.PATH),h.courses_disabled||Tc(N.i.COURSE),h.resource_experiment&&Tc(N.i.RESOURCE),R()({},e,Oc)}},Ac={activeStep:function(e){return{type:he.a.STEP.SET_ACTIVE,step:e}},resetData:function(){return{type:he.a.DATA.RESET}},requestData:function(){return{type:he.a.DATA.REQUEST}},requestNextPageSuccess:function(e){return{type:he.a.DATA.REQUEST_NEXT_PAGE_SUCCESS,payload:e}},requestDataSuccess:function(e){return{type:he.a.DATA.REQUEST_SUCCESS,payload:e}},updateQuery:function(e){return{type:he.a.PARAMS.UPDATE_QUERY,query:e}},updateSort:function(e){return{type:he.a.PARAMS.UPDATE_SORT,option:e}},updateType:function(e){return{type:he.a.PARAMS.UPDATE_FILTER_TYPE,values:e}},selectItem:function(e){return{type:he.a.ITEM.SELECT,item:e}},deselectItem:function(e){return{type:he.a.ITEM.DESELECT,item:e}},setAssigneesCount:function(e){return{type:he.a.ITEM.SET_ASSIGNEES_COUNT,count:e}},updateSchedule:function(e){return{type:he.a.SCHEDULE.UPDATE,changes:e}},updateExistingAssignmentOption:function(e){return{type:he.a.REVIEW.UPDATE_EXISTING_ASSIGNMENT_OPTION,option:e}},updateMessage:function(e){return{type:he.a.REVIEW.UPDATE_MESSAGE,body:e}}};function Mc(e){return function(t,n){t(Ac.activeStep(e))}}function Dc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return function(t,n){return new Promise(function(r,a){t(Ac.requestData());var i=n(),o=i.params,s=i.activeStep;C.a.get(N.k.ASSIGNABLES[s],R()({page:e},o)).then(function(n){t(1===e?Ac.requestDataSuccess(n):Ac.requestNextPageSuccess(n)),r(n)})})}}function jc(e){return function(t,n){t(Ac.resetData()),e&&t(Dc())}}function Lc(){return function(e){e(jc()),e(Dc())}}function Fc(e){return function(t,n){e.selected?t(Ac.deselectItem(e)):(e=Object(me.set)("selected",!0)(e),t(Ac.selectItem(e))),Pc(e)&&t(function(e,t){return new Promise(function(n,r){var a=t().selection.assignees.data,i=Object(me.pick)(["id","type"]),o=Object(me.map)(i,a);C.a.get(N.k.ASSIGNABLES.USER_COUNT,{assignees:o}).then(function(t){e(Ac.setAssigneesCount(t.count))})})})}}var Bc="CONTENT ASSIGNEES SCHEDULING REVIEW SUBMIT".split(" "),Uc=Ye()(Bc,5),Hc=Uc[0],qc=Uc[1],Gc=Uc[2],Wc=Uc[3],Vc=Uc[4],zc=[Hc,qc,Gc,Wc],Yc=function(e){return e.selection},Qc=function(e){return e.schedule},Kc=function(e){return e.activeStep},Xc=(Object(Vi.createSelector)([Yc],function(e){return e.content.data.length}),Object(Vi.createSelector)([Yc,Kc],function(e,t){var n=e.content,r=e.assignees;return Object(me.get)(t,{CONTENT:n.data,ASSIGNEES:r.data})})),$c=Object(Vi.createSelector)([function(e){return e.data},Xc,Kc],function(e,t){var n=Object(me.pick)(["id","type"]),r=Object(me.set)("selected",!0);return Object(me.map)(function(e){return function(e){return Object(me.some)(n(e))(t)}(e)?function(e){return r(e)}(e):e})(e)}),Zc=Object(Vi.createSelector)([Yc],function(e){return Object(me.flow)(Object(me.filter)({type:"User"}),me.size)(e.assignees.data)}),Jc=Object(Vi.createSelector)([Yc],function(e){return Object(me.flow)(Object(me.filter)({type:"Group"}),me.size)(e.assignees.data)}),el=Object(Vi.createSelector)([Zc,Jc],function(e,t){return!!e&&!!t}),tl=Object(Vi.createSelector)(Yc,function(e){return!Object(me.isEmpty)(e.content.data)}),nl=Object(Vi.createSelector)(Yc,function(e){return!Object(me.isEmpty)(e.assignees.data)}),rl=Object(Vi.createSelector)([function(e){return e.meta.features},Qc],function(e,t){var n=t.assignDate;return Object(me.isNull)(n)||n instanceof Date}),al=Object(Vi.createSelector)([Qc],function(e){var t=e.dueDate;return Object(me.isNull)(t)||t instanceof Date}),il=Object(Vi.createSelector)(Qc,function(e){var t=e.recurring,n=e.recurringOptions;return!t||Object(S.every)([n.assignOnAmount,n.assignOnUnit])}),ol=Object(Vi.createSelector)([rl,al,il],function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Object(S.every)(t)}),sl=Object(Vi.createSelector)([tl,nl,ol],function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Object(S.every)(t)}),cl=Object(Vi.createSelector)([Qc,il],function(e,t){return e.recurring&&t}),ll=Object(Vi.createSelector)([Qc,rl,cl],function(e,t,n){var r=e.dueDate;return Object(S.some)([n,t,Object(me.isDate)(r)])}),ul=Object(Vi.createSelector)(Kc,function(e){return e===Wc}),dl=Object(Vi.createSelector)([tl,nl,ol],function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return[Hc,qc,Gc].map(function(e,n){return{name:e,completed:t[n]}})}),pl=Object(Vi.createSelector)([Kc,dl],function(e,t){return Object(me.find)(function(t){return t.name!==e&&!t.completed},t)}),fl=Object(Vi.createSelector)([Kc,pl,ul],function(e,t,n){return t?t.name:n?Vc:Wc}),hl=Object(Vi.createSelector)(Kc,function(e){return zc[zc.indexOf(e)-1]}),ml=Object(Vi.createSelector)([Kc,dl],function(e,t){return Object(me.flow)(Object(me.find)({name:e}),Object(me.getOr)(!0,"completed"))(t)}),gl=Object(Vi.createSelector)(function(e){return e},function(e){return Sc.a(null,e)}),vl=function(e){var t=e.onClick,n=e.label,r=e.icon,a=e.shrinked;return w.a.createElement("div",{className:V()("AssignableItem",{"AssignableItem--selected":!0,"AssignableItem--small":!0,"AssignableItem--shrinked":a})},w.a.createElement("span",{className:"AssignableItem-label"},r&&w.a.createElement(z.a,{name:r,customClass:"AssignableItem-icon"}),n),t&&w.a.createElement("div",{className:"AssignableItem-removeIcon",onClick:t},w.a.createElement(z.a,{name:"error"})))},bl=function(e){function t(e){var n;return l()(this,t),(n=f()(this,m()(t).call(this,e))).handleItemClick=n.handleItemClick.bind(v()(n)),n.renderAssigneeItem=n.renderAssigneeItem.bind(v()(n)),n.renderContentItem=n.renderContentItem.bind(v()(n)),n}return y()(t,e),d()(t,[{key:"renderContentItem",value:function(e){var t=this;return w.a.createElement(vl,{key:"".concat(e.type,".").concat(e.id),label:e.title,icon:"course"===e.type.toLowerCase()&&"course",onClick:function(){return t.handleItemClick(e)}})}},{key:"renderAssigneeItem",value:function(e){var t=this;return w.a.createElement(vl,{key:"".concat(e.type,".").concat(e.id),label:e.name,icon:"group"===e.type.toLowerCase()&&"group",onClick:function(){return t.handleItemClick(e)}})}},{key:"renderItems",value:function(){var e=this.props,t=e.data;switch(e.name){case"CONTENT":return t.map(this.renderContentItem);case"ASSIGNEES":return t.map(this.renderAssigneeItem);default:return[]}}},{key:"renderItemsCollapsed",value:function(){var e=this.props.minimumCollapsedCount,t=this.renderItems();return t.length>e?[t.slice(0,e-1),w.a.createElement("div",{key:"items:last",className:"AssignStep-lastSelectedCollapsed"},t.slice(e-1,e),w.a.createElement("div",{className:"AssignStep-showMore"},"…"))]:t.slice(0,e)}},{key:"handleItemClick",value:function(e){this.props.deselectItem(e)}},{key:"render",value:function(){return w.a.createElement("div",{className:"AssignStep-selectedItems"},!this.props.isActive&&this.renderItemsCollapsed(),this.props.isActive&&w.a.createElement(nn.a,{maxHeight:null},this.renderItems()))}}]),t}(E.PureComponent);i()(bl,"defaultProps",{minimumCollapsedCount:3});var yl=Object(le.b)(function(e,t){return{isActive:e.activeStep===t.name}},function(e){return{deselectItem:function(t){e(Fc(t))}}})(bl),El=function(e){function t(e){var n;return l()(this,t),(n=f()(this,m()(t).call(this,e))).handleClick=n.handleClick.bind(v()(n)),n}return y()(t,e),d()(t,[{key:"handleClick",value:function(){var e=this.props,t=e.locked,n=e.setActiveStep;t||n()}},{key:"getBorderLeftCustomColor",value:function(){return{CUSTOM_COLOR:!!document.body.getAttribute("data-custom-color")}}},{key:"render",value:function(){var e=this.props,t=e.count,n=e.label,r=e.name,a=e.selectables,i=e.locked,o=e.children,s=V()("AssignStep",{"AssignStep--active":this.isActive,"AssignStep--disabled":i,"CustomColor--borderColorLeft":this.isActive&&this.getBorderLeftCustomColor()});return w.a.createElement("div",{className:s,onClick:this.handleClick},w.a.createElement("div",{className:"AssignStep-header"},w.a.createElement("span",{className:"AssignStep-title"},n,i&&w.a.createElement(z.a,{name:"lock",customClass:"AssignStep-lockIcon"})),Object(me.isNumber)(t)&&w.a.createElement("span",{className:"AssignStep-count"},t)),!Object(me.isEmpty)(o)&&o,!Object(me.isEmpty)(a)&&w.a.createElement(yl,{name:r,data:a}))}},{key:"isActive",get:function(){return this.props.name===this.props.activeStep}}]),t}(E.PureComponent),_l=Object(le.b)(function(e){return{activeStep:e.activeStep}},function(e,t){var n=t.name;return{setActiveStep:function(){e(Mc(n))}}})(El),wl=function(e){function t(e){var n;return l()(this,t),(n=f()(this,m()(t).call(this,e))).state={loading:!1},n.goToNextStep=n.goToNextStep.bind(v()(n)),n.goToPreviousStep=n.goToPreviousStep.bind(v()(n)),n.setLoading=n.setLoading.bind(v()(n)),n}return y()(t,e),d()(t,[{key:"goToNextStep",value:function(){var e=this,t=this.props,n=t.isReviewing,r=t.submitAssignment,a=t.toggleContainer,i=t.setActiveStep,o=t.nextStep,s=t.assignErrorMessage;n?(this.setLoading(!0),r().then(function(){e.setLoading(!1),a()}).catch(function(){e.setLoading(!1),alert(s)})):i(o)}},{key:"goToPreviousStep",value:function(){this.props.setActiveStep(this.props.previousStep)}},{key:"setLoading",value:function(e){this.setState({loading:e})}},{key:"render",value:function(){var e=this.props,t=e.previousStep,n=e.isCompleted,r=e.nextStep,a=this.state.loading;return w.a.createElement("div",{className:"AssignStep AssignStep--submit"},t&&w.a.createElement("button",{type:"button",className:"AssignModal-backBtn u-showBelowXS",onClick:this.goToPreviousStep},"Back"),w.a.createElement(k.c,{className:"AssignModal-nextBtn",disabled:!n,loading:a,onClick:this.goToNextStep,primary:!0,tall:!0},{CONTENT:"Select Content",ASSIGNEES:"Select Assignees",SCHEDULING:"Schedule Assignment",REVIEW:"Review and Assign",SUBMIT:"Send Assignment"}[r]))}}]),t}(E.PureComponent),Sl={setActiveStep:Mc,submitAssignment:function(){return function(e,t){return new Promise(function(e,n){var r=Object(Sc.a)(t);C.a.postJSON(N.k.ASSIGNMENT_ASSIGN,r).then(function(t){t.success&&(C.a.getScript(N.k.NOTIFICATIONS_LATEST),pubsub.publish(N.d.ASSIGNMENT_CREATED,r),e())}).fail(n)})}}},kl=Object(le.b)(function(e){return{isReviewing:ul(e),isCompleted:ml(e),nextStep:fl(e),previousStep:hl(e),assignErrorMessage:e.meta.i18n.assign_error_message}},Sl)(wl),Cl=function(e){function t(){return l()(this,t),f()(this,m()(t).apply(this,arguments))}return y()(t,e),d()(t,[{key:"renderOption",value:function(e){return w.a.createElement(vl,{label:e,shrinked:!0})}},{key:"render",value:function(){var e=L.SHORT,t=this.renderOption,n=this.props,r=n.assignDate,a=n.dueDate,i=n.recurring,o=n.canSchedule;return w.a.createElement("div",{className:"AssignStep-selectedItems"},o&&Object(me.isNull)(r)&&t("Assign Immediately"),o&&r&&t("Assign on ".concat(I()(r).format(e))),a&&t("Due ".concat(I()(a).format(e))),i&&t("Recurring Assignment"))}}]),t}(E.PureComponent),Nl=Object(le.b)(function(e){return{assignDate:e.schedule.assignDate,dueDate:e.schedule.dueDate,recurring:cl(e),canSchedule:e.meta.features.scheduled_assignments}})(Cl),Ol=Object(le.b)(function(e){return{contentCount:e.selection.content.data.length,assigneesCount:e.selection.assignees.count,selectedContent:e.selection.content.data,selectedAssignees:e.selection.assignees.data,canReview:sl(e),hasScheduled:ll(e)}})(function(e){return w.a.createElement("div",{className:"AssignModal-navigator"},w.a.createElement(_l,{selectables:e.selectedContent,count:e.contentCount,name:"CONTENT",label:"Content"}),w.a.createElement(_l,{selectables:e.selectedAssignees,count:e.assigneesCount,name:"ASSIGNEES",label:"Assignees"}),w.a.createElement(_l,{name:"SCHEDULING",label:"Scheduling"},e.hasScheduled&&w.a.createElement(Nl,null)),w.a.createElement(_l,{name:"REVIEW",label:"Review and Assign",locked:!e.canReview}),w.a.createElement(kl,{toggleContainer:e.toggleContainer}))}),xl=r(319),Tl=r(46),Rl={resetFilters:jc},Pl=Object(le.b)(function(e){return{activeStep:e.activeStep}},Rl)(function(e){var t=e.activeStep,n={className:"NewButton NewButton--white",children:"Clear Filter",onClick:G()(e,["activeStep"]).resetFilters},r={CONTENT:{message:"We couldn't find any Learning Content that matched your filter criteria",image:"filter",action:n},ASSIGNEES:{message:"We couldn't find any People or Groups that matched your filter criteria",image:"users_filter",action:n}}[t];return w.a.createElement("div",{className:"AssignModalBlankSlate"},w.a.createElement(Tl.a,{large:!0},w.a.createElement(Tl.d,{name:r.image}),w.a.createElement(Tl.b,null,r.message),w.a.createElement("button",H()({type:"button"},r.action))))}),Il=function(e){function t(e){var n;return l()(this,t),(n=f()(this,m()(t).call(this,e))).handleItemClick=n.handleItemClick.bind(v()(n)),n.renderAssigneeItem=n.renderAssigneeItem.bind(v()(n)),n.renderAssignableItem=n.renderAssignableItem.bind(v()(n)),n}return y()(t,e),d()(t,[{key:"renderBaseContentItem",value:function(e,t){var n=this;return w.a.createElement(xl.a,H()({layout:"list",active:e.selected,key:"".concat(e.type,".").concat(e.id),onClick:function(){return n.handleItemClick(e)},title:e.title},t))}},{key:"renderPath",value:function(e){return this.renderBaseContentItem(e,{iconName:"path",showCount:!0})}},{key:"renderCourse",value:function(e){return this.renderBaseContentItem(e,{count:e.meta.lessonsCount,countLabel:Object(Ne.d)(e.meta.lessonsCount,"Lesson"),iconName:"course",showCount:!0})}},{key:"renderAssignableItem",value:function(e){switch(e.type){case N.i.PATH:return this.renderPath(e);case N.i.COURSE:return this.renderCourse(e);default:return this.renderBaseContentItem(e)}}},{key:"renderAssigneeItem",value:function(e){var t=e.meta,n=t.usersCount,r=t.isSmartGroup;return this.renderBaseContentItem(e,{title:e.name,count:n&&n,countLabel:Object(Ne.d)(n,"User"),iconName:"group"===e.type.toLowerCase()&&"group",invalid:e.meta.invalidGroup,showCount:"Group"===e.type,infoTooltip:r&&this.props.smartGroupsTooltip,invalidTooltip:r&&this.props.invalidTooltip})}},{key:"renderItems",value:function(){var e=this.props,t=e.data;switch(e.type){case"CONTENT":return t.map(this.renderAssignableItem);case"ASSIGNEES":return t.map(this.renderAssigneeItem);default:return[]}}},{key:"handleItemClick",value:function(e){this.props.toggleItem(e)}},{key:"render",value:function(){var e=this.props,t=e.data,n=e.loading,r=e.requestNextPage,a=this.pagination,i=a.hasMore,o=a.moreCount,s={opacity:n?.5:null};return w.a.createElement("div",{className:"AssignModal-dataView PathContentPicker-dataView PathContentPicker-dataView--list",style:s},Object(me.isEmpty)(t)&&n&&w.a.createElement("p",null,"Loading Results"),Object(me.isEmpty)(t)&&!n&&w.a.createElement(Pl,null),!Object(me.isEmpty)(t)&&w.a.createElement(nn.a,{maxHeight:null},this.renderItems(),i&&w.a.createElement("button",{type:"button",className:"AssignModal-showMoreButton",onClick:r},w.a.createElement(z.a,{name:"add"}),"Show ",o," More")))}},{key:"pagination",get:function(){var e=this.props,t=e.data,n=e.pagination,r=n.perPage,a=n.totalResults,i=G()(n,["perPage","totalResults"]);return R()({hasMore:t.length<a,moreCount:Math.min(r,a-t.length)},i)}}]),t}(E.PureComponent),Al={toggleItem:Fc,requestNextPage:function(){return function(e,t){e(Dc(t().pagination.page+1))}}},Ml=Object(le.b)(function(e){return{type:e.activeStep,loading:e.loading,data:$c(e),pagination:e.pagination,smartGroupsTooltip:e.meta.i18n.smart_groups_calculation_tooltip,invalidTooltip:e.meta.i18n.invalid_group_tooltip}},Al)(Il),Dl=r(58),jl=function(e){function t(e){var n;return l()(this,t),(n=f()(this,m()(t).call(this,e))).state={toggleActive:!1},n.toggleFilters=n.toggleFilters.bind(v()(n)),n}return y()(t,e),d()(t,[{key:"toggleFilters",value:function(){var e=(0,this.props.getFiltersRef)();e.classList.toggle("is-visible"),this.setState({toggleActive:e.classList.contains("is-visible")})}},{key:"render",value:function(){var e=this.props,t=e.placeholder,n=e.updateQuery,r=V()("AssignModal-toggleFiltersBtn",{"u-showBelowXS":!0,"AssignModal-toggleFiltersBtn--active":this.state.toggleActive});return w.a.createElement("div",{className:"AssignModal-searchBox"},w.a.createElement(Dl.a,{className:"AssignModal-searchInput",placeholder:t,onChange:n,value:this.props.value,singleLine:!0,controlled:!0,maxLength:255}),w.a.createElement("button",{type:"button",className:r,onClick:this.toggleFilters},w.a.createElement(z.a,{name:"filter"})))}}]),t}(E.Component),Ll=Object(le.b)(function(e){return{value:e.params.query}},function(e){return{updateQuery:function(t){var n;e((n=t,function(e,t){e(Ac.updateQuery(n)),e(Dc())}))}}})(jl),Fl=function(e){function t(e){var n;return l()(this,t),(n=f()(this,m()(t).call(this,e))).selectedOptions=new Set(e.selectedOptions),n.hasAllOptions=n.selectedOptions.size===e.options.length,n.handleChange=n.handleChange.bind(v()(n)),n.renderOption=n.renderOption.bind(v()(n)),n}return y()(t,e),d()(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.selectedOptions=new Set(e.selectedOptions)}},{key:"handleChange",value:function(e){var t=e.target.value;this.selectedOptions.has(t)?this.selectedOptions.delete(t):this.selectedOptions.add(t),this.props.updateFilterType(Array.from(this.selectedOptions))}},{key:"renderOption",value:function(e){var t=e.value,n=e.label,r=this.selectedOptions.has(t),a=this.selectedOptions.size,i=this.props.hasResourceExperiment||this.hasAllOptions?1===a:a-1==1,o=V()("Pill",{"Pill--selected":r,"Pill--clickable":!0});return w.a.createElement("label",{key:t,htmlFor:t,className:o},w.a.createElement("input",{id:t,type:"checkbox",value:t,onChange:this.handleChange,defaultChecked:r,disabled:i&&r}),n)}},{key:"render",value:function(){var e=this.props.options;return w.a.createElement("div",{className:"AssignModal-typePills"},e.map(this.renderOption))}}]),t}(E.PureComponent),Bl=Object(le.b)(function(e){return{selectedOptions:e.params.filter.type,hasResourceExperiment:e.meta.features.resource_experiment}},function(e){return{updateFilterType:function(t){e(function(e){return function(t,n){t(Ac.updateType(e)),t(Dc())}}(t))}}})(Fl),Ul=function(e){function t(e){var n;return l()(this,t),(n=f()(this,m()(t).call(this,e))).handleChange=n.handleChange.bind(v()(n)),n}return y()(t,e),d()(t,[{key:"handleChange",value:function(e){var t=e.target,n=this.props,r=n.updateSort,a=n.options;r(Object(me.omit)("label",a[t.value]))}},{key:"renderOptions",value:function(){return this.props.options.map(function(e,t){var n=e.label;return w.a.createElement("option",{key:t,value:t,children:n})})}},{key:"render",value:function(){return w.a.createElement("div",{className:"AssignModal-sortButton"},w.a.createElement("select",{className:"NewButton NewButton--white",onChange:this.handleChange,value:this.selectedIndex,children:this.renderOptions()}),w.a.createElement("div",{className:"AssignModal-sortIcon"},w.a.createElement(z.a,{name:"sort"})))}},{key:"selectedIndex",get:function(){var e=this.props,t=e.currentOption,n=e.options;return Object(me.findIndex)(t,n)}}]),t}(E.PureComponent),Hl=Object(le.b)(function(e){return{currentOption:e.params.sort}},function(e){return{updateSort:function(t){e(function(e){return function(t,n){t(Ac.updateSort(e)),t(Dc())}}(t))}}})(Ul),ql=function(e){function t(){return l()(this,t),f()(this,m()(t).apply(this,arguments))}return y()(t,e),d()(t,[{key:"componentDidMount",value:function(){this.props.requestInitalData()}},{key:"render",value:function(){var e=this;return w.a.createElement("div",{className:"AssignModal-detailsView"},w.a.createElement(Ll,{placeholder:"Search content",getFiltersRef:function(){return e.filters}}),w.a.createElement("div",{ref:function(t){e.filters=t},className:"AssignModal-filters"},w.a.createElement(Bl,{options:this.filterOptions}),w.a.createElement(Hl,{options:this.constructor.sortOptions})),w.a.createElement(Ml,null))}},{key:"filterOptions",get:function(){var e=t.filterOptions;return this.props.hasResourceExperiment||(e=Object(me.reject)({value:"Resource"})(e)),this.props.hasPathsFeature||(e=Object(me.reject)({value:N.i.PATH})(e)),this.props.hasCoursesDisabledFeature&&(e=Object(me.reject)({value:N.i.COURSE})(e)),e}}]),t}(E.PureComponent);i()(ql,"sortOptions",[{order:N.g.DESC,type:N.b.LAST_MODIFIED,label:"Recently Updated"},{order:N.g.ASC,type:N.b.TITLE,label:"Name A-Z"},{order:N.g.DESC,type:N.b.TITLE,label:"Name Z-A"}]),i()(ql,"filterOptions",[{value:"Lesson",label:"Lessons"},{value:"Course",label:"Courses"},{value:"Resource",label:"Resources"},{value:N.i.PATH,label:"Paths"}]);var Gl=Object(le.b)(function(e){return{hasResourceExperiment:e.meta.features.resource_experiment,hasPathsFeature:Object(Or.j)(e,"paths"),hasCoursesDisabledFeature:Object(Or.j)(e,"courses_disabled")}},function(e){return{requestInitalData:function(){e(Lc())}}})(ql),Wl=function(e){function t(){return l()(this,t),f()(this,m()(t).apply(this,arguments))}return y()(t,e),d()(t,[{key:"componentDidMount",value:function(){this.props.requestInitalData()}},{key:"render",value:function(){var e=this;return w.a.createElement("div",{className:"AssignModal-detailsView"},w.a.createElement(Ll,{placeholder:"Search people and groups",getFiltersRef:function(){return e.filters}}),w.a.createElement("div",{ref:function(t){e.filters=t},className:"AssignModal-filters"},w.a.createElement(Bl,{options:this.constructor.filterOptions}),w.a.createElement(Hl,{options:this.constructor.sortOptions})),w.a.createElement(Ml,null))}}]),t}(E.PureComponent);i()(Wl,"sortOptions",[{order:N.g.ASC,type:N.b.NAME,label:"Name A-Z"},{order:N.g.DESC,type:N.b.NAME,label:"Name Z-A"},{order:N.g.DESC,type:N.b.LAST_MODIFIED,label:"Recently Updated"}]),i()(Wl,"filterOptions",[{value:"User",label:"People"},{value:"Group",label:"Groups"}]);var Vl=Object(le.b)(null,function(e){return{requestInitalData:function(){e(Lc())}}})(Wl),zl=function(e){function t(){return l()(this,t),f()(this,m()(t).apply(this,arguments))}return y()(t,e),d()(t,[{key:"render",value:function(){return w.a.createElement("button",{type:"button",className:"NewInput NewInput--white",onClick:this.props.onClick},this.props.value||"…")}}]),t}(E.PureComponent),Yl=function(e){function t(e){var n;return l()(this,t),(n=f()(this,m()(t).call(this,e))).state=e.state,n.toggleAssignDate=n.toggleAssignDate.bind(v()(n)),n.updateAssignDate=n.updateAssignDate.bind(v()(n)),n.updateDueDate=n.updateDueDate.bind(v()(n)),n.setDueDateTomorrow=n.setDueDateTomorrow.bind(v()(n)),n.clearDueDate=n.clearDueDate.bind(v()(n)),n.toggleRecurring=n.toggleRecurring.bind(v()(n)),n.updateRecurringOption=n.updateRecurringOption.bind(v()(n)),n}return y()(t,e),d()(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.hasValidDueDate,n=e.hasValidAssignDate;t||n||this.setDefaultsOnMount()}},{key:"setDefaultsOnMount",value:function(){var e=this,n=t.defaultOptions;this.setState(n,function(){e.props.updateSchedule(n)})}},{key:"toggleAssignDate",value:function(e){var t=JSON.parse(e.target.value),n=moment().add(1,"days"),r=this.state.assignDate||n,a=t?r:null;this.setState({assignDate:a}),this.updateAssignDate(a)}},{key:"updateAssignDate",value:function(e){this.setState({assignDate:e}),this.props.updateSchedule({assignDate:e?e.toDate():e});var t=this.state.dueDate;moment(e).isAfter(t,"days")&&this.clearDueDate()}},{key:"updateDueDate",value:function(e){var t=Object(me.isNull)(e)?null:e.toDate();this.setState({dueDate:t}),this.props.updateSchedule({dueDate:t})}},{key:"setDueDateTomorrow",value:function(){this.updateDueDate(moment().add(1,"days"))}},{key:"clearDueDate",value:function(){this.updateDueDate(null)}},{key:"toggleRecurring",value:function(e){var t=e.target.checked,n=this.state.recurringOptions,r=Object(me.mapValues)(function(){return null}),a={recurring:t,recurringOptions:t?n:r(n)};this.setState(a),this.props.updateSchedule(a)}},{key:"updateRecurringOption",value:function(e,t){var n=e.target;if("number"!==n.type||/^\d*$/.test(n.value)){var r=n.value.length?n.value:null,a=i()({},t,r),o=this.state.recurringOptions;this.setState({recurringOptions:R()({},o,a)}),this.props.updateSchedule({recurringOptions:a})}}},{key:"render",value:function(){var e=this;return w.a.createElement("div",{className:"AssignModal-detailesView"},this.props.hasFeatureScheduledAssignments&&w.a.createElement("div",{className:"FormGroup FormGroup--light"},w.a.createElement("div",{className:"AssignModal-formBlockHeader"},w.a.createElement("h4",{className:"AssignModal-subtitle"},"Assign Date")),w.a.createElement("div",{className:"AssignModal-assignDateOption"},w.a.createElement("input",{type:"radio",name:"assignDate",id:"assignDate-immediately",value:"false",checked:Object(me.isNull)(this.state.assignDate),onChange:this.toggleAssignDate}),w.a.createElement("label",{className:"AssignModal-formLabel ml-8",htmlFor:"assignDate-immediately"},"Immediately")),w.a.createElement("div",{className:"AssignModal-assignDateOption"},w.a.createElement("input",{type:"radio",name:"assignDate",id:"assignDate-onDate",value:"true",checked:!!this.state.assignDate,onChange:this.toggleAssignDate}),w.a.createElement("label",{className:"AssignModal-formLabel ml-8",htmlFor:"assignDate-onDate"},"On a date")),this.state.assignDate&&w.a.createElement("div",{className:"AssignModal-dateField AssignModal-dateField--indent"},w.a.createElement(M.a,{className:"NewInput NewInput--white AssignModal-assingDateInput",selected:moment(this.state.assignDate),dateFormat:this.props.dateFormat,onChange:this.updateAssignDate,minDate:this.props.minAssignDate,customInput:w.a.createElement(zl,null)}),w.a.createElement(z.a,{name:"calendar"}))),w.a.createElement("div",{className:"FormGroup FormGroup--light"},w.a.createElement("div",{className:"AssignModal-formBlockHeader"},w.a.createElement("h4",{className:"AssignModal-subtitle"},"Due Date (optional)")),w.a.createElement("div",{className:"AssignModal-dateField"},w.a.createElement(M.a,{selected:this.state.dueDate&&moment(this.state.dueDate),dateFormat:this.props.dateFormat,onChange:this.updateDueDate,minDate:this.minDueDate,customInput:w.a.createElement(zl,null)}),w.a.createElement(z.a,{name:"calendar"})),this.canSelectTomorrow&&w.a.createElement(Ql,{onClick:this.setDueDateTomorrow},"Tomorrow"),this.state.dueDate&&w.a.createElement(Ql,{onClick:this.clearDueDate},"No Due Date")),this.props.hasFeatureScheduledAssignments&&w.a.createElement("div",{className:"FormGroup FormGroup--light"},w.a.createElement("input",{id:"recurring",name:"recurring",type:"checkbox",onChange:this.toggleRecurring,checked:this.state.recurring}),w.a.createElement("label",{className:"AssignModal-formLabel ml-8 mb-0",htmlFor:"recurring"},"Recurring assignment"),this.state.recurring&&w.a.createElement("div",{className:"AssignModal-recurringOptions"},w.a.createElement("div",{className:"AssignModal-recurringOption"},w.a.createElement("span",{className:"AssignModal-recurringLabel"},"Assign every"),w.a.createElement(Kl,{onChange:function(t){return e.updateRecurringOption(t,"assignOnAmount")},value:this.state.recurringOptions.assignOnAmount||""}),w.a.createElement(Xl,{onChange:function(t){return e.updateRecurringOption(t,"assignOnUnit")},value:this.state.recurringOptions.assignOnUnit||""})),w.a.createElement("div",{className:"AssignModal-recurringOption"},w.a.createElement("span",{className:"AssignModal-recurringLabel"},"Due within"),w.a.createElement(Kl,{onChange:function(t){return e.updateRecurringOption(t,"dueDateAmount")},value:this.state.recurringOptions.dueDateAmount||""}),w.a.createElement(Xl,{onChange:function(t){return e.updateRecurringOption(t,"dueDateUnit")},value:this.state.recurringOptions.dueDateUnit||""})))))}},{key:"minDueDate",get:function(){var e=this.state,t=this.props,n=moment(e.assignDate||Date.now());return t.allowSameDayDueDate?n:n.add(1,"days")}},{key:"canSelectTomorrow",get:function(){var e=this.state,t=e.dueDate,n=e.assignDate,r=this.props.allowSameDayDueDate;if(n&&!t){var a=moment().add(1,"days");return n=moment(n),r?!n.isAfter(a):!n.isSameOrAfter(a)}return!t}}]),t}(E.PureComponent);i()(Yl,"defaultProps",{dateFormat:"MM/DD/YYYY",allowSameDayDueDate:!0,minAssignDate:moment().add(1,"days")}),i()(Yl,"defaultOptions",{assignDate:null,dueDate:null});var Ql=function(e){return w.a.createElement("button",H()({},e,{type:"button",className:"AssignModal-dateModifier"}))},Kl=function(e){return w.a.createElement("input",H()({},e,{className:"NewInput NewInput--white AssignModal-recurringAmount",type:"number",min:"1",step:"1"}))},Xl=function(e){return w.a.createElement(Q,H()({},e,{className:"AssignModal-recurringUnit"}),w.a.createElement("option",{value:""},"–"),w.a.createElement("option",{value:"days"},"Days"),w.a.createElement("option",{value:"weeks"},"Weeks"),w.a.createElement("option",{value:"months"},"Months"),w.a.createElement("option",{value:"years"},"Years"))},$l={updateSchedule:function(e){return function(t,n){t(Ac.updateSchedule(e))}}},Zl=Object(le.b)(function(e,t){return{state:e.schedule,hasValidDueDate:al(e),hasValidAssignDate:rl(e),hasFeatureScheduledAssignments:Object(Or.j)(e,"scheduled_assignments")}},$l)(Yl),Jl=r(678),eu=r.n(Jl),tu=r(200),nu=r.n(tu),ru=r(212),au=function(e){var t=e.header,n=e.onEdit,r=e.children,a=e.options;return w.a.createElement("div",{className:"AssignMobileReview-listBlock"},w.a.createElement("div",{className:"AssignModal-formBlockHeader"},w.a.createElement("span",{className:"AssignModal-subtitle"},t),w.a.createElement("button",{type:"button",className:"AssignMobileReview-editBtn",onClick:n},"Edit")),a||r)},iu=function(e,t){return w.a.createElement("ul",{className:"AssignMobileReview-selectedItems list-unstyled"},Object(S.isString)(e[0])&&e.map(function(e,t){return w.a.createElement("li",{key:Object(S.uniqueId)(),className:"AssignMobileReview-selectedItem"},e)}),Object(S.isObject)(e[0])&&e.map(function(e){var n=e.id,r=e.type,a=G()(e,["id","type"]);return w.a.createElement("li",{key:"".concat(r,".").concat(n),className:"AssignMobileReview-selectedItem"},/course|group/i.test(r)&&w.a.createElement(z.a,{name:r.toLowerCase()}),a[t])}))},ou={setActiveStep:Mc},su=Object(le.b)(function(e){return{uniqueUsersCount:e.selection.assignees.count,assignees:e.selection.assignees.data,content:e.selection.content.data,schedule:e.schedule,canSchedule:e.meta.features.scheduled_assignments}},ou)(function(e){var t=e.uniqueUsersCount,n=e.assignees,r=e.content,a=e.schedule,i=e.setActiveStep,o=G()(e,["uniqueUsersCount","assignees","content","schedule","setActiveStep"]),s=Object(S.compact)([o.canSchedule&&Object(S.isNull)(a.assignDate)&&"Assigned Immediately",o.canSchedule&&Object(S.isDate)(a.assignDate)&&"Assign on ".concat(lu(a.assignDate)),a.dueDate&&"Due ".concat(lu(a.dueDate)),!a.dueDate&&"No due date",a.recurring&&"Recurring"]);return w.a.createElement("div",{className:"u-showBelowXS AssignMobileReview"},w.a.createElement(au,{header:"".concat(r.length," ").concat(Object(Ne.d)(r.length,"Item")," to be assigned"),onEdit:function(){return i("CONTENT")},options:iu(r,"title")}),w.a.createElement(au,{header:"".concat(t," total assignees"),onEdit:function(){return i("ASSIGNEES")},options:iu(n,"name")}),w.a.createElement(au,{header:"Scheduling",onEdit:function(){return i("SCHEDULING")}},iu(s)))});function cu(){var e=eu()(["",""]);return cu=function(){return e},e}var lu=function(e){return I()(e).format(L.LONG)},uu=function(e){function t(e){var n;return l()(this,t),(n=f()(this,m()(t).call(this,e))).renderStaticTooltip=n.renderStaticTooltip.bind(v()(n)),n.parseTokens=Object(me.memoize)(n.parseTokens),n.handleChangeMessage=n.handleChangeMessage.bind(v()(n)),n.handlePreviewEmail=n.handlePreviewEmail.bind(v()(n)),n.handleAssignmentOptionChange=n.handleAssignmentOptionChange.bind(v()(n)),n}return y()(t,e),d()(t,[{key:"renderStaticTooltip",value:function(){return this.props.assigneesArray.map(function(e){return e.meta.isSmartGroup}).includes(!0)?nu.a.renderToStaticMarkup(w.a.createElement(ru.a,{className:"ml-4",tooltip:this.props.smartGroupsTooltip,dataPlacement:"top",iconName:"info",iconClasses:"h-c-gray-darker"})):""}},{key:"parseTokens",value:function(e){return e.replace(/__(.+?)__/g,function(e,t){return function(e){return"<b>".concat(arguments.length<=1?void 0:arguments[1],"</b>")}(cu(),t)})}},{key:"handleChangeMessage",value:function(){this.props.updateMessage(this.messageInput.value)}},{key:"handlePreviewEmail",value:function(){var e=this;Bo({name:"email_preview"}).then(function(t){var n=Object(me.pick)(["message","content","schedule.dueDate"])(e.props.assignment);C.a.postJSON(N.k.EMAIL_PREVIEW,n,{dataType:"html"}).then(function(e){var n=t.document.createElement("style");n.innerHTML="body { padding: 5%; background: rgb(244, 244, 244); font: normal 13px/1 'proxima-nova', 'Helvetica Neue', sans-serif;} .maincontain { box-shadow: 0px 1px 1px 0px #ececec; }",t.document.body.innerHTML=e,t.document.body.appendChild(n)})})}},{key:"handleAssignmentOptionChange",value:function(e){var t=e.target,n=t.name,r=t.value;this.props.updateExistingAssignmentOption(i()({},n,"true"===r))}},{key:"render",value:function(){var e=this,t=this.props.existingAssignments,n=t.sendReminder,r=t.reassignCompleted;return w.a.createElement("div",{className:"AssignModal-detailesView"},w.a.createElement("p",{className:"AssignModal-description"},"Before sending assignments, confirm the details below. You can always revisit an earlier step if you need to make adjustments."),w.a.createElement("div",{className:"FormGroup FormGroup--light"},w.a.createElement(su,null),w.a.createElement("div",{className:"AssignModal-reviewSummary u-hideBelowXS"},w.a.createElement("p",{dangerouslySetInnerHTML:{__html:this.assignmentSummaryHTML}}),this.props.recurring&&w.a.createElement("p",{dangerouslySetInnerHTML:{__html:this.recurringAssignmentSummaryHTML}}))),w.a.createElement("div",{className:"FormGroup FormGroup--light"},w.a.createElement("div",{className:"AssignModal-assignmentOption"},w.a.createElement("span",null,"People who already have this content assigned"),w.a.createElement(Q,{value:n,name:"sendReminder",onChange:this.handleAssignmentOptionChange},w.a.createElement("option",{value:!0},"will receive a reminder"),w.a.createElement("option",{value:!1},"will not receive a reminder"))),w.a.createElement("div",{className:"AssignModal-assignmentOption"},w.a.createElement("span",null,"People who have already started any of this content"),w.a.createElement(Q,{value:r,name:"reassignCompleted",onChange:this.handleAssignmentOptionChange},w.a.createElement("option",{value:!0},"will be restarted"),w.a.createElement("option",{value:!1},"will not be restarted")),w.a.createElement(ru.a,{className:"ml-12",tooltip:"Data of the users who have fully completed any of this content will be retained for reporting purposes.",dataPlacement:"top",iconName:"info",iconClasses:"h-c-gray-darker"}))),w.a.createElement("div",{className:"FormGroup FormGroup--light"},w.a.createElement("div",{className:"AssignModal-formBlockHeader"},w.a.createElement("label",{htmlFor:"AssignModal-messageInput",className:"AssignModal-subtitle"},"Optional Assignment Email Message"),w.a.createElement("button",{type:"button",className:"AssignModal-previewEmailBtn",onClick:this.handlePreviewEmail,disabled:!this.props.message.trim().length},"Preview Email",w.a.createElement(z.a,{name:"external-link"}))),w.a.createElement("textarea",{id:"AssignModal-messageInput",className:"AssignModal-messageInput",ref:function(t){e.messageInput=t},value:this.props.message,onChange:this.handleChangeMessage})))}},{key:"assignmentSummaryHTML",get:function(){var e=this.props,t=e.contentCount,n=e.usersCount,r=e.groupsCount,a=e.uniqueUsersCount,i=e.assignDate,o=e.dueDate,s=e.mixedAssignees,c=Object(me.compact)(["__".concat(t," ").concat(Object(Ne.d)(t,"item"),"__ will be assigned"),i?"on __".concat(lu(i),"__"):"__immediately__","to",n&&"__".concat(n," ").concat(Object(Ne.d)(n,"person","people"),"__"),s&&"and",r&&"__".concat(r," ").concat(Object(Ne.d)(r,"group"),"__"),(s||!!r)&&"(".concat(a," total people").concat(this.renderStaticTooltip(),")"),o&&"with a due date of __".concat(lu(o),"__")]).join(" ").concat(".");return this.parseTokens(c)}},{key:"recurringAssignmentSummaryHTML",get:function(){var e=this.props,t=e.contentCount,n=e.recurringOptions,r=n.assignOnAmount,a=n.assignOnUnit,i=n.dueDateAmount,o=n.dueDateUnit,s=Object(me.compact)(["The same ".concat(Object(Ne.d)(t,"item")," will be reassigned"),"__every ".concat(r," ").concat(Object(Ne.d)(r,a.slice(0,-1)),"__"),i&&o&&"and __due within ".concat(i," ").concat(Object(Ne.d)(i,o.slice(0,-1)),"__")]).join(" ").concat(".");return this.parseTokens(s)}}]),t}(E.PureComponent),du={updateMessage:Ac.updateMessage,updateExistingAssignmentOption:function(e){return function(t,n){t(Ac.updateExistingAssignmentOption(e))}}},pu=Object(le.b)(function(e){return{assigneesArray:e.selection.assignees.data,contentCount:e.selection.content.data.length,usersCount:Zc(e),groupsCount:Jc(e),uniqueUsersCount:e.selection.assignees.count,mixedAssignees:el(e),assignDate:e.schedule.assignDate,dueDate:e.schedule.dueDate,recurring:e.schedule.recurring,recurringOptions:e.schedule.recurringOptions,existingAssignments:e.existingAssignments,message:e.message,assignment:gl(e),smartGroupsTooltip:e.meta.i18n.smart_groups_calculation_tooltip}},du)(uu),fu=function(e){function t(){return l()(this,t),f()(this,m()(t).apply(this,arguments))}return y()(t,e),d()(t,[{key:"componentDidMount",value:function(){Object(Sc.b)().then(this.props.toggleAssignableItem).catch(function(){})}},{key:"renderActiveStep",value:function(){return{CONTENT:w.a.createElement(Gl,null),ASSIGNEES:w.a.createElement(Vl,null),SCHEDULING:w.a.createElement(Zl,null),REVIEW:w.a.createElement(pu,null)}[this.props.activeStep]}},{key:"render",value:function(){var e=this.props,t=e.toggleContainer,n=e.activeStep;return w.a.createElement(Bs.a,{className:"AssignModal-background Modal-background",onEscape:t},w.a.createElement("div",{className:"AssignModal-container","data-current":n.toLowerCase()},w.a.createElement("div",{className:"AssignModal-closeButton",onClick:t},w.a.createElement(z.a,{name:"error"})),w.a.createElement("div",{className:"AssignModal-main"},w.a.createElement("h1",{className:"AssignModal-title"},this.stepTitle),this.renderActiveStep()),w.a.createElement("div",{className:"AssignModal-side"},w.a.createElement(Ol,{toggleContainer:t}))))}},{key:"stepTitle",get:function(){return{CONTENT:"What are you assigning?",ASSIGNEES:"Who should be assigned?",SCHEDULING:"When is this content due?",REVIEW:"Ready to assign?"}[this.props.activeStep]}}]),t}(E.PureComponent),hu={toggleAssignableItem:Fc},mu=Object(le.b)(function(e){return{activeStep:e.activeStep}},hu)(fu),gu=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return fe(e,Ic,{combine:!1,name:"AssignModal"})},vu=function(e){function t(e){var n;return l()(this,t),(n=f()(this,m()(t).call(this,e))).store=gu(e.state),n}return y()(t,e),d()(t,[{key:"render",value:function(){return w.a.createElement(ts.a,null,w.a.createElement(le.a,{store:this.store},w.a.createElement(mu,{toggleContainer:this.props.toggleContainer})))}}]),t}(E.Component),bu=function(e){function t(e){var n;return l()(this,t),(n=f()(this,m()(t).call(this,e))).buttonText=e.state.meta.i18n.button_text,n.state={isVisible:!1},n.toggleContainer=n.toggleContainer.bind(v()(n)),n}return y()(t,e),d()(t,[{key:"componentDidMount",value:function(){pubsub.subscribe("assignModal:toggle",this.toggleContainer)}},{key:"componentWillUnmount",value:function(){pubsub.unsubscribe("assignModal:toggle",this.toggleContainer)}},{key:"toggleContainer",value:function(){this.setState(function(e){return{isVisible:!e.isVisible}})}},{key:"render",value:function(){var e=this.state.isVisible;return w.a.createElement("div",{className:"AssignModal"},w.a.createElement("button",{type:"button",children:this.buttonText,className:"AssignModal-button NewButton NewButton--lessonlyBrandColor NewButton--wide NewButton--bold CustomColor--backgroundColor CustomColor--buttonBoxShadow",onClick:this.toggleContainer}),e&&w.a.createElement(vu,H()({toggleContainer:this.toggleContainer},this.props)))}}]),t}(w.a.Component),yu=r(75),Eu=function(e){function n(){return l()(this,n),f()(this,m()(n).apply(this,arguments))}return y()(n,e),d()(n,[{key:"render",value:function(){var e=this.props,n=e.criterion,r=e.position;return w.a.createElement("div",{className:"QuestionPrompt-criterion"},w.a.createElement("div",{className:"CircleNumber mr-4 CustomColor--backgroundColor"},w.a.createElement("div",null,r)),w.a.createElement("div",null,w.a.createElement("span",{className:"fw-b"},n.name),w.a.createElement("span",{className:"QuestionPrompt-criterionHyphen"}," – "),w.a.createElement("span",{className:"QuestionPrompt-criterionDescription"},n.description||w.a.createElement("em",null,t("feedback_criteria.criterion.no_description")))))}}]),n}(w.a.Component),_u=function(e){function n(){return l()(this,n),f()(this,m()(n).apply(this,arguments))}return y()(n,e),d()(n,[{key:"render",value:function(){var e=Object(yu.b)(this.props.criteria,"name");return w.a.createElement("div",{className:"QuestionPrompt-criteria"},w.a.createElement("div",{className:"QuestionPrompt-criteriaExplanation"},t("feedback_criteria.learner_explanation")),e.map(function(t){return w.a.createElement(Eu,{position:e.indexOf(t)+1,criterion:t,key:t.id})}))}}]),n}(w.a.Component),wu=function(e){return w.a.createElement(k.a,{title:t("questions.question.focus"),boldTitle:!0},w.a.createElement(_u,{criteria:e.criteria}))},Su=function(e){function n(){return l()(this,n),f()(this,m()(n).apply(this,arguments))}return y()(n,e),d()(n,[{key:"render",value:function(){var e=this.props.allowPeerFeedback;return w.a.createElement(w.a.Fragment,null,w.a.createElement("div",{className:"QuestionElementPrompt ".concat(this.props.elementHeaderClass)},this.props.required&&w.a.createElement("span",{className:"Label Label-required QuestionElement-label ".concat(this.props.labelErrorClass),"data-behavior":"required_question"},w.a.createElement(z.a,{name:"required",customClass:"mr-4"}),t("common.required")),w.a.createElement("h3",{className:this.props.questionSubjectClass},this.props.subject)),e&&w.a.createElement("em",{className:"QuestionElement-feedbackNote"},t("questions.question.peer_feedback.notification")))}}]),n}(w.a.Component),ku=function(e){function t(e){var n;return l()(this,t),(n=f()(this,m()(t).call(this,e))).recordEvent=n.recordEvent.bind(v()(n)),n}return y()(t,e),d()(t,[{key:"recordEvent",value:function(){var e=this.props,t=e.progressId,n={browser_information:!0,event_type:"peer_feedback/learner_requested",event_data:{question_id:e.questionId,progress_id:t}};C.a.post(N.k.EVENTS,n)}},{key:"render",value:function(){var e=this.props.disabled;return w.a.createElement("div",{className:"PeerFeedbackRequest d-f jc-e mt-10 fz-base"},w.a.createElement(ia,{onChange:this.recordEvent,label:I18n.t("questions.question.peer_feedback.request"),disabled:e}),w.a.createElement(Cn,{tooltip:I18n.t("questions.question.peer_feedback.tooltip"),className:"ml-8"}))}}]),t}(w.a.Component),Cu=r(30),Nu=function(e){return w.a.createElement("span",null,e.showUploadButton&&w.a.createElement("span",{className:"mr-4"},e.i18n.screen_recording.able_to_record),w.a.createElement("span",{className:"c-brand-blue h-td-u c-p",onClick:e.loadIlosRecording},e.showUploadButton?e.i18n.screen_recording.upload:"".concat(e.i18n.screen_recording.try_again," ")),!e.showUploadButton&&e.token&&w.a.createElement("span",null,e.i18n.common.or," ",w.a.createElement("a",{href:"https://app.ilosvideos.com/recorder/download/".concat(e.token)},e.i18n.screen_recording.download),"."))},Ou=function(e){return e.hasIlosFeature?w.a.createElement("div",null,w.a.createElement("span",{className:"mr-4"},e.showUploadButton?e.i18n.webcam_recording.able_to_record:e.i18n.webcam_recording.have_webcam),w.a.createElement("button",{type:"button",className:"VideoResponseQuestion-transparentButton pl-0 ".concat(Object(Cu.a)("NewButton",["flat"])),onClick:e.loadIlosRecording,disabled:e.disabled},e.showUploadButton?e.i18n.webcam_recording.upload:e.i18n.webcam_recording.turn_it_on)):w.a.createElement("div",null,w.a.createElement("button",{type:"button",className:"VideoResponseQuestion-transparentButton pl-0 ".concat(Object(Cu.a)("NewButton",["flat"])),onClick:e.loadRecording,disabled:e.disabled},e.i18n.screen_recording.try_again,"."))},xu=function(e){return e.finished?w.a.createElement("div",null,e.i18n.video_response.skipped.finished.learner):e.showUploadButton||!e.hasIlosFeature&&e.isWebcamRecording?w.a.createElement("div",null,e.i18n.video_response.mobile_or_unsupported_skip):e.isWebcamRecording?w.a.createElement("div",null,e.i18n.webcam_recording.skip):w.a.createElement("div",null,e.i18n.video_response.mobile_or_unsupported_skip)},Tu=function(e){var t=e.finished,n=e.isWebcamRecording,r=e.isScreenRecording,a=e.i18n;return w.a.createElement("div",{className:"Response-skipped lh-24"},w.a.createElement("div",{className:"Response-skippedMessage d-f ai-c"},w.a.createElement(z.a,{name:"skipped",customClass:"mr-8"}),w.a.createElement("div",null,w.a.createElement(xu,e),t?a.video_response.skipped.finished.notified:a.video_response.skipped.will_notify)),!t&&w.a.createElement("div",null,n&&w.a.createElement(Ou,e),r&&w.a.createElement(Nu,e)))},Ru={ERROR_STARTING_RECORDING_DEVICES:"error starting recording devices",HIPPO_SCREEN_PERMISSION_DENIED_ERROR:"You must provide permission for screen recording"},Pu="invalid_file_format_audio",Iu="invalid_file_format_all",Au="invalid_file_format_video",Mu="error starting recording devices",Du="extension_required",ju="size_limit_exceeded",Lu=function(e){function n(e){var t;return l()(this,n),(t=f()(this,m()(n).call(this,e))).errorMessageText=t.errorMessageText.bind(v()(t)),t.submitButtonText=t.submitButtonText.bind(v()(t)),t.handleCancel=t.handleCancel.bind(v()(t)),t.handleSubmit=t.handleSubmit.bind(v()(t)),t}return y()(n,e),d()(n,[{key:"errorMessageText",value:function(){switch(this.props.errorType){case Pu:return t("lessons.editor.media_recording.import_error_audio");case Au:return t("lessons.editor.embeds.video.import_error");case Iu:return t("lessons.editor.media_recording.import_error_all");case Du:return t("questions.question.media_recording.errors.extension_required.message");case Mu:return t("questions.question.media_recording.errors.error_starting_recording_devices.message");case ju:return t("lessons.editor.embeds.video.size_limit_exceeded");default:return t("questions.question.media_recording.errors.default.message")}}},{key:"submitButtonText",value:function(){return this.props.errorType===Du?t("questions.question.media_recording.errors.extension_required.submit_button"):t("questions.question.media_recording.errors.default.submit_button")}},{key:"handleCancel",value:function(){this.props.onAction()}},{key:"handleSubmit",value:function(){this.props.errorType===Du&&window.hippoWidget.installExtension(),this.props.onAction()}},{key:"render",value:function(){var e=this.props.errorType===Du;return w.a.createElement("div",null,w.a.createElement(un.c,null,w.a.createElement(un.a,null,t("questions.question.media_recording.errors.default.heading")),w.a.createElement(un.b,null,this.errorMessageText()),w.a.createElement("div",{className:"d-f jc-e mt-24"},e&&w.a.createElement("button",{type:"button",className:"u-linkBtn u-linkBtn--dark",children:t("questions.question.media_recording.errors.default.cancel_button"),onClick:this.handleCancel}),w.a.createElement("button",{type:"button",className:"ml-16 ".concat(Object(Cu.a)("NewButton",["yellow","tallAndWide"])),children:this.submitButtonText(),onClick:this.handleSubmit}))))}}]),n}(w.a.Component),Fu=function(e){var n=e.onClick,r=e.icon;return w.a.createElement(Ce,{type:"primary",onClick:n,className:"p-0 td-u mh-34 mr-4"},r&&w.a.createElement(z.a,{customClass:"mr-8",name:r}),t("questions.question.audio_recording.try_again"))},Bu="https://app.ilosvideos.com/embed/",Uu=function(e){function n(e){var t;return l()(this,n),t=f()(this,m()(n).call(this,e)),i()(v()(t),"trackingEventParameters",function(){var e=t.props.data,n=e.progressId,r=e.questionId,a=e.questionType;return{lesson_section_element_id:null,question_id:r,progress_id:n,recording_type:a.slice(0,a.indexOf("_"))}}),i()(v()(t),"trackVideoCancelled",function(e){ns("hippo_video/recording_cancelled",R()({},t.trackingEventParameters(),{upload:e}))}),i()(v()(t),"trackRecordingStarted",function(){ns("hippo_video/recording_started",R()({},t.trackingEventParameters()))}),i()(v()(t),"trackRecordingAborted",function(){ns("hippo_video/recording_aborted",R()({},t.trackingEventParameters()))}),i()(v()(t),"trackRecordingStopped",function(){ns("hippo_video/recording_stopped",R()({},t.trackingEventParameters()))}),i()(v()(t),"trackSourceUploaded",function(e){ns("hippo_video/source_uploaded",R()({},t.trackingEventParameters(),{upload:e}))}),i()(v()(t),"trackImportStarted",function(){t.setState({importTimingStarted:performance.now()}),ns("practice/upload_started",{question_id:t.props.data.questionId})}),i()(v()(t),"trackImportComplete",function(e){var n=t.state.importTimingStarted,r=performance.now()-n;ns("practice/upload_complete",{question_id:t.props.data.questionId,token:e.token,duration:e.media_duration,total_import_time:r})}),i()(v()(t),"trackImportFailure",function(e){ns("practice/upload_failed",{question_id:t.props.data.questionId,error:e})}),i()(v()(t),"trackVideoSubmitted",function(e){ns("hippo_video/video_submitted",R()({},t.trackingEventParameters(),{upload:e}))}),i()(v()(t),"trackPermissionDenied",function(e){ns("hippo_video/permission_denied",R()({},t.trackingEventParameters(),{upload:!1,error_type:e}))}),i()(v()(t),"trackRecordingError",function(e){ns("hippo_video/recording_error",R()({},t.trackingEventParameters(),{upload:!1,error_type:e}))}),i()(v()(t),"recordingType",function(){var e=t.props.data.questionType;return e.slice(0,e.indexOf("_"))}),i()(v()(t),"handleUploadError",function(e){t.trackImportFailure(e),"invalid_file_format"===e.reason?t.setState({errorType:e.reason+"_video"}):"size_limit_exceeded"===e.reason&&t.setState({errorType:e.reason})}),i()(v()(t),"recordStopped",function(e){t.trackRecordingStopped(e),t.setState({videoUploading:!0})}),i()(v()(t),"sourceUploaded",function(){var e=t.state.mediaToken;e&&t.saveAnswer(e),t.setState({videoUploading:!1})}),t.state={disabled:t.props.meta.finished||t.props.meta.previewing,errorType:null,givenAnswer:t.props.meta.previewing?null:t.props.data.givenAnswer,loading:!0,skipped:t.props.meta.previewing?null:t.props.meta.skipped,mediaToken:t.props.meta.skipped?null:t.props.data.givenAnswer,givenAnswerIsIlos:t.props.data.givenAnswerIsIlos,importTimingStarted:null,videoUploading:!1,recording:!1},t.formatEmbedUrl=t.formatEmbedUrl.bind(v()(t)),t.handleRecord=t.handleRecord.bind(v()(t)),t.handleResetError=t.handleResetError.bind(v()(t)),t.handleUpload=t.handleUpload.bind(v()(t)),t.isScreenRecording=t.isScreenRecording.bind(v()(t)),t.recordMediaToken=t.recordMediaToken.bind(v()(t)),t.reloadRecording=t.reloadRecording.bind(v()(t)),t.saveAnswer=t.saveAnswer.bind(v()(t)),t.skipRecording=t.skipRecording.bind(v()(t)),t.showErrorModal=t.showErrorModal.bind(v()(t)),t.trackRecordingData=t.trackRecordingData.bind(v()(t)),t.trackRecordingEvents=t.trackRecordingEvents.bind(v()(t)),t.trackRecordingInitiated=t.trackRecordingInitiated.bind(v()(t)),t}return y()(n,e),d()(n,[{key:"componentDidMount",value:function(){var e=this;window.hippoWidget.onLoad(function(){e.setState({loading:!1})})}},{key:"showErrorModal",value:function(e){var t=e.error;this.reloadRecording(),Object.values(Ru).includes(t)?this.trackPermissionDenied(t):this.trackRecordingError(t),t!==Ru.HIPPO_SCREEN_PERMISSION_DENIED_ERROR&&this.setState({errorType:t})}},{key:"handleResetError",value:function(){this.setState({errorType:null})}},{key:"trackRecordingEvents",value:function(e){this.trackRecordingInitiated(e),this.trackRecordingData(e)}},{key:"trackRecordingInitiated",value:function(e){ns("hippo_video/recording_initiated",R()({},this.trackingEventParameters(),{token:e.token}))}},{key:"trackRecordingData",value:function(e){ns("recording_metadata",{asset_id:e.asset_id,token:e.token})}},{key:"saveAnswer",value:function(e){C.a.post(this.props.meta.saveUrl,{answer:e,question_id:this.props.data.questionId})}},{key:"reloadRecording",value:function(){var e=this;this.setState({skipped:!1,givenAnswer:null,mediaToken:null,videoUploading:!1,recording:!1},function(){e.saveAnswer(null)})}},{key:"handleRecord",value:function(){var e=this;this.setState({recording:!0}),window.hippoWidget.on("record_error",this.showErrorModal),window.hippoWidget.startRecording(this.props.recordingConfig,this.props.data.currentUserId),window.hippoWidget.on("record_initiated",this.trackRecordingEvents),window.hippoWidget.on("record_started",this.trackRecordingStarted),window.hippoWidget.on("record_aborted",function(){e.reloadRecording(),e.trackRecordingAborted()}),window.hippoWidget.on("record_stopped",this.recordStopped),window.hippoWidget.on("source_uploaded",function(){e.sourceUploaded(),e.trackSourceUploaded(!1)}),window.hippoWidget.on("video_submitted",function(t){e.recordMediaToken(t),e.trackVideoSubmitted(!1)}),window.hippoWidget.on("video_cancelled",function(){e.reloadRecording(),e.trackVideoCancelled(!1)})}},{key:"handleUpload",value:function(){var e=this;window.hippoWidget.on("import_failed",this.handleUploadError),window.hippoWidget.import(this.props.data.currentUserId),window.hippoWidget.on("import_progress",function(t){"started"===t.operation&&e.trackImportStarted()}),window.hippoWidget.on("source_uploaded",function(){e.trackSourceUploaded(!0)}),window.hippoWidget.on("import_complete",function(t){e.trackRecordingData(t),e.trackImportComplete(t)}),window.hippoWidget.on("video_submitted",function(t){e.recordMediaToken(t),e.trackVideoSubmitted(!0)}),window.hippoWidget.on("video_cancelled",function(t){e.reloadRecording(t),e.trackVideoCancelled(!0)})}},{key:"recordMediaToken",value:function(e){var t=this,n=/\/video\/play\/(.+)$/g.exec(e.recorded_url)[1];this.setState({mediaToken:n,givenAnswer:n,givenAnswerIsIlos:!1},function(){t.state.videoUploading||t.saveAnswer(n)})}},{key:"skipRecording",value:function(){this.props.meta.skippedUrl&&C.a.post(this.props.meta.skippedUrl,{question_id:this.props.data.questionId,skipped:!0}),this.setState({skipped:!0})}},{key:"isScreenRecording",value:function(){return!0===this.props.recordingConfig.screenRecord}},{key:"recordButtonText",value:function(){return this.isScreenRecording()?t("questions.question.hippo_screen_recording.record"):t("questions.question.audio_recording.record")}},{key:"uploadButtonText",value:function(){return this.isScreenRecording()?t("questions.question.hippo_screen_recording.upload"):t("questions.question.audio_recording.upload")}},{key:"formatEmbedUrl",value:function(){return this.state.givenAnswerIsIlos?Bu+this.state.givenAnswer:this.props.meta.hippoPreviewBase+this.state.givenAnswer+"?type=lessonly"}},{key:"render",value:function(){var e=this.props,n=e.data,r=e.meta,a=e.i18n,i=this.state.givenAnswer?this.formatEmbedUrl():null,o=!this.state.mediaToken&&!this.state.skipped,s=!(this.state.disabled||r.finished||this.state.skipped||this.state.mediaToken||r.features.removeAbilityToSkipRecordingQuestions),c=this.isScreenRecording(),l=r.viewingOnMobile&&!c,u=V()({"QuestionElement--disabled":this.state.disabled}),d=V()({"ml-20":!r.recordingSupported});return w.a.createElement("div",{className:"PracticeQuestion"},w.a.createElement(Su,{required:this.props.data.required,subject:this.props.data.subject,elementHeaderClass:this.props.meta.elementHeaderClass,questionSubjectClass:this.props.meta.questionSubjectClass,labelErrorClass:this.props.meta.labelErrorClass}),r.features.practice&&n.criteria.length>0&&w.a.createElement(wu,{criteria:n.criteria}),w.a.createElement("div",{className:"Response d-f fd-c"},w.a.createElement("div",{className:"fw-b"},t("questions.question.media_recording.record_response")),w.a.createElement("div",{className:"Response-instructions"},"audio_recording"===this.props.data.questionType?t("questions.question.audio_response.record_response_subtitle"):t("questions.question.video_response.record_response_subtitle"),w.a.createElement("div",{className:"mt-8"},w.a.createElement("strong",null,a.video_response.note),"audio_recording"===this.props.data.questionType?t("questions.question.audio_response.warning"):t("questions.question.video_response.warning"))),c&&w.a.createElement("div",{className:"Response-notice"},w.a.createElement("div",null,w.a.createElement("span",{className:"fw-b"},t("questions.question.hippo_screen_recording.instructions.download.condition")),t("questions.question.hippo_screen_recording.instructions.download.content"))),r.features.peerFeedbackRequest&&w.a.createElement(ku,{questionId:n.questionId,progressId:n.progressId,disabled:r.previewing||r.finished}),o&&w.a.createElement("div",{className:"QuestionElement-recordingActions"},w.a.createElement("div",null,w.a.createElement(No.a,{tall:!0,customColor:!0,loading:this.state.loading&&!r.previewing,disabled:this.state.disabled||!r.recordingSupported||this.state.recording,onClick:this.handleRecord,className:"".concat(u," ").concat(d)},this.recordButtonText()),!r.recordingSupported&&w.a.createElement(Cn,{tooltip:t("questions.question.media_recording.unsupported"),className:"ml-8 tooltip-fixedWidth"})),w.a.createElement("button",{type:"button",className:"".concat(u," u-linkBtn mt-8 fz-bigger"),disabled:this.state.loading||this.state.disabled,onClick:this.handleUpload},this.uploadButtonText()),l&&w.a.createElement("div",{className:"QuestionElement--mobileViewing"},w.a.createElement("span",{className:"fw-b"},t("questions.question.media_recording.note"),":"," "),w.a.createElement("span",null,t("questions.question.media_recording.mobile_message")," "),w.a.createElement("span",{className:"fs-i"},t("questions.question.media_recording.audio_only")," "),t("questions.question.media_recording.must_upload_video"))),s&&w.a.createElement("div",{className:"Response-skipped"},w.a.createElement("span",{className:"mr-4"},a.video_response.cannot_record),w.a.createElement("button",{type:"button",className:"pl-0 VideoResponseQuestion-transparentButton  ".concat(Object(Cu.a)("NewButton",["flat"])),onClick:this.skipRecording,disabled:this.state.disabled},a.video_response.skip_action)),this.state.skipped&&w.a.createElement("div",{className:"fz-bigger"},w.a.createElement(Tu,H()({},this.props,{finished:r.finished})),!this.state.disabled&&w.a.createElement(Fu,{onClick:this.reloadRecording,icon:"new_video"})),this.state.mediaToken&&w.a.createElement("div",{className:"Video Video--playable"},w.a.createElement(Hs.a,{embedUrl:i}),!r.finished&&w.a.createElement("div",{className:"Video-redo d-f fw-w jc-sb ai-c pos-r"},w.a.createElement("span",{className:"c-green"},w.a.createElement(z.a,{name:"check_mark"})," ",a.webcam_recording.recording_complete),w.a.createElement(Fu,{onClick:this.reloadRecording,icon:"new_video"})))),this.state.errorType&&w.a.createElement(Lu,{errorType:this.state.errorType,onAction:this.handleResetError}))}}]),n}(w.a.Component),Hu=function(e){function t(){return l()(this,t),f()(this,m()(t).apply(this,arguments))}return y()(t,e),d()(t,[{key:"render",value:function(){return w.a.createElement(Uu,H()({},this.props,{recordingConfig:{screenRecord:!1,audio:!0,webCam:!1,resolution:"1080",tabRecording:!1,separateLayer:!1,fromPopup:!0,initiator:"generic_embed"}}))}}]),t}(w.a.Component),qu=r(679),Gu=r.n(qu),Wu=function(e){return w.a.createElement("div",null,w.a.createElement("div",{className:"d-f ai-c"},e.renderAvatar(),w.a.createElement("div",{className:"ml-16"},w.a.createElement("div",{className:"ReplyContainer-email fz-lg lh-24"},e.data.from),w.a.createElement("div",{className:"ReplyContainer-timeStamp"},e.timeStamp))),w.a.createElement("div",{className:"ReplyContainer-subject fz-xlg"},e.data.subject),w.a.createElement("div",{className:"ReplyContainer-body fz-lg",dangerouslySetInnerHTML:{__html:Object(Ne.b)(e.data.body)}}))},Vu=function(e){return w.a.createElement("div",{className:"d-f"},e.renderAvatar("ReplyContainer--activeReply"),w.a.createElement("div",null,w.a.createElement("div",{className:"ReplyContainer-chatMessage",dangerouslySetInnerHTML:{__html:Object(Ne.b)(e.questionChatData.message)}}),w.a.createElement("div",{className:"ReplyContainer-timeStamp fz-base"},e.i18n.sent_time)))},zu=function(e){return w.a.createElement("div",null,w.a.createElement("div",null,e.renderAvatar()),w.a.createElement("div",null,w.a.createElement("div",{className:"ReplyContainer-subject fz-20"},e.data.subject),w.a.createElement("div",{className:"ReplyContainer-timeStamp fz-base"},e.i18n.time_stamp," ",w.a.createElement("span",{className:"fz-bigger"},"·")," ",e.i18n.creation_type),w.a.createElement("div",{className:"ReplyContainer-body fz-lg",dangerouslySetInnerHTML:{__html:Object(Ne.b)(e.data.body)}})))},Yu=function(e){function t(e){var n;return l()(this,t),(n=f()(this,m()(t).call(this,e))).state={message:""},n.setMessage=n.setMessage.bind(v()(n)),n.handleReplyChange=n.handleReplyChange.bind(v()(n)),n}return y()(t,e),d()(t,[{key:"componentDidMount",value:function(){this.setMessage()}},{key:"setMessage",value:function(){"ticket_handling"===this.props.questionType&&this.props.message?this.setState({message:this.props.message}):this.props.givenAnswer&&this.setState({message:this.props.givenAnswer})}},{key:"handleReplyChange",value:function(e){this.setState({message:e.target.value}),this.props.updateMessage(e.target.value)}},{key:"renderAvatar",value:function(e){var t=V()(i()({},e,e));return w.a.createElement("div",{className:t},w.a.createElement("img",{alt:"Avatar",className:"ReplyContainer-avatar",height:"50",src:Gu.a}))}},{key:"render",value:function(){var e=this.props,t=e.previewing,n=e.questionType,r=e.placeholder,a=e.headerText,i=e.isDisabled,o=e.data,s=e.timeStamp,c=e.questionChatData,l=e.questionTicketHandlingData,u=e.i18n,d="chat"===n,p="email_reply"===n,f="ticket_handling"===n;return w.a.createElement("div",null,!f&&w.a.createElement("div",{className:"ReplyContainer-header fw-b"},w.a.createElement(z.a,{name:d?"comments":"envelope",customClass:"mr-4"}),a),d&&w.a.createElement(Vu,{questionChatData:c,i18n:u,renderAvatar:this.renderAvatar}),p&&w.a.createElement(Wu,{data:o,timeStamp:s,renderAvatar:this.renderAvatar}),f&&w.a.createElement(zu,{data:l,i18n:u,renderAvatar:this.renderAvatar}),w.a.createElement("textarea",{className:"ReplyContainer-replyField",disabled:i,onChange:this.handleReplyChange,placeholder:r,value:t?"":this.state.message}))}}]),t}(w.a.Component),Qu=function(e){function t(e){var n;return l()(this,t),(n=f()(this,m()(t).call(this,e))).saveAnswer=n.saveAnswer.bind(v()(n)),n}return y()(t,e),d()(t,[{key:"saveAnswer",value:function(e){var t={answer:e,question_id:this.props.data.questionId};C.a.post(this.props.meta.saveUrl,t)}},{key:"render",value:function(){var e=this.props,t=e.data,n=e.meta,r=e.i18n,a=n.finished||n.previewing;return w.a.createElement("div",{className:"PracticeQuestion"},w.a.createElement(Su,{required:this.props.data.required,subject:this.props.data.subject,elementHeaderClass:this.props.meta.elementHeaderClass,questionSubjectClass:this.props.meta.questionSubjectClass,labelErrorClass:this.props.meta.labelErrorClass}),n.features.practice&&t.criteria.length>0&&w.a.createElement(wu,{criteria:t.criteria}),w.a.createElement("div",{className:"PracticeQuestion-response"},w.a.createElement("div",{className:"fw-b mb-16"},r.chat.instructions),w.a.createElement(Yu,{previewing:n.previewing,givenAnswer:t.givenAnswer,questionType:t.questionType,questionChatData:t.questionChatData,isDisabled:a,i18n:r.chat,headerText:r.chat.conversation_with,placeholder:r.chat.reply_to,updateMessage:Object(me.debounce)(300,this.saveAnswer)}),n.features.peerFeedbackRequest&&w.a.createElement(ku,{questionId:t.questionId,progressId:t.progressId,disabled:a})))}}]),t}(w.a.Component),Ku=function(){var e,t="__storage_test_".concat(Math.random().toString(36),"__");try{return window.localStorage.setItem(t,t),e=window.localStorage.getItem(t)===t,window.localStorage.removeItem(t),e}catch(e){return!1}}(),Xu=r(113),$u=r.n(Xu),Zu=r(51),Ju=[Xu.NativeTypes.FILE],ed=Object(Zu.DropTarget)(Ju,{drop:function(e,t,n){n&&n.createLesson&&n.createLesson(null,t.getItem().files)}},function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver()}}),td=function(e){function t(e){var n;return l()(this,t),(n=f()(this,m()(t).call(this,e))).state={uploading:!1,uploadUrl:null,uploadComplete:!1,fileName:null,scormId:null,uploadProgress:0,processingProgress:1,message:e.i18n.scorm.upload_file,warning:null},n.supportedFormats=/\.zip/i,n.createLesson=n.createLesson.bind(v()(n)),n.uploadScorm=n.uploadScorm.bind(v()(n)),n.handleScormSuccess=n.handleScormSuccess.bind(v()(n)),n.handleUploadSuccess=n.handleUploadSuccess.bind(v()(n)),n.statusCheck=n.statusCheck.bind(v()(n)),n.handleUploadFail=n.handleUploadFail.bind(v()(n)),n.renderUploadStatus=n.renderUploadStatus.bind(v()(n)),n.trackUploadProgress=n.trackUploadProgress.bind(v()(n)),n.renderStartUpload=n.renderStartUpload.bind(v()(n)),n}return y()(t,e),d()(t,[{key:"isFileValid",value:function(e){return this.supportedFormats.test(e.name)}},{key:"createLesson",value:function(e,t){var n=this,r=this.props,a=r.i18n,i=r.setIds,o=r.setUploadFailed,s=Object(me.head)(t||e.target.files);this.props.resetErrors(),this.isFileValid(s)?this.setState({uploading:!0,message:a.scorm.package_uploading},function(){C.a.postJSON(N.k.CREATE_LESSON,{content_type:"Scorm"}).then(function(e){n.unmounted||(n.setState({uploadUrl:e.scorm.uploadUrl,fileName:s.name,scormId:e.scorm.id},function(){return n.uploadScorm(s)}),i(e.id,e.scorm.id))}).fail(n.handleUploadFail)}):(o(a.scorm.file_type),e&&(e.target.value=""))}},{key:"uploadScorm",value:function(e){var t=new FormData;t.append("data",e),C.a.post(this.state.uploadUrl,t,{processData:!1,contentType:!1,dataType:"text",xhr:this.trackUploadProgress}).then(this.handleUploadSuccess).fail(this.handleUploadFail)}},{key:"trackUploadProgress",value:function(){var e=this,t=new window.XMLHttpRequest;return t.upload.addEventListener("progress",function(t){if(t.lengthComputable){var n=t.loaded/t.total*50;e.setState({uploadProgress:n})}},!1),t}},{key:"handleUploadSuccess",value:function(e){var t=this.props.i18n,n=(new DOMParser).parseFromString(e,"text/xml"),r=n.querySelector("token id");r?(this.setState({message:t.scorm.package_processing}),this.statusCheck(r.textContent)):this.handleUploadFail({error:n.querySelector("err[msg]").attributes.msg.value})}},{key:"handleUploadFail",value:function(e){var t=this.props,n=t.i18n,r=t.setUploadFailed,a=t.deleteLesson;this.unmounted||(r(e.responseText||e.error||e.message||n.scorm.upload_failed),a(),this.setState({uploading:!1,uploadComplete:!1,message:n.scorm.upload_file,uploadProgress:0,processingProgress:1}))}},{key:"statusCheck",value:function(e){var t=this;C.a.get(N.k.SCORM_STATUS(this.state.scormId),{token:e}).then(function(n){switch(n.status){case"finished":t.setState({processingProgress:50}),setTimeout(function(){return t.handleScormSuccess(n)},2e3);break;case"running":setTimeout(function(){return t.statusCheck(e)},1e3),t.setState({processingProgress:n.progress/2});break;default:t.handleUploadFail(n)}}).fail(function(e){var n=e||{error:t.props.i18n.scorm.connection_lost};t.handleUploadFail(n)})}},{key:"handleScormSuccess",value:function(e){this.unmounted||"true"!==e.successful?this.handleUploadFail(e):(this.props.setUploadSuccessful(),this.setState({uploading:!1,uploadComplete:!0,message:this.props.i18n.scorm.package_processed,warning:e.warning}))}},{key:"renderUploadStatus",value:function(){var e=this.props.i18n,t=this.state.fileName;return w.a.createElement("div",{className:"ScormUploader-uploadArea ScormUploader-uploadStatus"},w.a.createElement("div",null,this.state.message),w.a.createElement("div",{className:"fw-b"},t||e.scorm.loading_file_name),this.state.uploading&&w.a.createElement("div",{className:"ScormUploader-uploadProgress"},w.a.createElement("div",{className:"ScormUploader-uploadProgressBar",style:{width:"".concat(this.state.uploadProgress+this.state.processingProgress,"%")}})))}},{key:"renderStartUpload",value:function(){var e=this,t=this.props.i18n;return this.props.connectDropTarget(w.a.createElement("div",{className:"ScormUploader-uploadArea"},w.a.createElement("div",{className:"ScormUploader-description"},this.state.message),w.a.createElement("div",{className:"ScormUploader-button NewButton NewButton--center NewButton--white"},w.a.createElement("span",null,t.scorm.browse),w.a.createElement("input",{ref:function(t){e.fileInput=t},type:"file",onChange:this.createLesson,disabled:this.state.uploading}))))}},{key:"componentWillUnmount",value:function(){this.unmounted=!0}},{key:"render",value:function(){var e=V()("ScormUploader",{"ScormUploader--uploading":this.state.uploading,"ScormUploader--uploadSuccess":this.state.uploadComplete,"ScormUploader--isOver":this.props.isOver}),t=this.state.uploading||this.state.uploadComplete;return w.a.createElement("div",null,this.state.warning&&w.a.createElement("div",{className:"ErrorContainer ErrorContainer--brandYellow Animated--fadeIn mb-8 d-f ai-c"},w.a.createElement(z.a,{name:"warning_sign",customClass:"mr-8"}),this.state.warning),w.a.createElement("div",{className:e},t?this.renderUploadStatus():this.renderStartUpload()))}}]),t}(E.Component),nd=Object(ue.d)(Object(Zu.DragDropContext)($u.a),ed)(td),rd=function(e){function n(e){var t;return l()(this,n),(t=f()(this,m()(n).call(this,e))).state={submitEnabled:!1,networkError:!1,title:"",description:"",uploadSuccessful:!1,scormId:null,lessonId:null,errorTooltip:null,popout:!1,finishButton:!1,workspaceId:""},t.cancelScormCreate=t.cancelScormCreate.bind(v()(t)),t.createScormLesson=t.createScormLesson.bind(v()(t)),t.deleteLesson=t.deleteLesson.bind(v()(t)),t.resetErrors=t.resetErrors.bind(v()(t)),t.handleInputChange=t.handleInputChange.bind(v()(t)),t.setUploadSuccessful=t.setUploadSuccessful.bind(v()(t)),t.setUploadFailed=t.setUploadFailed.bind(v()(t)),t.setIds=t.setIds.bind(v()(t)),t.togglePopout=t.togglePopout.bind(v()(t)),t.toggleFinishButton=t.toggleFinishButton.bind(v()(t)),t.onWorkspaceChange=t.onWorkspaceChange.bind(v()(t)),t}return y()(n,e),d()(n,[{key:"componentDidMount",value:function(){this.validateLesson()}},{key:"createScormLesson",value:function(e){e.preventDefault(),C.a.put(N.k.SCORM_UPLOADED(this.state.scormId),{title:this.state.title,description:this.state.description,popout:this.state.popout?2:1,finish:this.state.finishButton,workspace_id:this.state.workspaceId}),this.props.closeScormModal(),this.props.updateAll()}},{key:"deleteLesson",value:function(){this.state.lessonId&&(C.a.delete(N.k.LESSON(this.state.lessonId)),this.setState({lessonId:null}))}},{key:"cancelScormCreate",value:function(){this.deleteLesson(),this.props.closeScormModal()}},{key:"resetErrors",value:function(){this.setState({networkError:!1})}},{key:"setUploadSuccessful",value:function(){this.setState({uploadSuccessful:!0,networkError:!1},this.validateLesson)}},{key:"setUploadFailed",value:function(e){this.setState({uploadSuccessful:!1,networkError:"".concat(this.props.i18n.error,": ")+e,submitEnabled:!1},this.validateLesson)}},{key:"setIds",value:function(e,t){this.setState({lessonId:e,scormId:t})}},{key:"handleInputChange",value:function(e){var t=e.target,n=t.name,r=t.value;this.setState(i()({},n,r),this.validateLesson)}},{key:"onWorkspaceChange",value:function(e){this.setState({workspaceId:e.target.value})}},{key:"togglePopout",value:function(){this.setState(function(e){return{popout:!e.popout}})}},{key:"toggleFinishButton",value:function(){this.setState(function(e){return{finishButton:!e.finishButton}})}},{key:"validateLesson",value:function(){var e,t=this.props.i18n,n=this.state,r=n.title,a=n.lessonId,i=n.uploadSuccessful,o=r.trim().length>0;o||a?o?a&&!1!==i||(e=t.scorm.tooltips.no_file):e=t.scorm.tooltips.no_name:e=t.scorm.tooltips.no_name_or_file,this.setState({submitEnabled:o&&i,errorTooltip:e})}},{key:"render",value:function(){var e=this.props,n=e.i18n,r=e.workspaces,a=e.hasWorkspaceFeature&&r.length>1;return w.a.createElement(Bs.a,{className:"ModalTakeover-background Modal-background",onEscape:this.cancelScormCreate},w.a.createElement("div",{className:"LessonCreationModal ModalTakeover-container"},w.a.createElement("div",{className:"LessonCreationModal-body"},w.a.createElement("form",{onSubmit:this.createScormLesson},w.a.createElement("div",{className:"LessonCreationModal-title"},n.scorm.create_new),w.a.createElement("label",{htmlFor:"lesson-title",className:"LessonCreationModal-inputTitle"},t("common.title")),w.a.createElement("input",{id:"lesson-title",className:"NewInput NewInput--white NewInput--fw ModalTakeover-nameInput",placeholder:n.scorm.give_name,type:"text",name:"title",onChange:this.handleInputChange}),w.a.createElement("label",{htmlFor:"description",className:"LessonCreationModal-inputTitle"},t("common.description")),w.a.createElement("textarea",{id:"description",name:"description",className:"NewInput NewInput--white NewInput--fw",placeholder:t("lessons.create_modal.enter_description"),rows:"3",onChange:this.handleInputChange}),a&&w.a.createElement("div",null,w.a.createElement("label",{htmlFor:"workspace",className:"LessonCreationModal-inputTitle"},t("workspaces.workspace")),w.a.createElement(Q,{name:"workspaceId",id:"workspace",onChange:this.onWorkspaceChange,fullWidth:!0},r.map(function(e){return w.a.createElement("option",{key:e.id,value:e.id},e.name)}))),w.a.createElement("label",{htmlFor:"description",className:"LessonCreationModal-inputTitle"},t("contents.index.scorm.scorm_package")),this.state.networkError&&w.a.createElement("span",{className:"ErrorContainer ErrorContainer--brandRed Animated--fadeIn d-f ai-c"},w.a.createElement(z.a,{name:"warning_sign",customClass:"mr-8"}),this.state.networkError),w.a.createElement(nd,{deleteLesson:this.deleteLesson,setUploadSuccessful:this.setUploadSuccessful,setUploadFailed:this.setUploadFailed,setIds:this.setIds,scormModalVisible:this.props.scormModalVisible,i18n:n,resetErrors:this.resetErrors}),w.a.createElement("div",null,w.a.createElement("label",{htmlFor:"description",className:"LessonCreationModal-inputTitle"},t("contents.index.scorm.learning_experience")),Object(we.b)({text:n.scorm.tooltips.popout})(w.a.createElement("div",null,w.a.createElement("input",{id:"popout",name:"popout",type:"checkbox",onChange:this.togglePopout,checked:this.state.popout}),w.a.createElement("label",{className:"ml-4",htmlFor:"popout"},n.scorm.open_in_new_window))),w.a.createElement("div",null,w.a.createElement("input",{id:"finishButton",name:"finishButton",type:"checkbox",onChange:this.toggleFinishButton,checked:this.state.finishButton}),w.a.createElement("label",{className:"ml-4",htmlFor:"finishButton"},n.scorm.add_nav_finish))),w.a.createElement(k.d,{alignEnd:!0,className:"mt-8"},Object(we.b)({text:this.state.errorTooltip})(w.a.createElement(k.c,{type:"submit",disabled:!this.state.submitEnabled||this.state.networkError},n.scorm.create_lessons)))),w.a.createElement("button",{className:"ModalTakeover-closeButton u-resetBtn",onClick:this.cancelScormCreate,type:"button"},w.a.createElement(z.a,{name:"error"})))))}}]),n}(w.a.Component),ad=function(e){"Enter"===e.key&&e.preventDefault()},id=function(e){function n(){var e,t;l()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return t=f()(this,(e=m()(n)).call.apply(e,[this].concat(a))),i()(v()(t),"state",{title:"",description:"",workspaceId:"",loading:!1}),i()(v()(t),"handleInputChange",function(e){var n=e.target.name,r=e.target.value;"description"===n&&(r=r.replace(/\r?\n|\r/g," ")),t.setState(i()({},n,r))}),i()(v()(t),"handleSubmit",function(e){e.preventDefault(),t.setState({loading:!0},t.createLesson)}),t}return y()(n,e),d()(n,[{key:"createLesson",value:function(){var e=this.state,t=e.title,n=e.description,r=e.workspaceId,a=Object(gs.b)(N.k.NEW_LESSON,{title:t,description:n,workspace_id:r});window.location.assign(a)}},{key:"render",value:function(){var e=this.state,n=e.title,r=e.description,a=e.loading,i=this.props,o=i.workspaces,s=i.features,c=i.closeModal,l=s.workspaces&&o.length>1;return w.a.createElement(ts.a,null,w.a.createElement(Bs.a,{className:"ModalTakeover-background Modal-background d-f ai-c",onEscape:c},w.a.createElement("div",{className:"ModalTakeover-container LessonCreationModal"},w.a.createElement("div",{className:"LessonCreationModal-body"},w.a.createElement("form",{onSubmit:this.handleSubmit},w.a.createElement("div",{className:"LessonCreationModal-title"},t("lessons.create_modal.new_lesson")),w.a.createElement("div",{className:"LessonCreationModal-subtitle"},t("lessons.create_modal.description")),w.a.createElement("label",{htmlFor:"title",className:"LessonCreationModal-inputTitle"},t("common.title")),w.a.createElement("input",{id:"title",name:"title",className:"NewInput NewInput--white NewInput--fw ModalTakeover-nameInput",placeholder:t("lessons.create_modal.enter_title"),type:"text",onChange:this.handleInputChange,value:n,maxLength:"255"}),w.a.createElement("label",{htmlFor:"description",className:"LessonCreationModal-inputTitle"},t("common.description")),w.a.createElement("textarea",{id:"description",name:"description",className:"NewInput NewInput--white NewInput--fw",placeholder:t("lessons.create_modal.enter_description"),rows:"3",onChange:this.handleInputChange,onKeyDown:ad,value:r}),l&&w.a.createElement("div",null,w.a.createElement("label",{htmlFor:"workspace",className:"LessonCreationModal-inputTitle"},t("workspaces.workspace")),w.a.createElement(Q,{name:"workspaceId",id:"workspace",onChange:this.handleInputChange,fullWidth:!0},o.map(function(e){return w.a.createElement("option",{key:e.id,value:e.id},e.name)}))),w.a.createElement(k.d,{alignEnd:!0,className:"mt-32"},w.a.createElement(k.c,{primary:!0,type:"submit",loading:a},t("lessons.create_modal.create_lesson")))),w.a.createElement("button",{type:"button",className:"u-resetBtn ModalTakeover-closeButton",onClick:c},w.a.createElement(z.a,{name:"error"}))))))}}]),n}(w.a.Component),od=Object(le.b)(function(e){return{features:{workspaces:Object(Or.i)(e,"workspaces")},workspaces:e.data.meta.workspaceOptions}})(id),sd=function(e){var n=e.onDismiss,r=e.createType;return w.a.createElement(un.c,{onDismiss:n},w.a.createElement(un.a,null,t("common.error")),t("common.could_not_create",{create_type:r}),w.a.createElement(k.d,{alignEnd:!0},w.a.createElement(k.c,{primary:!0,onClick:n},t("common.ok"))))},cd=function(e){"Enter"===e.key&&e.preventDefault()},ld={webcam_recording:t("practice.on_demand_practice.response_types.webcam_recording"),screen_recording:t("practice.on_demand_practice.response_types.screen_recording"),audio_recording:t("practice.on_demand_practice.response_types.audio_recording"),written_response:t("practice.on_demand_practice.response_types.written_response")},ud=function(e){function n(){var e,t;l()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return t=f()(this,(e=m()(n)).call.apply(e,[this].concat(a))),i()(v()(t),"state",{title:"",description:"",recordingType:"",workspaceId:"",loading:!1,createError:!1}),i()(v()(t),"createScenario",function(){var e=t.state,n={container:{title:e.title,description:e.description,workspaceId:e.workspaceId},scenario:{prompt:"",scenarioType:t.state.recordingType}};C.a.post(N.k.ON_DEMAND_PRACTICE.CREATOR.INDEX,n).then(function(e){e.success?window.location.assign(N.k.ON_DEMAND_PRACTICE.CREATOR.EDIT(e.practice_scenario_id)):t.setState({createError:!0,loading:!1})}).fail(function(){t.setState({createError:!0,loading:!1})})}),i()(v()(t),"handleInputChange",function(e){var n=e.target.name,r=e.target.value;"description"===n&&(r=r.replace(/\r?\n|\r/g," ")),t.setState(i()({},n,r))}),i()(v()(t),"dismissCreateError",function(){t.setState({createError:!1})}),i()(v()(t),"handleSubmit",function(e){e.preventDefault(),t.setState({loading:!0},t.createScenario)}),i()(v()(t),"hasChosenRecordingType",function(){return!t.props.features.allRecordingTypes||t.state.recordingType.length>0}),t}return y()(n,e),d()(n,[{key:"render",value:function(){var e=this.state,n=e.title,r=e.description,a=e.loading,i=e.createError,o=this.props,s=o.recordingOptions,c=o.workspaces,l=o.features,u=o.closeModal,d=l.workspaces&&c.length>1,p=l.allRecordingTypes;return w.a.createElement(w.a.Fragment,null,w.a.createElement(ts.a,null,w.a.createElement(Bs.a,{onEscape:u,className:"ModalTakeover-background Modal-background d-f ai-c"},w.a.createElement("div",{className:"ModalTakeover-container ScenarioCreationModal"},w.a.createElement("form",{onSubmit:this.handleSubmit,className:"ScenarioCreationModal-body"},w.a.createElement("div",{className:"ScenarioCreationModal-title"},t("practice.on_demand_practice.create_modal.new_scenario")),w.a.createElement("div",{className:"ScenarioCreationModal-subtitle"},t("practice.on_demand_practice.create_modal.description")),w.a.createElement("label",{htmlFor:"title",className:"ScenarioCreationModal-inputTitle"},t("common.title")),w.a.createElement("input",{id:"title",name:"title",className:"NewInput NewInput--white NewInput--fw ModalTakeover-nameInput",placeholder:t("practice.on_demand_practice.create_modal.enter_title"),type:"text",onChange:this.handleInputChange,value:n,maxLength:"255"}),w.a.createElement("label",{htmlFor:"description",className:"ScenarioCreationModal-inputTitle"},t("common.description")),w.a.createElement("textarea",{id:"description",name:"description",className:"NewInput NewInput--white NewInput--fw",placeholder:t("practice.on_demand_practice.create_modal.enter_description"),rows:"3",onChange:this.handleInputChange,onKeyDown:cd,value:r}),p&&w.a.createElement("div",null,w.a.createElement("label",{htmlFor:"recordingType",className:"ScenarioCreationModal-inputTitle"},t("practice.on_demand_practice.create_modal.response_type")),w.a.createElement(Q,{name:"recordingType",id:"recordingType",onChange:this.handleInputChange,fullWidth:!0},w.a.createElement("option",{value:""},t("practice.on_demand_practice.create_modal.enter_response_type")),s.map(function(e){return w.a.createElement("option",{key:e,value:e},ld[e])}))),d&&w.a.createElement("div",null,w.a.createElement("label",{htmlFor:"workspace",className:"ScenarioCreationModal-inputTitle"},t("workspaces.workspace")),w.a.createElement(Q,{name:"workspaceId",id:"workspace",onChange:this.handleInputChange,fullWidth:!0},c.map(function(e){return w.a.createElement("option",{key:e.id,value:e.id},e.name)}))),w.a.createElement(k.d,{alignEnd:!0,className:"mt-32"},Object(we.b)({text:this.hasChosenRecordingType()?"":t("practice.on_demand_practice.create_modal.response_type_error")})(w.a.createElement(k.c,{primary:!0,submit:!0,loading:a,disabled:!this.hasChosenRecordingType()},t("practice.on_demand_practice.create_modal.create_scenario"))))),w.a.createElement("button",{type:"button",className:"u-resetBtn ModalTakeover-closeButton",onClick:u},w.a.createElement(z.a,{name:"error"}))))),i&&w.a.createElement(sd,{createType:"scenario",onDismiss:this.dismissCreateError}))}}]),n}(w.a.Component),dd=Object(le.b)(function(e){return{features:{workspaces:Object(Or.i)(e,"workspaces"),allRecordingTypes:Object(Or.i)(e,"on_demand_practice_screen_and_audio")},workspaces:e.data.meta.workspaceOptions,recordingOptions:e.data.meta.recordingOptions}})(ud),pd=function(e){var n=e.shown,r=e.toggleModal,a=e.location;return w.a.createElement(k.h,{shown:n,onDismiss:r},w.a.createElement(k.h.Header,null,t("practice.on_demand_practice.clarity.creator_learn_more_modal.title")),w.a.createElement(k.h.Content,null,w.a.createElement("ul",{className:"ls-n mw-text-45 fz-lg"},w.a.createElement("li",{className:"d-f m-fd-c mb-32"},w.a.createElement(z.a,{name:"chat-refresh",customClass:"is-48 mr-16 mb-8"}),w.a.createElement("p",{className:"d-f fd-c mb-32 w-fill"},w.a.createElement("strong",null,t("practice.on_demand_practice.clarity.creator_learn_more_modal.header_one")),t("practice.on_demand_practice.clarity.creator_learn_more_modal.text_one"))),w.a.createElement("li",{className:"d-f m-fd-c mb-32"},w.a.createElement(z.a,{name:"lightbulb-brain",customClass:"is-48 mr-16 mb-8"}),w.a.createElement("p",{className:"d-f fd-c mb-32 w-fill"},w.a.createElement("strong",null,t("practice.on_demand_practice.clarity.creator_learn_more_modal.header_two")),t("practice.on_demand_practice.clarity.creator_learn_more_modal.text_two"))),w.a.createElement("li",{className:"d-f m-fd-c"},w.a.createElement(z.a,{name:"rocket",customClass:"is-48 mr-16 mb-8"}),w.a.createElement("p",{className:"d-f fd-c mb-32 w-fill"},w.a.createElement("strong",null,t("practice.on_demand_practice.clarity.creator_learn_more_modal.header_three")),function(e){return"newContent"===e?t("practice.on_demand_practice.clarity.creator_learn_more_modal.text_three"):t("practice.on_demand_practice.clarity.creator_learn_more_modal.text_three_alternate")}(a)))),w.a.createElement("p",{className:"ta-c fw-b c-navy"},t("practice.on_demand_practice.clarity.creator_learn_more_modal.feedback_one"),w.a.createElement("br",null),t("practice.on_demand_practice.clarity.creator_learn_more_modal.feedback_two")," ",w.a.createElement("a",{className:"td-u",href:"mailto:feedback@lessonly.com"},t("common.feedback_email")),".")),w.a.createElement(k.h.Footer,null,w.a.createElement(k.d,{alignEnd:!0,className:"ai-c"},w.a.createElement(k.c,{onClick:r},t("practice.on_demand_practice.clarity.creator_learn_more_modal.got_it")))))},fd=function(e){function n(){var e,t;l()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return t=f()(this,(e=m()(n)).call.apply(e,[this].concat(a))),i()(v()(t),"state",{scormModalVisible:!1,lessonModalVisible:!1,scenarioModalVisible:!1,scenarioLearnMoreModalVisible:!1,newContentPopoverVisible:!1}),i()(v()(t),"openScormModal",function(){t.setState({scormModalVisible:!0})}),i()(v()(t),"closeScormModal",function(){t.setState({scormModalVisible:!1})}),i()(v()(t),"openLessonModal",function(){t.setState({lessonModalVisible:!0})}),i()(v()(t),"openScenarioModal",function(){t.setState({scenarioModalVisible:!0})}),i()(v()(t),"toggleScenarioLearnMore",function(){ns("practice/learn_more_clicked",{origin:"add_new_content"}),t.setState(function(e){return{scenarioLearnMoreModalVisible:!e.scenarioLearnMoreModalVisible}})}),i()(v()(t),"closeScenarioModal",function(){t.setState({scenarioModalVisible:!1})}),i()(v()(t),"toggleNewContentPopover",function(){t.setState(function(e){return{newContentPopoverVisible:!e.newContentPopoverVisible}})}),i()(v()(t),"closeLessonModal",function(){t.setState({lessonModalVisible:!1}),ns("lesson_creation_canceled_from_modal")}),t}return y()(n,e),d()(n,[{key:"render",value:function(){var e=this.props,n=e.hasContent,r=e.hasPathsFeature,a=e.hasCoursesDisabledFeature,i=e.hasScormFeature,o=e.hasPracticeScenarioCreator,s=e.hasPracticeScenarioClarity,c=e.updateAll,l=e.i18n,u=e.userCanCreateContent,d=this.state,p=d.newContentPopoverVisible,f=d.scormModalVisible,h=d.lessonModalVisible,m=d.scenarioModalVisible,g=d.scenarioLearnMoreModalVisible,v=w.a.createElement(k.c,{onClick:this.toggleNewContentPopover,icon:"add",className:"Index-newContentButton"},t("contents.index.header.new_content")),b=s?{secondaryAction:this.toggleScenarioLearnMore,secondaryText:t("contents.index.header.practice_scenario_learn_more")}:{},y=w.a.createElement("div",{className:"Index-newButtonsContainer"},w.a.createElement(k.i,{className:"Index-newButtonsPopover",activator:v,visible:p,align:"right",onClose:this.toggleNewContentPopover},w.a.createElement("div",{className:"Index-newButtonsActionList"},w.a.createElement(k.b,{items:[{content:t("contents.index.header.new_lesson"),onClick:this.openLessonModal},r&&{content:t("contents.index.header.new_path"),url:N.k.NEW_PATH},i&&{content:t("contents.index.header.new_scorm_lesson"),onClick:this.openScormModal},o&&R()({content:t("contents.index.header.new_practice_scenario"),onClick:this.openScenarioModal},b),!a&&n&&{content:t("contents.index.header.new_course"),url:N.k.NEW_COURSE}]}))));return w.a.createElement("div",null,w.a.createElement(wr,{title:w.a.createElement("span",null,w.a.createElement("span",{className:"u-hideBelowXS"},t("contents.index.header.learning"))," ",t("contents.index.header.content")),actions:u&&y}),f&&w.a.createElement(ts.a,null,w.a.createElement(rd,{closeScormModal:this.closeScormModal,scormModalVisible:f,updateAll:c,workspaces:this.props.workspacesForSelect,hasWorkspaceFeature:this.props.hasWorkspaceFeature,i18n:l})),h&&w.a.createElement(od,{closeModal:this.closeLessonModal}),m&&w.a.createElement(dd,{closeModal:this.closeScenarioModal}),w.a.createElement(pd,{shown:g,toggleModal:this.toggleScenarioLearnMore,location:"newContent"}))}}]),n}(w.a.Component),hd=Object(le.b)(function(e){return{hasContent:!!e.data.totalManageable,hasPathsFeature:Object(Or.i)(e,"paths"),hasScormFeature:Object(Or.i)(e,"scorm"),hasWorkspaceFeature:Object(Or.i)(e,"workspaces"),hasCoursesDisabledFeature:Object(Or.i)(e,"courses_disabled"),hasPracticeScenarioCreator:Object(Or.i)(e,"on_demand_practice_creator_view"),hasPracticeScenarioClarity:Object(Or.i)(e,"on_demand_practice_clarity"),userCanCreateContent:e.data.meta.currentUser.canCreateContent,workspacesForSelect:e.data.meta.workspaceOptions}},function(e){return{updateAll:function(){e(Yr())}}})(fd),md={filterUpdateContentType:function(e){return Hr({type:he.f.UPDATE.CONTENT_TYPE,contentType:e})},filterUpdateTags:Qr,filterUpdateDate:Xr,filterUpdateCreator:function(e){return Hr({type:he.f.UPDATE.CREATOR,id:e})},filterUpdateQuery:Kr,filterUpdateWorkspace:function(e){return Hr({type:he.f.UPDATE.WORKSPACE,id:e})}},gd=Object(le.b)(function(e){var t=e.filter,n=e.data.meta;return{selectedContentType:t.type,selectedTags:t.tags,selectedDate:t.date,selectedCreator:t.creator,selectedQuery:t.query,selectedWorkspace:t.workspace,tagsMetadata:n.tags,creators:n.creators,currentUserId:n.currentUser.id,hasPathFeature:Object(me.get)("features.paths",n),hasCoursesDisabledFeature:Object(me.get)("features.courses_disabled",n),hasFreshContentFeature:Object(me.get)("features.content_freshness",n),hasWorkspacesFeature:Object(me.get)("features.workspaces",n),hasOnDemandPracticeCreatorView:Object(me.get)("features.on_demand_practice_creator_view",n),hasMultipleWorkspaces:n.workspaceOptions.length>1,workspaces:n.workspaceOptions}},md)(function(e){return w.a.createElement(ai.Toolbar,null,e.hasWorkspacesFeature&&e.hasMultipleWorkspaces&&w.a.createElement(ai.Select,{selectedValue:e.selectedWorkspace,selectCallback:e.filterUpdateWorkspace},w.a.createElement("option",{value:"all"},t("workspaces.all_workspaces")),e.workspaces.map(function(e){var t=e.id,n=e.name;return w.a.createElement("option",{key:t||"default",value:t||"default"},n)})),w.a.createElement(ai.Select,{selectedValue:e.selectedContentType,selectCallback:function(t){return e.filterUpdateContentType(t)}},w.a.createElement("option",{value:"any"},t("contents.index.filters.all_content")),w.a.createElement("option",{value:"lesson"},t("contents.index.filters.lessons")),!e.hasCoursesDisabledFeature&&w.a.createElement("option",{value:"course"},t("contents.index.filters.courses")),e.hasPathFeature&&w.a.createElement("option",{value:"path"},t("contents.index.filters.paths")),e.hasFreshContentFeature&&w.a.createElement("option",{value:"fresh_content"},t("contents.index.filters.freshness")),e.hasOnDemandPracticeCreatorView&&w.a.createElement("option",{value:"practice_containers"},t("contents.index.filters.practice_scenarios"))),w.a.createElement(ai.MultiSelect,{data:e.tagsMetadata,label:{plural:"Tags",singular:"Tag"},sort:{key:"name",descending:!1},selected:e.selectedTags,applyCallback:function(t){return e.filterUpdateTags(t)}}),w.a.createElement(ai.DatePicker,{applyCallback:function(t){return e.filterUpdateDate(t)},longLabel:"Date Updated",startDate:e.selectedDate?e.selectedDate.start:null,endDate:e.selectedDate?e.selectedDate.end:null}),w.a.createElement(ai.Select,{label:"Creator",selectedValue:e.selectedCreator,selectCallback:function(t){return e.filterUpdateCreator(t)}},!!e.selectedCreator&&w.a.createElement("option",{value:"any"},"Everybody"),w.a.createElement("option",{value:e.currentUserId},"My Content"),w.a.createElement("option",{disabled:!0},"─"),e.creators.map(function(e){return w.a.createElement("option",{key:e.id,value:e.id},e.name)})),w.a.createElement(ai.Search,{value:e.selectedQuery,submitCallback:function(t){return e.filterUpdateQuery(t)}}))}),vd=function(e){function t(){return l()(this,t),f()(this,m()(t).apply(this,arguments))}return y()(t,e),d()(t,[{key:"render",value:function(){return w.a.createElement("div",null,w.a.createElement("div",{className:"BulkAction-viewHeader"},I18n.t("archive.bulk_actions.archive_content")),w.a.createElement("div",{className:"BulkAction-viewContent"},I18n.t("archive.bulk_actions.confirmation_message",{count:this.props.selectedCount})),w.a.createElement("div",{className:"BulkAction-viewButtonContainer d-f jc-e ai-c"},w.a.createElement("div",{className:"mr-12 c-p",onClick:this.props.toggleMenu},I18n.t("common.cancel")),w.a.createElement("button",{type:"button",className:"NewButton NewButton-flat",onClick:this.props.bulkActionsArchive},I18n.t("archive.bulk_actions.confirm"))))}}]),t}(w.a.Component),bd={bulkActionsArchive:mc},yd=Object(le.b)(function(e){return{selectedCount:e.bulk.selected.length}},bd)(vd),Ed=function(e){var t=e.onViewChange,n=e.view,r=e.title;return w.a.createElement("div",{className:"BulkAction-menuItem",onClick:function(){return t(n)}},r)},_d=function(e){return w.a.createElement("div",null,[{view:N.f.MASS_TAGGING,title:t("mass_actions.mass_tagging.title")},{view:N.f.MASS_OWNERSHIP,title:t("mass_actions.mass_ownership.title")},{view:N.f.MASS_LEARN,title:t("mass_actions.mass_learn.title")},{view:N.f.ARCHIVE,title:t("actions.archive")}].map(function(t){return w.a.createElement(Ed,{key:t.view,view:t.view,title:t.title,onViewChange:e.onViewChange})}))},wd=function(e){var t=e.route,n=e.requestedResource;return function(e,r){e({type:he.i.SHARED.REQUEST}),C.a.postJSON(t,{contents:Object(Or.s)(r())}).then(function(t){return e({type:he.i.SHARED.REQUEST_SUCCESS,shared:t[n]})})}},Sd=function(e){var t=e.name,n=e.route,r=e.data,a=e.updatedShared;return function(e,i){i().bulk.inProgress||(e(kr(t)),C.a.postJSON(n,R()({contents:Object(Or.s)(i())},r)).done(function(){return e(function(e,t){return function(n){n({type:he.i.SHARED.UPDATED,updatedShared:e}),n({type:he.b.SUBMIT.SUCCESS}),setTimeout(function(){n({type:he.b.MASS_ACTION.DONE}),n({type:he.i.SHARED.REMOVE_ALL}),t===N.f.MASS_TAGGING&&n(Ur(!0))},N.l.NOTIFICATION_SUCCESS_DELAY)}}(a,t))}).fail(function(){return e({type:he.b.SUBMIT.FAILURE})}))}},kd=function(e){function n(e){var t;return l()(this,n),t=f()(this,m()(n).call(this,e)),i()(v()(t),"addResource",function(e){t.setState(function(t){return{resources:[].concat(Z()(t.resources),[e])}})}),i()(v()(t),"removeResource",function(e){var n=t.state.resources,r=Object(S.findIndex)(n,{id:e});t.setState({resources:[].concat(Z()(n.slice(0,r)),Z()(n.slice(r+1)))})}),i()(v()(t),"applyChanges",function(){t.unchanged||t.props.applyChanges(t.state.resources)}),t.state={resources:e.shared},t}return y()(n,e),d()(n,[{key:"componentDidMount",value:function(){this.props.requestShared()}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.selected,r=t.shared;n.length>0&&!Object(S.isEqual)(e.selected,n)&&this.props.requestShared(),Object(S.isEqual)(e.shared,r)||this.setState({resources:r})}},{key:"render",value:function(){var e=this,n=this.props,r=n.requestingShared,a=n.title,i=n.placeholder,o=n.noSharedResourceText,s=n.autocompleteUrl,c=n.queryParam,l=n.resource,u=this.state.resources;return w.a.createElement("div",null,w.a.createElement("div",{className:"BulkAction-viewHeader"},a),w.a.createElement("div",{className:"BulkAction-viewContent"},w.a.createElement(Tn,{placeholder:i,className:"NewInput NewInput--lightestGray NewInput--tall NewInput--fw mb-16",onSuggestionSelected:this.addResource,icon:"search",url:s,mapResponseToSuggestions:function(e){return e[l]},filterSuggestions:_n(u),queryParam:c||"query"}),r&&w.a.createElement("div",{className:"quicklist-item d-f jc-c"},w.a.createElement("span",{className:"Spinner mr-4"})),!r&&u.map(function(t){var n=t.id,r=t.name;return w.a.createElement("div",{className:"quicklist-item",key:n},r,w.a.createElement("span",{className:"quicklist-remove",onClick:function(){return e.removeResource(n)}},w.a.createElement(z.a,{name:"remove",customClass:"c-brand-gray"})))}),!r&&u.length<1&&w.a.createElement("div",{className:"quicklist-item"},o)),w.a.createElement("div",{className:"BulkAction-viewButtonContainer"},w.a.createElement("button",{type:"button",disabled:this.disableApplyButton,className:"".concat(this.disableApplyButton?"NewButton--disabled":""," NewButton NewButton--fw NewButton--darkNavy NewButton--center NewButton--tall"),onClick:this.applyChanges},t("mass_actions.apply"))))}},{key:"unchanged",get:function(){var e=this.state.resources.map(function(e){return e.id}).sort(),t=this.props.shared.map(function(e){return e.id}).sort();return Object(S.isEqual)(e,t)}},{key:"disableApplyButton",get:function(){return this.unchanged||this.props.applying}}]),n}(E.Component),Cd=Object(le.b)(function(e){var t=e.bulk,n=t.selected,r=t.inProgress,a=e.massActions;return{selected:n,shared:a.shared,requestingShared:a.requestingShared,applying:r}},null)(kd),Nd=function(e){var n=e.applyGroups,r=e.requestSharedGroups,a=e.resource;return w.a.createElement(Cd,{requestShared:r,applyChanges:n,title:t("mass_actions.mass_learn.title"),placeholder:t("mass_actions.mass_learn.add_group"),noSharedResourceText:t("mass_actions.mass_learn.no_shared_group"),autocompleteUrl:N.k.GROUPS,queryParam:"q",resource:a})};Nd.defaultProps={resource:"groups"};var Od={requestSharedGroups:function(){return function(e){return e(wd({route:N.k.LEARN_SHARED_LIBRARY_GROUPS_FOR_CONTENTS,requestedResource:"groups"}))}},applyGroups:function(e){return function(t){return t(Sd({name:N.f.MASS_LEARN,route:N.k.LEARN_UPDATE_LIBRARY_CONTENTS,data:{groups:e.map(function(e){return e.id})},updatedShared:e}))}}},xd=Object(le.b)(null,Od)(Nd),Td=function(e){var n=e.applyOwners,r=e.requestSharedOwners,a=e.resource,i=e.ownersRoute;return w.a.createElement(Cd,{requestShared:r,applyChanges:n,title:t("mass_actions.mass_ownership.title"),placeholder:t("mass_actions.mass_ownership.add_owner"),noSharedResourceText:t("mass_actions.mass_ownership.no_shared_owner"),autocompleteUrl:i,resource:a})};Td.defaultProps={resource:"owners",ownersRoute:N.k.OWNERSHIPS_PEOPLE+"?ownership_type=shared_ownership"};var Rd={requestSharedOwners:function(){return function(e){return e(wd({route:N.k.LEARN_SHARED_OWNERS_FOR_CONTENTS,requestedResource:"owners"}))}},applyOwners:function(e){return function(t){return t(Sd({name:N.f.MASS_OWNERSHIP,route:N.k.LEARN_UPDATE_OWNERS,data:{owners:e.map(function(e){return e.id})},updatedShared:e}))}}},Pd=Object(le.b)(null,Rd)(Td),Id=function(e){var n=e.applyTags,r=e.requestSharedtags,a=e.resource;return w.a.createElement(Cd,{requestShared:r,applyChanges:n,title:t("mass_actions.mass_tagging.title"),placeholder:t("mass_actions.mass_tagging.add_tag"),noSharedResourceText:t("mass_actions.mass_tagging.no_shared_tag"),autocompleteUrl:N.k.TAGS,queryParam:"q",resource:a})};Id.defaultProps={resource:"tags"};var Ad={requestSharedtags:function(){return function(e){return e(wd({route:N.k.LEARN_SHARED_TAGS_FOR_CONTENTS,requestedResource:"tags"}))}},applyTags:function(e){return function(t){return t(Sd({name:N.f.MASS_TAGGING,route:N.k.LEARN_UPDATE_TAGS,data:{tags:e.map(function(e){return e.id})},updatedShared:e}))}}},Md=Object(le.b)(null,Ad)(Id),Dd=function(e){function t(e){var n;return l()(this,t),(n=f()(this,m()(t).call(this,e))).state={activeView:null},n.setActiveView=n.setActiveView.bind(v()(n)),n}return y()(t,e),d()(t,[{key:"setActiveView",value:function(e){this.setState({activeView:e})}},{key:"renderActiveView",value:function(){var e={toggleMenu:this.props.toggleMenu};switch(this.state.activeView){case N.f.MASS_TAGGING:return w.a.createElement(Md,null);case N.f.MASS_OWNERSHIP:return w.a.createElement(Pd,null);case N.f.MASS_LEARN:return w.a.createElement(xd,null);case N.f.ARCHIVE:return w.a.createElement(yd,e);default:return w.a.createElement(_d,{onViewChange:this.setActiveView})}}},{key:"render",value:function(){return w.a.createElement(Ut,{styleName:"BulkAction-dropdown",dismissable:!1},this.renderActiveView())}}]),t}(w.a.Component),jd=function(e){function t(e){var n;return l()(this,t),(n=f()(this,m()(t).call(this,e))).state={active:!1},n.toggleMenu=n.toggleMenu.bind(v()(n)),n}return y()(t,e),d()(t,[{key:"toggleMenu",value:function(){this.setState(function(e){return{active:!e.active}})}},{key:"render",value:function(){var e=this.state.active,t=V()("NewButton NewButton--center NewButton--small IndexFilter-actionButton",{"IndexFilter-actionButton--active":e}),n=V()("ml-8",{"c-brand-gray-darkest":!e,"c-white":e});return w.a.createElement("div",{className:"BulkAction-button pos-r ml-a"},w.a.createElement("div",{className:t,onClick:this.toggleMenu},w.a.createElement(z.a,{name:"list-ul"}),w.a.createElement("span",{className:n},I18n.t("actions.bulk"))),e&&w.a.createElement(Dd,H()({},this.props,{toggleMenu:this.toggleMenu})))}}]),t}(w.a.Component),Ld=Object(le.b)(function(e,t){return{bulkActionDone:e.bulk.done,visible:Object(Or.v)(e),hasError:Object(Or.h)(e),success:e.bulk.success,selectedCount:e.bulk.selected.length,totalResults:e.data.totalResults,filterIsActive:e.filter.isActive,loading:Object(Or.n)(e),bulkDone:!e.bulk.inProgress&&e.bulk.done,bulkInProgress:e.bulk.inProgress,bulkCount:e.bulk.count,bulkName:e.bulk.name,disabled:Object(Or.t)(e),updatedShared:e.massActions.updatedShared,currentUser:e.data.meta.currentUser}},function(e){return{clearFilter:function(){return e(zr())},actions:{archive:function(){return e(mc())}}}})(function(e){var t;return t=e.currentUser.isAdmin?w.a.createElement(jd,{actions:e.actions}):[{label:"Archive",iconName:"archive",onClickKey:"archive",modalTitle:"Archive Content",modalMessage:"Are you sure you want to archive %selectedCount% %nItems%?",modalConfirmButton:"Yes, archive"}],w.a.createElement(za,H()({},e,{buttons:t}))}),Fd=r(680),Bd=r.n(Fd),Ud=function(){var e=Object(E.useReducer)(function(e){return!e},!1),n=Ye()(e,2),r=n[0],a=n[1];return w.a.createElement("div",{className:"mt-16 fz-bigger"},w.a.createElement("span",{className:"c-brand-gray-dark"},t("contents.index.no_content.description_secondary"))," ",w.a.createElement(Ce,{onClick:a},t("contents.index.no_content.call_to_action")),r&&w.a.createElement(od,{closeModal:a}))},Hd=Object(le.b)(function(e){return{canCreateContent:e.data.meta.currentUser.canCreateContent}})(function(e){var n={hasFailed:{icon:"".concat(N.k.ASSETS_BLANK_SLATES,"/danger.svg")},noResults:{title:"It’s Not You. It’s Me.",image:hi.a,icon:"".concat(N.k.ASSETS_BLANK_SLATES,"/filter.svg"),additionalDescription:w.a.createElement("span",null,"Perhaps you are looking for something in the"," ",w.a.createElement("a",{className:"target",href:N.k.ARCHIVES},"archive"),"?")},noContent:{image:Bd.a,title:t("contents.index.no_content.title"),description:t("contents.index.no_content.description"),children:e.canCreateContent?w.a.createElement(Ud,null):null}};return w.a.createElement(Ni,H()({},e,{blankSlates:n,tableHeaders:e.tableHeaders}))}),qd=function(e){var t=e.data,n=e.seperator,r=void 0===n?", ":n,a=e.onTagClick,i=e.map,o=void 0===i?{key:"id",value:"name"}:i,s=e.href,c=e.className,l=t.map(function(e,n){var i=w.a.createElement("a",{onClick:function(t){t.preventDefault(),a(e[o.key])},key:e.id,href:s.replace("{{key}}",e[o.key]),className:"IndexTable-tag target",children:e[o.value]}),c=w.a.createElement("span",{key:"sep.".concat(n)},r);return n<t.length-1?[i,c]:i}),u=Z()(l);return w.a.createElement("span",{className:c},u)},Gd=function(e){function t(e){var n;return l()(this,t),(n=f()(this,m()(t).call(this,e))).state={isActive:!1},n.toggleMenu=n.toggleMenu.bind(v()(n)),n}return y()(t,e),d()(t,[{key:"toggleMenu",value:function(){this.setState(function(e){return{isActive:!e.isActive}})}},{key:"handleItemClick",value:function(e){this.toggleMenu(),this.props.onItemClick(e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.data,r=t.description,a=t.label,i=t.icon,o=t.valueKey,s=t.onItemClick;return w.a.createElement("div",{className:"IndexQuickLook"},w.a.createElement("span",{className:"IndexQuickLook-count",onClick:this.toggleMenu},!!i&&w.a.createElement(z.a,{customClass:"IndexQuickLook-icon",name:i}),n.length," ",Object(Ne.d)(n.length,a.singular,a.plural)),this.state.isActive&&w.a.createElement(Ut,{dismissCallback:this.toggleMenu,autoPosition:!0},!!r&&w.a.createElement("div",{className:"IndexQuickLook-description"},w.a.createElement("span",{ref:function(e){return e&&$clamp(e,{clamp:3})},children:r}),w.a.createElement("hr",null)),w.a.createElement(nn.a,null,n.map(function(t){return w.a.createElement(_r,{if:!s,href:t.url,target:"blank",className:"NewPopoverOption undecorated",onClick:function(){return e.handleItemClick(t.id)},children:t[o],key:t.id,forceClick:!0})}))))}}]),t}(w.a.Component);var Wd,Vd=function(e){function n(e){var t;return l()(this,n),(t=f()(this,m()(n).call(this,e))).state={isCopied:!1,isClicked:!1},t.copyToClipboard=t.copyToClipboard.bind(v()(t)),t.closeModal=t.closeModal.bind(v()(t)),t.showModal=t.showModal.bind(v()(t)),t.showCopied=t.showCopied.bind(v()(t)),t.copiedTimer=null,t}return y()(n,e),d()(n,[{key:"copyToClipboard",value:function(){!function(e,t,n){var r=document.createElement("textarea");r.style.position="absolute",r.style.top=0,r.style.left=0,r.style.width="2em",r.style.height="2em",r.style.opacity=0,r.value=e,document.body.appendChild(r),r.select();try{document.execCommand("copy")?t():n()}catch(e){n()}document.body.removeChild(r)}(this.props.url,this.showCopied,this.showModal)}},{key:"showCopied",value:function(){this.setState({isCopied:!0,isClicked:!0},this.resetShareButton)}},{key:"showModal",value:function(){this.setState({isCopied:!1,isClicked:!0})}},{key:"closeModal",value:function(){this.setState({isCopied:!1,isClicked:!1})}},{key:"resetShareButton",value:function(){var e=this;window.clearTimeout(this.copiedTimer),this.copiedTimer=window.setTimeout(function(){e.setState({isCopied:!1,isClicked:!1})},750)}},{key:"render",value:function(){var e=this.state,n=e.isCopied,r=e.isClicked,a=V()("IndexAction-button",{"IndexAction-button--square":!n,"IndexAction-button--success":n});return w.a.createElement("a",{className:a,onClick:n?null:this.copyToClipboard},!n&&w.a.createElement(z.a,{name:"link"}),n&&w.a.createElement("span",null,t("content.share_button.copied")),w.a.createElement(Ha.a,{show:!n&&r,title:t("content.share_button.copy_link"),dismissCallback:this.closeModal},t("content.share_button.share_text"),w.a.createElement("input",{ref:function(e){e&&e.select()},type:"text",value:this.props.url,readOnly:!0,onClick:function(e){return e.target.select()}})))}}]),n}(w.a.Component),zd=function(e){var t=e.icon,n=e.label,r=e.withComma;return w.a.createElement("span",null,w.a.createElement("span",{className:"RoleTag"},t&&w.a.createElement(z.a,{name:t})," ",n),r&&", ")},Yd=Object(le.b)(function(){var e=Object(Or.b)();return function(t,n){var r=n.tags,a=(n.lastModified,n.index,n.type),i=n.publishedAt;return{hasTags:!Object(S.isEmpty)(r),isDraft:"path"===a&&Object(S.isNull)(i),tagsData:e(t,r),userCanUpdateContent:t.data.meta.currentUser.canUpdateContent}}},function(e){return{filterByTag:function(t){e(Vr(Qr([t])))}}})(function(e){var t=e.title,n=e.urls,r=e.type,a=e.lessons,i=e.description,o=e.tagsData,s=e.filterByTag,c=e.hasTags,l=e.id,u=e.scorm,d=e.isDraft,p=e.features,f=e.userCanUpdateContent;return w.a.createElement(ci,{size:"xl",name:"title",split:!0},w.a.createElement("div",null,w.a.createElement("a",{href:n.overview},"path"===r&&w.a.createElement(z.a,{customClass:"mr-4 c-brand-gray-dark",name:r}),"practice/container"===r&&w.a.createElement(z.a,{customClass:"mr-4 c-brand-gray-dark",name:"star_outline"}),t),"course"===r&&w.a.createElement(Gd,{data:a,description:i,label:{plural:"Lessons",singular:"Lesson"},valueKey:"title",icon:"course"}),w.a.createElement("div",{className:"Index-tableSecondaryField"},u&&w.a.createElement(zd,{label:"SCORM",icon:"scorm",withComma:c}),!p.lesson_draft_mode&&d&&w.a.createElement(zd,{label:"Draft",withComma:c}),c&&w.a.createElement(qd,{data:o,href:"?tags[]={{key}}",onTagClick:s}))),w.a.createElement("div",{className:"IndexAction-container"},!!n.share&&w.a.createElement(Vd,{url:n.share}),!u&&f&&w.a.createElement("a",{className:"IndexAction-button IndexAction-button--square",target:"lesson_edit_".concat(l),href:n.edit},w.a.createElement(z.a,{name:"edit"}))))}),Qd=function(e){var t,n=e.lastModified;return w.a.createElement(ci,{size:"l",name:"last-modified",className:"ContentRow-lastModified",hideBelowXS:!0},(t=(t=moment(n.date)).year()!==moment().year()?t.format(L.MONTH_DAY_YEAR_SHORT):t.format(L.MONTH_DAY_SHORT),w.a.createElement("div",null,t)),n.name&&w.a.createElement("div",{className:"Index-tableSecondaryField"},"".concat("created"===n.type?"Created":"Updated"," by ").concat(n.name)))},Kd=function(e){var t=e.averageScore;return w.a.createElement(ci,{size:"s",name:"average-score",hideBelowMD:!0,center:!0},t?"".concat(parseInt(t,10),"%"):"-")},Xd=function(e){return w.a.createElement(ci,{size:"s",name:"completed-count",hideBelowMD:!0,center:!0},e.completedCount)},$d=function(e){var t=e.lastCompleted,n=t?moment(t):null;return w.a.createElement(ci,{size:"s",name:"last-completed",title:n?n.format("MMMM DD, YYYY"):null,hideBelowMD:!0,center:!0},n?n.fromNow():"-")},Zd=function(e){var t=e.lastActivity,n=t?moment(t):null;return w.a.createElement(ci,{size:"m",name:"last-activity",title:n?n.format("MMMM DD, YYYY"):null,hideBelowMD:!0,center:!0},n?n.fromNow():"-")},Jd=function(e){var t=e.freshnessScore;return w.a.createElement(ci,{size:"s",name:"freshness-score",hideBelowMD:!0,center:!0},Object(S.isNil)(t)?"-":t)},ep="draft",tp="new_version_pending",np="published",rp=(Wd={},i()(Wd,ep,t("drafts.state.draft")),i()(Wd,tp,t("drafts.state.new_version_pending")),i()(Wd,np,t("drafts.state.published")),Wd),ap=function(e){var t=e.state,n=V()("Pill Pill--dot mr-8",{"Pill--outline":t===tp,"Pill--tealLighter":t===ep});return w.a.createElement(ci,{size:"l",name:"state",contentClassName:"d-b"},w.a.createElement("span",{className:n}),rp[t])},ip=Object(le.b)(function(e){return{features:{lesson_draft_mode:e.data.meta.features.lesson_draft_mode}}})(function(e){return w.a.createElement(si,{index:e.index,checkBoxDisabled:"practice/container"===e.type},w.a.createElement(Yd,H()({},e,{selected:void 0})),e.features.lesson_draft_mode&&w.a.createElement(ap,{state:e.displayedState}),w.a.createElement(Qd,{lastModified:e.lastModified}),(n=(t=e).selectedContentType,r=t.stats,"fresh_content"===n?[w.a.createElement(Zd,H()({key:"last-activity-cell"},r)),w.a.createElement(Jd,H()({key:"freshness-score-cell"},r))]:[w.a.createElement(Kd,{key:"average-score-cell",averageScore:r.averageScore}),w.a.createElement(Xd,H()({key:"completed-count-cell"},r)),w.a.createElement($d,H()({key:"last-completed-cell"},r))]));var t,n,r}),op=Object(le.b)(function(e){var t=e.filter,n=e.data;return{data:n.content,lastFetched:n.lastFetched,selectedContentType:t.type}})(function(e){var t=e.data,n=e.lastFetched,r=e.selectedContentType;return w.a.createElement("div",{className:"Content-tableBody Table-body"},t.map(function(e,t){return w.a.createElement(ip,H()({key:"".concat(t,"_").concat(n),index:t},e,{selectedContentType:r}))}))}),sp={default:[{label:"Title",name:"title",size:"xl",clickable:!0,loadingPlaceholder:{width:55,roleTag:!0}},{label:"Status",name:"state",size:"l",clickable:!0,classes:{hideBelowXS:!0},loadingPlaceholder:{width:90}},{label:"Date",name:"last-modified",size:"l",clickable:!0,classes:{hideBelowXS:!0},loadingPlaceholder:{width:90}},{label:"Average Score",name:"average-score",size:"s",clickable:!0,classes:{hideBelowMD:!0,center:!0},loadingPlaceholder:{width:85}},{label:"Times Completed",name:"completed-count",size:"s",clickable:!0,classes:{hideBelowMD:!0,center:!0},loadingPlaceholder:{width:70}},{label:"Last Completed",name:"last-completed",size:"s",clickable:!0,classes:{hideBelowMD:!0,center:!0},loadingPlaceholder:{width:40}}],content_freshness:[{label:"Title",name:"title",size:"xl",clickable:!0,loadingPlaceholder:{width:55}},{label:"Status",name:"state",size:"l",clickable:!0,classes:{hideBelowXS:!0},loadingPlaceholder:{width:90}},{label:"Date",name:"last-modified",size:"l",clickable:!0,classes:{hideBelowXS:!0},loadingPlaceholder:{width:90}},{label:"Last Activity",name:"last-activity",size:"m",clickable:!0,classes:{hideBelowMD:!0,center:!0},loadingPlaceholder:{width:85}},{label:"Freshness Score",name:"freshness-score",size:"s",clickable:!0,classes:{hideBelowMD:!0,center:!0},loadingPlaceholder:{width:70},getTooltip:function(){return t("contents.index.content_freshness.score_description")}}]},cp=[{label:"User",name:"name",size:"xl",clickable:!0,loadingPlaceholder:{width:55,roleTag:!0}},{label:"Date Created",name:"last-modified",size:"l",clickable:!0,classes:{hideBelowXS:!0},loadingPlaceholder:{width:90}},{clickable:!1,label:"Average Score",name:"average-score",size:"s",classes:{hideBelowMD:!0,center:!0},loadingPlaceholder:{width:85}},{label:"Recent Activity",name:"recent-activity",size:"s",clickable:!0,classes:{hideBelowMD:!0,center:!0},loadingPlaceholder:{width:70}},{label:"Last Completion",name:"last-completed",size:"s",clickable:!0,classes:{hideBelowMD:!0,center:!0},loadingPlaceholder:{width:40}}],lp={save:function(){return function(e,t){return new Promise(function(n){var r=Mr(t().filter);localStorage.setItem("defaultContentView.filters",JSON.stringify(r)),e(Ar(Ir.SET)),n()})}},revert:jr},up=Object(le.b)(function(e){return{currentView:e.defaultView}},lp)(function(e){var t=e.children,n=e.save,r=e.revert,a=e.currentView;return t({save:n,revert:r,viewTypes:Ir,currentView:a,match:Object(me.getOr)(!1,a)})}),dp=function(e){var t=e.onDismiss;return w.a.createElement(Ut,{position:"right",dismissCallback:t},w.a.createElement("div",{className:"mb-16"},w.a.createElement("h4",{className:"fw-b ff-ss d-ib"},I18n.t("default_content_view.title"))),w.a.createElement("p",{className:"c-gray-dark"},I18n.t("default_content_view.description")),w.a.createElement(up,null,function(e){var n=e.currentView,r=e.viewTypes,a=e.save,i=e.revert;return w.a.createElement("div",null,w.a.createElement(k.c,{small:!0,icon:"save",className:"mb-8",onClick:function(){ns("default_content_view/save_default_view_clicked",{location:"Content Page - Save Default Experiment"}),a().then(t)},disabled:n===r.SET},I18n.t("default_content_view.save")),w.a.createElement(k.c,{small:!0,icon:"undo",onClick:function(){ns("default_content_view/revert_default_view_clicked",{location:"Content Page - Revert Default Experiment"}),i().then(t)},disabled:n===r.UNSET||n!==r.DIRTY},I18n.t("default_content_view.revert")))}))},pp=function(e){function t(e){var n;return l()(this,t),(n=f()(this,m()(t).call(this,e))).state={popoverVisible:!1},n.togglePopover=n.togglePopover.bind(v()(n)),n}return y()(t,e),d()(t,[{key:"togglePopover",value:function(e){this.state.popoverVisible||ns("default_content_view/open_popover_clicked",{location:"Content Page - Save Default Experiment",button_state:e}),this.setState(function(e){return{popoverVisible:!e.popoverVisible}})}},{key:"render",value:function(){var e=this;return w.a.createElement("div",{className:"DefaultContentView"},w.a.createElement("div",{className:"pos-r ml-a"},w.a.createElement(up,null,function(t){var n,r=t.match,a=t.viewTypes,o=t.currentView;return w.a.createElement("button",{type:"button",className:"u-linkBtn fw-b c-white td-u",onClick:function(){return e.togglePopover(o)}},r((n={},i()(n,a.SET,I18n.t("default_content_view.default")),i()(n,a.UNSET,I18n.t("default_content_view.not_set")),i()(n,a.DIRTY,I18n.t("default_content_view.unsaved")),n)),w.a.createElement(z.a,{name:"caret_down",customClass:"ml-4"}))}),this.state.popoverVisible&&w.a.createElement(dp,{onDismiss:this.togglePopover})))}}]),t}(E.Component),fp=function(e){function t(e){var n;return l()(this,t),n=f()(this,m()(t).call(this,e)),Ku&&e.canSaveFilters&&e.initDefaultView(),n}return y()(t,e),d()(t,[{key:"render",value:function(){var e=this.props,t=e.i18n,n=e.userCanArchiveContent,r=e.canSaveFilters;return w.a.createElement("div",{className:"Index"},w.a.createElement(ha,{omitParam:"per_page"}),w.a.createElement(hd,{i18n:t}),Ku&&r&&w.a.createElement(pp,null),w.a.createElement(gd,null),w.a.createElement(Ld,null),w.a.createElement(Hd,{i18n:t,tableHeaders:this.tableHeaders},w.a.createElement(ua,{tableHeaders:this.tableHeaders},w.a.createElement(op,null))),n&&w.a.createElement(ma,null))}},{key:"tableHeaders",get:function(){var e=this.props,t=e.selectedContentType,n=e.features,r=sp.default;return"fresh_content"===t&&(r=sp.content_freshness),n.lesson_draft_mode||(r=Object(me.reject)({name:"state"})(r)),r}}]),t}(E.Component),hp={initDefaultView:function(){return function(e,t){var n;e(Lr()),t().defaultView!==Ir.UNSET&&(n=t().filter,Object(me.isEqual)(Mr(n),Mr(Tr)))&&e(jr())}}},mp=Object(le.b)(function(e){var t=e.filter,n=e.data;return{userCanArchiveContent:Object(me.get)("meta.currentUser.canArchiveContent",n),selectedContentType:t.type,canSaveFilters:n.meta.currentUser.canSaveFilters,features:{lesson_draft_mode:n.meta.features.lesson_draft_mode}}},hp)(fp),gp={requestingShared:!1,shared:[],updatedShared:[]},vp=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gp,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case he.i.SHARED.REQUEST:return R()({},e,{requestingShared:!0});case he.i.SHARED.REQUEST_SUCCESS:return R()({},e,{requestingShared:!1,shared:t.shared});case he.i.SHARED.UPDATED:return R()({},e,{updatedShared:t.updatedShared});case he.i.SHARED.REMOVE_ALL:return R()({},e,{shared:[],updatedShared:[]});default:return e}},bp=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ir.UNSET,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case he.d.SET_VIEW_STATE:return t.view;default:return e}},yp=function(e){return fe(e,{filter:Pr,data:Fi,bulk:ji,defaultView:bp,massActions:vp})},Ep=function(e){function t(e){var n;return l()(this,t),(n=f()(this,m()(t).call(this,e))).store=yp(e.initialState),n}return y()(t,e),d()(t,[{key:"render",value:function(){return w.a.createElement(le.a,{store:this.store},w.a.createElement(mp,{i18n:this.props.i18n}))}}]),t}(w.a.Component),_p=he.k.REQUEST_CONTENTS,wp=function(){return{type:_p.IN_PROGRESS}},Sp=function(e){return{type:_p.SUCCESS,payload:e}};function kp(e){e(wp()),C.a.get(window.location.pathname+window.location.search).then(function(t){return e(Sp(t))})}var Cp=function(e){var n;if(e.completedDate)n=t("paths.dashboard.status.completed_on",{date:e.completedDate});else if(e.dueDate)n=t("paths.dashboard.status.due_on",{date:e.dueDate});else{if(!e.assignDate)return!1;n=t("paths.dashboard.status.assigned_on",{date:e.assignDate})}return w.a.createElement("div",{className:"PathViewerHeader-dateContainer d-f ai-c"},w.a.createElement("div",{className:"PathViewerHeader-date"},n),e.isOverdue&&w.a.createElement("div",{className:"Pill Pill--danger"},t("paths.dashboard.status.overdue")))},Np=Object(le.b)(function(e){var t=e.pathViewer;return{title:t.title,description:t.description,assignment:t.assignment,loading:t.loading}})(function(e){var t=e.title,n=e.description,r=e.assignment,a=e.loading;return w.a.createElement("div",{className:"PathViewerHeader"},w.a.createElement("div",{className:"PathViewerHeader-info jc-sb d-f"},w.a.createElement("h1",{className:"PathViewerHeader-title"},t),!a&&w.a.createElement(Cp,r)),n&&w.a.createElement("p",{className:"PathViewerHeader-description"},n))}),Op=function(e){return e.pathViewer.contents},xp=Object(Vi.createSelector)(Op,function(e){return e.filter(function(e){return!Object(me.isNull)(e.progress.completedDate)}).length}),Tp=Object(Vi.createSelector)([Op,xp],function(e,t){return Math.round(t/e.length*100)}),Rp=Object(le.b)(function(e){return{completedPercentage:Tp(e)}})(function(e){return w.a.createElement("div",{className:"PathProgress"},w.a.createElement("div",{className:"PathProgress-bar",style:{width:"".concat(e.completedPercentage,"%")}}))});function Pp(e,n){return{inProgress:function(){return t("paths.dashboard.continue_working")},available:function(){return function(e){return"lesson"===e.toLowerCase()?t("paths.dashboard.start_lesson"):t("paths.dashboard.start_other")}(n)},completed:function(){return t("paths.dashboard.view")},awaitingGrade:function(){return t("paths.dashboard.view")}}[e].call()||""}var Ip=function(e){var t=e.status,n=e.type,r=e.urls,a=V()("PathContentButton",{"CustomColor--backgroundColor":"available"===t});return w.a.createElement("a",{href:r.view,className:a},Pp(t,n))},Ap=3,Mp=["dust1","dust2"],Dp=[[[0,2],[0,0],[0,-1],[2,-1],[2,-2],[3,-1]],[[7,-2],[8,-1],[10,-1],[12,1]],[[12,8],[11,10],[10,11],[8,12]],[[4,12],[3,11],[2,12],[2,11],[0,11],[0,9]]],jp=[];var Lp=function(){var e=function(){for(jp.length===Ap&&(jp=[]);jp.length<Dp.length;){var e=Object(S.random)(0,Dp.length-1);if(!jp.includes(e)){jp.push(e);break}}return Object(S.sample)(Dp[Object(S.last)(jp)])}().map(function(e){return"".concat(10*e,"%")}),t=Ye()(e,2);return{top:t[0],left:t[1]}},Fp=function(e){return w.a.createElement(z.a,{customClass:"c-green pos-a",style:R()({fontSize:"".concat(Object(S.random)(8,12),"px"),opacity:Object(S.random)(.5,1,!0),transform:"translate(-50%, -50%)"},Lp()),name:Object(S.sample)(Mp),key:"dust_".concat(e),stabilize:!1})};var Bp=function(){return Object(S.range)(Ap).map(Fp)},Up=function(e){var t=e.position,n=e.progress.completedDate;return w.a.createElement("div",{className:"PathContentStep"},n&&[w.a.createElement(z.a,{customClass:"PathContentStep-icon",name:"correct",key:"1"})].concat(Z()(Bp())),!n&&w.a.createElement("span",{className:"PathContentStep-position"},t))},Hp=function(e){return{dangerouslySetInnerHTML:{__html:Object(me.compact)(e).join('<span class="PathContentStatus-divider">|</span>')}}},qp=function(e){var n,r=e.progress,a=e.status,i=e.formattedStatus,o=function(){return{children:i}};return w.a.createElement("div",H()({className:"PathContentStatus"},(n={completed:function(){return Hp([t("paths.dashboard.status.completed_on",{date:r.completedDate}),r.score&&"".concat(r.score,"%")])},inProgress:function(){return Hp([t("paths.dashboard.status.started_on",{date:r.startedDate}),i])},upcoming:function(){return o()},locked:function(){return o()},awaitingGrade:function(){return o()}})[a]?n[a].call():{}))},Gp=function(e){var t,n=e.status,r=e.formattedStatus,a=e.progress,o=e.urls,s=e.position,c=e.type,l=G()(e,["status","formattedStatus","progress","urls","position","type"]);return w.a.createElement("article",{className:"PathContentWrapper"},w.a.createElement("div",{className:V()("PathContent",(t={},i()(t,"PathContent--".concat(n),!0),i()(t,"PathContent--locked","locked"===n),t))},w.a.createElement("div",{className:"PathContent-header"},w.a.createElement("h1",{className:"PathContent-title"},l.title),w.a.createElement(qp,{progress:a,status:n,formattedStatus:r})),!!l.description&&w.a.createElement("div",{className:"PathContent-body"},w.a.createElement("p",{className:"PathContent-description"},l.description)),!n.match(/upcoming|locked/i)&&w.a.createElement(Ip,{status:n,type:c,urls:o}),w.a.createElement(Up,{progress:a,position:s,status:n})))};function Wp(e){return w.a.createElement(Gp,H()({key:e.id},e))}var Vp=Object(le.b)(function(e){return{contents:e.pathViewer.contents}})(function(e){return w.a.createElement("div",{className:"PathContentsList"},e.contents.map(Wp))}),zp=function(e){var t=e.minWidth,n=e.maxWidth,r=e.large;return w.a.createElement("div",{className:V()("TextPlaceholder",{"TextPlaceholder--large":r}),style:{width:"".concat(Object(S.random)(t,n),"%")}})};zp.defaultProps={minWidth:40,maxWidth:80,large:!1};var Yp=zp,Qp=function(){return w.a.createElement("div",{className:"PathContentWrapper"},w.a.createElement("div",{className:"PathContent PathContent--loader"},w.a.createElement("div",{className:"PathContent-header"},w.a.createElement(Yp,{large:!0})),w.a.createElement("div",{className:"PathContent-body"},Object(S.range)(Object(S.random)(1,3)).map(function(e){return w.a.createElement(Yp,{key:e})})),w.a.createElement("div",{className:"PathContent-footer"}),w.a.createElement("div",{className:"PathContentStep"})))},Kp=function(){return w.a.createElement("div",{className:"PathViewerLoader"},w.a.createElement("div",{className:"PathProgress"}),w.a.createElement("div",{className:"PathContentsList"},Object(S.range)(3).map(function(e){return w.a.createElement(Qp,{key:e})})))},Xp=function(e){function t(){return l()(this,t),f()(this,m()(t).apply(this,arguments))}return y()(t,e),d()(t,[{key:"componentDidMount",value:function(){this.props.requestCourseContents()}},{key:"render",value:function(){var e=this.props,t=e.loading,n=e.contents;return w.a.createElement("div",{className:"PathViewer"},w.a.createElement(Np,null),t&&w.a.createElement(Kp,null),w.a.createElement(ft.a,{loading:t,opacity:.5,speed:500},!t&&!Object(me.isEmpty)(n)&&[w.a.createElement(Rp,{key:"progress"}),w.a.createElement(Vp,{key:"contents"})],!t&&Object(me.isEmpty)(n)&&w.a.createElement("div",{className:"ta-c"},"This course has no lessons")))}}]),t}(E.Component);i()(Xp,"defaultProps",{contents:[]});var $p={requestCourseContents:function(){return kp}},Zp=Object(le.b)(function(e){var t=e.pathViewer;return{loading:t.loading,contents:t.contents}},$p)(Xp),Jp={loading:!0,error:null,assignment:{}},ef=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Jp,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case he.k.REQUEST_CONTENTS.SUCCESS:return R()({},e,t.payload,{loading:!1});default:return R()({},e,Jp)}};function tf(e){return fe(e,{pathViewer:ef})}var nf=function(e){return w.a.createElement(le.a,{store:tf(e)},w.a.createElement(Zp,null))},rf=r(204),af=r(32),of=r.n(af),sf=function(e){var t={all:e.results.length,lessons:e.results.filter(function(e){return"lesson"===e.type}).length,courses:e.results.filter(function(e){return"course"===e.type}).length},n={results:1===t.all?"Result":"Results",lessons:1===t.lessons?"Lesson":"Lessons",courses:1===t.courses?"Course":"Courses"},r=function(){if(t.all){var e=["".concat(t.all," ").concat(n.results," found in")];return t.lessons&&e.push("".concat(t.lessons," ").concat(n.lessons)),t.courses&&e.push("".concat(t.courses," ").concat(n.courses)),t.courses&&t.lessons&&e.splice(2,0,"and"),e.join(" ")}return"No results found."}();return w.a.createElement("h3",{className:"LearningSearch-resultStats"},r)},cf=function(e){return w.a.createElement("a",{className:"LearningSearch-match",href:e.url},w.a.createElement("span",{dangerouslySetInnerHTML:{__html:e.text}}))},lf=function(e){function n(e){var t;return l()(this,n),(t=f()(this,m()(n).call(this,e))).state={showMore:!1},t.toggleMore=t.toggleMore.bind(v()(t)),t}return y()(n,e),d()(n,[{key:"toggleMore",value:function(){this.setState(function(e){return{showMore:!e.showMore}})}},{key:"render",value:function(){var e=this.props.matches,n=this.state.showMore;return w.a.createElement("div",{className:"LearningSearch-matches"},w.a.createElement("h4",{className:"LearningSearch-matchesTitle"},t("learning_library.search.matches")),w.a.createElement("div",{className:"LearningSearch-matchesContainer"},e.slice(0,3).map(function(e,t){return w.a.createElement(cf,H()({},e,{key:t}))}),n&&e.slice(3).map(function(e,t){return w.a.createElement(cf,H()({},e,{key:t}))})),e.length>3&&w.a.createElement("a",{onClick:this.toggleMore,className:"LearningSearch-toggleMore"},n?t("learning_library.search.show_less"):t("learning_library.search.show_more_matches",{count:e.length-3}),w.a.createElement(z.a,{name:n?"triangle_up":"triangle_down",customClass:"LearningSearch-toggleMoreIcon"})))}}]),n}(w.a.Component),uf=function(e){var t=function(t){function n(){return l()(this,n),f()(this,m()(n).apply(this,arguments))}return y()(n,t),d()(n,[{key:"getLayout",value:function(){return{GRID:"grid"===this.props.layout,LIST:"list"===this.props.layout,CUSTOM_COLOR:!!document.body.getAttribute("data-custom-color")}}},{key:"getStatus",value:function(){var e=this.props.progress,t=e.startDate,n=e.completedDate,r=e.dueDate,a=e.gradePending,i=e.score,o=e.canTake;return{STARTED:!!t,NOT_STARTED:!t,COMPLETED:!!n,NOT_COMPLETED:!n,INCOMPLETE:!n&&!!t,OVERDUE:!!r&&!n&&r<Date.now(),GRADE_PENDING:!!a,GRADED:!!i,DISABLED:!o,ENABLED:!!o}}},{key:"getChildContext",value:function(){return{contentStatus:this.getStatus(),contentLayout:this.getLayout()}}},{key:"render",value:function(){var t=this.getLayout(),n=this.getStatus(),r=V()("LearningContent",i()({"LearningContent--grid":t.GRID,"LearningContent--list":t.LIST,"LearningContent--border-left":t.LIST,"LearningContent--border-top":t.GRID,"LearningContent--completed":n.COMPLETED,"LearningContent--disabled":n.DISABLED,"CustomColor--borderColorLeft":t.LIST&&t.CUSTOM_COLOR,"CustomColor--borderColorTop":t.GRID&&t.CUSTOM_COLOR},"LearningContent--".concat(this.props.type),!0));return w.a.createElement(e,H()({},this.props,{styleName:r}))}}]),n}(w.a.Component);return t.childContextTypes={contentStatus:of.a.object,contentLayout:of.a.object},t},df=function(e){function t(){return l()(this,t),f()(this,m()(t).apply(this,arguments))}return y()(t,e),d()(t,[{key:"render",value:function(){var e,t=this.props.type,n=V()("CornerRibbon",(e={},i()(e,"".concat("CornerRibbon","--success"),"success"===t),i()(e,"".concat("CornerRibbon","--warning"),"warning"===t),i()(e,"".concat("CornerRibbon","--danger"),"danger"===t),e));return w.a.createElement("div",{className:n},w.a.createElement(z.a,{name:this.props.icon,customClass:"".concat("CornerRibbon","-icon")}))}}]),t}(w.a.Component),pf=function(e){function t(){return l()(this,t),f()(this,m()(t).apply(this,arguments))}return y()(t,e),d()(t,[{key:"componentDidMount",value:function(){$clamp(this.refs.title.refs.content,{clamp:this.props.clamp+1,useNativeClamp:!1})}},{key:"render",value:function(){var e=this.props,t=e.url,n=e.title;return w.a.createElement(_r,{if:this.context.contentStatus.ENABLED,ref:"title",href:t,title:n,className:"LearningContent-title"},n)}}]),t}(w.a.Component);pf.contextTypes={contentStatus:of.a.object};var ff=pf,hf=function(e){function t(){return l()(this,t),f()(this,m()(t).apply(this,arguments))}return y()(t,e),d()(t,[{key:"componentDidMount",value:function(){$clamp(this.refs.description,{clamp:this.props.clamp||3})}},{key:"render",value:function(){return w.a.createElement("p",{ref:"description",className:"LearningContent-description"},this.props.description)}}]),t}(w.a.Component),mf=function(e,t){var n=function(){var n=[];return t.contentStatus.GRADE_PENDING&&n.push("Awaiting Grade –"),t.contentStatus.GRADED&&n.push("Scored ".concat(e.progress.score,"% –")),t.contentStatus.COMPLETED&&n.push("Completed ".concat(e.progress.completedDateString)),t.contentStatus.NOT_COMPLETED&&e.progress.dueDate&&n.push("Due ".concat(e.progress.dueDateString)),n.join(" ")}();return n?w.a.createElement("div",{className:"LearningContent-info"},w.a.createElement(_r,{if:t.contentStatus.COMPLETED,href:e.reportCardUrl},n),t.contentStatus.OVERDUE&&w.a.createElement("span",{className:"LearningContent-status LearningContent-status--overdue"},"Overdue")):null};mf.contextTypes={contentStatus:of.a.object};var gf=mf,vf=function(e,t){var n=V()("btn btn-sans btn-lg",{"btn-primary":t.contentStatus.ENABLED&&t.contentStatus.NOT_COMPLETED,"btn-disabled":t.contentStatus.DISABLED});return w.a.createElement(_r,{if:t.contentStatus.ENABLED,href:e.url,className:n},e.buttonText)};vf.contextTypes={contentStatus:of.a.object};var bf=vf,yf=function(e){function t(e){var n;return l()(this,t),(n=f()(this,m()(t).call(this,e))).radialRenderTimer=null,n.state={value:n.props.value},n}return y()(t,e),d()(t,[{key:"componentDidMount",value:function(){var e=this;this.initStyles(function(){e.refs.bar.style.opacity=1,e.draw()})}},{key:"componentWillUnmount",value:function(){window.clearTimeout(this.radialRenderTimer)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this;this.props.value!==e.value&&this.setState({value:e.value},function(){t.draw()})}},{key:"getStrokeWidth",value:function(){return this.props.stroke||6}},{key:"getSize",value:function(){return this.props.size||48}},{key:"getCenter",value:function(){return this.getSize()/2}},{key:"getRadius",value:function(){return(this.getSize()-this.getStrokeWidth())/2}},{key:"getCircumference",value:function(){return Math.PI*this.getRadius()*2}},{key:"initTransition",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.speed||400;this.refs.bar.style.transition="all ".concat(e,"ms cubic-bezier(0.175, 0.885, 0.32, 1.275)")}},{key:"initStyles",value:function(e){this.initTransition(),this.refs.bar.style.strokeDashoffset=this.getCircumference(),this.refs.bar.style.strokeDasharray=this.getCircumference(),this.refs.bar.style.opacity=0,this.radialRenderTimer=setTimeout(function(){return e()},300)}},{key:"draw",value:function(){var e=this.state.value/this.props.max*100,t=this.getCircumference()*(100-e)/100;this.refs.bar.style.strokeDashoffset=t}},{key:"render",value:function(){var e=document.body.getAttribute("data-custom-color")?document.body.getAttribute("data-custom-color"):"#FFCF3F";return w.a.createElement("div",{className:"NewRadialProgressBar CustomColor--color"},w.a.createElement("span",{className:"NewRadialProgressBar-value"},this.props.value),w.a.createElement("svg",{width:this.getSize(),height:this.getSize(),viewBox:"0 0 ".concat(this.getSize()," ").concat(this.getSize()),className:"NewRadialProgressBar-svg",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},w.a.createElement("circle",{r:this.getRadius(),cx:this.getCenter(),cy:this.getCenter(),strokeWidth:this.getStrokeWidth(),stroke:"rgba(0,0,0,0.05)",fill:"transparent",className:"NewRadialProgressBar-background"}),w.a.createElement("circle",{r:this.getRadius(),cx:this.getCenter(),cy:this.getCenter(),stroke:this.props.color?this.props.color:e,strokeWidth:this.getStrokeWidth(),strokeLinecap:this.props.rounded?"round":"",fill:"transparent",transform:"rotate(270 ".concat(this.getCenter()," ").concat(this.getCenter(),")"),className:"NewRadialProgressBar-bar",ref:"bar"})))}}]),t}(w.a.Component),Ef=function(e){var t="LearningContentProgress",n=V()(t,{"LearningContentProgress--locked":!e.nextCanTake});return w.a.createElement(_r,{if:!!e.nextCanTake,href:e.nextUrl,className:n},w.a.createElement(yf,{max:e.count,value:e.completed}),w.a.createElement("div",{className:"".concat(t,"-textContainer")},w.a.createElement("div",{className:"".concat(t,"-continue")},e.nextStepText),w.a.createElement("div",{className:"".concat(t,"-nextLessonTitle")},e.nextTitle)))},_f=function(e,t){var n=t.contentStatus;return w.a.createElement("div",{className:e.styleName},n.COMPLETED&&w.a.createElement(df,{icon:"completed",type:"success"}),w.a.createElement("div",{className:"LearningContent-content"},w.a.createElement(z.a,{name:"course",customClass:"LearningContent-courseIcon"}),w.a.createElement(ff,{url:e.url,title:e.title,clamp:3}),e.description&&w.a.createElement(hf,{description:e.description,clamp:3}),w.a.createElement(gf,{progress:e.progress}),w.a.createElement("div",{className:"LearningContent-lessonsCount"},w.a.createElement("a",{href:e.url,title:"View ".concat(e.contentString)},e.contentString))),w.a.createElement("div",{className:"LearningContent-actionButton"},(n.COMPLETED||n.NOT_STARTED)&&w.a.createElement(bf,{url:e.url,buttonText:e.buttonText}),n.INCOMPLETE&&w.a.createElement(Ef,e.lessons)))};_f.contextTypes={contentStatus:of.a.object};var wf=_f,Sf=function(e,t){var n=t.contentStatus;return w.a.createElement("div",{className:e.styleName},n.COMPLETED&&w.a.createElement(df,{icon:"completed",type:"success"}),w.a.createElement("div",{className:"LearningContent-content"},w.a.createElement(z.a,{name:"path",customClass:"LearningContent-pathIcon"}),w.a.createElement(ff,{url:e.url,title:e.title,clamp:3}),e.description&&w.a.createElement(hf,{description:e.description,clamp:3}),w.a.createElement(gf,{progress:e.progress}),w.a.createElement("div",{className:"LearningContent-lessonsCount"},w.a.createElement("a",{href:e.url,title:"View ".concat(e.contentString)},e.contentString))),w.a.createElement("div",{className:"LearningContent-actionButton"},(n.COMPLETED||n.NOT_STARTED)&&w.a.createElement(bf,{url:e.url,buttonText:e.buttonText}),n.INCOMPLETE&&w.a.createElement(Ef,e.lessons)))};Sf.contextTypes={contentStatus:of.a.object};var kf=Sf,Cf=function(e,t){var n=V()("LearningContent-order",{"CustomColor--boxShadow5px":t.contentLayout.CUSTOM_COLOR,"CustomColor--color":t.contentLayout.CUSTOM_COLOR});return w.a.createElement("div",{className:n},e.order)};Cf.contextTypes={contentLayout:of.a.object};var Nf=Cf,Of=function(e,t){return w.a.createElement("div",{className:e.styleName},t.contentStatus.COMPLETED&&w.a.createElement(df,{icon:"completed",type:"success"}),t.contentLayout.LIST&&w.a.createElement(Nf,{order:e.order}),w.a.createElement("div",{className:"LearningContent-content"},w.a.createElement(ff,{url:e.url,title:e.title,clamp:3}),e.description&&w.a.createElement(hf,{description:e.description,clamp:3}),w.a.createElement(gf,{progress:e.progress,reportCardUrl:e.reportCardUrl})),w.a.createElement("div",{className:"LearningContent-actionButton"},w.a.createElement(bf,{url:e.url,status:t.contentStatus,buttonText:e.buttonText})))};Of.contextTypes={contentStatus:of.a.object,contentLayout:of.a.object};var xf=Of,Tf=function(e){var t=function(){if("course"===e.data.type){var t=uf(wf);return w.a.createElement(t,H()({},e.data,{key:e.data.id,layout:"grid"}))}if("path"===e.data.type){var n=uf(kf);return w.a.createElement(n,H()({},e.data,{key:e.data.id,layout:"grid"}))}var r=uf(xf);return w.a.createElement(r,H()({},e.data,{key:e.data.id,layout:"grid"}))}();return w.a.createElement("div",{className:"LearningSearch-result"},w.a.createElement("div",{className:"LearningSearch-content"},t),w.a.createElement(lf,{matches:e.data.searchMatches}))},Rf=function(e,t){var n=V()("Dashboard LearningSearch",{"LearningSearch--loading":t.searchLoading});return w.a.createElement("div",{className:n},w.a.createElement(sf,{results:e.results}),!!e.results.length&&w.a.createElement("div",{className:"LearningSearch-results"},e.results.map(function(e){return w.a.createElement(Tf,{data:e,key:e.id})})))};Rf.contextTypes={searchLoading:of.a.bool};var Pf=Rf,If=function(e){function t(){return l()(this,t),f()(this,m()(t).apply(this,arguments))}return y()(t,e),d()(t,[{key:"render",value:function(){var e=this.props,t=V()("NewDropDown-list",i()({Animated:e.animated,dynamic:e.dynamic,"NewDropDown-list--dark":e.dark,"NewDropDown-list--top":"top"===e.alignment,"NewDropDown-list--bottom":"bottom"===e.alignment},"Animated--".concat(e.animation),e.animated));return w.a.createElement("ul",{ref:"menu",style:e.style,className:t},this.props.children)}}]),t}(w.a.Component);If.defaultProps={animated:!0,animation:"popDown"};var Af=If,Mf=function(e){function t(e){var n;return l()(this,t),(n=f()(this,m()(t).call(this,e))).showMenu=n.showMenu.bind(v()(n)),n.closeMenu=n.closeMenu.bind(v()(n)),n.handleClick=n.handleClick.bind(v()(n)),n.selectItem=n.selectItem.bind(v()(n)),n.state={showMenu:!1,default:n.props.default,selected:n.props.children[0].props.children},n}return y()(t,e),d()(t,[{key:"showMenu",value:function(){var e=this;this.state.showMenu||this.setState({showMenu:!0},function(){document.addEventListener("click",e.handleClick)})}},{key:"closeMenu",value:function(e){var t=this;this.state.showMenu&&this.setState({showMenu:!1},function(){document.removeEventListener("click",t.handleClick)})}},{key:"handleClick",value:function(e){var t=e.path||[];if(!e.path)for(var n=e.target;;){if(n===document||!n){t.push(n);break}t.push(n),n=n.parentNode}this.state.showMenu&&-1===t.indexOf(this.refs.menu.refs.menu)&&this.closeMenu()}},{key:"selectItem",value:function(e){var t=this;this.setState(function(n){return{selected:e,default:"",showMenu:!t.props.auto&&n.showMenu}})}},{key:"render",value:function(){var e=this,t=this.props.children[0],n=this.props.children[1].props.children;return t=w.a.cloneElement(t,{action:this.showMenu,label:Array.isArray(t)?void 0:this.state.selected}),n=w.a.Children.map(n,function(t,n){return!!t&&w.a.cloneElement(t,{value:t.props.children,action:t.props.action,close:e.props.auto?e.closeMenu:void 0,select:e.props.select?e.selectItem:void 0,selected:e.props.select&&(t.props.children===e.state.selected||t.props.children===e.state.default)})}),w.a.createElement("div",{className:"NewDropDown"},t,this.state.showMenu&&w.a.createElement(Af,{ref:"menu"},n))}}]),t}(w.a.Component),Df=function(e){return w.a.createElement("button",{type:"button",onClick:e.action,className:"NewDropDown-toggle"},w.a.createElement(z.a,{customClass:"NewDropDown-icon",name:"filter"}),w.a.createElement("span",{className:"NewDropDown-label"},e.label," ",w.a.createElement(z.a,{customClass:"NewDropDown-triangle",name:"triangle_down"})))},jf=function(e){function t(e){var n;return l()(this,t),(n=f()(this,m()(t).call(this,e))).callAction=n.callAction.bind(v()(n)),n}return y()(t,e),d()(t,[{key:"callAction",value:function(e){this.props.select&&this.props.select(this.props.value),this.props.action&&this.props.action(),this.props.close&&this.props.close(),this.props.href||e.preventDefault()}},{key:"getItemName",value:function(){return this.props.children}},{key:"render",value:function(){var e=V()("NewDropDown-item d-f ai-c",{"NewDropDown-item--selected":!!this.props.selected,"NewDropDown-item--parent":!!this.props.parent,"NewDropDown-item--locked c-d jc-sb":this.props.isLocked});return w.a.createElement("li",{ref:"item",className:e,onClick:this.props.onClick||this.callAction,href:this.props.href||"#"},this.props.children,this.props.count&&w.a.createElement("span",{className:"NewDropDown-count"},this.props.count))}}]),t}(w.a.Component),Lf=function(e,n){return w.a.createElement(Mf,{default:t("common.view_all"),select:!0,auto:!0,animate:!0},w.a.createElement(Df,null,t("common.filter_by")),w.a.createElement(Af,null,!!n.counts.OVERDUE&&w.a.createElement(jf,{action:n.showOverdue,count:n.counts.OVERDUE},t("assignments.overdue.label")),w.a.createElement(jf,{action:n.showIncomplete,count:n.counts.INCOMPLETE},t("assignments.incomplete.label")),w.a.createElement(jf,{action:n.showCompleted,count:n.counts.COMPLETED},t("assignments.completed.label")),w.a.createElement(jf,{action:n.showAll,count:n.counts.ALL},t("common.view_all"))))};Lf.contextTypes={showCompleted:of.a.func,showOverdue:of.a.func,showIncomplete:of.a.func,showAll:of.a.func,counts:of.a.any};var Ff=Lf,Bf=function(e){function t(e){var n;return l()(this,t),(n=f()(this,m()(t).call(this,e))).state={focused:!1,searchQuery:"",lastSearchQuery:""},n.handleBlur=n.handleBlur.bind(v()(n)),n.handleFocus=n.handleFocus.bind(v()(n)),n.handleSubmit=n.handleSubmit.bind(v()(n)),n.handleClear=n.handleClear.bind(v()(n)),n.handleChange=n.handleChange.bind(v()(n)),n}return y()(t,e),d()(t,[{key:"handleBlur",value:function(){this.setState({focused:!1})}},{key:"handleFocus",value:function(){this.setState({focused:!0})}},{key:"handleChange",value:function(e){this.setState({searchQuery:e.target.value})}},{key:"handleClear",value:function(e){var t=this;this.setState({searchQuery:"",lastSearchQuery:""},function(){t.refs.input.focus(),t.context.destroySearch(),t.context.showAll()})}},{key:"handleSubmit",value:function(e){var t=this.state,n=t.searchQuery,r=t.lastSearchQuery;n&&r!==n&&(this.setState({lastSearchQuery:n}),this.context.search(n),this.refs.input.select()),e.preventDefault()}},{key:"render",value:function(){var e,t,n="LearningSearchInput-button",r={button:"LearningSearchInput-button",searchButton:V()(n,(e={},i()(e,"".concat(n,"--search"),!0),i()(e,"focused",this.state.focused),e)),clearButton:V()(n,(t={},i()(t,"".concat(n,"--clear"),!0),i()(t,"Animated Animated--fadeIn",!0),t))};return w.a.createElement("form",{type:"get",onSubmit:this.handleSubmit,action:"/dash/search",className:"LearningSearchInput"},w.a.createElement("div",{className:"LearningSearchInput-box"},w.a.createElement("input",{name:"q",autoComplete:"off",className:"LearningSearchInput-input",onFocus:this.handleFocus,onBlur:this.handleBlur,onChange:this.handleChange,placeholder:this.props.placeholder,value:this.state.searchQuery,ref:"input",type:"search"}),w.a.createElement("button",{type:"submit",className:r.searchButton},w.a.createElement(z.a,{name:"search",customClass:"LearningSearchInput-icon"})),(this.context.isSearchActive||this.state.searchQuery)&&w.a.createElement("button",{type:"button",onClick:this.handleClear,className:r.clearButton},"Clear")))}}]),t}(w.a.Component);Bf.contextTypes={search:of.a.func,destroySearch:of.a.func,isSearchActive:of.a.bool,showAll:of.a.func};var Uf=Bf,Hf=function(e,n){return w.a.createElement("div",{className:"PageHero PageHero--dark PageHero--small"},w.a.createElement("div",{className:"LearningHeader"},w.a.createElement("div",{className:"LearningHeader-title"},t("common.hi_user",{user:e.user||t("common.hi_user_default")})),w.a.createElement("div",{className:"LearningHeader-searchBar"},w.a.createElement(Uf,{placeholder:t("learning_library.search.placeholder")})),w.a.createElement("div",{className:"LearningHeader-filterMenu"},!n.isSearchActive&&w.a.createElement(Ff,null))))};Hf.contextTypes={isSearchActive:of.a.bool};var qf=Hf,Gf=function(e){function t(e){var n;return l()(this,t),(n=f()(this,m()(t).call(this,e))).updateTimer=null,n}return y()(t,e),d()(t,[{key:"componentDidMount",value:function(){this.showNProgress()}},{key:"UNSAFE_componentWillUpdate",value:function(e){var t=e.children;_.isEqual(this.props.children,t)||this.showNProgress()}},{key:"componentWillUnmount",value:function(){this.showNProgress()}},{key:"showNProgress",value:function(){window.clearTimeout(this.updateTimer),this.updateTimer=setTimeout(function(){return NProgress.done(!0)},100)}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.layout,r=w.a.Children.map(t,function(e){return w.a.cloneElement(e,{layout:n})});return w.a.createElement("div",{className:"LearningContentGroup"},r)}}]),t}(w.a.Component),Wf=function(e){return w.a.createElement("section",{className:"Dashboard-section NewDashboard-section"},w.a.createElement("h3",{className:"NewDashboard-sectionTitle"},e.title,w.a.createElement("span",{className:"NewDashboard-sectionCount"},e.assignments.length)),w.a.createElement(Gf,{layout:"grid"},e.assignments.map(function(e){if("course"===e.type){var t=uf(wf);return w.a.createElement(t,H()({},e,{key:e.id}))}if("path"===e.type){var n=uf(kf);return w.a.createElement(n,H()({},e,{key:e.id}))}var r=uf(xf);return w.a.createElement(r,H()({},e,{key:e.id}))})))},Vf=function(e,n){var r=n.assignments,a=n.counts,i=n.currentFilter,o=V()("Dashboard NewDashboard",{"LearningSearch--loading":n.searchLoading});return w.a.createElement("div",{className:o},!!a.OVERDUE&&("ALL"===i||"OVERDUE"===i||"INCOMPLETE"===i)&&w.a.createElement(Wf,{title:t("assignments.overdue.title"),assignments:r.getOverdue()}),!!a.TODO&&("ALL"===i||"INCOMPLETE"===i)&&w.a.createElement(Wf,{title:t("assignments.incomplete.title"),assignments:r.getTodo()}),!!a.GRADE_PENDING&&("ALL"===i||"COMPLETED"===i)&&w.a.createElement(Wf,{title:t("assignments.grade_pending.title"),assignments:r.getGradePending()}),!!a.GRADED&&("ALL"===i||"COMPLETED"===i)&&w.a.createElement(Wf,{title:t("assignments.completed.title"),assignments:r.getGraded()}),!a.INCOMPLETE&&"INCOMPLETE"===i&&w.a.createElement(vi.a,{simple:!0,icon:"completed"},t("assignments.blank_slate.no_pending")),!a.COMPLETED&&!!a.INCOMPLETE&&"COMPLETED"===i&&w.a.createElement(vi.a,{simple:!0,icon:"info"},t("assignments.blank_slate.to_complete",{count:a.INCOMPLETE})),!a.COMPLETED&&!a.INCOMPLETE&&"COMPLETED"===i&&w.a.createElement(vi.a,{simple:!0,icon:"info"},t("assignments.blank_slate.nothing_assigned")),!a.COMPLETED&&!a.INCOMPLETE&&"ALL"===i&&w.a.createElement(vi.a,{simple:!0,icon:"info"},t("assignments.blank_slate.nothing_assigned")))};Vf.contextTypes={assignments:of.a.object,counts:of.a.object,currentFilter:of.a.string,searchLoading:of.a.bool};var zf=Vf,Yf=function(e){function t(e){var n;return l()(this,t),(n=f()(this,m()(t).call(this,e))).state={currentFilter:"ALL",isSearchActive:!1,searchData:null,searchLoading:!1},n.assignments={getAll:n.getAllAssignments.bind(v()(n)),getCompleted:n.getCompletedAssignments.bind(v()(n)),getGradePending:n.getGradePendingAssignments.bind(v()(n)),getGraded:n.getGradedAssignments.bind(v()(n)),getIncomplete:n.getIncompleteAssignments.bind(v()(n)),getOverdue:n.getOverdueAssignments.bind(v()(n)),getTodo:n.getIncompleButNotOverdueAssignments.bind(v()(n))},n}return y()(t,e),d()(t,[{key:"getAllAssignments",value:function(){return this.props.data}},{key:"getCompletedAssignments",value:function(){return this.getAllAssignments().filter(function(e){return!!e.progress.completedDate}).sort(this.sortByProgressKey("completedDate",!0))}},{key:"getGradePendingAssignments",value:function(){return this.getCompletedAssignments().filter(function(e){return!!e.progress.gradePending})}},{key:"getGradedAssignments",value:function(){return this.getCompletedAssignments().filter(function(e){return!e.progress.gradePending})}},{key:"getAllIncompleAssignments",value:function(){return this.getAllAssignments().filter(function(e){return!e.progress.completedDate})}},{key:"getIncompleteAssignments",value:function(){return this.getAllIncompleAssignments().filter(function(e){return e.progress.dueDate}).sort(this.sortByProgressKey("dueDate")).concat(this.getAllIncompleAssignments().filter(function(e){return!e.progress.dueDate}).sort(this.sortByProgressKey("assignedAt",!0)))}},{key:"getOverdueAssignments",value:function(){return this.getIncompleteAssignments().filter(function(e){return!!e.progress.dueDate&&e.progress.dueDate<Date.now()})}},{key:"getIncompleButNotOverdueAssignments",value:function(){return this.getIncompleteAssignments().filter(function(e){return!e.progress.dueDate||e.progress.dueDate>=Date.now()})}},{key:"sortByProgressKey",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n,r){if(_.isNull(n.progress[e])||_.isNull(r.progress[e]))return 1;if(n.progress[e]===r.progress[e])return 0;var a=n.progress[e]-r.progress[e];return t?-1*a:a}}},{key:"setAssignmentsByStatus",value:function(e){this.setState({currentFilter:e})}},{key:"getCounts",value:function(){return{ALL:this.assignments.getAll().length,COMPLETED:this.assignments.getCompleted().length,GRADED:this.assignments.getGraded().length,GRADE_PENDING:this.assignments.getGradePending().length,INCOMPLETE:this.assignments.getIncomplete().length,OVERDUE:this.assignments.getOverdue().length,TODO:this.assignments.getTodo().length}}},{key:"search",value:function(e){var t=this;this.startSearchLoading(),$.ajax({url:"/dash/search?q="+encodeURIComponent(e),method:"get",contentType:"application/json",dataType:"json",success:function(e){return t.setSearchData(e,function(){t.showSearch(),t.stopSearchLoading()})}})}},{key:"setSearchData",value:function(e,t){this.setState({searchData:e},t)}},{key:"startSearchLoading",value:function(){this.setState({searchLoading:!0},function(){NProgress.start()})}},{key:"stopSearchLoading",value:function(){this.setState({searchLoading:!1},function(){NProgress.done()})}},{key:"showSearch",value:function(){this.setState({isSearchActive:!0})}},{key:"destroySearch",value:function(){this.setState({isSearchActive:!1})}},{key:"getChildContext",value:function(){return{assignments:this.assignments,currentFilter:this.state.currentFilter,showCompleted:this.setAssignmentsByStatus.bind(this,"COMPLETED"),showOverdue:this.setAssignmentsByStatus.bind(this,"OVERDUE"),showIncomplete:this.setAssignmentsByStatus.bind(this,"INCOMPLETE"),showAll:this.setAssignmentsByStatus.bind(this,"ALL"),counts:this.getCounts(),search:this.search.bind(this),searchLoading:this.state.searchLoading,showSearch:this.showSearch.bind(this),isSearchActive:this.state.isSearchActive,destroySearch:this.destroySearch.bind(this)}}},{key:"render",value:function(){var e=this.state.isSearchActive;return w.a.createElement("div",{className:"dashboard"},w.a.createElement(qf,{user:this.props.user}),!e&&w.a.createElement(zf,null),e&&w.a.createElement(Pf,{results:this.state.searchData}))}}]),t}(w.a.Component);Yf.childContextTypes={showCompleted:of.a.func,showOverdue:of.a.func,showIncomplete:of.a.func,showAll:of.a.func,counts:of.a.any,assignments:of.a.object,currentFilter:of.a.string,searchLoading:of.a.bool,search:of.a.func,showSearch:of.a.func,isSearchActive:of.a.bool,destroySearch:of.a.func};var Qf=Yf,Kf=Object(E.createContext)({}),Xf=Kf.Provider,$f=function(e){var t=e.children,n=kn(!1),r=Ye()(n,2),a=r[0],i=r[1],o=V()("DrawerContainer",{"is-expanded":a});return w.a.createElement(Xf,{value:{active:a,toggleActive:i}},w.a.createElement("div",{className:o},t))};$f.Title=function(e){var t=e.children,n=Object(E.useContext)(Kf).toggleActive;return w.a.createElement("button",{className:"DrawerContainer-title d-f jc-s",onClick:n,type:"button"},t,w.a.createElement("div",{className:"DrawerContainer-arrow DrawerContainer--rightArrow"}))},$f.Content=function(e){var t=e.children,n=Object(E.useRef)(),r=Object(E.useState)(),a=Ye()(r,2),i=a[0],o=a[1],s=Object(E.useContext)(Kf).active;return Object(E.useEffect)(function(){o(s?n.current.scrollHeight:0)}),w.a.createElement("div",{className:"DrawerContainer-content",ref:n,style:{maxHeight:i}},t)};var Zf=$f,Jf=function(e){var t=e.children;return w.a.createElement("div",{className:"DrawerGroup"},t)},eh=function(e){function n(e){var t;return l()(this,n),(t=f()(this,m()(n).call(this,e))).state={shown:!1,roles:t.props.roles},t}return y()(n,e),d()(n,[{key:"getPermissions",value:function(){var e=this;this.props.roles.forEach(function(t){C.a.get(N.k.ROLE_PERMISSIONS(t.id)).then(function(n){var r=n.permissions;e.setState(function(e){return{roles:Object(ge.j)(e.roles,{id:t.id},{permissions:r})}})})})}},{key:"toggleModal",value:function(){this.state.shown||this.getPermissions(),this.setState(function(e){return{shown:!e.shown}})}},{key:"render",value:function(){var e=this;return w.a.createElement(w.a.Fragment,null,w.a.createElement(Ce,{className:"fz-base fw-n",onClick:function(){return e.toggleModal()}},t("users.role.help_text")),this.state.shown&&w.a.createElement(ts.a,null,w.a.createElement(Bs.a,{className:"ModalTakeover-background Modal-background d-f ai-c",onEscape:function(){return e.toggleModal()}},w.a.createElement("div",{className:"ModalTakeover-container bg-gray-lightest w-fill"},w.a.createElement("div",{className:"ModalTakeover-main d-f fd-c "},w.a.createElement("div",{className:"ModalTakeover-title"},t("roles.permission_modal.title")),w.a.createElement(nn.a,{className:"ScrollableContainer--bordered pr-0",maxHeight:"440"},w.a.createElement(Jf,null,this.state.roles.map(function(e){return w.a.createElement(Zf,{key:e.id},w.a.createElement(Zf.Title,null,e.name),w.a.createElement(Zf.Content,null,w.a.createElement("ul",null,w.a.createElement("li",null,t("roles.permission_modal.can_receive_assignments")),e.permissions&&w.a.createElement(w.a.Fragment,null,Object(S.includes)(e.permissions,"create_content")&&w.a.createElement("li",null,t("roles.permission_modal.create_content")),Object(S.includes)(e.permissions,"create_edit_roles")&&w.a.createElement("li",null,t("roles.permission_modal.create_edit_roles")),Object(S.includes)(e.permissions,"create_edit_tags")&&w.a.createElement("li",null,t("roles.permission_modal.create_edit_tags")),Object(S.includes)(e.permissions,"create_edit_triggers")&&w.a.createElement("li",null,t("roles.permission_modal.create_edit_triggers")),Object(S.includes)(e.permissions,"create_events")&&w.a.createElement("li",null,t("roles.permission_modal.create_events")),Object(S.includes)(e.permissions,"edit_all")&&w.a.createElement(w.a.Fragment,null,w.a.createElement("li",null,t("roles.permission_modal.edit_all.manage_all_people")),w.a.createElement("li",null,t("roles.permission_modal.edit_all.create_and_edit_people"))),Object(S.includes)(e.permissions,"edit_all_events")&&w.a.createElement("li",null,t("roles.permission_modal.edit_all_events")),Object(S.includes)(e.permissions,"edit_groups")&&w.a.createElement("li",null,t("roles.permission_modal.edit_groups")),Object(S.includes)(e.permissions,"instruct_events")&&w.a.createElement("li",null,t("roles.permission_modal.instruct_events")),Object(S.includes)(e.permissions,"manage_groups")&&w.a.createElement("li",null,t("roles.permission_modal.manage_groups")),Object(S.includes)(e.permissions,"manage_image_library")&&w.a.createElement("li",null,t("roles.permission_modal.manage_image_library")),Object(S.includes)(e.permissions,"own_all")&&w.a.createElement("li",null,t("roles.permission_modal.own_all")),Object(S.includes)(e.permissions,"own_content")&&w.a.createElement("li",null,t("roles.permission_modal.own_content"))))))}))),w.a.createElement(k.d,{alignEnd:!0},w.a.createElement(k.c,{className:"mt-24",onClick:function(){return e.toggleModal()}},"Dismiss")))))))}}]),n}(w.a.Component),th=r(64),nh=r(47),rh=r(53),ah=Object(le.b)(function(e){var t=e.editor;return{state:{id:t.currentSection.id},url:t.url}},function(e){return{onPopState:function(t){t&&t.editor&&e(rh.d.edit(t.editor.id,!1))}}})(function(e){return w.a.createElement(fa,H()({},e,{stateKey:"editor",disableTurbolinks:!0}))}),ih=r(78),oh={hover:function(e,t,n){var r=t.getItem().index,a=e.index;if(r!==a){var i=Object(Ca.findDOMNode)(n).getBoundingClientRect(),o=i.bottom,s=i.top,c=(o-s)/2,l=t.getClientOffset().y-s;if(r<a&&l<c)return;if(r>a&&l>c)return;e.order(r,a),t.getItem().index=a}},drop:function(e,t,n){return{position:t.getItem().index+1}}},sh=Object(Zu.DropTarget)(ih.a.SECTION,oh,function(e){return{connectDropTarget:e.dropTarget()}}),ch=Object(Zu.DragSource)(ih.a.SECTION,{beginDrag:function(e){return{id:e.id,index:e.index,position:e.position}},endDrag:function(e,t,n){var r=t.getItem().position;e.position!==r&&e.update({position:e.position})}},function(e,t){return{connectDragSource:e.dragSource(),connectDragPreview:e.dragPreview(),isDragging:t.isDragging()}}),lh=function(e){function t(e){var n;return l()(this,t),(n=f()(this,m()(t).call(this,e))).state={hover:!1},n.showDeleteConfirmation=n.showDeleteConfirmation.bind(v()(n)),n.closeDeleteConfirmation=n.closeDeleteConfirmation.bind(v()(n)),n}return y()(t,e),d()(t,[{key:"closeDeleteConfirmation",value:function(){this.setState({showConfirmModal:!1})}},{key:"showDeleteConfirmation",value:function(){this.setState({showConfirmModal:!0})}},{key:"render",value:function(){var e=this,t=V()("EditorSections-section",{"EditorSections-section--active":this.props.active,"EditorSections-section--hover":this.state.hover,"EditorSections-section--isDragging":this.props.isDragging}),n=this.props.isCommenting;return Object(ue.d)(this.props.connectDragSource,this.props.connectDragPreview,this.props.connectDropTarget)(w.a.createElement("div",{className:t,onMouseOver:function(){return!n&&e.setState({hover:!0})},onMouseOut:function(){return!n&&e.setState({hover:!1})}},w.a.createElement(Ha.a,this.deleteModalConfig),w.a.createElement("section",{className:"EditorSections-sectionTitle undecorated",onClick:this.props.active?null:this.props.edit,children:this.sectionTitle}),!this.props.isCommenting&&w.a.createElement("div",{className:"EditorSections-sectionControls",key:this.props.position},w.a.createElement("div",{className:"EditorSections-controlButton",onClick:this.props.duplicate},w.a.createElement(z.a,{name:"copy"})),w.a.createElement("div",{className:"EditorSections-controlButton",onClick:this.showDeleteConfirmation},w.a.createElement(z.a,{name:"delete"})),w.a.createElement("div",{className:"EditorSections-controlButton EditorSections-controlButton--draggable"},w.a.createElement(z.a,{name:"reorder"})))))}},{key:"deleteModalConfig",get:function(){return{type:"confirm",show:this.state.showConfirmModal,title:"Delete Section",message:"Are you sure you want to delete this section?",confirmButtonText:"Yes, delete",cancelButtonText:"Cancel",onConfirm:this.props.delete,onCancel:this.closeDeleteConfirmation,dismissCallback:this.closeDeleteConfirmation}}},{key:"sectionTitle",get:function(){return this.props.isCommenting?this.props.position:this.props.title||"Untitled Section"}}]),t}(E.Component),uh=Object(ue.d)(Object(le.b)(function(){var e=Object(nh.e)();return function(t,n){return{active:e(t.editor,n.id),isCommenting:t.editor.commentary.visible}}},function(){return function(e,t){return{delete:function(n){n.preventDefault(),e(rh.d.delete(t.id))},edit:function(n){n.preventDefault(),e(rh.d.edit(t.id))},order:function(t,n){e(Object(rh.f)(t,n))},update:function(n){e(rh.d.update(t.id,n))},duplicate:function(){e(rh.d.duplicate(t.id))}}}}),sh,ch)(lh),dh=function(e){function t(e){var n;return l()(this,t),(n=f()(this,m()(t).call(this,e))).state={sticky:!1},n.handleScroll=n.handleScroll.bind(v()(n)),n.handleResize=n.handleResize.bind(v()(n)),n}return y()(t,e),d()(t,[{key:"componentDidMount",value:function(){document.addEventListener("scroll",this.handleScroll),window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("scroll",this.handleScroll),window.removeEventListener("resize",this.handleResize)}},{key:"handleScroll",value:function(e){var t=this;requestAnimationFrame(function(){var e=t.container.parentNode,n=e.getBoundingClientRect(),r=t.container.getBoundingClientRect();r.height<n.height?t.setState({sticky:e.offsetTop<=window.pageYOffset,stickyBottom:r.height>=n.bottom,containerStyle:{width:"".concat(n.width,"px")}}):t.setState({sticky:!1,stickyBottom:!1})})}},{key:"handleResize",value:function(){var e=this;requestAnimationFrame(function(){var t=e.container.parentNode.getBoundingClientRect().width;e.setState({containerStyle:{width:"".concat(t,"px")}})})}},{key:"renderSection",value:function(e,t){return w.a.createElement(uh,H()({},e,{key:e.id,index:t}))}},{key:"renderSections",value:function(){return Object(me.flow)(Object(ge.c)(this.renderSection),ge.i)(this.props.sections)}},{key:"render",value:function(){var e=this;return w.a.createElement("div",{ref:function(t){e.container=t},style:this.state.containerStyle,className:V()("EditorSections",{sticky:this.state.sticky,"sticky--bottom":this.state.stickyBottom})},w.a.createElement("div",{className:"EditorSections-header",ref:function(t){e.header=t}},w.a.createElement("button",{type:"button",onClick:this.props.addSection,className:"NewButton NewButton--dark NewButton--center",children:this.addSectionTitle})),w.a.createElement("div",{className:"EditorSections-list",children:this.renderSections()}))}},{key:"addSectionTitle",get:function(){return this.props.isCommenting?"+":"New Section"}}]),t}(E.Component),ph=Object(le.b)(function(e,t){return{sections:e.editor.sections,isCommenting:e.editor.commentary.visible}},function(e){return{addSection:function(){e(rh.d.create())}}})(dh),fh=function(e,t){return function(e,n){return new Promise(function(r,a){var i=n().editor,o=i.lesson_title_update,s=i.lessonId;t.title&&lly.lessons.addOrUpdate({id:s,title:t.title}),e(Object(rh.b)()),C.a.put(o,{lesson:t}).done(function(n){e(Object(rh.c)()),e(function(e){return R()({type:he.e.LESSON.UPDATE},e)}(t))}).fail(function(t){e(Object(rh.a)()),a(t)})})}},hh=Object(le.b)(null,function(e,t){var n=t.id;return{onLessonTitleChange:function(t){e(fh(0,{title:t}))},onSectionTitleChange:function(t){e(rh.d.requestUpdate(n,{title:t}))}}})(function(e){return w.a.createElement("div",{className:"Editor-header"},w.a.createElement(Dl.a,{className:"Editor-lessonTitle",placeholder:"Lesson Title",onChange:e.onLessonTitleChange,value:e.lessonTitle,singleLine:!0,maxLength:255}),w.a.createElement(Dl.a,{className:"Editor-sectionTitle",placeholder:"Section Title",onChange:e.onSectionTitleChange,value:e.sectionTitle,singleLine:!0,maxLength:255}))}),mh=r(683),gh=r.n(mh),vh=r(71),bh=function(e){function n(e){var t;return l()(this,n),(t=f()(this,m()(n).call(this,e))).uploadDocument=t.uploadDocument.bind(v()(t)),t}return y()(n,e),d()(n,[{key:"uploadDocument",value:function(){var e=this.props.content.document_id;this.props.uploadDocument(e)}},{key:"renderUploader",value:function(){var e=this.props.content,n=e.status,r=e.errorMessage;return w.a.createElement("div",{className:"EditorElement-fileHandler"},w.a.createElement("div",{className:"EditorElement-uploadArea"},w.a.createElement("img",{src:gh.a,className:"EditorElement-icon",alt:t("lessons.editor.elements.document")}),!n&&w.a.createElement("button",{type:"button",onClick:this.uploadDocument,className:"NewButton NewButton--white",children:"Choose a Document, Presentation, or PDF to Upload"}),"error"===n&&w.a.createElement("div",{className:"CommentForm-errorMessage"},r),"converting"===n&&w.a.createElement("div",{className:"c-brand-gray"},w.a.createElement(k.k,{className:"mr-16"}),"Preparing Document - This may take a few seconds...")))}},{key:"renderDocument",value:function(){return w.a.createElement("div",{className:"EditorElement-fileHandler"},w.a.createElement("iframe",{title:t("lessons.editor.elements.document"),src:this.props.content.url,className:"EditorElement-DocumentViewer",scrolling:"false",frameBorder:"0"}))}},{key:"renderBody",value:function(){var e=this.props.content.url;return e?this.renderDocument(e):this.renderUploader()}},{key:"render",value:function(){return w.a.createElement("div",{className:"EditorElement-content"},this.renderBody())}}]),n}(E.Component),yh=Object(vh.a)(bh),Eh=r(684),_h=function(e){var t=e.onChange,n=e.caption;e.disabled;return w.a.createElement("div",{className:"EditorElement-footer EditorElement-footer--caption"},w.a.createElement(Dl.a,{onChange:t,value:n,placeholder:"Add Caption"}))},wh=function(e){var n=e.onChange,r=e.browserSupport,a=e.defaultAudio,i=e.webcam,o=e.screen;return w.a.createElement("div",{className:"d-f"},w.a.createElement("div",null,w.a.createElement("input",{id:"screen",name:"screen",type:"checkbox",onChange:n,checked:o,disabled:!r.screen}),w.a.createElement("label",{className:"ml-8 mb-0",htmlFor:"screen"},t("lessons.editor.media_recording.types.screen")),!r.screen&&w.a.createElement(Cn,{tooltip:t("questions.question.media_recording.unsupported"),className:"ml-4 tooltip-fixedWidth"})),w.a.createElement("div",{className:"ml-8"},w.a.createElement("input",{id:"webcam",name:"webcam",type:"checkbox",onChange:n,checked:i,disabled:!r.webcam}),w.a.createElement("label",{className:"ml-8 mb-0",htmlFor:"webcam"},t("lessons.editor.media_recording.types.webcam")),!r.webcam&&w.a.createElement(Cn,{tooltip:t("questions.question.media_recording.unsupported"),className:"ml-4 tooltip-fixedWidth"})),!a&&w.a.createElement("div",{className:"ml-8"},w.a.createElement("input",{id:"audio",name:"audio",type:"checkbox",onChange:n,disabled:!r.audio,defaultChecked:r.audio}),w.a.createElement("label",{className:"ml-8 mb-0",htmlFor:"audio"},t("lessons.editor.media_recording.types.audio")),!r.audio&&w.a.createElement(Cn,{tooltip:t("questions.question.media_recording.unsupported"),className:"ml-4 tooltip-fixedWidth"})))},Sh=function(e){function n(e){var t;return l()(this,n),t=f()(this,m()(n).call(this,e)),i()(v()(t),"trackingEventParameters",function(){return{lesson_section_element_id:t.props.id,progress_id:null,question_id:null,recording_type:t.recordingType()}}),i()(v()(t),"trackRecordingEvents",function(e){t.trackRecordingInitiated(e),t.trackRecordingData(e)}),i()(v()(t),"trackRecordingData",function(e){ns("recording_metadata",{asset_id:e.asset_id,token:e.token})}),i()(v()(t),"trackRecordingStarted",function(){ns("hippo_video/recording_started",R()({},t.trackingEventParameters()))}),i()(v()(t),"trackRecordingAborted",function(){ns("hippo_video/recording_aborted",{lesson_section_element_id:t.props.id,question_id:null,progress_id:null,recording_type:t.recordingType()})}),i()(v()(t),"trackRecordingStopped",function(){ns("hippo_video/recording_stopped",R()({},t.trackingEventParameters()))}),i()(v()(t),"trackSourceUploaded",function(){ns("hippo_video/source_uploaded",R()({},t.trackingEventParameters(),{upload:!1}))}),i()(v()(t),"recordingType",function(){return t.state.webcam&&t.state.screen?"webcam screen":t.state.webcam?"webcam":"screen"}),i()(v()(t),"trackVideoCancelled",function(){ns("hippo_video/recording_cancelled",R()({},t.trackingEventParameters(),{upload:!1}))}),i()(v()(t),"trackPermissionDenied",function(e){ns("hippo_video/permission_denied",R()({},t.trackingEventParameters(),{upload:!1,error_type:e}))}),i()(v()(t),"recordingStarted",function(){t.setState({recording:!0}),t.trackRecordingStarted()}),i()(v()(t),"recordingAborted",function(){t.setState({recordingWasAborted:!0,recording:!1}),t.trackRecordingAborted()}),i()(v()(t),"videoCancelled",function(){t.setState({videoUploading:!1,recording:!1}),t.trackVideoCancelled()}),i()(v()(t),"recordingStopped",function(){t.setState(function(e){return{videoUploading:!e.recordingWasAborted,recordingWasAborted:!1,recording:!1}}),t.trackRecordingStopped()}),i()(v()(t),"sourceUploaded",function(){var e=t.state.recordedUrl;e&&t.props.onSubmit("".concat(e,"?type=lessonly")),t.setState({videoUploading:!1}),t.trackSourceUploaded()}),i()(v()(t),"videoSubmitted",function(e){t.setState({recordedUrl:e.recorded_url,recording:!1},function(){t.state.videoUploading||t.props.onSubmit("".concat(t.state.recordedUrl,"?type=lessonly"))}),t.trackVideoSubmitted(!1)}),i()(v()(t),"trackRecordingError",function(e){ns("hippo_video/recording_error",R()({},t.trackingEventParameters(),{upload:!1,error_type:e}))}),t.state={errorType:null,loading:!0,screen:t.props.browserSupport.screen,webcam:t.props.browserSupport.webcam,recordedUrl:null,videoUploading:!1,recordingWasAborted:!1,recording:!1},t.handleOptionChange=t.handleOptionChange.bind(v()(t)),t.handleRecord=t.handleRecord.bind(v()(t)),t.recordingType=t.recordingType.bind(v()(t)),t.showErrorModal=t.showErrorModal.bind(v()(t)),t.handleResetError=t.handleResetError.bind(v()(t)),t.trackRecordingData=t.trackRecordingData.bind(v()(t)),t.trackVideoSubmitted=t.trackVideoSubmitted.bind(v()(t)),t.trackRecordingEvents=t.trackRecordingEvents.bind(v()(t)),t.trackRecordingInitiated=t.trackRecordingInitiated.bind(v()(t)),t}return y()(n,e),d()(n,[{key:"componentDidMount",value:function(){var e=this;window.hippoWidget.onLoad(function(){e.setState({loading:!1})})}},{key:"trackRecordingInitiated",value:function(e){ns("hippo_video/recording_initiated",R()({},this.trackingEventParameters(),{token:e.token}))}},{key:"trackVideoSubmitted",value:function(e){ns("hippo_video/video_submitted",R()({},this.trackingEventParameters(),{upload:e}))}},{key:"handleOptionChange",value:function(e){this.setState(i()({},e.target.name,e.target.checked))}},{key:"handleResetError",value:function(){this.setState({errorType:null})}},{key:"handleRecord",value:function(){var e={screenRecord:this.state.screen,audio:!0,webCam:this.state.webcam,resolution:"1080",tabRecording:!1,separateLayer:!1,fromPopup:!this.state.screen,initiator:"generic_embed"};window.hippoWidget.on("record_error",this.showErrorModal),window.hippoWidget.startRecording(e,this.props.currentUserId),window.hippoWidget.on("source_uploaded",this.sourceUploaded),window.hippoWidget.on("record_initiated",this.trackRecordingEvents),window.hippoWidget.on("record_started",this.recordingStarted),window.hippoWidget.on("record_aborted",this.recordingAborted),window.hippoWidget.on("record_stopped",this.recordingStopped),window.hippoWidget.on("record_aborted",this.recordingAborted),window.hippoWidget.on("video_submitted",this.videoSubmitted),window.hippoWidget.on("video_cancelled",this.videoCancelled)}},{key:"showErrorModal",value:function(e){var t=e.error;Object.values(Ru).includes(t)?this.trackPermissionDenied(t):this.trackRecordingError(t),t!==Ru.HIPPO_SCREEN_PERMISSION_DENIED_ERROR&&this.setState({errorType:t})}},{key:"render",value:function(){var e=this,n=this.state,r=n.loading,a=n.errorType,i=n.videoUploading,o=n.recording,s=n.screen,c=n.webcam,l=this.props,u=l.toggleRecordMenu,d=l.browserSupport,p=!this.state.screen&&!this.state.webcam,f=Object(S.values)(this.props.browserSupport).every(function(e){return!e})||p;return i?w.a.createElement("div",null,t("lessons.editor.media_recording.processing_message")):o?w.a.createElement("div",null,t("lessons.editor.media_recording.recording")):w.a.createElement("div",{className:"EditorElement-videoRecording d-f fd-c"},w.a.createElement("div",{className:"EditorElement-back d-f fd-r c-brand-blue"},w.a.createElement(z.a,{name:"back",customClass:"mr-8"}),w.a.createElement("div",{className:"mt-4 c-p",onClick:u},t("common.back"))),w.a.createElement("div",{className:"EditorElement-recordingButtons d-f ai-c fg-1 jc-c fd-c bg-gray-lightest"},w.a.createElement(No.a,{className:"mb-16",primary:!0,loading:r,onClick:this.handleRecord,disabled:r||f},t("lessons.editor.media_recording.record")),w.a.createElement(wh,{onChange:function(t){return e.handleOptionChange(t)},browserSupport:d,webcam:c,screen:s,defaultAudio:!0}),w.a.createElement("span",{className:"fs-i mt-24"},t("lessons.editor.embeds.video.audio_note"))),this.state.errorType&&w.a.createElement(Lu,{errorType:a,onAction:this.handleResetError}))}}]),n}(E.Component),kh=[Xu.NativeTypes.FILE],Ch=Object(Zu.DropTarget)(kh,{drop:function(e,t,n){n&&n.handleFileChange&&n.handleFileChange(null,t.getItem().files)}},function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver()}}),Nh=function(e){var n=e.loading,r=e.onRecord,a=e.onUpload,i=e.isDisabled,o=e.isUploading,s=e.recordText,c=e.uploadText,l=e.fileInput,u=e.fileValue,d=Object(S.uniqueId)("upload");return w.a.createElement("div",{className:"EditorElement-actionButtons d-f fd-r ai-c"},w.a.createElement("div",{className:"d-f fd-c"},w.a.createElement("div",{className:"mt-24"}),w.a.createElement("div",{className:"ta-c"},t("common.drag_and_drop")," ",t("common.or")),w.a.createElement("div",{className:"mt-12"}),w.a.createElement(k.c,{className:"mb-12",primary:!0,loading:n,onClick:r,disabled:i||n},s),w.a.createElement("div",{className:V()({"NewButton--loading NewButton--disabled":n},"EditorElement-uploadButton NewButton NewButton--center NewButton--white")},n&&w.a.createElement(k.k,{color:"darker"}),!n&&w.a.createElement(w.a.Fragment,null,w.a.createElement("label",{htmlFor:d},c,w.a.createElement("input",{id:d,ref:l,type:"file",accept:"video/quicktime, video/mp4, video/x-flv, video/*,audio/*",onChange:a,value:u,disabled:n||o}))))),!n&&i&&w.a.createElement(Cn,{tooltip:t("questions.question.media_recording.unsupported"),className:"ml-16"}))},Oh=function(e){var n=e.onSubmit,r=e.isVideo,a=e.onUrlInput;return w.a.createElement("form",{onSubmit:n},w.a.createElement("input",{className:"EditorElement-uploadButton NewInput NewInput--light",type:"url",onInput:a,placeholder:t("lessons.editor.embeds.video.url_field_hint"),required:!0}),w.a.createElement("div",{className:"d-f f-sh-0"},w.a.createElement("button",{className:"NewButton NewButton--white",type:"submit"},r?t("lessons.editor.embeds.video.submit_button_text"):t("common.submit"))))},xh=function(e){function n(){var e,t;l()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return t=f()(this,(e=m()(n)).call.apply(e,[this].concat(a))),i()(v()(t),"state",{loading:!0,uploading:!1,errorType:null,importTimeStarted:null,fileValue:""}),i()(v()(t),"fileInput",w.a.createRef()),i()(v()(t),"trackingEventParameters",function(){return{lesson_section_element_id:t.props.embedId,progress_id:null,question_id:null,recording_type:null,upload:!0}}),i()(v()(t),"trackUploadStarted",function(){window.hippoWidget.on("import_progress",function(e){"started"===e.operation&&(t.setState({importTimeStarted:performance.now()}),ns("recording_in_editor/upload_started",{element_id:t.props.embedId}))})}),i()(v()(t),"trackUploadComplete",function(){window.hippoWidget.on("import_complete",function(e){var n=performance.now()-t.state.importTimeStarted;ns("recording_in_editor/upload_complete",{element_id:t.props.embedId,token:e.token,duration:e.media_duration,import_total_time:n}),ns("recording_metadata",{asset_id:e.asset_id,token:e.token})})}),i()(v()(t),"trackVideoCancelled",function(){ns("hippo_video/recording_cancelled",R()({},t.trackingEventParameters()))}),i()(v()(t),"trackImportFailure",function(e){ns("recording_in_editor/upload_failed",{element_id:t.props.embedId,error:e})}),i()(v()(t),"trackVideoSubmitted",function(){ns("hippo_video/video_submitted",R()({},t.trackingEventParameters()))}),i()(v()(t),"trackSourceUploaded",function(){ns("hippo_video/source_uploaded",R()({},t.trackingEventParameters()))}),i()(v()(t),"handleUploadError",function(e){t.trackImportFailure(e),"invalid_file_format"===e.reason?t.setState({errorType:e.reason+"_video",importTimeStarted:null}):"size_limit_exceeded"===e.reason&&t.setState({errorType:e.reason}),t.setState({uploading:!1})}),i()(v()(t),"videoCancelled",function(){t.setState({uploading:!1,fileValue:""}),t.trackVideoCancelled()}),i()(v()(t),"uploadVideo",function(e){window.hippoWidget.on("import_failed",t.handleUploadError),window.hippoWidget.importFile(e,t.props.currentUserId),t.trackUploadStarted(),window.hippoWidget.on("source_uploaded",t.trackSourceUploaded),t.trackUploadComplete(),window.hippoWidget.on("video_submitted",function(e){t.recordToken(e),t.trackVideoSubmitted()}),window.hippoWidget.on("video_cancelled",t.videoCancelled)}),i()(v()(t),"handleFileChange",function(e,n){if(t.props.canRecordInLessonEditor&&!t.props.canRecordWithWistia){var r=Object(S.head)(n||e.target.files);r&&t.setState({uploading:!0},function(){t.uploadVideo(r)})}}),i()(v()(t),"recordToken",function(e){t.props.submitRecording("".concat(e.recorded_url,"?type=lessonly")),t.setState({uploading:!1})}),i()(v()(t),"handleResetError",function(){t.setState({errorType:null})}),t}return y()(n,e),d()(n,[{key:"componentDidMount",value:function(){var e=this;window.hippoWidget.onLoad(function(){e.setState({loading:!1})})}},{key:"render",value:function(){var e=this.props,n=e.canRecordInLessonEditor,r=e.toggleRecordMenu,a=e.onSubmit,i=e.onUrlInput,o=e.dropInId,s=e.connectDropTarget,c=e.isOver,l=e.canUploadVideo,u=e.canRecordWithWistia,d=this.state,p=d.loading,f=d.showRecordingMenu,h=d.uploading,m=d.fileValue,g=Object(S.values)(this.props.browserSupport).every(function(e){return!e}),v=u&&n,b=!n||v,y=V()("EditorElement-uploadArea",{"is-over":c},{"EditorElement-uploadArea--dropZone":v});return b?w.a.createElement("div",{className:v?"EditorElement-wistiaUploadArea":"EditorElement-uploadArea"},l&&s(w.a.createElement("div",{className:y},w.a.createElement("div",{id:o,className:"EditorElement-wistiaContainer"},w.a.createElement(k.k,null)))),u&&n&&w.a.createElement(k.c,{className:"EditorElement-wistiaRecordButton mb-12",primary:!0,loading:p,onClick:r,disabled:g||p},t("lessons.editor.embeds.video.record")),w.a.createElement(Oh,{onUrlInput:i,onSubmit:a,isVideo:!0})):s(w.a.createElement("div",{id:o,className:V()({"is-over":c},"EditorElement-uploadArea","EditorElement-uploadArea--dropZone")},n&&w.a.createElement("div",{className:"mb-24"},!f&&w.a.createElement(Nh,{loading:p,isDisabled:g,onRecord:r,onUpload:this.handleFileChange,recordText:t("lessons.editor.embeds.video.record"),uploadText:t("lessons.editor.embeds.video.upload"),fileInput:this.fileInput,fileValue:m,isUploading:h})),w.a.createElement(Oh,{onUrlInput:i,onSubmit:a,isVideo:!0}),this.state.errorType&&w.a.createElement(Lu,{errorType:this.state.errorType,onAction:this.handleResetError})))}}]),n}(E.Component),Th=Object(le.b)(function(e){return{browserSupport:e.meta.browserSupport,currentUserId:e.editor.currentUserId}})(Ch(xh)),Rh=r(685),Ph=r.n(Rh),Ih=function(e){var n=e.onSubmit,r=e.onUrlInput;return w.a.createElement("div",{className:"EditorElement-uploadArea"},w.a.createElement("img",{className:"EditorElement-icon",src:Ph.a,alt:t("lessons.editor.elements.embed")}),w.a.createElement(Oh,{onSubmit:n,onUrlInput:r}),w.a.createElement("p",null,"Works with links from Google Docs, Prezi, Soundcloud, and"," ",w.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"http://embed.ly/providers"},"more")))},Ah=function(e){var t=e.onSubmit,n=e.onUrlInput,r=e.isVideo,a=e.canUploadVideo,i=e.canRecordInLessonEditor,o=e.dropInId,s=e.toggleRecordMenu,c=e.submitRecording,l=e.canRecordWithWistia,u=e.embedId;return r?w.a.createElement(Th,{canRecordInLessonEditor:i,toggleRecordMenu:s,submitRecording:c,canUploadVideo:a,onSubmit:t,onUrlInput:n,dropInId:o,canRecordWithWistia:l,embedId:u}):w.a.createElement(Ih,{onSubmit:t,onUrlInput:n})},Mh=function(e){function n(e){var t;return l()(this,n),(t=f()(this,m()(n).call(this,e))).state={url:t.props.content.url,showRecordingMenu:!1,updating:!1},t.type=t.props.content.embed_type,t.dropInId="video_".concat(t.props.id),t.setSize=Object(S.throttle)(t.setSize.bind(v()(t)),100),t.updateUrl=t.updateUrl.bind(v()(t)),t.updateCaption=t.updateCaption.bind(v()(t)),t.submitEmbed=t.submitEmbed.bind(v()(t)),t.submitVideo=t.submitVideo.bind(v()(t)),t.applyChanges=t.applyChanges.bind(v()(t)),t.renderRecordMenu=t.renderRecordMenu.bind(v()(t)),t.toggleRecordMenu=t.toggleRecordMenu.bind(v()(t)),t.submitRecording=t.submitRecording.bind(v()(t)),t}return y()(n,e),d()(n,[{key:"componentDidMount",value:function(){var e=this.props.features.recordingWithWistia&&this.props.features.recordInLessonEditor,t=!this.hasEmbed&&!this.isEmbedVideo&&this.props.features.uploadVideo&&(e||!this.props.features.recordInLessonEditor);this.hasEmbed&&this.initResize(),t&&this.initWistiaUploader()}},{key:"componentDidUpdate",value:function(e){var t=this,n=e.content,r=this.props.content.wide,a=!Object(S.isEqual)(r,n.wide);if(!this.hasEmbed)return!1;a?setTimeout(function(){return t.initResize()},300):this.initResize()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.setSize)}},{key:"initResize",value:function(){this.setRatio(),this.setSize(),window.addEventListener("resize",this.setSize)}},{key:"initWistiaUploader",value:function(){var e=this.props.tokens.wistia,t=e.id,n=e.token;Object(Eh.a)(n,this.dropInId,t).then(this.submitVideo)}},{key:"setRatio",value:function(){if(this.embedContainer){var e=this.embedContainer.getBoundingClientRect(),t=e.width,n=e.height;this.ratio=n/t}}},{key:"setSize",value:function(){if(this.embedContainer&&this.container){var e=this.container.getBoundingClientRect().width;this.embedContainer.firstChild.width=e,this.embedContainer.firstChild.height=this.ratio*e}}},{key:"updateUrl",value:function(e){this.setState({url:e.target.value})}},{key:"updateCaption",value:function(e){this.props.applyChanges({caption:e}),this.props.handleUpdate({caption:e})}},{key:"submitEmbed",value:function(e){e.preventDefault();var t=this.props,n=this.state,r=this.applyChanges;t.handleUpdate({url:n.url}).then(r)}},{key:"submitVideo",value:function(e){var t=this.props,n=this.applyChanges;t.handleUpdate({metadata:e}).then(n)}},{key:"submitRecording",value:function(e){var t=this,n=this.props,r=this.applyChanges,a=!this.hasEmbed&&!this.isEmbedVideo&&this.props.features.uploadVideo&&(this.props.features.recordingWithWistia||!this.props.features.recordInLessonEditor);this.setState({url:e,updating:!0},function(){n.handleUpdate({url:e}).then(r),!t.state.showRecordingMenu&&a&&t.initWistiaUploader()})}},{key:"applyChanges",value:function(e){this.setState({updating:!1}),this.props.applyChanges({embed_code:e.embed_code,url:this.state.url,metadata:e.metadata})}},{key:"toggleRecordMenu",value:function(){var e=this,t=!this.hasEmbed&&!this.isEmbedVideo&&this.props.features.uploadVideo&&(this.props.features.recordingWithWistia||!this.props.features.recordInLessonEditor);this.setState(function(e){return{showRecordingMenu:!e.showRecordingMenu}},function(){!e.state.showRecordingMenu&&t&&e.initWistiaUploader()})}},{key:"renderEmbed",value:function(){var e=this,t=this.props,n=t.features,r=t.content;return w.a.createElement("div",{className:"d-f fd-c"},r.embed_code&&n.recordInLessonEditor&&w.a.createElement("div",{className:"Video-redo ta-r p-8"},w.a.createElement(Fu,{icon:"video"===this.type?"new_video":null,onClick:function(){return e.submitRecording(null)}})),w.a.createElement("div",{ref:function(t){e.embedContainer=t},dangerouslySetInnerHTML:{__html:r.embed_code}}))}},{key:"renderForm",value:function(){return w.a.createElement(Ah,{embedId:this.props.id,dropInId:this.dropInId,onSubmit:this.submitEmbed,onUrlInput:this.updateUrl,isVideo:"video"===this.type,canUploadVideo:this.props.features.uploadVideo,canRecordInLessonEditor:this.props.features.recordInLessonEditor,canRecordWithWistia:this.props.features.recordingWithWistia,toggleRecordMenu:this.toggleRecordMenu,submitRecording:this.submitRecording})}},{key:"renderVideo",value:function(){var e=this;return w.a.createElement("div",{ref:function(t){e.embedContainer=t}},w.a.createElement("iframe",{title:t("lessons.editor.elements.embed"),src:this.videoUrl,frameBorder:"0",width:"640",height:"360"}))}},{key:"renderRecordMenu",value:function(){return w.a.createElement(Sh,{id:this.props.id,browserSupport:this.props.browserSupport,onSubmit:this.submitRecording,toggleRecordMenu:this.toggleRecordMenu,currentUserId:this.props.currentUserId})}},{key:"renderBody",value:function(){var e=this.props.content,t=e.metadata,n=e.embed_code;return this.state.updating?w.a.createElement(k.k,null):t?this.renderVideo():n?this.renderEmbed():this.state.showRecordingMenu?this.renderRecordMenu():this.renderForm()}},{key:"render",value:function(){var e=this;return w.a.createElement("div",{className:"EditorElement-content"},w.a.createElement("div",{className:"EditorElement-body"},w.a.createElement("div",{ref:function(t){e.container=t},className:"EditorElement-fileHandler"},this.renderBody())),w.a.createElement(_h,{onChange:this.updateCaption,caption:this.props.content.caption}))}},{key:"hasEmbed",get:function(){var e=this.props.content,t=e.url,n=e.embed_code,r=e.metadata;return t&&n||r}},{key:"isEmbedVideo",get:function(){return"video"===this.type&&this.props.content.embed_code}},{key:"videoUrl",get:function(){var e=this.props.content.metadata.wistia_id;return"https://fast.wistia.net/embed/iframe/".concat(e)}}]),n}(E.PureComponent),Dh=Object(me.compose)(Object(le.b)(function(e){return{browserSupport:e.meta.browserSupport,currentUserId:e.editor.currentUserId}}),vh.a)(Mh),jh=r(558),Lh=r(321),Fh=r(323),Bh=/\.(gif|jpg|jpeg|png|bmp)$/i,Uh=function(e){function n(e){var t;return l()(this,n),(t=f()(this,m()(n).call(this,e))).state={uploading:!1},t.updateCaption=t.updateCaption.bind(v()(t)),t.handleImageChange=t.handleImageChange.bind(v()(t)),t}return y()(n,e),d()(n,[{key:"updateCaption",value:function(e){this.props.applyChanges({caption:e}),this.props.handleUpdate({caption:e})}},{key:"handleImageChange",value:function(e){var n=this;if(e instanceof File&&!Bh.test(e.name))alert(t("lessons.editor.image.upload_file_type_error"));else{var r=this.props.handleImageChange;this.setState({uploading:!0},function(){r(e).then(function(){return n.setState({uploading:!1})}).catch(function(){return n.setState({uploading:!1})})})}}},{key:"getUploaderProps",value:function(){return{elementId:this.props.id,onUpload:this.handleImageChange,uploading:this.state.uploading}}},{key:"renderBody",value:function(){return this.props.content.image?w.a.createElement(Lh.a,H()({},this.getUploaderProps(),this.props.content)):w.a.createElement(Fh.a,this.getUploaderProps())}},{key:"render",value:function(){var e=this.props.content.caption;return w.a.createElement("div",{className:"EditorElement-content"},w.a.createElement("div",{className:"EditorElement-body"},w.a.createElement("div",{className:"EditorElement-fileHandler"},this.renderBody())),w.a.createElement(_h,{onChange:this.updateCaption,caption:e}))}}]),n}(E.Component),Hh=Object(vh.a)(Uh),qh=r(559),Gh=r(324),Wh=r.n(Gh),Vh=function(e){function n(e){var t;return l()(this,n),(t=f()(this,m()(n).call(this,e))).state={isUploading:t.props.isUploading,imageSource:t.props.src},t.handleLoaded=t.handleLoaded.bind(v()(t)),t}return y()(n,e),d()(n,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.src!==this.props.src&&this.setState({imageSource:e.src}),e.isUploading!==this.state.isUploading&&this.setState({isUploading:e.isUploading})}},{key:"handleLoaded",value:function(){this.imageContainer.className="Animated Animated--fadeIn",this.loadingContainer.className="hidden"}},{key:"render",value:function(){var e=this,n=this.props.caption;return w.a.createElement("div",{className:"EditorElement-imageLoader"},this.state.isUploading&&w.a.createElement("div",null,w.a.createElement(k.k,{color:"darker"}),w.a.createElement("span",{className:"ml-16"},t("common.loading"))),!this.state.isUploading&&w.a.createElement("div",null,w.a.createElement("div",{ref:function(t){e.loadingContainer=t}},w.a.createElement(k.k,{color:"darker"}),w.a.createElement("span",{className:"ml-16"},t("common.loading"))),w.a.createElement("div",{className:"hidden",ref:function(t){e.imageContainer=t}},w.a.createElement("img",{src:this.state.imageSource,className:"p-1 c-p",onLoad:this.handleLoaded,alt:n}))))}}]),n}(E.Component),zh=function(e){function n(e){var t;return l()(this,n),t=f()(this,m()(n).call(this,e)),i()(v()(t),"handleFileChange",function(){var e,n;t.props.features.imageLibraryLessonElement?(e=t).convertToImageElement.apply(e,arguments):(n=t).uploadImage.apply(n,arguments)}),t.state={uploading:!1},t.supportedFormats=/\.(gif|jpg|jpeg|png|bmp)$/i,t.updateCaption=t.updateCaption.bind(v()(t)),t}return y()(n,e),d()(n,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.props.content.url!==e.content.url&&this.setState({uploading:!1})}},{key:"isFileValid",value:function(e){return this.supportedFormats.test(e.name)}},{key:"convertToImageElement",value:function(e,t){var n=this.props.convertPhoto,r=Object(me.head)(t||e.target.files);this.setState({uploading:!0},function(){n(r)})}},{key:"uploadImage",value:function(e,n){var r=this.props.uploadImage,a=Object(me.head)(n||e.target.files);a&&(this.isFileValid(a)?this.setState({uploading:!0},function(){r(a)}):(alert(t("lessons.editor.image.upload_file_type_error")),e&&(e.target.value="")))}},{key:"updateCaption",value:function(e){this.props.applyChanges({caption:e}),this.props.handleUpdate({caption:e})}},{key:"renderImage",value:function(){var e=this,t=this.props,n=t.content,r=t.id,a=t.connectDropTarget,i="edit_image_".concat(r),o=this.state.uploading;return a(w.a.createElement("div",{className:"clickable-image-upload"},w.a.createElement("label",{className:"mb-0",htmlFor:i},w.a.createElement(Vh,{src:n.url,isUploading:this.state.uploading,caption:n.caption})),w.a.createElement("input",{ref:function(t){e.fileInput=t},id:i,type:"file",accept:"image/*",onChange:this.handleFileChange,disabled:o})))}},{key:"renderUpload",value:function(){var e=this,n=this.props.connectDropTarget,r=this.state.uploading,a=this.state.uploading?"Uploading...":"Upload Image",i=V()("EditorElement-uploadArea",{"EditorElement-uploadArea--dropZone":!0,"is-over":this.props.isOver});return n(w.a.createElement("div",{className:i},w.a.createElement("img",{className:"EditorElement-icon",src:Wh.a,alt:""}),w.a.createElement("p",{className:"EditorElement-description"},t("image_library.drag_and_drop_file")," ",t("conjunctions.or")),w.a.createElement("div",{className:"EditorElement-uploadButton NewButton NewButton--center NewButton--white"},w.a.createElement("span",null,a),w.a.createElement("input",{ref:function(t){e.fileInput=t},type:"file",accept:"image/*",onChange:this.handleFileChange,disabled:r}))))}},{key:"render",value:function(){var e=this.hasImage,t=this.props.content;return w.a.createElement("div",{className:"EditorElement-content"},w.a.createElement("div",{className:"EditorElement-body"},w.a.createElement("div",{className:"EditorElement-fileHandler"},e?this.renderImage():this.renderUpload())),w.a.createElement(_h,{onChange:this.updateCaption,caption:t.caption}))}},{key:"hasImage",get:function(){return this.props.content.url}}]),n}(E.Component),Yh=Object(ue.d)(vh.a,Ch)(zh),Qh=function(e){function t(e){var n;l()(this,t),n=f()(this,m()(t).call(this,e));var r=e.questionData&&(e.questionData.from||e.questionData.requester);return n.state={sender:e.questionData?r:"",subject:e.questionData?e.questionData.subject:"",body:e.questionData?e.questionData.body:""},n.saveQuestion=Object(me.debounce)(300,n.saveQuestion.bind(v()(n))),n.handleSenderChange=n.handleSenderChange.bind(v()(n)),n.handleSubjectChange=n.handleSubjectChange.bind(v()(n)),n.handleBodyChange=n.handleBodyChange.bind(v()(n)),n}return y()(t,e),d()(t,[{key:"saveQuestion",value:function(){var e,t={from:this.state.sender,subject:this.state.subject,body:this.state.body};e=this.props.isZendesk?{zendesk_question_metadata:{requester_name:this.state.sender,subject:this.state.subject,description:this.state.body}}:{raw_choices:JSON.stringify(t)},this.props.applyChanges(e),this.props.handleUpdate(e)}},{key:"handleSenderChange",value:function(e){this.setState({sender:e.target.value},this.saveQuestion)}},{key:"handleSubjectChange",value:function(e){this.setState({subject:e.target.value},this.saveQuestion)}},{key:"handleBodyChange",value:function(e){this.setState({body:e.target.value},this.saveQuestion)}},{key:"render",value:function(){var e=this.props,t=e.i18n,n=e.questionType,r=e.isZendesk,a=e.zendeskSupportLogo,i="QuestionWithMetadata-field QuestionWithMetadata--fieldWithLabel",o="email_reply"===n||r,s=r?t.ticket_handling.zendesk.description:t.email_composition.body,c=r?t.ticket_handling.zendesk.requester:t.email_reply.lesson_builder.sender,l=r?t[n].zendesk.content:t[n].lesson_builder.instructions;return w.a.createElement("div",null,r&&w.a.createElement("img",{alt:"zendesk support logo",className:"QuestionWithMetadata--zendeskSupportLogo mt-30",src:a}),w.a.createElement("div",{className:"EditorElement-label"},l),w.a.createElement("div",{className:"QuestionWithMetadata QuestionWithMetadata--lessonBuilder"},o&&w.a.createElement("div",{className:i},w.a.createElement("div",{className:"QuestionWithMetadata-fieldLabel"},c),w.a.createElement("input",{onChange:this.handleSenderChange,value:this.state.sender})),w.a.createElement("div",{className:i},w.a.createElement("div",{className:"QuestionWithMetadata-fieldLabel"},t.email_practice.subject),w.a.createElement("input",{onChange:this.handleSubjectChange,value:this.state.subject})),w.a.createElement("div",{className:i},w.a.createElement("div",{className:"QuestionWithMetadata-fieldLabel"},s),w.a.createElement("textarea",{onChange:this.handleBodyChange,value:this.state.body}))))}}]),t}(w.a.Component),Kh=Object(le.b)(function(e){return{i18n:e.editor.i18n.questions.question}})(Qh),Xh=function(e){function t(e){var n;return l()(this,t),(n=f()(this,m()(t).call(this,e))).state={message:e.messageData.message||""},n.saveMessage=Object(me.debounce)(300,n.saveMessage.bind(v()(n))),n.handleMessageChange=n.handleMessageChange.bind(v()(n)),n}return y()(t,e),d()(t,[{key:"saveMessage",value:function(){var e={message:this.state.message},t={raw_choices:JSON.stringify(e)};this.props.applyChanges(t),this.props.handleUpdate(t)}},{key:"handleMessageChange",value:function(e){this.setState({message:e.target.value},this.saveMessage)}},{key:"render",value:function(){var e=this.props.i18n;return w.a.createElement("div",null,w.a.createElement("div",{className:"EditorElement-label"},e.display_header),w.a.createElement("textarea",{className:"EditorElement-input",onChange:this.handleMessageChange,placeholder:e.enter_message,value:this.state.message}))}}]),t}(w.a.Component),$h=Object(le.b)(function(e){return{i18n:e.editor.i18n.questions.question.chat}})(Xh),Zh=function(e){function t(e){var n;return l()(this,t),(n=f()(this,m()(t).call(this,e))).update=Object(me.debounce)(300,n.update.bind(v()(n))),n.destroy=n.destroy.bind(v()(n)),n}return y()(t,e),d()(t,[{key:"update",value:function(){var e=this;C.a.put(this.props.data.update_path,{title:this.input.value}).then(function(t){t.success&&e.props.onUpdate(t.question_field)})}},{key:"destroy",value:function(){this.props.onDelete(this.props.data)}},{key:"render",value:function(){var e=this,t=this.props,n=t.i18n,r=t.isDuplicate,a=t.data,i=V()("mb-12 ai-c",{"d-f":!r}),o=V()("QuestionField--new lh-24 bdrs-2",{"QuestionField--duplicate":r});return w.a.createElement("div",{className:i},w.a.createElement("input",{defaultValue:a.title?a.title:"",ref:function(t){e.input=t},className:o,onChange:this.update,placeholder:n.lesson_builder.secondary_fields.placeholder}),w.a.createElement(z.a,{name:"remove",onClick:this.destroy,customClass:"c-p ml-8"}),r&&w.a.createElement("div",{className:"c-brand-red mt-4"},n.lesson_builder.secondary_fields.duplication_warning))}}]),t}(w.a.Component),Jh=function(e){function t(e){var n;return l()(this,t),(n=f()(this,m()(t).call(this,e))).state={questionFields:n.props.questionFields?n.props.questionFields:[]},n.addField=n.addField.bind(v()(n)),n.removeField=n.removeField.bind(v()(n)),n.updateField=n.updateField.bind(v()(n)),n.renderFields=n.renderFields.bind(v()(n)),n}return y()(t,e),d()(t,[{key:"addField",value:function(){var e=this;C.a.post(N.k.CREATE_QUESTION_FIELD(this.props.questionId)).then(function(t){t.success?e.setState(function(e){return{questionFields:[].concat(Z()(e.questionFields),[t.question_field])}}):e.setState({error:!0})}).fail(function(){return e.setState({error:!0})})}},{key:"removeField",value:function(e){var t=this;C.a.delete(e.destroy_path).then(function(n){t.setState(function(t){return{questionFields:Object(S.without)(t.questionFields,e)}})}).fail(function(){return t.setState({error:!0})})}},{key:"updateField",value:function(e,t){var n=Z()(this.state.questionFields);this.setState({questionFields:Object(S.assign)(n,i()({},t,e))})}},{key:"renderFields",value:function(){var e=this,t=this.props.i18n,n={};return Object(S.orderBy)(this.state.questionFields,"created_at").map(function(r,a){var i=!1,o=r.title?r.title.toLowerCase():"";return Object.prototype.hasOwnProperty.call(n,o)&&o?i=!0:n[o]=!0,w.a.createElement(Zh,{key:r.id,data:r,i18n:t,onDelete:e.removeField,onUpdate:function(t){return e.updateField(t,a)},isDuplicate:i})})}},{key:"render",value:function(){var e=this.props.i18n;return w.a.createElement("div",null,w.a.createElement("div",{className:"EditorElement-label mb-12"},e.lesson_builder.secondary_fields.instructions),w.a.createElement("div",{className:"QuestionFields"},this.renderFields()),w.a.createElement(k.c,{icon:"add",tall:!0,onClick:this.addField},e.lesson_builder.secondary_fields.add))}}]),t}(w.a.Component),em=Object(le.b)(function(e){return{i18n:e.editor.i18n.questions.question.ticket_handling}})(Jh),tm="webcam_recording screen_recording written_response email_composition email_reply chat ticket_handling audio_recording",nm=r(57),rm=function(e){function n(e){var t;return l()(this,n),(t=f()(this,m()(n).call(this,e))).destroy=t.destroy.bind(v()(t)),t.update=t.update.bind(v()(t)),t}return y()(n,e),d()(n,[{key:"update",value:function(e,t){var n=R()({},this.props.choice,i()({},e,t));this.props.onUpdate(n,n.position)}},{key:"destroy",value:function(){this.props.onDelete(this.props.choice)}},{key:"getTranslations",value:function(){return this.props.choice.correct?{label:t("questions.choices.correct.label"),textPlaceholder:t("questions.choices.correct.text_placeholder"),explanationPlaceholder:t("questions.choices.correct.explanation_placeholder")}:{label:t("questions.choices.incorrect.label"),textPlaceholder:t("questions.choices.incorrect.text_placeholder"),explanationPlaceholder:t("questions.choices.incorrect.explanation_placeholder")}}},{key:"render",value:function(){var e=this,n=this.props.choice,r=n.text,a=n.feedback,i=n.position,o=this.getTranslations(),s=i>2;return w.a.createElement("div",null,w.a.createElement("div",{className:"ChoiceElement--header"},w.a.createElement("div",{className:"EditorElement-label ChoiceElement--header-label EditorElement-label--noPadding"},s?t("questions.choices.incorrect.additional_label"):o.label),s&&w.a.createElement("div",{className:"ChoiceElement--header-remove"},w.a.createElement(z.a,{name:"remove",customClass:"c-brand-gray-dark EditorElement-controlButton",onClick:this.destroy}))),w.a.createElement(Dl.a,{className:"EditorElement-input",placeholder:o.textPlaceholder,value:Object(S.unescape)(r),name:"text",onChange:function(t){return e.update("text",t)},"aria-label":"".concat(this.props["aria-label"]," ").concat(t("questions.choices.text_label"))}),w.a.createElement("div",null,w.a.createElement("div",{className:"EditorElement-label EditorElement-label--shifted"},t("questions.choices.explanation_label")),w.a.createElement(Dl.a,{className:"EditorElement-input ChoiceElement--explanation",placeholder:o.explanationPlaceholder,value:Object(S.unescape)(a),name:"explanation",onChange:function(t){return e.update("feedback",t)},"aria-label":"".concat(this.props["aria-label"]," ").concat(t("questions.choices.explanation_label"))})),w.a.createElement("hr",null))}}]),n}(E.Component),am=function(e){function n(e){var t;return l()(this,n),(t=f()(this,m()(n).call(this,e))).addChoice=t.addChoice.bind(v()(t)),t.updateChoice=t.updateChoice.bind(v()(t)),t.removeChoice=t.removeChoice.bind(v()(t)),t.getAdditionalIncorrectChoices=t.getAdditionalIncorrectChoices.bind(v()(t)),t.getAllIncorrectChoices=t.getAllIncorrectChoices.bind(v()(t)),t.getIncorrectChoice=t.getIncorrectChoice.bind(v()(t)),t.getCorrectChoice=t.getCorrectChoice.bind(v()(t)),t.renderAdditionalIncorrectChoices=t.renderAdditionalIncorrectChoices.bind(v()(t)),t}return y()(n,e),d()(n,[{key:"addChoice",value:function(e){var t=this,n={text:"",feedback:"",correct:e.correct,position:e.position};C.a.post(N.k.QUESTIONS.NEW_CHOICE(this.props.questionId),n).then(function(e){if(e.success){var n=[].concat(Z()(t.props.choices),[e.choice]);t.props.applyChanges({choices:n}),t.props.handleUpdate({choices:n})}else t.setState({error:!0})}).fail(function(){return t.setState({error:!0})})}},{key:"updateChoice",value:function(e,t){var n=this,r=Object(S.omit)(e,["choice_path","id"]);C.a.put(e.choice_path,r).then(function(r){if(r.success){var a=Z()(n.props.choices),i=Object(S.findIndex)(a,["position",t]);a.splice(i,1,e),n.props.applyChanges({choices:Z()(a)}),n.props.handleUpdate({choices:Z()(a)})}else n.setState({error:!0})})}},{key:"removeChoice",value:function(e){var t=this;C.a.delete(e.choice_path).then(function(n){if(n.success){var r=Object(S.without)(t.props.choices,e);t.props.applyChanges({choices:r},{mergeChanges:!1}),t.props.handleUpdate({choices:r})}else t.setState({error:!0})}).fail(function(){return t.setState({error:!0})})}},{key:"getAllIncorrectChoices",value:function(){return Object(S.orderBy)(this.props.choices.filter(function(e){return!e.correct}),"position")}},{key:"getIncorrectChoice",value:function(){var e=this.getAllIncorrectChoices();return e.length?e[0]:{position:2,correct:!1,text:"",feedback:""}}},{key:"getAdditionalIncorrectChoices",value:function(){return this.getAllIncorrectChoices().slice(1)}},{key:"getCorrectChoice",value:function(){return Object(S.find)(this.props.choices,"correct")||{position:1,correct:!0,text:"",feedback:""}}},{key:"renderAdditionalIncorrectChoices",value:function(e){var n=this;return e.map(function(e,r){return w.a.createElement(rm,{choice:e,onDelete:function(e){return n.removeChoice(e)},onUpdate:function(t){return n.updateChoice(t,e.position)},key:"".concat(e.id,"-").concat(e.position),"aria-label":"".concat(t("questions.choices.incorrect.additional_label")," ").concat(r+1)})})}},{key:"render",value:function(){var e=this,n=this.getCorrectChoice(),r=this.getIncorrectChoice(),a=this.getAdditionalIncorrectChoices();return w.a.createElement("div",null,w.a.createElement("hr",null),w.a.createElement(rm,{choice:n,onUpdate:function(t){return e.updateChoice(t,1)},"aria-label":t("questions.choices.correct.label")}),w.a.createElement(rm,{choice:r,onUpdate:function(t){return e.updateChoice(t,2)},"aria-label":t("questions.choices.incorrect.label")}),a.length>0&&this.renderAdditionalIncorrectChoices(a),w.a.createElement(k.c,{icon:"add",tall:!0,onClick:function(){return e.addChoice({correct:!1,position:e.props.choices.length+1})}},t("questions.choices.add")))}}]),n}(E.Component),im={get gradable(){return t("questions.gradable.label")},get required(){return t("questions.required.label")},get allow_peer_feedback(){return t("questions.allow_peer_feedback.label")}},om=function(e,t){switch(e){case"required":return t.hasAssociatedChoices;case"gradable":return t.hasFeedbackCriteria;default:return!1}},sm=function(e){var t=e.id,n=e.options,r=e.onChange,a=e.applyChanges,o=e.questionMetadata;return w.a.createElement("div",{className:"EditorElement-options"},function(e,t,n,r,a){return Object(S.map)(e,function(e,o){return w.a.createElement(ia,{key:"".concat(t,"_").concat(o),label:im[o],defaultChecked:e||om(o,a),onChange:function(e){var t=i()({},o,e.target.checked);n(t),r({options:t})},disabled:om(o,a)})})}(n,t,r,a,o))},cm=function(e){function t(e){var n;return l()(this,t),(n=f()(this,m()(t).call(this,e))).isPractice=Object(S.includes)(n.props.practiceTypes,n.props.type),n}return y()(t,e),d()(t,[{key:"setMessage",value:function(){var e=this.props,t=e.isValid,n=e.i18n,r=e.type,a=e.isZendesk;return!t&&this.isPractice?n.questions.element.disabled:n.questions.types[r]&&a?n.questions.types[r].zendesk.hint:n.questions.types[r]?n.questions.types[r].hint:""}},{key:"render",value:function(){var e=this.props,t=e.type,n=e.isValid,r="free_response"!==t&&!(this.isPractice&&n),a=V()("EditorElement-hint",{"EditorElement-hint--valid":n});return w.a.createElement("div",{className:a},r&&w.a.createElement(z.a,{name:n?"correct":"error"}),w.a.createElement("span",null,this.setMessage()))}}]),t}(w.a.Component),lm=function(e){function n(){return l()(this,n),f()(this,m()(n).apply(this,arguments))}return y()(n,e),d()(n,[{key:"render",value:function(){var e=this,n=this.props.selectedCriterion;return w.a.createElement("div",{className:"Criterion d-f jc-sb ai-c"},w.a.createElement("div",null,n.name,w.a.createElement("span",{className:"Criterion-description"},w.a.createElement("span",{className:"Criterion-hyphen"}," – "),n.description,!n.description&&w.a.createElement("em",null,t("feedback_criteria.criterion.no_description"),"."))),w.a.createElement(z.a,{name:"error",customClass:"FeedbackCriteria-controls fz-bigger",onClick:function(){return e.props.delete(n.id)}}))}}]),n}(w.a.Component),um=function(e){function t(e){var n;return l()(this,t),(n=f()(this,m()(t).call(this,e))).clearInput=n.clearInput.bind(v()(n)),n}return y()(t,e),d()(t,[{key:"clearInput",value:function(){this.props.toggleQuery(""),this.input.focus()}},{key:"render",value:function(){var e=this,t=this.props,n=t.query,r=t.toggleQuery,a=t.searchFeedbackCriteria;return w.a.createElement("div",{className:"AddCriteriaModal-search"},w.a.createElement("input",{className:"AddCriteriaModal-input RemoveIcon",placeholder:a,ref:function(t){e.input=t},onChange:function(e){return r(e.target.value)},value:n}),w.a.createElement(z.a,{name:n?"close-circle":"search",onClick:n?this.clearInput:null}))}}]),t}(w.a.Component),dm=function(e){function t(){return l()(this,t),f()(this,m()(t).apply(this,arguments))}return y()(t,e),d()(t,[{key:"render",value:function(){var e=this.props,t=e.tag,n=e.toggleTag,r=e.selectedTagId,a=V()("AddCriteriaModal-tag",{"AddCriteriaModal-selectedTag":r===t.id});return w.a.createElement("div",{className:a,onClick:function(){return n(t.id)}},t.name)}}]),t}(w.a.Component),pm=function(e){function t(){return l()(this,t),f()(this,m()(t).apply(this,arguments))}return y()(t,e),d()(t,[{key:"render",value:function(){var e=this.props,t=e.tags,n=e.toggleTag,r=e.selectedTagId,a=e.allCriteria,i=V()("AddCriteriaModal-tag",{"AddCriteriaModal-selectedTag":null===r});return w.a.createElement("div",{className:"AddCriteriaModal-criteriaTags d-f ai-c"},w.a.createElement("div",{className:i,onClick:function(){return n(null)}},a),t.map(function(e){return w.a.createElement(dm,{tag:e,toggleTag:n,key:e.id,selectedTagId:r})}))}}]),t}(w.a.Component),fm=function(e){function t(e){var n;return l()(this,t),(n=f()(this,m()(t).call(this,e))).selected=e.selectedCriteria.filter(function(t){return t.id===e.criterion.id}).length>0,n.state={selected:n.selected},n.toggleSelect=n.toggleSelect.bind(v()(n)),n}return y()(t,e),d()(t,[{key:"toggleSelect",value:function(){this.state.selected?this.setState({selected:!1},this.props.deselectCriterion(this.props.criterion)):this.setState({selected:!0},this.props.selectCriterion(this.props.criterion))}},{key:"render",value:function(){var e=this.props,t=e.criterion,n=e.noDescription,r=e.canUseCustomFeedbackCriteria,a=e.editTooltip,i=e.currentUserId,o=e.toggleModalState,s=V()("AddCriteriaModal-criterion d-f jc-sb ai-c",{"AddCriteriaModal-selectedCriterion":this.state.selected}),c="FeedbackCriteria::CustomCriterion"===t.type,l=r&&c,u=t.creator_id===i;return w.a.createElement("div",{className:s,onClick:this.toggleSelect},w.a.createElement("div",{className:"fg-1"},w.a.createElement("span",{className:this.state.selected?"c-white":"c-brand-night"},t.name),w.a.createElement("span",{className:this.state.selected?"c-white":"c-brand-gray"}," ","–"," "),w.a.createElement("span",{className:this.state.selected?"c-white":"c-brand-gray-darker"},t.description||w.a.createElement("em",null,n))),l&&u&&w.a.createElement("button",{type:"button","data-html":"true","data-toggle":"tooltip",title:a,"data-placement":"top",className:"f-sh-0 u-resetBtn editCriterionButton",onClick:function(){return o(t)}},w.a.createElement(z.a,{name:"edit",customClass:"ml-8"})))}}]),t}(w.a.Component),hm=function(e){function n(e){var t;return l()(this,n),(t=f()(this,m()(n).call(this,e))).getCriteria=t.getCriteria.bind(v()(t)),t.renderResults=t.renderResults.bind(v()(t)),t.setContainerHeight=t.setContainerHeight.bind(v()(t)),t}return y()(n,e),d()(n,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.setContainerHeight)}},{key:"componentDidUpdate",value:function(){this.setContainerHeight()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.setContainerHeight)}},{key:"setContainerHeight",value:function(){var e=this.props.query?".AddCriteriaModal--querying":".AddCriteriaModal-criteriaContainer",t=document.querySelector(e);if(t){var n=window.innerHeight-t.getBoundingClientRect().top-140;t.style.maxHeight=n+"px"}}},{key:"getCriteria",value:function(){var e=this.props,t=e.criteria,n=e.selectedTagId,r=new RegExp(this.props.query,"i");return t.filter(function(e){return(r.test(e.name)||r.test(e.description))&&(null===n||e.tags.includes(n))})}},{key:"renderResults",value:function(){var e=this.props,n=e.selectedCriteria,r=e.selectCriterion,a=e.deselectCriterion,i=e.loading,o=e.error,s=e.canUseCustomFeedbackCriteria,c=e.toggleModalState,l=e.currentUserId,u=this.getCriteria();return i?w.a.createElement("div",{className:"fz-bigger"},t("common.loading")):o?w.a.createElement("div",{className:"AddCriteriaModal--error ErrorContainer ta-c lh-24 mb-0"},o):0===u.length?w.a.createElement("div",{className:"AddCriteriaModal-criterion AddCriteriaModal-criterion--unclickable"},t("feedback_criteria.no_search_results")):u.map(function(e){return w.a.createElement(fm,{key:e.id,criterion:e,selectedCriteria:n,selectCriterion:r,deselectCriterion:a,noDescription:t("feedback_criteria.criterion.no_description"),canUseCustomFeedbackCriteria:s,toggleModalState:c,editTooltip:t("feedback_criteria.custom_criterion.edit"),currentUserId:l})})}},{key:"render",value:function(){return w.a.createElement("div",{className:"".concat(this.props.error||this.props.loading?"d-f ai-c jc-c h-150":""," AddCriteriaModal-criteriaContainer mb-32")},w.a.createElement("div",{className:"AddCriteriaModal-criteriaList"},this.renderResults()))}}]),n}(w.a.Component),mm=function(e){function n(e){var t;return l()(this,n),(t=f()(this,m()(n).call(this,e))).state={criteria:[],tags:[],query:"",selectedTagId:null,selectedCriteria:[],editing:!!t.props.selectedCriteria,loading:!0,error:""},t.getData=t.getData.bind(v()(t)),t.toggleQuery=t.toggleQuery.bind(v()(t)),t.toggleTag=t.toggleTag.bind(v()(t)),t.updateCriteria=t.updateCriteria.bind(v()(t)),t.selectCriterion=t.selectCriterion.bind(v()(t)),t.deselectCriterion=t.deselectCriterion.bind(v()(t)),t.hasCustomCriteria=t.hasCustomCriteria.bind(v()(t)),t.addCustomTag=t.addCustomTag.bind(v()(t)),t}return y()(n,e),d()(n,[{key:"componentDidMount",value:function(){this.getData()}},{key:"hasCustomCriteria",value:function(e){return e.some(function(e){return"FeedbackCriteria::CustomCriterion"===e.type})}},{key:"addCustomTag",value:function(e){return[{id:"FeedbackCriteria::CustomCriterion",name:"Custom"}].concat(Z()(e))}},{key:"getData",value:function(){var e=this,n=this.props.selectedCriteria?this.props.selectedCriteria.map(function(e){return e.id}):[];C.a.get(N.k.FEEDBACK_CRITERIA.CRITERIA).then(function(t){var r=Object(yu.b)(t.data.criteria,"name"),a=e.props.canUseCustomFeedbackCriteria&&e.hasCustomCriteria(t.data.criteria)?e.addCustomTag(t.data.tags):t.data.tags,i=r.filter(function(e){return n.includes(e.id)});e.setState({criteria:r,tags:a,selectedCriteria:i,loading:!1})}).fail(function(){e.setState({error:t("feedback_criteria.error.no_connection"),loading:!1})})}},{key:"toggleQuery",value:function(e){this.setState({query:e})}},{key:"toggleTag",value:function(e){this.setState({selectedTagId:e})}},{key:"selectCriterion",value:function(e){this.setState(function(t){return{selectedCriteria:[e].concat(Z()(t.selectedCriteria))}})}},{key:"deselectCriterion",value:function(e){var t=this.state.selectedCriteria.filter(function(t){return t.id!==e.id});this.setState({selectedCriteria:t||[]})}},{key:"updateCriteria",value:function(){this.props.handleUpdate(this.state.selectedCriteria),this.props.toggleModal()}},{key:"render",value:function(){var e=this.props,n=e.canUseCustomFeedbackCriteria,r=e.notificationText,a=e.setCriterionNotification,i=e.currentUserId,o=e.toggleModalState,s=this.state,c=s.editing,l=s.selectedCriteria,u=s.loading,d=s.error,p=s.query,f=s.tags,h=s.selectedTagId,m=s.criteria,g=!c&&0===l.length||u||d;return w.a.createElement("div",null,w.a.createElement("div",{className:"ModalTakeover-title"},t("common.add")," ",t("feedback_criteria.feedback_criteria")),w.a.createElement(um,{searchFeedbackCriteria:t("feedback_criteria.search"),toggleQuery:this.toggleQuery,query:p}),f.length>0&&w.a.createElement(pm,{selectedTagId:h,tags:f,toggleTag:this.toggleTag,allCriteria:t("feedback_criteria.all_criteria")}),r&&w.a.createElement("div",{className:"NotificationContainer NotificationContainer--secondary NotificationContainer--success bdrs-2 mb-16 d-f ai-c jc-sb"},r,w.a.createElement(z.a,{name:"error",customClass:"c-p mt-0 ml-16 fz-bigger",onClick:function(){return a("")}})),w.a.createElement(hm,{criteria:m,selectedTagId:h,query:p,selectedCriteria:l,selectCriterion:this.selectCriterion,deselectCriterion:this.deselectCriterion,loading:u,error:d,toggleModalState:o,canUseCustomFeedbackCriteria:n,currentUserId:i}),w.a.createElement("div",{className:"d-f ai-c"},n&&w.a.createElement("div",{className:"AddCriteriaModal-createNewButton c-brand-blue c-p h-td-u fz-bigger",onClick:function(){return o(null)}},w.a.createElement(z.a,{name:"add"}),w.a.createElement("span",{className:"ml-4"},t("feedback_criteria.criterion.create_new"))),w.a.createElement("button",{type:"button",onClick:this.updateCriteria,className:"ml-a ".concat(Object(Cu.a)("NewButton",["tallAndWide","blue"])),disabled:g},u?t("common.loading"):t("common.done"))))}}]),n}(w.a.Component),gm=function(e){function n(e){var t;return l()(this,n),(t=f()(this,m()(n).call(this,e))).state={error:"",name:e.criterion?e.criterion.name:"",description:e.criterion?e.criterion.description:""},t.handleNameChange=t.handleNameChange.bind(v()(t)),t.handleDescriptionChange=t.handleDescriptionChange.bind(v()(t)),t.handleRequestSuccess=t.handleRequestSuccess.bind(v()(t)),t.handleRequestFailure=t.handleRequestFailure.bind(v()(t)),t.criterionData=t.criterionData.bind(v()(t)),t.saveCriterion=t.saveCriterion.bind(v()(t)),t.editCriterion=t.editCriterion.bind(v()(t)),t.deleteCriterion=t.deleteCriterion.bind(v()(t)),t.setModalDescription=t.setModalDescription.bind(v()(t)),t}return y()(n,e),d()(n,[{key:"handleNameChange",value:function(e){this.setState({name:e.target.value})}},{key:"handleDescriptionChange",value:function(e){this.setState({description:e.target.value})}},{key:"handleRequestSuccess",value:function(e){this.props.toggleModalState(),this.props.setCriterionNotification(e)}},{key:"handleRequestFailure",value:function(e,n){var r;e.responseJSON?r=Ye()(e.responseJSON.error.name,1)[0]:r="delete"===n?t("feedback_criteria.custom_criterion.modal.edit.error.on_delete"):t("feedback_criteria.custom_criterion.modal.error.on_save");this.setState({error:r})}},{key:"criterionData",value:function(){return{custom_criterion:{name:this.state.name,description:this.state.description}}}},{key:"saveCriterion",value:function(){var e=this;C.a.post(N.k.FEEDBACK_CRITERIA.CUSTOM_CRITERION,this.criterionData()).then(function(t){e.handleRequestSuccess(t.message)}).fail(function(t){e.handleRequestFailure(t)})}},{key:"editCriterion",value:function(e){var t=this;C.a.put(N.k.FEEDBACK_CRITERIA.CUSTOM_CRITERION+"/"+e,this.criterionData()).then(function(n){t.props.updateEditedCriterion(t.criterionData(),e),t.handleRequestSuccess(n.message)}).fail(function(e){t.handleRequestFailure(e)})}},{key:"deleteCriterion",value:function(e){var t=this;C.a.delete(N.k.FEEDBACK_CRITERIA.CUSTOM_CRITERION+"/"+e.id).then(function(n){t.props.removeDeletedCriterion(e),t.handleRequestSuccess(n.message)}).fail(function(e){t.handleRequestFailure(e,"delete")})}},{key:"setModalDescription",value:function(){return this.props.criterion?w.a.createElement("div",null,w.a.createElement("span",{className:"fw-b mr-4"},t("common.warning"),":"),t("feedback_criteria.custom_criterion.modal.edit.warning")):t("feedback_criteria.custom_criterion.modal.create.description")}},{key:"render",value:function(){var e=this,n="NewInput NewInput--white NewInput--fw NewInput--tall",r=this.props.criterion,a=!!r,i=a?t("feedback_criteria.custom_criterion.modal.edit.title"):t("feedback_criteria.custom_criterion.modal.create.title"),o=a?t("feedback_criteria.custom_criterion.modal.edit.save_button"):t("feedback_criteria.custom_criterion.modal.create.button");return w.a.createElement("div",null,w.a.createElement("div",{className:"ModalTakeover-title mb-16"},i),w.a.createElement("div",{className:"AddCriteriaModal-newCriterionDescription mb-24 c-brand-gray-darkest"},this.setModalDescription()),w.a.createElement("div",null,w.a.createElement("div",{className:"fz-bigger mb-8"},t("common.name")),w.a.createElement("input",{className:"fz-bigger AddCriteriaModal-nameInput ".concat(n),placeholder:t("feedback_criteria.custom_criterion.modal.name_placeholder"),type:"text",onChange:this.handleNameChange,value:this.state.name})),w.a.createElement("div",{className:"AddCriteriaModal-descriptionInput mt-24"},w.a.createElement("div",{className:"fz-bigger mb-8"},t("common.description")),w.a.createElement("textarea",{className:n,onChange:this.handleDescriptionChange,placeholder:t("feedback_criteria.custom_criterion.modal.description_placeholder"),value:this.state.description})),this.state.error&&w.a.createElement("div",{className:"ErrorContainer fz-bigger mt-32"},this.state.error),w.a.createElement("div",{className:"d-f mt-32 ai-c ".concat(a?"jc-sb":"jc-e")},a&&w.a.createElement("div",{className:"".concat(Object(Cu.a)("NewButton",["tallAndWide","white"])," deleteCriterionButton"),onClick:function(){return e.deleteCriterion(r)}},t("feedback_criteria.custom_criterion.modal.edit.delete_button")),w.a.createElement("div",{className:"d-f ai-c"},w.a.createElement("div",{className:"cancelButton c-brand-blue c-p h-td-u fz-bigger mr-24",onClick:function(){return e.props.toggleModalState(null)}},t("common.cancel")),w.a.createElement("button",{type:"button",onClick:a?function(){return e.editCriterion(r.id)}:this.saveCriterion,className:Object(Cu.a)("NewButton",["tallAndWide","blue"]),disabled:""===this.state.name},o))))}}]),n}(w.a.Component),vm=function(e){function t(e){var n;return l()(this,t),(n=f()(this,m()(t).call(this,e))).state={creatingOrEditing:!1,notificationText:"",criterionEditing:null,selectedCriteria:n.props.selectedCriteria},n.toggleModalState=n.toggleModalState.bind(v()(n)),n.setCriterionNotification=n.setCriterionNotification.bind(v()(n)),n.removeDeletedCriterion=n.removeDeletedCriterion.bind(v()(n)),n.updateEditedCriterion=n.updateEditedCriterion.bind(v()(n)),n.closeModal=n.closeModal.bind(v()(n)),n}return y()(t,e),d()(t,[{key:"toggleModalState",value:function(e){this.setState(function(t){return{creatingOrEditing:!t.creatingOrEditing,criterionEditing:e}})}},{key:"setCriterionNotification",value:function(e){this.setState({notificationText:e})}},{key:"removeDeletedCriterion",value:function(e){this.state.selectedCriteria&&this.setState(function(t){return{selectedCriteria:t.selectedCriteria.filter(function(t){return e.id!==t.id})}})}},{key:"updateEditedCriterion",value:function(e,t){this.state.selectedCriteria&&this.state.selectedCriteria.forEach(function(n){n.id===t&&(n.name=e.custom_criterion.name,n.description=e.custom_criterion.description)})}},{key:"closeModal",value:function(){this.props.toggleModal(),this.props.handleUpdate(this.state.selectedCriteria)}},{key:"render",value:function(){var e=this.props,t=e.canUseCustomFeedbackCriteria,n=e.handleUpdate,r=e.currentUserId,a=this.state.creatingOrEditing,i=V()("AddCriteriaModal-body",{"AddCriteriaModal--maxHeight":!a});return w.a.createElement("div",{className:"AddCriteriaModal ModalTakeover-container"},w.a.createElement("div",{className:"ModalTakeover-closeButton",onClick:this.closeModal},w.a.createElement(z.a,{name:"error"})),w.a.createElement("div",{className:i},!a&&w.a.createElement(mm,{currentUserId:r,canUseCustomFeedbackCriteria:t,toggleModalState:this.toggleModalState,toggleModal:this.props.toggleModal,setCriterionNotification:this.setCriterionNotification,handleUpdate:n,selectedCriteria:this.state.selectedCriteria,notificationText:this.state.notificationText}),a&&w.a.createElement(gm,{toggleModalState:this.toggleModalState,setCriterionNotification:this.setCriterionNotification,criterion:this.state.criterionEditing,removeDeletedCriterion:this.removeDeletedCriterion,updateEditedCriterion:this.updateEditedCriterion})))}}]),t}(w.a.Component),bm=function(e){function n(e){var t;return l()(this,n),(t=f()(this,m()(n).call(this,e))).state={modalVisible:!1},t.toggleModal=t.toggleModal.bind(v()(t)),t}return y()(n,e),d()(n,[{key:"toggleModal",value:function(){this.setState(function(e){return{modalVisible:!e.modalVisible}})}},{key:"render",value:function(){var e=this.props.description||t("feedback_criteria.description");return w.a.createElement("div",null,w.a.createElement("div",{className:"FeedbackCriteria-addCriteria d-ib",onClick:this.toggleModal},w.a.createElement(z.a,{name:"add"}),w.a.createElement("span",{className:"ml-4 h-td-u"},t("feedback_criteria.add_criteria")),!this.props.selectedCriteria&&w.a.createElement("span",{className:"ml-4","data-toggle":"tooltip",title:e,"data-placement":"top"},w.a.createElement(z.a,{name:"info",customClass:"c-brand-gray-dark"}))),this.state.modalVisible&&w.a.createElement(ts.a,null,w.a.createElement(Bs.a,{className:"ModalTakeover-background Modal-background"},w.a.createElement(vm,{toggleModal:this.toggleModal,handleUpdate:this.props.handleUpdate,selectedCriteria:this.props.selectedCriteria,canUseCustomFeedbackCriteria:this.props.canUseCustomFeedbackCriteria,currentUserId:this.props.currentUserId}))))}}]),n}(w.a.Component),ym=Object(le.b)(function(e){return{currentUserId:e.editor.currentUserId}})(bm),Em=function(e){function t(e){var n;return l()(this,t),(n=f()(this,m()(t).call(this,e))).delete=n.delete.bind(v()(n)),n}return y()(t,e),d()(t,[{key:"delete",value:function(e){var t=this.props.selectedCriteria.filter(function(t){return t.id!==e});this.props.handleUpdate(t)}},{key:"render",value:function(){var e=this,t=this.props,n=t.selectedCriteria,r=t.handleUpdate,a=t.canUseCustomFeedbackCriteria,i=Object(yu.b)(n,"name");return w.a.createElement("div",{className:"FeedbackCriteria-criteriaList"},i.map(function(t){return w.a.createElement(lm,{selectedCriterion:t,key:t.id,handleUpdate:r,delete:e.delete})}),w.a.createElement(ym,{canUseCustomFeedbackCriteria:a,selectedCriteria:n,handleUpdate:r}))}}]),t}(w.a.Component),_m=function(e){var n=e.criteria;return w.a.createElement("div",null,t("feedback_criteria.feedback_criteria")," (",n.length,")",w.a.createElement("span",{className:"ml-4","data-toggle":"tooltip",title:t("feedback_criteria.description"),"data-placement":"top"},w.a.createElement(z.a,{name:"info",customClass:"c-brand-gray-dark"})))},wm=function(e){var t=e.selectedCriteria,n=e.handleUpdate,r=e.canUseCustomFeedbackCriteria;return w.a.createElement(k.a,{title:w.a.createElement(_m,{criteria:t}),small:!0,className:"mt-10"},w.a.createElement(Em,{canUseCustomFeedbackCriteria:r,selectedCriteria:t,handleUpdate:n}))},Sm=function(e){function t(){return l()(this,t),f()(this,m()(t).apply(this,arguments))}return y()(t,e),d()(t,[{key:"renderQuestionHint",value:function(){var e=this.props.content,t=e.valid,n=e.question_type;return w.a.createElement(cm,{type:n,isValid:t,practiceTypes:tm,i18n:this.props.i18n,isZendesk:this.props.content.zendesk})}},{key:"renderFeedbackCriteria",value:function(){var e=this.props.content.criteria;return e.length>0?w.a.createElement(wm,{selectedCriteria:e,handleUpdate:this.props.handleCriteriaUpdate,canUseCustomFeedbackCriteria:this.props.canUseCustomFeedbackCriteria}):w.a.createElement(ym,{handleUpdate:this.props.handleCriteriaUpdate,canUseCustomFeedbackCriteria:this.props.canUseCustomFeedbackCriteria})}},{key:"render",value:function(){var e=this.props,t=e.content,n=e.handleUpdate,r=e.applyChanges,a=e.hasOptions,i=e.id,o=e.canUsePracticeFeature,s=e.i18n,c=t.subject,l=t.raw_choices,u=t.question_type,d=Object(S.includes)(tm,u),p=!(!o||!d)&&t.criteria.length>0,f=Object(S.includes)("email_reply chat ticket_handling",u),h=Object(S.includes)("knowledge_check",u),m=Object(S.includes)("email_reply ticket_handling",u),g=V()("EditorElement-body",{"EditorElement--replyQuestion":f,ChoiceElement:h}),v=t.zendesk;return w.a.createElement("div",{className:"EditorElement-content"},w.a.createElement("div",{className:"EditorElement-header"},w.a.createElement("div",{className:"EditorElement-title"},this.props.title),a&&w.a.createElement(sm,{id:i,options:this.options,onChange:n,applyChanges:r,questionMetadata:{hasFeedbackCriteria:p,hasAssociatedChoices:h}})),w.a.createElement("div",{className:g},f&&w.a.createElement("div",{className:"EditorElement-label"},s.questions.element.prompt),h&&w.a.createElement("div",{className:"EditorElement-label"},s.questions.title),w.a.createElement(Dl.a,{className:"EditorElement-input",placeholder:f?s.questions.element.enter_prompt:s.questions.element.ask_question,value:Object(S.unescape)(c),onChange:function(e){r({subject:e}),n({subject:e})},singleLine:!0}),m&&w.a.createElement(Kh,{questionType:u,applyChanges:r,handleUpdate:n,questionData:t.raw_choices?JSON.parse(t.raw_choices):{},isZendesk:v,zendeskSupportLogo:t.zendesk_support_logo}),"chat"===u&&w.a.createElement($h,{applyChanges:r,handleUpdate:n,messageData:t.raw_choices?JSON.parse(t.raw_choices):""}),"ticket_handling"===u&&!v&&w.a.createElement(em,{questionId:t.id,questionFields:t.fields}),h&&w.a.createElement(am,{choices:t.choices,questionId:t.id,applyChanges:r,handleUpdate:n})),this.hasChoices&&w.a.createElement(Dl.a,{className:"EditorElement-input EditorElement-input--multiline",placeholder:"Type choices here",value:Object(S.unescape)(l),onChange:function(e){r({raw_choices:Object(S.escape)(e)}),n({raw_choices:Object(S.escape)(e)})}}),w.a.createElement("div",{className:"EditorElement-footer"},this.renderQuestionHint(),o&&d&&this.renderFeedbackCriteria()))}},{key:"hasChoices",get:function(){var e=this.props.content.question_type;return Object(S.includes)("multiple_choice multiple_select survey",e)}},{key:"options",get:function(){var e=this.props,t=e.parent_id,n=e.content.options;return this.props.canUsePracticeFeature&&Object(S.get)(this.props,"content.criteria.length",!1)&&(n.gradable=!0),t?Object(S.omit)(n,"required"):n}}]),t}(w.a.Component);i()(Sm,"defaultProps",{hasOptions:!0});var km=Object(me.compose)(Object(le.b)(function(e){return{canUsePracticeFeature:Object(Or.j)(e,"practice"),canUseCustomFeedbackCriteria:Object(Or.j)(e,"custom_feedback_criteria"),i18n:e.editor.i18n}},function(e,t){var n=t.id;return{handleUpdate:function(t){e(nm.a.update(n,t))},handleCriteriaUpdate:function(t){e(nm.a.updateCriteria(n,t))}}}),vh.a)(Sm),Cm={drop:function(e,t,n){return{parentId:e.id}},canDrop:function(e,t){var n=e.id,r=t.getItem(),a=r.type,i=r.parent_id,o=r.content;return!(n===i)&&Object(me.includes)(a,"question")&&!Object(me.includes)(o.question_type,"webcam_recording screen_recording")}},Nm=Object(Zu.DropTarget)([ih.a.ELEMENT],Cm,function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver(),canDrop:t.canDrop()}}),Om=function(e){var t=e.label,n=G()(e,["label"]);return w.a.createElement("button",H()({},n,{type:"button",className:"NewButton NewButton--white NewButton--center",children:t}))},xm=Nm(function(e){return e.connectDropTarget(w.a.createElement("div",{className:(t=e,n=t.isOver,r=t.canDrop,V()("QuestionBankElement-createQuestionContainer",{"is-over":n&&r}))},w.a.createElement("h4",null,"Drag and drop an existing question here, or create a new one"),w.a.createElement("div",{className:"QuestionBankElement-buttonsContainer"},w.a.createElement(Om,{label:"Free Response",onClick:function(){return e.onClick("Questions::FreeResponse")}}),w.a.createElement(Om,{label:"Multiple Choice",onClick:function(){return e.onClick("Questions::MultipleChoice")}}),w.a.createElement(Om,{label:"Multiple Select",onClick:function(){return e.onClick("Questions::MultipleSelect")}}),w.a.createElement(Om,{label:"Survey",onClick:function(){return e.onClick("Questions::Survey")}}))));var t,n,r}),Tm=function(e){function t(e){var n;return l()(this,t),(n=f()(this,m()(t).call(this,e))).createQuestion=n.createQuestion.bind(v()(n)),n.handleOptionChange=Object(me.debounce)(250,n.handleOptionChange.bind(v()(n))),n.renderQuestion=n.renderQuestion.bind(v()(n)),n.id=n.props.id,n}return y()(t,e),d()(t,[{key:"createQuestion",value:function(e){var t=this.props.position;this.props.createChildElement(e,t+1)}},{key:"handleOptionChange",value:function(e){this.props.handleUpdate(e),this.props.applyChanges({options:e})}},{key:"renderQuestion",value:function(e){return w.a.createElement(km,H()({},e,{key:e.id,reordable:!0}))}},{key:"renderQuestions",value:function(){var e=this.props,t=e.children,n=e.orderDirection,r=e.orderKey;if(Object(me.isEmpty)(t))return!1;var a=Object(me.orderBy)(r,n)(t);return w.a.createElement("div",{className:"QuestionBankElement-questionsContainer"},a.map(this.renderQuestion))}},{key:"render",value:function(){var e=this,t=this.props.content.options;return w.a.createElement("div",{className:"EditorElement-content QuestionBankElement"},w.a.createElement("div",{className:"EditorElement-header"},w.a.createElement("div",{className:"EditorElement-title"},this.props.title,w.a.createElement(z.a,{customClass:"Module-headingIcon","data-toggle":"tooltip","data-original-title":"Each learner will be presented with one randomly selected question.",name:"info"})),this.props.hasOptions&&w.a.createElement("div",{className:"EditorElement-options"},w.a.createElement(ia,{label:"Required",defaultChecked:t.required,onChange:function(t){return e.handleOptionChange({required:t.target.checked})}}))),w.a.createElement("div",{className:"EditorElement-body"},w.a.createElement(xm,{id:this.props.id,onClick:this.createQuestion}),this.renderQuestions()))}}]),t}(E.Component);i()(Tm,"defaultProps",{orderDirection:"asc",orderKey:"position",hasOptions:!0});var Rm=Object(vh.a)(Tm),Pm=r(560),Im=function(e){var t=e.handleReload,n=e.embedUrl;return w.a.createElement("div",{className:"EditorElement-recordingComplete"},w.a.createElement("div",{className:"Video-redo ta-r p-8"},w.a.createElement(Fu,{onClick:t,icon:"new_video"})),w.a.createElement("iframe",{title:"Recording Embed",allowFullScreen:!0,width:"100%",height:"100%",allowTransparency:"true",style:{backgroundColor:"transparent"},frameBorder:"0",src:n}))},Am=function(e){function n(){var e,t;l()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return t=f()(this,(e=m()(n)).call.apply(e,[this].concat(a))),i()(v()(t),"state",{audio:t.props.browserSupport.audio,errorType:null,importTimingStarted:null,loading:!0,recording:!1,uploading:!1,screen:!t.props.canUseRecordAudioElement&&t.props.browserSupport.screen,token:t.props.content.token,webcam:!t.props.canUseRecordAudioElement&&t.props.browserSupport.webcam,mediaUploading:!1,fileValue:""}),i()(v()(t),"fileInput",w.a.createRef()),i()(v()(t),"updateCaption",function(e){t.props.handleUpdate({caption:e})}),i()(v()(t),"updateTypes",function(){t.props.handleUpdate({types:n.supportedTypes.filter(function(e){return t.state[e]})})}),i()(v()(t),"audioRecordingConfig",{screenRecord:!1,audio:t.state.audio,webCam:!1,resolution:"1080",tabRecording:!1,separateLayer:!1,fromPopup:!0,initiator:"generic_embed"}),i()(v()(t),"handleOptionChange",function(e){t.setState(i()({},e.target.name,e.target.checked))}),i()(v()(t),"handleRecord",function(){t.setState({recording:!0,mediaUploading:!0},t.updateTypes);var e={screenRecord:t.state.screen,audio:t.state.audio,webCam:t.state.webcam,resolution:"1080",tabRecording:!1,separateLayer:!1,fromPopup:!t.state.screen,initiator:"generic_embed"},n=t.props.canUseRecordAudioElement?t.audioRecordingConfig:e;window.hippoWidget.on("record_error",t.showErrorModal),window.hippoWidget.startRecording(n,t.props.currentUserId),window.hippoWidget.on("record_initiated",t.trackRecordingEvents),window.hippoWidget.on("record_started",t.trackRecordingStarted),window.hippoWidget.on("record_aborted",t.trackRecordingAborted),window.hippoWidget.on("record_stopped",t.trackRecordingStopped),window.hippoWidget.on("source_uploaded",function(){t.sourceUploaded(),t.trackSourceUploaded(!1)}),window.hippoWidget.on("video_submitted",function(e){t.videoSubmitted(e),t.trackVideoSubmitted(!1)}),window.hippoWidget.on("video_cancelled",t.videoCancelled)}),i()(v()(t),"videoCancelled",function(e){t.setState({uploading:!1,fileValue:""}),t.handleReload(e),t.trackVideoCancelled(!1)}),i()(v()(t),"handleUploadError",function(e){if(t.trackImportFailure(e),"invalid_file_format"===e.reason){var n=t.props.canUseRecordAudioElement;t.setState({errorType:n?e.reason+"_audio":e.reason+"_all"})}else"size_limit_exceeded"===e.reason&&t.setState({errorType:e.reason});t.setState({uploading:!1})}),i()(v()(t),"uploadFile",function(e){t.setState({recording:!0},t.updateTypes),window.hippoWidget.on("import_failed",t.handleUploadError),window.hippoWidget.importFile(e,t.props.currentUserId),window.hippoWidget.on("import_progress",function(e){"started"===e.operation&&t.trackImportStarted()}),window.hippoWidget.on("source_uploaded",function(){t.trackSourceUploaded(!0)}),window.hippoWidget.on("video_submitted",function(e){t.videoSubmitted(e),t.trackVideoSubmitted(!0)}),window.hippoWidget.on("import_complete",function(e){t.trackRecordingData(e),t.trackImportComplete(e)}),window.hippoWidget.on("video_cancelled",function(e){t.handleReload(e),t.trackVideoCancelled(!0)})}),i()(v()(t),"handleFileChange",function(e,n){var r=Object(S.head)(n||e.target.files);r&&t.setState({uploading:!0},function(){t.uploadFile(r)})}),i()(v()(t),"trackingEventParameters",function(){return{lesson_section_element_id:t.props.id,progress_id:null,question_id:null,recording_type:"audio"}}),i()(v()(t),"trackVideoCancelled",function(e){ns("hippo_video/recording_cancelled",R()({},t.trackingEventParameters(),{upload:e}))}),i()(v()(t),"handleReload",function(){var e=t.props,n=e.browserSupport,r=e.canUseRecordAudioElement;t.setState({audio:n.audio,recording:!1,screen:!r&&n.screen,token:null,webcam:!r&&n.webcam,uploading:!1,mediaUploading:!1},function(){t.props.handleUpdate({token:null}),t.updateTypes()})}),i()(v()(t),"sourceUploaded",function(e){var n=t.props,r=n.handleUpdate,a=n.applyChanges,i=t.state.token;i&&r({token:i,provider:"hippo"}).then(function(){return a({token:i,provider:"hippo"})}),t.setState({mediaUploading:!1})}),i()(v()(t),"videoSubmitted",function(e){var n=t.props,r=n.handleUpdate,a=n.applyChanges,i=/\/video\/play\/(.+)$/g.exec(e.recorded_url)[1];t.setState({token:i,recording:!1},function(){t.state.mediaUploading||r({token:i,provider:"hippo"}).then(function(){return a({token:i,provider:"hippo"})})})}),i()(v()(t),"trackRecordingEvents",function(e){t.trackRecordingInitiated(e),t.trackRecordingData(e)}),i()(v()(t),"trackRecordingInitiated",function(e){ns("hippo_video/recording_initiated",R()({},t.trackingEventParameters(),{token:e.token}))}),i()(v()(t),"trackRecordingData",function(e){ns("recording_metadata",{asset_id:e.asset_id,token:e.token})}),i()(v()(t),"trackVideoSubmitted",function(e){ns("hippo_video/video_submitted",R()({},t.trackingEventParameters(),{upload:e}))}),i()(v()(t),"trackRecordingStarted",function(){ns("hippo_video/recording_started",R()({},t.trackingEventParameters()))}),i()(v()(t),"trackRecordingAborted",function(){ns("hippo_video/recording_aborted",{lesson_section_element_id:t.props.id,question_id:null,progress_id:null,recording_type:"audio"})}),i()(v()(t),"trackRecordingStopped",function(){ns("hippo_video/recording_stopped",R()({},t.trackingEventParameters()))}),i()(v()(t),"trackSourceUploaded",function(e){ns("hippo_video/source_uploaded",R()({},t.trackingEventParameters(),{upload:e}))}),i()(v()(t),"trackPermissionDenied",function(e){ns("hippo_video/permission_denied",R()({},t.trackingEventParameters(),{upload:!1,error_type:e}))}),i()(v()(t),"trackImportFailure",function(e){ns("recording_in_editor/upload_failed",{element_id:t.props.id,error:e})}),i()(v()(t),"trackImportStarted",function(){t.setState({importTimingStarted:performance.now()}),ns("recording_in_editor/upload_started",{element_id:t.props.id})}),i()(v()(t),"trackImportComplete",function(e){var n=t.state.importTimingStarted,r=performance.now()-n;ns("recording_in_editor/upload_complete",{element_id:t.props.id,token:e.token,duration:e.media_duration,import_total_time:r})}),i()(v()(t),"trackRecordingError",function(e){ns("hippo_video/recording_error",R()({},t.trackingEventParameters(),{upload:!1,error_type:e}))}),i()(v()(t),"showErrorModal",function(e){var n=e.error;Object.values(Ru).includes(n)?t.trackPermissionDenied(n):t.trackRecordingError(n),n!==Ru.HIPPO_SCREEN_PERMISSION_DENIED_ERROR&&t.setState({errorType:n})}),i()(v()(t),"handleResetError",function(){t.setState({errorType:null})}),t}return y()(n,e),d()(n,[{key:"componentDidMount",value:function(){var e=this;window.hippoWidget.onLoad(function(){e.setState({loading:!1})})}},{key:"render",value:function(){var e=this,n=this.props,r=n.canUseRecordAudioElement,a=n.browserSupport,i=n.content,o=n.connectDropTarget,s=n.isOver,c=this.state,l=c.fileValue,u=c.uploading,d=this.props.content.preview_base+this.state.token+"?type=lessonly",p=this.state.token?d:null,f=!this.state.audio&&!this.state.screen&&!this.state.webcam,h=Object(S.values)(this.props.browserSupport).every(function(e){return!e})||f,m=!r;return o(w.a.createElement("div",{className:"EditorElement-content"},w.a.createElement("div",{className:"EditorElement-body"},!this.state.token&&w.a.createElement("div",{className:"EditorElement-recording"},w.a.createElement("div",{className:V()({"is-over":s},"EditorElement-uploadArea","EditorElement-uploadArea--dropZone")},!r&&w.a.createElement("div",{className:"mb-32 mw-100"},w.a.createElement("div",{className:"EditorElement-recording--instructions"},t("lessons.editor.media_recording.instructions"))),m&&w.a.createElement(wh,{onChange:function(t){return e.handleOptionChange(t)},browserSupport:a}),w.a.createElement(Nh,{loading:this.state.loading,onRecord:this.handleRecord,onUpload:this.handleFileChange,isDisabled:h,recordText:r?t("lessons.editor.media_recording.audio.record"):t("lessons.editor.media_recording.record"),uploadText:r?t("lessons.editor.media_recording.audio.upload"):t("lessons.editor.media_recording.upload"),fileInput:this.fileInput,fileValue:l,isUploading:u}))),this.state.token&&w.a.createElement(Im,{embedUrl:p,handleReload:this.handleReload})),w.a.createElement(_h,{onChange:this.updateCaption,caption:i.caption}),this.state.errorType&&w.a.createElement(Lu,{errorType:this.state.errorType,onAction:this.handleResetError})))}}]),n}(E.Component);i()(Am,"supportedTypes",["webcam","screen","audio"]);var Mm=Object(me.compose)(Object(le.b)(function(e){return{browserSupport:e.meta.browserSupport,canUseRecordAudioElement:Object(Or.j)(e,"recording_in_lesson_editor"),currentUserId:e.editor.currentUserId}}),vh.a)(Ch(Am)),Dm=function(e){function t(e){var n;return l()(this,t),(n=f()(this,m()(t).call(this,e))).state={requestSuccess:!1},n.requestInformation=n.requestInformation.bind(v()(n)),n.determineSuccessMessage=n.determineSuccessMessage.bind(v()(n)),n}return y()(t,e),d()(t,[{key:"requestInformation",value:function(){C.a.post(N.k.REQUEST_INFORMATION,{type:this.props.requestType}).then(this.setState({requestSuccess:!0}))}},{key:"determineSuccessMessage",value:function(){return this.props.menu?w.a.createElement("span",null,w.a.createElement("b",null,this.props.i18n.request_sent,"!")," ",this.props.i18n.request_follow_up):w.a.createElement("span",null,this.props.i18n.request_sent,".")}},{key:"render",value:function(){var e,t=this.props,n=t.menu,r=t.i18n,a=t.customClass,o=!0===this.state.requestSuccess,s=V()("NewButton",(e={},i()(e,a,a),i()(e,"NewButton--blue",!o),i()(e,"NewButton--success op-1 h-100",o),i()(e,"p-10 lh-16",o&&n),i()(e,"NewButton--center",!o&&n),e));return w.a.createElement("div",null,w.a.createElement("button",{type:"button",className:s,onClick:o?null:this.requestInformation,disabled:o},o?this.determineSuccessMessage():r.request_info))}}]),t}(w.a.Component),jm=function(e){function n(){return l()(this,n),f()(this,m()(n).apply(this,arguments))}return y()(n,e),d()(n,[{key:"render",value:function(){return this.props.thumbnailLink?w.a.createElement("div",{className:"VideoThumbnail"},w.a.createElement("img",{className:"VideoThumbnail--image",src:this.props.thumbnailLink,width:"100%",alt:t("lessons.editor.elements.video")}),w.a.createElement("div",{className:"VideoThumbnail--overlay d-f ai-c jc-c"},w.a.createElement(z.a,{name:"play"}))):w.a.createElement("iframe",{title:t("lessons.editor.elements.video"),src:this.props.videoLink,allowTransparency:"true",frameBorder:"0",scrolling:"no",name:"wistia_embed",width:"100%",height:"408"})}}]),n}(w.a.Component),Lm=function(e){function t(){return l()(this,t),f()(this,m()(t).apply(this,arguments))}return y()(t,e),d()(t,[{key:"render",value:function(){var e=this.props,t=e.i18n,n=e.closeModal,r=e.informationRequestData;return w.a.createElement(ts.a,null,w.a.createElement(Bs.a,{className:"ModalTakeover-background Modal-background"},w.a.createElement("div",{className:"PracticePreview-modal ModalTakeover-container"},w.a.createElement("div",{className:"ModalTakeover-closeButton",onClick:n},w.a.createElement(z.a,{name:"error"})),w.a.createElement("div",{className:"PracticePreview-videoContainer"},w.a.createElement(jm,{videoLink:r.full_video})),w.a.createElement("div",{className:"ModalTakeover-main"},w.a.createElement("div",{className:"fz-bigger mb-32 lh-24",dangerouslySetInnerHTML:{__html:Object(Ne.b)(t.preview.modal_text)}}),w.a.createElement("div",{className:"d-f jc-e"},w.a.createElement(Dm,{i18n:t.preview,customClass:"NewButton--tallAndWide",requestType:r.type}))))))}}]),t}(w.a.Component),Fm=[{label:"Free Response",type:"free_response",model:"Questions::FreeResponse"},{label:"Multiple Choice",type:"multiple_choice",model:"Questions::MultipleChoice"},{label:"Multiple Select",type:"multiple_select",model:"Questions::MultipleSelect"},{label:"Survey",type:"survey",model:"Questions::Survey"}],Bm=function(e){var n=e.setMenuKeepOpen,r=kn(),a=Ye()(r,2),i=a[0],o=a[1],s=function(){n(!i),o(),ns("practice/learn_more_clicked",{origin:"lesson_builder_practice_element_menu"})};return w.a.createElement("div",{className:"NewDropDown-item PracticeUpdateNotice PracticeUpdateNotice-menuMessage"},w.a.createElement("div",{className:"bdrs-small bg-gray-lightest c-navy-darker d-f fd-c ff-ss fz-12 lh-16 p-12"},w.a.createElement("span",null,t("practice.separation.menu_message")),w.a.createElement(Ce,{className:"PracticeUpdateNotice-learnMore",onClick:s},t("common.learn_more"))),w.a.createElement("hr",null),w.a.createElement(pd,{shown:i,toggleModal:s}))},Um=function(e){function t(){return l()(this,t),f()(this,m()(t).apply(this,arguments))}return y()(t,e),d()(t,[{key:"render",value:function(){var e=this.props,t=e.i18n,n=e.showPracticePreview,r=e.thumbnailLink;return w.a.createElement("div",{className:"PracticePreview"},w.a.createElement("div",{className:"NewDropDown-item",onClick:n},w.a.createElement(jm,{thumbnailLink:r}),w.a.createElement("div",{className:"PracticePreview-menuMessage PracticePreview--boldMessage fz-bigger fw-b mt-12"},t.practice.preview.menu_message),w.a.createElement("div",{className:"PracticePreview-menuMessage mt-4"},t.common.learn_more)),w.a.createElement("hr",null))}}]),t}(w.a.Component),Hm=function(e){var t=e.onClick,n=e.nestedOptions,r=e.icon,a=e.label,i=(e.disabled,e.isLocked);e.i18n;return w.a.createElement(jf,{onClick:!i&&t,parent:!!n,isLocked:i},r&&w.a.createElement(z.a,{name:r}),a,i&&w.a.createElement(z.a,{name:"lock",customClass:"mr-0"}),n)},qm=Object(le.b)(function(e){return{canUseChatPractice:Object(Or.j)(e,"chat_practice"),canUseEmailPractice:Object(Or.j)(e,"email_practice"),canUseAudioPractice:Object(Or.j)(e,"audio_practice"),canUseKnowledgeChecks:Object(Or.j)(e,"knowledge_checks"),canUseMediaRecordingElement:Object(Or.j)(e,"media_recording")&&!Object(Or.j)(e,"recording_in_lesson_editor"),canUseRecordAudioElement:Object(Or.j)(e,"recording_in_lesson_editor"),canUseQuestionBank:Object(Or.j)(e,"random_question_bank"),canUsePractice:Object(Or.j)(e,"practice"),canSeePracticePreview:Object(Or.j)(e,"product_initiated_growth"),canUseTicketHandlingPractice:Object(Or.j)(e,"ticket_handling_practice"),canUseZendeskPractice:Object(Or.j)(e,"zendesk_practice"),canUseImageLibraryLessonElement:Object(Or.j)(e,"image_library_lesson_element"),onDemandPracticePushback:Object(Or.j)(e,"on_demand_practice_pushback"),i18n:e.editor.i18n,information_request_data:e.editor.information_request_data}})(function(e){var n=!e.canUsePractice&&e.canSeePracticePreview,r=function(t){return t.stopPropagation(),e.optionClickCallback},a=w.a.createElement(Af,{alignment:"bottom",dark:!0,animation:"slideUp"},Fm.map(function(e){var t=e.type,n=e.label,a=e.model;return w.a.createElement(Hm,{key:t,label:n,onClick:function(e){return r(e)(a)}})}),e.canUseQuestionBank&&w.a.createElement("hr",null),e.canUseQuestionBank&&w.a.createElement(Hm,{label:t("lessons.editor.elements.randomized_questions"),onClick:function(e){return r(e)("QuestionBank")}})),i=w.a.createElement(Af,{alignment:"bottom",dark:!0,animation:"slideUp"},n&&w.a.createElement(Um,{i18n:e.i18n,showPracticePreview:e.showPracticePreview,thumbnailLink:e.information_request_data.practice.thumbnail}),e.onDemandPracticePushback&&w.a.createElement(Bm,{setMenuKeepOpen:e.setMenuKeepOpen}),w.a.createElement(Hm,{label:t("lessons.editor.elements.webcam_recording"),onClick:function(e){return r(e)("Questions::WebcamRecording")},isLocked:n}),w.a.createElement(Hm,{label:t("lessons.editor.elements.screen_recording"),onClick:function(e){return r(e)("Questions::ScreenRecording")},isLocked:n}),e.canUseAudioPractice&&w.a.createElement(Hm,{label:t("lessons.editor.elements.audio_recording"),onClick:function(e){return r(e)("Questions::AudioRecording")},isLocked:n}),w.a.createElement(Hm,{label:t("lessons.editor.elements.written_response"),onClick:function(e){return r(e)("Questions::WrittenResponse")},isLocked:n}),e.canUseEmailPractice&&w.a.createElement("div",null,w.a.createElement(Hm,{label:t("lessons.editor.elements.email_composition"),onClick:function(e){return r(e)("Questions::EmailComposition")},isLocked:n}),w.a.createElement(Hm,{label:t("lessons.editor.elements.email_reply"),onClick:function(e){return r(e)("Questions::EmailReply")},isLocked:n})),e.canUseChatPractice&&w.a.createElement(Hm,{label:t("lessons.editor.elements.chat"),onClick:function(e){return r(e)("Questions::Chat")},isLocked:n}),e.canUseTicketHandlingPractice&&w.a.createElement(Hm,{label:t("lessons.editor.elements.ticket_handling"),onClick:function(e){return r(e)("Questions::TicketHandling")},isLocked:n}),e.canUseZendeskPractice&&w.a.createElement(Hm,{label:t("lessons.editor.elements.zendesk_ticket_handling"),onClick:e.showZendeskLibrary,isLocked:n}),n&&w.a.createElement(Dm,{i18n:e.i18n.practice.preview,customClass:"w-fill h-100",requestType:e.information_request_data.practice.type,menu:!0}));return e.visible&&w.a.createElement(Af,{dark:!0,dynamic:!0,style:e.style,animation:"slideIn",ref:function(t){return e.setRef(t,"menu")}},w.a.createElement("div",null,w.a.createElement(Hm,{icon:"text",label:t("lessons.editor.elements.text"),onClick:function(e){return r(e)("paragraph")}}),!e.canUsePractice&&!n&&w.a.createElement(Hm,{icon:"question",label:t("lessons.editor.elements.question"),onClick:r,nestedOptions:a}),w.a.createElement(Hm,{icon:"flipcard",label:t("lessons.editor.elements.flipcard"),onClick:function(e){return r(e)("flipcard")}}),w.a.createElement(Hm,{icon:"reveal",label:t("lessons.editor.elements.reveal"),onClick:function(e){return r(e)("reveal")}}),!e.canUseImageLibraryLessonElement&&w.a.createElement(Hm,{icon:"photo",label:t("lessons.editor.elements.image"),onClick:function(e){return r(e)("photo")}}),e.canUseImageLibraryLessonElement&&w.a.createElement(Hm,{icon:"photo",label:t("lessons.editor.elements.image"),onClick:function(e){return r(e)("lesson_content_image")}}),w.a.createElement(Hm,{icon:"embed",label:t("lessons.editor.elements.embed"),onClick:function(e){return r(e)("embed")}}),w.a.createElement(Hm,{icon:"video",label:t("lessons.editor.elements.video"),onClick:function(e){return r(e)("video")}}),e.canUseMediaRecordingElement&&w.a.createElement(Hm,{icon:"new_video",label:t("lessons.editor.elements.record_media"),onClick:function(e){return r(e)("media_recording")}}),e.canUseRecordAudioElement&&w.a.createElement(Hm,{icon:"microphone",label:t("lessons.editor.elements.record_audio"),onClick:function(e){return r(e)("media_recording")}}),w.a.createElement(Hm,{icon:"document",label:t("lessons.editor.elements.document"),onClick:function(e){return r(e)("document")}}),w.a.createElement("span",null,w.a.createElement("hr",null),e.canUseKnowledgeChecks&&w.a.createElement(Hm,{icon:"correct",label:t("lessons.editor.elements.knowledge_check"),onClick:function(e){return r(e)("Questions::KnowledgeCheck")}}),(n||e.canUsePractice)&&w.a.createElement("span",null,w.a.createElement(Hm,{icon:"question",label:t("lessons.editor.elements.question"),onClick:r,nestedOptions:a}),w.a.createElement(Hm,{icon:"star_filled",label:t("lessons.editor.elements.practice"),onClick:r,nestedOptions:i,i18n:e.i18n.common}))),w.a.createElement("span",null,w.a.createElement("hr",null),w.a.createElement(Hm,{icon:"save_to_library",label:t("lessons.editor.elements.element_library"),onClick:e.showElementLibrary}))))}),Gm={"Audio Recording":"star_filled",Chat:"star_filled",Document:"document","Email Composition":"star_filled","Email Reply":"star_filled",Embed:"embed",Flipcard:"flipcard","Free Response":"question","Knowledge Check":"correct","Media Recording":"new_video","Multiple Choice":"question","Multiple Select":"question",Paragraph:"text",Photo:"photo",Question:"question","Question Bank":"question",Reveal:"reveal","Screen Recording":"video_camera",Survey:"question","Ticket Handling":"star_filled","Webcam Recording":"video_camera","Written Response":"question",Video:"video"},Wm=function(e){function t(e){var n;return l()(this,t),(n=f()(this,m()(t).call(this,e))).handleDelete=n.handleDelete.bind(v()(n)),n}return y()(t,e),d()(t,[{key:"handleDelete",value:function(){this.props.deleteItem(this.props.item)}},{key:"showDeleteIcon",value:function(){var e=this.props,t=e.item,n=e.currentUserId===t.creator_id;return t.creator_id&&n}},{key:"render",value:function(){var e=this,t=this.props,n=t.item,r=t.active,a=V()("ElementLibraryItem",{"ElementLibraryItem--active":r}),i=V()("ElementLibraryItem-title",{"ElementLibraryItem--active":r}),o=V()("ElementLibraryItem-description",{"ElementLibraryItem--active":r}),s=V()("ElementLibraryItem-info",{"d-f ai-c":!r}),c=Gm[n.type];return w.a.createElement("div",{onClick:function(){return e.props.onClick(e.props.item)},className:a},w.a.createElement("div",{className:s},c&&!r&&w.a.createElement(z.a,{name:c,customClass:"mr-16"}),r&&w.a.createElement("div",{className:"ElementLibraryItem-additionalInfo d-f jc-sb mb-16"},w.a.createElement("div",null,w.a.createElement(z.a,{name:c}),w.a.createElement("span",{className:"ml-8 mr-16"},n.type),w.a.createElement(z.a,{name:"learner"}),w.a.createElement("span",{className:"ml-8 mr-16"},n.creator_name),w.a.createElement(z.a,{name:"calendar_empty"}),w.a.createElement("span",{className:"ml-8 mr-16"},I()(n.created_at,L.fixed.FULL_YEAR_MONTH_DATE_TIME).fromNow())),this.showDeleteIcon()&&w.a.createElement("a",{title:"Remove from Library","data-toggle":"tooltip","data-placement":"left",onClick:this.handleDelete},w.a.createElement(z.a,{name:"error"}))),w.a.createElement("div",null,w.a.createElement("span",{className:i},n.title,"  "),n.description&&w.a.createElement("span",{className:o},"– ",n.description))))}}]),t}(E.Component),Vm=function(e){function t(e){var n;return l()(this,t),(n=f()(this,m()(t).call(this,e))).renderFilter=n.renderFilter.bind(v()(n)),n.renderSort=n.renderSort.bind(v()(n)),n}return y()(t,e),d()(t,[{key:"renderFilter",value:function(){var e=this.props.i18n.filter;return w.a.createElement("select",{className:"ElementLibrary-dropdown",onChange:this.props.filterData},w.a.createElement("option",{value:"user"},e.user),w.a.createElement("option",{value:"company"},e.company))}},{key:"renderSort",value:function(){var e=this.props.i18n.filter;return w.a.createElement("select",{className:"ElementLibrary-dropdown",onChange:this.props.sortData},w.a.createElement("option",{value:"created_at"},e.recent),w.a.createElement("option",{value:"title"},e.alphabetical))}},{key:"render",value:function(){return w.a.createElement("div",{className:"ElementLibrary-filter d-f jc-sb f-sh-0"},this.renderFilter(),this.renderSort())}}]),t}(E.Component),zm=function(e){function t(){return l()(this,t),f()(this,m()(t).apply(this,arguments))}return y()(t,e),d()(t,[{key:"render",value:function(){var e="NewButton NewButton--blue NewButton--center NewButton--tallAndWide",t=this.props,n=t.i18n,r=t.selectedItem,a=t.handleCancel,i=t.handleAddToLesson;return w.a.createElement("div",{className:"ElementLibrary-actions d-f jc-e ai-c mt-32 f-sh-0"},w.a.createElement("a",{onClick:a,className:"c-p c-brand-gray-darker mr-24"},n.cancel),r&&w.a.createElement("button",{type:"button",className:e,onClick:i},n.add),!r&&w.a.createElement("button",{type:"button",className:e,onClick:a},n.done))}}]),t}(E.Component),Ym=function(e){function t(){return l()(this,t),f()(this,m()(t).apply(this,arguments))}return y()(t,e),d()(t,[{key:"render",value:function(){var e=this.props.i18n,t=e.title,n=e.instructions;return w.a.createElement("div",{className:"ElementLibrary-heading mb-32"},w.a.createElement("div",{className:"ElementLibrary-header"},t),w.a.createElement("div",{className:"ElementLibrary-instructions"},n))}}]),t}(E.Component),Qm=function(e){var t=e.value;return w.a.createElement("div",{className:"ElementLibrary-search"},w.a.createElement("input",{className:"NewInput NewInput--white NewInput--fw",placeholder:e.i18n.search,onChange:e.search,value:t}),w.a.createElement(z.a,{name:t?"close-circle":"search",onClick:t?e.clearSearchInput:null}))},Km=function(e){function t(e){var n;return l()(this,t),(n=f()(this,m()(t).call(this,e))).state={data:[],isLoading:!0,selectedItem:null,error:"",query:"",sortOption:""},n.handleCancel=n.handleCancel.bind(v()(n)),n.filterData=n.filterData.bind(v()(n)),n.handleItemClick=n.handleItemClick.bind(v()(n)),n.currentSelectedItem=n.currentSelectedItem.bind(v()(n)),n.handleAddToLesson=n.handleAddToLesson.bind(v()(n)),n.searchData=n.searchData.bind(v()(n)),n.renderBody=n.renderBody.bind(v()(n)),n.updateQuery=n.updateQuery.bind(v()(n)),n.sortData=n.sortData.bind(v()(n)),n.updateSort=n.updateSort.bind(v()(n)),n.clearSearchInput=n.clearSearchInput.bind(v()(n)),n.deleteItem=n.deleteItem.bind(v()(n)),n.renderEmptyState=n.renderEmptyState.bind(v()(n)),n.setContainerHeight=n.setContainerHeight.bind(v()(n)),n}return y()(t,e),d()(t,[{key:"componentDidMount",value:function(){this.requestData()}},{key:"componentDidUpdate",value:function(){this.setContainerHeight()}},{key:"setContainerHeight",value:function(){var e=document.querySelector(".ElementLibrary-container"),t=this.state.error?196:140;if(e){var n=window.innerHeight-e.getBoundingClientRect().top-t;e.style.maxHeight=n+"px"}}},{key:"requestData",value:function(e){var t=this;C.a.get(N.k.SAVED_ELEMENT_CONTENTS,{filter:e,lesson_id:this.props.lessonId,section_id:this.props.sectionId}).then(function(e){t.setState({data:e,isLoading:!1,error:""})}).fail(function(){t.setState({data:[],isLoading:!1,error:t.props.i18n.error.no_connection})})}},{key:"handleCancel",value:function(){this.props.closeElementLibrary()}},{key:"filterData",value:function(e){this.setState({isLoading:!0,selectedItem:null}),this.requestData(e.target.value)}},{key:"deleteItem",value:function(e){var t=this;this.setState(function(t){return{data:Object(me.reject)({id:e.id},t.data)}}),C.a.delete(N.k.SAVED_ELEMENT_CONTENT(e.id)).fail(function(){t.setState(function(n){return{data:n.data.concat(e),error:t.props.i18n.error.on_delete}})})}},{key:"currentSelectedItem",value:function(e){return e===this.state.selectedItem}},{key:"handleItemClick",value:function(e){this.currentSelectedItem(e)?this.setState({selectedItem:null,error:""}):this.setState({selectedItem:e,error:""})}},{key:"handleAddToLesson",value:function(){var e=this,t=this.props,n=t.lessonId,r=t.sectionId,a=t.position,i=this.state.selectedItem.id;this.props.addSavedContentToLesson(n,r,i,a).then(function(t){e.props.closeElementLibrary(),document.querySelector("#element-".concat(t.id," .redactor-box")).classList.add("ElementLibrary-copied")}).catch(function(){e.setState({error:e.props.i18n.error.on_save})})}},{key:"searchData",value:function(e){var t=new RegExp(this.state.query,"i");return t.test(e.title)||t.test(e.description)}},{key:"updateQuery",value:function(e){this.setState({query:e.target.value})}},{key:"sortData",value:function(e){return"title"===this.state.sortOption?Object(S.orderBy)(e,[function(e){return e.title.toLowerCase()}]):Object(S.orderBy)(e,"created_at","desc")}},{key:"renderEmptyState",value:function(){return w.a.createElement("div",{className:"ElementLibrary-message"},this.state.error&&w.a.createElement("div",{className:"ErrorContainer ElementLibrary-errorMessage lh-24"},this.state.error),!this.state.error&&this.props.i18n.library.no_content)}},{key:"renderBody",value:function(){var e=this,t=this.state.data.filter(this.searchData),n=!Object(me.isEmpty)(t);return this.state.query&&!n?w.a.createElement("div",{className:"ElementLibrary-message"},this.props.i18n.library.no_results):n?this.sortData(t).map(function(t){return w.a.createElement(Wm,{item:t,key:t.id,onClick:e.handleItemClick,active:e.currentSelectedItem(t),deleteItem:e.deleteItem,currentUserId:e.props.currentUserId})}):this.renderEmptyState()}},{key:"updateSort",value:function(e){this.setState({sortOption:e.target.value})}},{key:"clearSearchInput",value:function(){this.setState({query:""})}},{key:"render",value:function(){var e=this.props.i18n.library,t=e.header,n=e.loading,r=this.state.isLoading,a=!Object(me.isEmpty)(this.state.data);return w.a.createElement(ts.a,null,w.a.createElement("div",{className:"ElementLibrary"},w.a.createElement(Bs.a,{className:"ModalTakeover-background Modal-background",onEscape:this.handleCancel},w.a.createElement("div",{className:"ElementLibrary-body ModalTakeover-container d-f fd-c"},w.a.createElement("div",{className:"ModalTakeover-closeButton",onClick:this.handleCancel},w.a.createElement(z.a,{name:"error"})),w.a.createElement(Ym,{i18n:t}),w.a.createElement(Qm,{i18n:this.props.i18n.library,search:this.updateQuery,value:this.state.query,clearSearchInput:this.clearSearchInput}),w.a.createElement(Vm,{filterData:this.filterData,i18n:this.props.i18n.library,sortData:this.updateSort}),w.a.createElement("div",{className:"ElementLibrary-container"},w.a.createElement("div",{className:"ElementLibrary-content"},r&&w.a.createElement("div",{className:"ElementLibrary-message"},w.a.createElement("div",null,w.a.createElement(k.k,{color:"darker"}),w.a.createElement("span",{className:"ml-8"},n))),!r&&!a&&this.renderEmptyState(),!r&&a&&this.renderBody())),this.state.error&&a&&w.a.createElement("div",{className:"ErrorContainer ElementLibrary-errorMessage mb-0 lh-24"},this.state.error),w.a.createElement(zm,this.buttonConfig)))))}},{key:"buttonConfig",get:function(){return{i18n:this.props.i18n.library.actions,handleCancel:this.handleCancel,handleAddToLesson:this.handleAddToLesson,selectedItem:this.state.selectedItem}}}]),t}(E.Component),Xm=Object(le.b)(function(e){var t=e.editor;return{currentUserId:t.currentUserId,i18n:t.i18n.savedContent,lessonId:t.lessonId,sectionId:t.currentSection.id}},function(e){return{addSavedContentToLesson:function(t,n,r,a){return e(nm.a.addSavedContentToLesson(t,n,r,a))}}})(Km),$m=r(81),Zm=r.n($m),Jm=function(e){function t(e){var n;return l()(this,t),(n=f()(this,m()(t).call(this,e))).renderActive=n.renderActive.bind(v()(n)),n.renderInactive=n.renderInactive.bind(v()(n)),n.handleDelete=n.handleDelete.bind(v()(n)),n}return y()(t,e),d()(t,[{key:"handleDelete",value:function(){this.props.deleteItem(this.props.item)}},{key:"showDeleteIcon",value:function(){var e=this.props,t=e.item,n=e.currentUserId===t.creator_id;return t.creator_id&&n}},{key:"renderActive",value:function(){var e=this.props,t=e.item,n=e.i18n,r=e.active,a=V()("ElementLibraryItem-title fz-bigger",{"ElementLibraryItem--active fw-b":r}),i=V()("fz-bigger",{"ElementLibraryItem--active":r});return w.a.createElement("div",null,w.a.createElement("div",{className:"d-f jc-sb ai-fs"},w.a.createElement("div",null,w.a.createElement("span",{className:a},"#",t.zendesk_id,": ",t.subject),t.description&&w.a.createElement("div",{className:i},t.description)),this.showDeleteIcon()&&w.a.createElement("a",{title:n.delete_tooltip,"data-toggle":"tooltip","data-placement":"left",onClick:this.handleDelete},w.a.createElement(z.a,{name:"error"}))),w.a.createElement("div",{className:"ElementLibraryItem-additionalInfo mt-16"},w.a.createElement("div",{className:"fw-b"},n.added," ",I()(t.created_at,L.fixed.FULL_YEAR_MONTH_DATE_TIME).fromNow()," by ",t.creator_name||n.anonymous,t.creator_provided_description&&w.a.createElement("span",null," ",n.with_usage_note,":")),w.a.createElement("div",{className:"fz-base"},t.creator_provided_description)))}},{key:"renderInactive",value:function(){var e=this.props,t=e.item,n=e.active,r=e.i18n,a="#".concat(t.zendesk_id,": ").concat(t.subject," - ").concat(t.description),i=V()("ElementLibraryItem-title fz-bigger",{"ElementLibraryItem--active fw-b":n});return w.a.createElement("div",null,w.a.createElement(Zm.a,{lines:1,className:i},a),t.creator_provided_description&&w.a.createElement("div",{className:"c-brand-gray-dark fz-base"},r.usage_note,":",t.creator_provided_description))}},{key:"render",value:function(){var e=this,t=this.props.active,n=V()("ElementLibraryItem",{"ElementLibraryItem--active":t}),r=V()("ElementLibraryItem-info",{"d-f ai-c":!t});return w.a.createElement("div",{onClick:function(){return e.props.onClick(e.props.item)},className:n},w.a.createElement("div",{className:r},!t&&this.renderInactive(),t&&this.renderActive()))}}]),t}(E.Component),eg=function(e){var t="NewButton NewButton--blue NewButton--center NewButton--tallAndWide",n=e.i18n,r=e.selectedItem,a=e.handleCancel,i=e.handleAddToLesson;return w.a.createElement("div",{className:"ElementLibrary-actions d-f jc-e ai-c mt-32 f-sh-0"},w.a.createElement("a",{onClick:a,className:"c-p c-brand-gray-darker mr-24"},n.cancel),r&&w.a.createElement("button",{type:"button",className:t,onClick:i},n.add),!r&&w.a.createElement("button",{type:"button",className:t,onClick:a},n.done))},tg=function(e){var t=e.value;return w.a.createElement("div",{className:"ElementLibrary-search"},w.a.createElement("input",{className:"NewInput NewInput--white NewInput--fw",placeholder:e.i18n.search,onChange:e.search,value:t}),w.a.createElement(z.a,{name:t?"close-circle":"search",onClick:t?e.clearSearchInput:null}))},ng=function(e){var t=e.i18n.filter;return w.a.createElement("div",{className:"ElementLibrary-filter d-f jc-sb f-sh-0"},w.a.createElement("select",{className:"ElementLibrary-dropdown",onChange:e.filterData},w.a.createElement("option",{value:"user"},t.user),w.a.createElement("option",{value:"company"},t.company)))},rg=function(e){function t(e){var n;return l()(this,t),(n=f()(this,m()(t).call(this,e))).state={data:[],isLoading:!0,selectedItem:null,error:"",query:""},n.handleCancel=n.handleCancel.bind(v()(n)),n.renderBody=n.renderBody.bind(v()(n)),n.renderEmptyState=n.renderEmptyState.bind(v()(n)),n.handleItemClick=n.handleItemClick.bind(v()(n)),n.currentSelectedItem=n.currentSelectedItem.bind(v()(n)),n.searchData=n.searchData.bind(v()(n)),n.updateQuery=n.updateQuery.bind(v()(n)),n.clearSearchInput=n.clearSearchInput.bind(v()(n)),n.filterData=n.filterData.bind(v()(n)),n.deleteItem=n.deleteItem.bind(v()(n)),n.handleAddToLesson=n.handleAddToLesson.bind(v()(n)),n}return y()(t,e),d()(t,[{key:"componentDidMount",value:function(){this.requestData()}},{key:"componentDidUpdate",value:function(){this.setContainerHeight()}},{key:"setContainerHeight",value:function(){var e=document.querySelector(".ElementLibrary-container"),t=this.state.error?196:140;if(e){var n=window.innerHeight-e.getBoundingClientRect().top-t;e.style.maxHeight=n+"px"}}},{key:"requestData",value:function(e){var t=this;C.a.get(N.k.ZENDESK_TICKETS,{filter:e}).then(function(e){t.setState({data:e,isLoading:!1,error:""})}).fail(function(){t.setState({data:[],isLoading:!1,error:t.props.i18n.error.no_connection})})}},{key:"filterData",value:function(e){this.setState({isLoading:!0,selectedItem:null}),this.requestData(e.target.value)}},{key:"currentSelectedItem",value:function(e){return e===this.state.selectedItem}},{key:"handleItemClick",value:function(e){this.currentSelectedItem(e)?this.setState({selectedItem:null,error:""}):this.setState({selectedItem:e,error:""})}},{key:"deleteItem",value:function(e){var t=this;this.setState(function(t){return{data:Object(me.reject)({id:e.id},t.data)}}),C.a.delete(N.k.ZENDESK_TICKETS+"/"+e.id).fail(function(){t.setState(function(n){return{data:n.data.concat(e),error:t.props.i18n.error.on_delete}})})}},{key:"searchData",value:function(e){var t=new RegExp(this.state.query,"i");return t.test(e.subject)||t.test(e.description)||t.test(e.creator_provided_description)||t.test(e.zendesk_id)||t.test(e.creator_name)}},{key:"updateQuery",value:function(e){this.setState({query:e.target.value})}},{key:"clearSearchInput",value:function(){this.setState({query:""})}},{key:"handleCancel",value:function(){this.props.closeZendeskLibrary()}},{key:"handleAddToLesson",value:function(){var e=this,t=this.props.position,n=this.state.selectedItem.id;this.props.createZendeskTicket("Questions::TicketHandling",t,n).then(function(t){e.props.closeZendeskLibrary()}).catch(function(){e.setState({error:e.props.i18n.error.on_save})})}},{key:"renderEmptyState",value:function(){return w.a.createElement("div",{className:"ElementLibrary-message"},this.state.error&&w.a.createElement("div",{className:"ErrorContainer ElementLibrary-errorMessage lh-24"},this.state.error),!this.state.error&&this.props.i18n.no_content)}},{key:"renderBody",value:function(){var e=this,t=this.state.data.filter(this.searchData),n=!Object(me.isEmpty)(t);return this.state.query&&!n?w.a.createElement("div",{className:"ElementLibrary-message"},this.props.i18n.no_results):n?t.map(function(t){return w.a.createElement(Jm,{item:t,key:t.zendesk_id,onClick:e.handleItemClick,active:e.currentSelectedItem(t),deleteItem:e.deleteItem,currentUserId:e.props.currentUserId,i18n:e.props.i18n})}):this.renderEmptyState()}},{key:"render",value:function(){var e=this.props.i18n,t=e.header,n=e.loading,r=this.state.isLoading,a=!Object(me.isEmpty)(this.state.data);return w.a.createElement(ts.a,null,w.a.createElement("div",{className:"ElementLibrary"},w.a.createElement(Bs.a,{className:"ModalTakeover-background Modal-background",onEscape:this.handleCancel},w.a.createElement("div",{className:"ElementLibrary-body ModalTakeover-container d-f fd-c"},w.a.createElement("div",{className:"ModalTakeover-closeButton",onClick:this.handleCancel},w.a.createElement(z.a,{name:"error"})),w.a.createElement("div",{className:"ElementLibrary-heading mb-32"},w.a.createElement("div",{className:"ElementLibrary-header"},t.title),w.a.createElement("div",{className:"ElementLibrary-instructions"},t.instructions)),w.a.createElement(tg,{i18n:this.props.i18n,search:this.updateQuery,value:this.state.query,clearSearchInput:this.clearSearchInput}),w.a.createElement(ng,{filterData:this.filterData,i18n:this.props.i18n}),w.a.createElement("div",{className:"ElementLibrary-container"},w.a.createElement("div",{className:"ElementLibrary-content"},r&&w.a.createElement("div",{className:"ElementLibrary-message"},w.a.createElement("div",null,w.a.createElement(k.k,{color:"darker"}),w.a.createElement("span",{className:"ml-8"},n))),!r&&!a&&this.renderEmptyState(),!r&&a&&this.renderBody())),w.a.createElement(eg,this.buttonConfig)))))}},{key:"buttonConfig",get:function(){return{i18n:this.props.i18n.actions,handleCancel:this.handleCancel,selectedItem:this.state.selectedItem,handleAddToLesson:this.handleAddToLesson}}}]),t}(E.Component),ag=Object(le.b)(function(e){var t=e.editor;return{currentUserId:t.currentUserId,i18n:t.i18n.practice.zendesk,lessonId:t.lessonId,sectionId:t.currentSection.id}},function(e){return{createZendeskTicket:function(t,n,r){return e(nm.a.createZendeskTicket(t,n,r))}}})(rg),ig=function(e){function t(e){var n;return l()(this,t),n=f()(this,m()(t).call(this,e)),i()(v()(n),"setMenuKeepOpen",function(e){n.setState({menuKeepOpen:e})}),n.state={active:!1,menuStyle:{},viewElementLibrary:!1,viewPracticePreview:!1,viewZendeskLibrary:!1},n.showMenu=n.showMenu.bind(v()(n)),n.closeMenu=n.closeMenu.bind(v()(n)),n.setRef=n.setRef.bind(v()(n)),n.showElementLibrary=n.showElementLibrary.bind(v()(n)),n.closeElementLibrary=n.closeElementLibrary.bind(v()(n)),n.showPracticePreview=n.showPracticePreview.bind(v()(n)),n.closePracticePreview=n.closePracticePreview.bind(v()(n)),n.showZendeskLibrary=n.showZendeskLibrary.bind(v()(n)),n.closeZendeskLibrary=n.closeZendeskLibrary.bind(v()(n)),n}return y()(t,e),d()(t,[{key:"createElement",value:function(e){var t=this;this.setState({active:!1},function(){t.props.onCreate(e,t.props.position),t.closeMenu(null,!0)})}},{key:"closeMenu",value:function(e,t){var n=this;this.state.menuKeepOpen||!t&&this.container.contains(e.target)||this.setState({active:!1},function(){n.resetPosition(),window.removeEventListener("click",n.closeMenu)})}},{key:"updateMenuPosition",value:function(e){var t=e.clientX,n=e.clientY,r=this.menu.refs.menu,a=this.container.getBoundingClientRect(),i={};i.top=n-a.top+10,i.right=Math.max(0,a.right-t-r.offsetWidth+30),window.innerWidth<1335&&0===i.right&&(i.right+=110,i.top=10),window.innerHeight-n<r.offsetHeight&&n>r.offsetHeight&&(i.bottom=a.bottom-n-10,delete i.top),this.setMenuPosition(i)}},{key:"setMenuPosition",value:function(e){var t=e.top,n=e.right,r=e.bottom;this.setState({menuStyle:{top:t&&"".concat(t,"px"),right:n&&"".concat(n,"px"),bottom:r&&"".concat(r,"px")}})}},{key:"resetPosition",value:function(){this.setState({menuStyle:null})}},{key:"setRef",value:function(e,t){this[t]=e}},{key:"showMenu",value:function(e){var t=this;e.persist(),this.state.active?e.target!==this.menu.refs.menu&&this.updateMenuPosition(e):this.setState({active:!0},function(){t.updateMenuPosition(e),window.addEventListener("click",t.closeMenu)})}},{key:"showElementLibrary",value:function(){this.setState({viewElementLibrary:!0}),this.closeMenu(null,!0)}},{key:"closeElementLibrary",value:function(){this.setState({viewElementLibrary:!1})}},{key:"showZendeskLibrary",value:function(){this.setState({viewZendeskLibrary:!0}),this.closeMenu(null,!0)}},{key:"closeZendeskLibrary",value:function(){this.setState({viewZendeskLibrary:!1})}},{key:"showPracticePreview",value:function(){this.setState({viewPracticePreview:!0}),this.closeMenu(null,!0)}},{key:"closePracticePreview",value:function(){this.setState({viewPracticePreview:!1})}},{key:"render",value:function(){var e=this,t=this.props,n=t.isOver,r=t.connectDropTarget,a=t.canDrop,i=n&&a;return r(w.a.createElement("div",{className:"EditorElement-addSiblingContainer",onClick:this.showMenu},w.a.createElement("div",{ref:function(t){return e.setRef(t,"container")},className:"AddSibling ".concat(this.state.active||i?"active":"")},w.a.createElement("div",{className:"AddSibling-addButton"},w.a.createElement(z.a,{name:"add"}),w.a.createElement("div",{className:"AddSibling-addButtonLabel"},w.a.createElement("div",null,i?"Move Element Here":"Add Element"))),w.a.createElement(qm,{visible:this.state.active,setRef:this.setRef,style:this.state.menuStyle,optionClickCallback:function(t){return e.createElement(t)},showElementLibrary:this.showElementLibrary,showPracticePreview:this.showPracticePreview,showZendeskLibrary:this.showZendeskLibrary,setMenuKeepOpen:this.setMenuKeepOpen}),this.state.viewPracticePreview&&w.a.createElement(Lm,{closeModal:this.closePracticePreview,i18n:this.props.i18n.practice,informationRequestData:this.props.informationRequestData.practice}),this.state.viewElementLibrary&&w.a.createElement(Xm,{closeElementLibrary:this.closeElementLibrary,position:this.props.position}),this.state.viewZendeskLibrary&&w.a.createElement(ag,{closeZendeskLibrary:this.closeZendeskLibrary,position:this.props.position}))))}}]),t}(E.Component),og=Object(le.b)(function(e){return{i18n:e.editor.i18n,informationRequestData:e.editor.information_request_data}})(ig),sg={drop:function(e,t,n){var r,a=t.getItem(),i=a.position,o=a.parent_id,s=e.position,c=Object(S.isNumber)(o);c?r=s:r=s<i?s:s-1;return{newPosition:r,detached:c}},canDrop:function(e,t){var n=e.position,r=t.getItem(),a=r.position,i=r.parent_id,o=n!==a&&n!==a+1;return Object(S.isNumber)(i)||o}},cg=Object(Zu.DropTarget)([ih.a.ELEMENT],sg,function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver(),canDrop:t.canDrop()}}),lg=Object(ue.d)(Object(le.b)(null,function(e){return{onCreate:function(t,n){e(nm.a.create(t,n))}}}),cg)(og),ug=function(e){return w.a.createElement(lg,{position:e,key:"add_"+e})},dg=function(e){var t=e.elements,n=e.features,r=[ug(1)];return t.forEach(function(e,t){r.push(function(e,t){t.features;var n=e.type,r=e.id,a="element_".concat(r);switch(n.toLowerCase()){case"question":case"screen_recording":case"webcam_recording":return w.a.createElement(km,H()({},e,{key:a}));case"question_bank":return w.a.createElement(Rm,H()({},e,{key:a}));case"paragraph":return w.a.createElement(qh.a,H()({},e,{key:a}));case"photo":return w.a.createElement(Yh,H()({},e,{key:a}));case"document":return w.a.createElement(yh,H()({},e,{key:a}));case"embed":return w.a.createElement(Dh,H()({},e,{key:a}));case"flipcard":return w.a.createElement(jh.a,H()({},e,{key:a}));case"reveal":return w.a.createElement(Pm.a,H()({},e,{key:a}));case"lesson_content_image":return w.a.createElement(Hh,H()({},e,{key:a}));case"media_recording":return w.a.createElement(Mm,H()({},e,{key:a}));default:return!1}}(e,{features:n}),ug(t+2))}),r},pg=function(e){var t=e.section,n=e.features;return w.a.createElement("div",{className:"Editor-elements",key:t.id},dg({elements:Object(me.reject)("parent_id",t.elements),features:n}))},fg=function(e){var t=Object(S.get)(document.body,"dataset.customColor",null);return w.a.createElement(vi.a,{large:!0},w.a.createElement("div",{className:"EditorBlankSlate-icon"}),w.a.createElement("div",{className:"EditorBlankSlate-path"}),w.a.createElement("svg",{className:"EditorBlankSlate-cloud",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 389 236",fill:t},w.a.createElement("path",{d:"M284.7 218.2c-146.43-32.94-150.53 32.6-225.54\n            13.9-75-18.7-88.72-86.14 18-126.6 106.74-40.5 181.7-154.26 252-82\n            70.3 72.24 101.95 227.62-44.47 194.7z",opacity:".05"})),w.a.createElement("div",{className:"NewBlankSlate-description"},w.a.createElement("h2",{className:"EditorBlankSlate-title"},"Oops, this lesson is empty!"),w.a.createElement("p",null,"Create a new section to start editing")))},hg=Object(le.b)(function(e){return{hasError:!e.editor.success}})(function(e){var n={type:"confirm",show:e.hasError,center:!0,message:w.a.createElement("p",null,t("common.problem.saving_update"),w.a.createElement("br",null),t("common.solution.reload_try_again")),confirmButtonText:t("common.reload_page"),onConfirm:function(){window.location.reload()}},r=Object(E.useMemo)(function(){var e=new Image;return e.src="/assets/blankslates/editor_error.svg",e.src},[]);return w.a.createElement(Ha.a,H()({className:"Editor-ErrorModal"},n),w.a.createElement("img",{src:r,role:"presentation",alt:t("lessons.editor.error_message")}),w.a.createElement("h3",null,t("common.uh_oh")))}),mg=r(446),gg=r.n(mg),vg=Object(le.b)(function(e){return{isSaving:e.editor.isSaving,error:!e.editor.success}})(function(e){var t=e.error,n=e.isSaving,r=V()("Editor-savingIndicator",{"Animated--fadeInOut":!t&&!n});return w.a.createElement("div",{style:{opacity:+t},className:r},t?"Unable to save":"Saved")}),bg=function(e){return w.a.createElement(_r,H()({},e,{if:!e.disabled,className:V()("NewButton",{"NewButton--white NewButton--center undecorated":!0,"NewButton--disabled":e.disabled})}))},yg=Object(le.b)(function(e){var t=e.editor;return{hasCurrentSection:!Object(nh.f)(t),preview_path:gg()(t.currentSection,"preview_path"),overview_path:t.lesson_overview_path,lesson_id:t.lessonId}})(function(e){return w.a.createElement("div",{className:"Index-header"},w.a.createElement("h1",{className:"Index-title"},"Lesson Builder"),w.a.createElement("div",{className:"Index-newButtonsContainer"},w.a.createElement(vg,null),w.a.createElement(bg,{href:e.overview_path,children:"Lesson Overview"}),w.a.createElement(bg,{href:e.preview_path,target:"lesson_preview_".concat(e.lesson_id),disabled:!e.hasCurrentSection,children:"Preview"})))}),Eg=Object(le.b)(function(e){return{isSaving:e.editor.isSaving,lastUpdatedAt:e.editor.lastUpdatedAt}})(function(e){var n=e.lastUpdatedAt;if(!n)return null;var r=moment(n),a=r.format(L.MONTH_DAY_YEAR_SHORT),i=r.format(L.TIME);return"(".concat(t("drafts.auto_saved")," ").concat(a," at ").concat(i,")")}),_g=function(e){var n=e.url;return w.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",className:"c-brand-blue",href:n},t("drafts.publishing.lesson_confirmation.tip.lesson_statistics_by_learner"))},wg=Object(le.b)(function(e){var t=e.editor,n=e.meta;return{publishPath:t.publish_path,redirectPath:t.lesson_overview_path,lessonStatsPath:t.lesson_stats_path,features:n.features}})(function(e){var n=e.disabled,r=e.publishPath,a=e.redirectPath,i=e.lessonStatsPath,o=e.features,s=Object(E.useState)(!1),c=Ye()(s,2),l=c[0],u=c[1],d=Object(E.useState)(null),p=Ye()(d,2),f=p[0],h=p[1],m=kn(!1),g=Ye()(m,2),v=g[0],b=g[1],y=Object(E.useCallback)(function(){l||b()},[l,b]),_=Object(E.useCallback)(function(){f&&h(null),u(!0),C.a.post(r).then(function(){window.location="".concat(a,"?publish_success=true")}).fail(function(e){u(!1),h(e.responseJSON.message)})},[f,r,a]);return w.a.createElement(w.a.Fragment,null,w.a.createElement(Ha.a,{show:v,dismissCallback:y,title:t("drafts.publishing.lesson_confirmation.heading")},f&&w.a.createElement("div",{className:"ErrorContainer ErrorContainer--brandRed"},f),w.a.createElement("p",null,w.a.createElement("b",null,t("drafts.publishing.lesson_confirmation.body"))),o.lesson_analytics&&w.a.createElement("p",{className:"mb-16",dangerouslySetInnerHTML:{__html:t("drafts.publishing.lesson_confirmation.tip.body",{link:Object(tu.renderToStaticMarkup)(w.a.createElement(_g,{url:i}))})}}),w.a.createElement(k.d,{alignEnd:!0},w.a.createElement(k.c,{disabled:l,onClick:y},t("common.cancel")),w.a.createElement(k.c,{loading:l,disabled:n,onClick:_,primary:!0},t("drafts.publishing.lesson_confirmation.publish")))),w.a.createElement(k.c,{"data-tutorial-step":"publish-button",onClick:b,primary:!0},t("drafts.publishing.lesson_confirmation.publish")))}),Sg=function(e){var n=e.date;return w.a.createElement("span",{className:"mr-4"},t("drafts.publishing.published")," ",I()(n).format(L.MONTH_DAY_YEAR_SHORT)," ")},kg=Object(le.b)(function(e){var t=e.editor;return{discardPath:t.discard_path,redirectPath:t.lesson_overview_path}})(function(e){var n,r=e.discardPath,a=e.redirectPath,i=kn(),o=Ye()(i,2),s=o[0],c=o[1],l=kn(),u=Ye()(l,2),d=u[0],p=u[1],f=Object(E.useState)(),h=Ye()(f,2),m=h[0],g=h[1],v=(n=Object(E.useRef)(),Object(E.useCallback)(function(e){e&&!n.current&&e.focus()}));function b(){return(b=$n()(Kn.a.mark(function e(){return Kn.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,p(),e.next=4,C.a.post(r);case 4:window.location=a,e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),p(),g(Object(S.get)(e.t0,"responseJSON.message",t("common.server_error")));case 11:case"end":return e.stop()}},e,null,[[0,7]])}))).apply(this,arguments)}return w.a.createElement(w.a.Fragment,null,w.a.createElement(Ce,{onClick:c,className:"mr-32"},t("drafts.discarding.discard_draft")),w.a.createElement(Ha.a,{show:s,dismissCallback:d?function(){}:c,title:t("drafts.discarding.discard_draft")},w.a.createElement("div",{className:"mb-24"},m&&w.a.createElement("div",{className:"ErrorContainer ErrorContainer--brandRed"},m),w.a.createElement("p",{dangerouslySetInnerHTML:{__html:t("drafts.discarding.confirmation_message_html")}}),t("common.note_with_colon")," ",t("drafts.discarding.lesson_will_revert")),w.a.createElement(k.d,{alignEnd:!0},w.a.createElement(k.c,{ref:v,onClick:c,primary:!0,disabled:d},t("common.cancel")),w.a.createElement(k.c,{onClick:function(){return b.apply(this,arguments)},loading:d},t("drafts.discarding.discard")))))}),Cg=Object(le.b)(function(e){var t=e.editor;return{previewPath:Object(S.get)(t.currentSection,"preview_path"),hasCurrentSection:!Object(nh.f)(t),overviewPath:t.lesson_overview_path,publishedAt:t.publishedAt,lessonState:t.lesson_state}})(function(e){var n=e.overviewPath,r=e.previewPath,a=e.hasCurrentSection,i=e.publishedAt,o=e.lessonState;return w.a.createElement("div",{className:"Index-header fd-c ai-fs"},w.a.createElement("a",{href:n,className:"c-brand-blue td-u fz-12"},t("lessons.editor.lesson_overview")),w.a.createElement("h1",{className:"Index-title"},t("lessons.editor.name")),w.a.createElement("div",{className:"d-f jc-sb ai-c w-fill"},w.a.createElement("div",{className:"c-gray-dark fs-i"},i&&w.a.createElement(Sg,{date:i}),w.a.createElement(Eg,null)),w.a.createElement("div",null,w.a.createElement(k.d,null,"new_version_pending"===o&&w.a.createElement(kg,null),w.a.createElement(k.c,{target:"_blank",rel:"noopener noreferrer",disabled:!a,url:r},t("lessons.editor.preview")),w.a.createElement(wg,{disabled:!a})))))}),Ng=r(205),Og=r(452),xg=function(e){function t(e){var n;return l()(this,t),(n=f()(this,m()(t).call(this,e))).initialState={markup:"",body:"",collapsed:!0,loading:!1,active:!1,error:!1},n.state=n.initialState,n.handleFocus=n.handleFocus.bind(v()(n)),n.handleSubmit=n.handleSubmit.bind(v()(n)),n.handleBlur=n.handleBlur.bind(v()(n)),n.handleChange=n.handleChange.bind(v()(n)),n.handleKeydown=n.handleKeydown.bind(v()(n)),n.handleReplyButtonClick=n.handleReplyButtonClick.bind(v()(n)),n.reset=n.reset.bind(v()(n)),n}return y()(t,e),d()(t,[{key:"handleFocus",value:function(){this.setState({collapsed:!1})}},{key:"handleBlur",value:function(){this.isEmpty&&this.reset()}},{key:"handleSubmit",value:function(e){var t=this;if(e&&e.preventDefault(),!this.state.loading){var n=this.state.markup;this.setState({loading:!0}),this.props.postComment({body:n}).then(function(){try{t.commentInput.wrappedInstance.refs.input.blur()}catch(e){}t.reset()}).catch(function(){setTimeout(function(){t.handleError()},500)})}}},{key:"handleChange",value:function(e,t,n){this.setState({markup:t,body:n})}},{key:"handleKeydown",value:function(e){13===e.keyCode&&e.metaKey&&!this.isEmpty&&this.handleSubmit()}},{key:"handleReplyButtonClick",value:function(){var e=this;this.setState({active:!0},function(){try{e.commentInput.wrappedInstance.refs.input.focus()}catch(e){}})}},{key:"reset",value:function(){this.setState(this.initialState)}},{key:"handleError",value:function(){this.setState({loading:!1,error:!0})}},{key:"renderSuggestion",value:function(e,t,n){var r=e.email;return w.a.createElement("div",{className:"MentionItem"},n,w.a.createElement("div",{className:"MentionItem--email"},r))}},{key:"renderReplyButton",value:function(){return w.a.createElement("a",{className:"CommentForm-replyButton",onClick:this.handleReplyButtonClick,children:"+ Reply"})}},{key:"render",value:function(){var e=this,t=this.state,n=t.loading,r=t.collapsed,a=t.markup,i=t.active,o=t.error;if(this.props.useReplyButton&&!i)return this.renderReplyButton();var s=V()("CommentForm",{"CommentForm--loading":n});return w.a.createElement("form",{className:s,onSubmit:this.handleSubmit},w.a.createElement(Og.MentionsInput,{value:a,ref:function(t){e.commentInput=t},onBlur:this.handleBlur,onChange:this.handleChange,onFocus:this.handleFocus,className:"CommentForm-input",placeholder:this.props.placeholder,displayTransform:function(e,t){return"@".concat(t)},onKeyDown:this.handleKeydown,disabled:n,style:{opacity:n?.5:null}},w.a.createElement(Og.Mention,{className:"CommentForm-mention",trigger:"@",data:this.props.lessonOwners,renderSuggestion:this.renderSuggestion,appendSpaceOnAdd:!0})),o&&w.a.createElement("div",{className:"CommentForm-errorMessage Animated Animated--slideIn"},"There was a problem posting your comment."),!r&&w.a.createElement("div",{className:"CommentForm-buttons"},w.a.createElement("button",{type:"button",onClick:this.reset,className:"CommentForm-cancelComment NewButton NewButton--flat",children:"Cancel",disabled:n}),w.a.createElement("button",{type:"submit",className:"NewButton NewButton--blue CommentForm-submitButton",disabled:this.isEmpty||n,children:this.props.buttonText})))}},{key:"isEmpty",get:function(){return Object(S.isEmpty)(this.state.body.trim())}}]),t}(w.a.Component),Tg=Object(le.b)(function(e){return{lessonOwners:e.meta.lessonOwners}})(xg),Rg=Object(me.memoize)(function(e){return e.replace(Nc.a.MENTION,function(e,t){return'<span class="Comment-mention">'.concat(t,"</span>")}).replace(/\n/g,"<br />")}),Pg=function(e){return w.a.createElement("div",{className:"Comment"},w.a.createElement("div",{className:"Comment-metadata"},w.a.createElement("div",null,e.author),w.a.createElement("div",null,moment(e.createdAt).calendar())),w.a.createElement("div",{className:"Comment-body",dangerouslySetInnerHTML:{__html:Rg(e.body)}}))},Ig=function(e){function t(e){var n;return l()(this,t),(n=f()(this,m()(t).call(this,e))).state={collapsed:!0},n}return y()(t,e),d()(t,[{key:"renderExpander",value:function(){var e=this,t=this.props,n=t.comments,r=t.maxCollapsedComments,a=n.length-r;return w.a.createElement("div",{className:"CommentList-expand",onClick:function(){return e.setState({collapsed:!1})},children:"".concat(a," more ").concat(Object(Ne.d)(a,"reply","replies")),key:"expander"})}},{key:"renderList",value:function(){var e=this.props,t=e.collapseAtIndex,n=e.comments,r=Object(me.map)(function(e){return w.a.createElement(Pg,H()({key:e.id},e))});return this.shouldCollapse?[r(n.slice(0,t)),this.renderExpander(),r(n.slice(-1))]:r(n)}},{key:"render",value:function(){return w.a.createElement("div",{className:"CommentList",children:this.renderList()})}},{key:"shouldCollapse",get:function(){var e=this.props,t=e.comments,n=e.maxCollapsedComments;return this.state.collapsed&&t.length>n}}]),t}(w.a.Component);i()(Ig,"defaultProps",{maxCollapsedComments:3,collapseAtIndex:2});var Ag=Ig,Mg=function(e){function t(e){var n;return l()(this,t),(n=f()(this,m()(t).call(this,e))).state={active:!1},n.showMenu=n.showMenu.bind(v()(n)),n.hideMenu=n.hideMenu.bind(v()(n)),n.handleClick=n.handleClick.bind(v()(n)),n}return y()(t,e),d()(t,[{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.handleClick)}},{key:"handleClick",value:function(e){var t=e.target;this.menu.contains(t)||this.hideMenu()}},{key:"showMenu",value:function(){this.setState({active:!0}),document.addEventListener("click",this.handleClick)}},{key:"hideMenu",value:function(){this.setState({active:!1}),document.removeEventListener("click",this.handleClick)}},{key:"handleOptionOnClick",value:function(e,t){t(e),this.hideMenu()}},{key:"renderOptions",value:function(){var e=this;return this.props.options.map(function(t,n){return w.a.createElement("li",H()({key:n},t,{className:"NewDropDown-item",onClick:function(n){return e.handleOptionOnClick(n,t.onClick)}}))})}},{key:"render",value:function(){var e=this;return w.a.createElement("div",{className:"ThreadOptions pos-r"},w.a.createElement(z.a,{name:"ellipsis-v",customClass:"ThreadOptions-toggle",onClick:this.showMenu}),this.state.active&&w.a.createElement("ul",{className:"NewDropDown-list NewDropDown-list--small Animated Animated--popDown",ref:function(t){e.menu=t},children:this.renderOptions()}))}}]),t}(E.Component),Dg=function(e){function t(e){var n;return l()(this,t),(n=f()(this,m()(t).call(this,e))).state={showConfirmation:!1,error:!1},n.showConfirmation=n.showConfirmation.bind(v()(n)),n.hideConfirmation=n.hideConfirmation.bind(v()(n)),n.handleClick=n.handleClick.bind(v()(n)),n.resolve=n.resolve.bind(v()(n)),n}return y()(t,e),d()(t,[{key:"componentDidMount",value:function(){document.addEventListener("click",this.handleClick,!0)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.handleClick,!0)}},{key:"handleClick",value:function(e){var t=e.target,n=this.props,r=n.active,a=n.setActive,i=n.setUnactive,o=this.thread,s=o.contains(t)||t===o;s&&!r?a():!s&&r&&i()}},{key:"showConfirmation",value:function(){this.setState({showConfirmation:!0})}},{key:"hideConfirmation",value:function(){this.setState({showConfirmation:!1,error:!1})}},{key:"resolve",value:function(){var e=this;this.props.resolve().catch(function(t){e.setState({error:!0})})}},{key:"render",value:function(){var e=this,t=this.props,n=t.comments,r=t.id,a=t.active,i=G()(t,["comments","id","active"]),o=V()("CommentThread",{"CommentThread--active":a,"CommentThread--gray":n.length>1});return w.a.createElement("div",{id:"thread-".concat(r),className:o,ref:function(t){e.thread=t}},w.a.createElement(Ha.a,this.resolveModal),w.a.createElement(Mg,{options:this.threadOptions}),w.a.createElement(Ag,{comments:n}),w.a.createElement(Tg,{threadId:r,placeholder:"Reply...",buttonText:"Reply",postComment:i.postComment,useReplyButton:!0}))}},{key:"resolveConfrimModal",get:function(){return{type:"confirm",show:this.state.showConfirmation,title:"Resolve Thread",message:"Are you sure you want to resolve this thread?",confirmButtonText:"Yes, resolve",cancelButtonText:"Cancel",onConfirm:this.resolve,onCancel:this.hideConfirmation,dismissCallback:this.hideConfirmation}}},{key:"resolveErrorModal",get:function(){return R()({},this.resolveConfrimModal,{type:"confirm:error",confirmButtonText:"Try again",message:"There was a problem resolving this thread. Please try again."})}},{key:"resolveModal",get:function(){var e=this.state,t=this.resolveConfrimModal,n=this.resolveErrorModal;return e.error?n:t}},{key:"threadOptions",get:function(){return[{children:"Resolve",onClick:this.showConfirmation}]}}]),t}(E.Component),jg=Object(le.b)(function(){return function(e,t){var n=e.editor,r=t.id;return{active:n.commentary.activeThreads.has(r)}}},function(e,t){var n=t.id;return{resolve:function(){return e(Object(th.f)(n))},postComment:function(t){return e(Object(th.d)(t,n))},setActive:function(){e(Object(th.g)(n))},setUnactive:function(){e(Object(th.h)(n))}}})(Dg),Lg=r(686),Fg=r.n(Lg),Bg=function(e){return w.a.createElement("div",{className:"CommentaryBlankSlate"},w.a.createElement("div",{className:"CommentaryBlankSlate-icon",style:{background:"url(".concat(Fg.a,")")}}),w.a.createElement("h3",{className:"CommentaryBlankSlate-heading"},"Stop, Collaborate, and Listen"),w.a.createElement("p",null,"Mention a team member using the @ symbol and they will be notified via email."))},Ug=r(687),Hg=r.n(Ug),qg=Object(le.b)(function(e){return{loading:e.editor.commentary.fetching}},function(e){return{reload:function(){e(Object(th.e)())}}})(function(e){var t=e.reload;e.loading;return w.a.createElement("div",{className:"CommentaryBlankSlate"},w.a.createElement("div",{className:"CommentaryBlankSlate-icon",style:{background:"url(".concat(Hg.a,")")}}),w.a.createElement("h3",{className:"CommentaryBlankSlate-heading"},"Uh oh!"),w.a.createElement("p",null,"There was a problem loading the comments."),w.a.createElement("button",{type:"button",className:"NewButton NewButton--white NewButton--center",onClick:t,children:"Try again"}))}),Gg={hideCommentary:th.c},Wg=Object(le.b)(function(e){var t=e.editor;return{count:Object(Ng.a)(t.commentary)}},Gg)(function(e){var t=e.count,n=e.hideCommentary;return w.a.createElement("div",{className:"Commentary-header"},w.a.createElement("div",{className:"Commentary-commentCount"},w.a.createElement("span",{className:"Commentary-title",children:t?"".concat(t," ").concat(Object(Ne.d)(t,"Comment")):"No Comments"}),w.a.createElement("div",{className:"Commentary-title--secondary"},"about this element")),w.a.createElement("button",{type:"button",className:"Commentary-closeButton",onClick:n,children:"Hide"}))}),Vg=function(e){function t(e){var n;return l()(this,t),(n=f()(this,m()(t).call(this,e))).state={sticky:!1},n.handleScroll=n.handleScroll.bind(v()(n)),n}return y()(t,e),d()(t,[{key:"componentDidMount",value:function(){this.handleScroll(),document.addEventListener("scroll",this.handleScroll)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("scroll",this.handleScroll)}},{key:"handleScroll",value:function(e){var t=this;requestAnimationFrame(function(){t.container&&(t.container.parentNode.offsetTop<=window.pageYOffset?t.setState({sticky:!0}):t.setState({sticky:!1}))})}},{key:"renderNewThread",value:function(){return w.a.createElement("div",{className:"Commentary-renderNewThread"},w.a.createElement(Tg,{placeholder:"Post a new comment...",buttonText:"Comment",postComment:this.props.postComment}))}},{key:"renderThread",value:function(e){return w.a.createElement(jg,H()({},e,{key:e.id}))}},{key:"renderThreads",value:function(){var e=this.props,t=e.fetching,n=e.threads;return w.a.createElement(ft.a,{loading:t},Object(me.map)(this.renderThread)(n))}},{key:"renderPlaceholders",value:function(){var e=r(1188);return Object(me.times)(function(t){return w.a.createElement("div",{key:t,className:"CommentThread-placeholder",style:{background:"url(".concat(e,")")}})},3)}},{key:"render",value:function(){var e=this,t=this.props,n=t.threads,r=t.fetching,a=t.success,i=V()("Commentary",{sticky:this.state.sticky});return w.a.createElement("div",{ref:function(t){e.container=t},className:i},w.a.createElement(Wg,null),this.renderNewThread(),!Object(me.isEmpty)(n)&&w.a.createElement("div",{className:"Commentary-divider"}),w.a.createElement(nn.a,{maxHeight:null,hidden:!0},w.a.createElement("div",{className:"Commentary-threads"},Object(me.isEmpty)(n)&&r&&this.renderPlaceholders(),!Object(me.isEmpty)(n)&&this.renderThreads(),a&&Object(me.isEmpty)(n)&&!r&&w.a.createElement(Bg,null),!a&&w.a.createElement(qg,null))))}}]),t}(E.Component),zg=Object(le.b)(function(e){var t=e.editor.commentary;return{visible:t.visible,fetching:t.fetching,success:t.success,threads:Object(Ng.b)(t,{resolved:!1})}},function(e){return{postComment:function(t){return e(Object(th.d)(t))}}})(Vg),Yg=function(e){return function(){var t=$(document).scrollTop();$(document).scrollTop(t+e)}},Qg=Object(S.throttle)(Yg(-5),5),Kg=Object(S.throttle)(Yg(5),5),Xg=Object(Zu.DropTarget)([ih.a.ELEMENT,ih.a.PATH_STEP],{hover:function(e,t,n){var r=function(t){return e.direction===t};r("up")?Qg():r("down")&&Kg()},canDrop:function(e,t,n){return!1}},function(e){return{connectDropTarget:e.dropTarget()}})(function(e){var t=e.connectDropTarget,n=e.direction;return t(w.a.createElement("div",{className:"DNDScrollZone-".concat(n)}))}),$g=function(e){return!!e.willReceiveDraggable&&w.a.createElement("div",null,w.a.createElement(Xg,{key:"up",direction:"up"}),w.a.createElement(Xg,{key:"down",direction:"down"}))},Zg=w.a.lazy(function(){return r.e(0).then(r.bind(null,1419))}),Jg=function(e){var n=e.tutorial,a=e.commonStepProps,i=e.callback,o=e.locale,s=e.styles,c=e.floaterProps,l=G()(e,["tutorial","commonStepProps","callback","locale","styles","floaterProps"]);var u=Object(E.useState)(!1),d=Ye()(u,2),p=d[0],f=d[1];Object(E.useEffect)(function(){C.a.get(N.k.TUTORIAL.CHECK,{tutorial:n}).then(function(e){e.show_tutorial&&f(!0)})},[n]);var h=Object(E.useCallback)(Object(me.once)(function(){C.a.post(N.k.TUTORIAL.DISMISS,{tutorial:n}).then(function(e){f(!1)})}),[n]),m=Object(E.useCallback)(function(){var e=$n()(Kn.a.mark(function e(t){var n,a,o;return Kn.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.e(0).then(r.bind(null,1419));case 2:n=e.sent,a=n.STATUS,o=t.status,[a.FINISHED,a.SKIPPED].includes(o)&&h(),i(t);case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),[i,h]),g={continuous:!0,spotlightPadding:0,disableOverlayClose:!0,styles:Object(me.merge)({overlay:{cursor:"normal"}})(s),floaterProps:R()({disableAnimation:!0},c),locale:R()({back:t("common.back"),close:t("common.close"),last:t("common.got_it"),next:t("common.next"),skip:t("common.skip")},o)},v=l.steps.map(function(e){return R()({},a,e)});return p&&w.a.createElement(E.Suspense,{fallback:null},w.a.createElement(Zg,H()({},g,l,{callback:m,steps:v})))};Jg.defaultProps={callback:function(){},floaterProps:{},locale:{},steps:[],styles:{}};var ev=Jg,tv=function(e){var n=e.tooltipProps,r=e.step,a=e.index,i=e.backProps,o=e.primaryProps,s=e.isLastStep;return w.a.createElement("div",n,w.a.createElement(k.f,{className:"w-400"},w.a.createElement(k.f.Content,{padding:"large"},w.a.createElement("div",{className:"fz-bigger ff-ss"},w.a.createElement("h3",{className:"c-black fw-b ff-ss m-0 mb-16"},w.a.createElement("span",{className:"TextHighlight"},t("common.new"))),r.content),w.a.createElement("div",{className:"d-f jc-sb mt-32"},a>0&&w.a.createElement(k.c,i,r.locale.back),w.a.createElement(k.c,H()({className:"ml-a",primary:!0},o),s?r.locale.last:r.locale.next)))))},nv=function(){return w.a.createElement(ev,{tutorial:"lesson_draft_mode",tooltipComponent:tv,commonStepProps:{disableBeacon:!0},steps:[{target:"body",placement:"center",content:w.a.createElement(w.a.Fragment,null,w.a.createElement("div",{className:"d-f jc-sb mb-32"},w.a.createElement("h2",{className:"ff-ss"},t("drafts.editor_tutorial.now_available")),w.a.createElement(z.a,{name:"draft_edit",customClass:"w-a h-70"})),w.a.createElement("p",{className:"fw-b"},t("drafts.editor_tutorial.description")))},{target:'[data-tutorial-step="publish-button"]',placement:"bottom-end",content:w.a.createElement("p",{className:"fw-b"},t("drafts.editor_tutorial.click_to_publish"))}]})},rv=function(e){function t(e){var n;return l()(this,t),(n=f()(this,m()(t).call(this,e))).handleClick=n.handleClick.bind(v()(n)),n}return y()(t,e),d()(t,[{key:"componentDidMount",value:function(){if(t.shouldAutoFetchComments){var e=window.location.hash,n=Nc.a.COMMENT_URL_HASH.exec(e),r=Ye()(n,3),a=r[1],i=r[2];this.props.autoFetchCommentary(+a,+i)}document.addEventListener("click",this.handleClick)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.handleClick)}},{key:"handleClick",value:function(e){var t=e.target,n=this.props,r=n.hideCommentary;n.isCommenting&&t===this.sidebar&&r()}},{key:"renderContent",value:function(){if(this.props.emptyLesson)return w.a.createElement(fg,null);var e=this.props,t=e.currentSection,n=e.lessonTitle,r=e.sectionTitle,a=e.isFetching,i=t.id,o=V()("Editor-main",{"Editor-main--loading":a});return w.a.createElement("div",{className:o},w.a.createElement(hh,H()({lessonTitle:n,sectionTitle:r,id:i},{key:i})),w.a.createElement(pg,{section:t}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.isCollapsed,r=t.isCommenting,a=t.features,i=V()("LessonBuilder",{"is-commenting":r}),o=V()("Editor",{"Editor--collapsed":n});return w.a.createElement("div",{className:i},w.a.createElement(ah,null),w.a.createElement(hg,null),w.a.createElement(nv,null),w.a.createElement($g,{willReceiveDraggable:this.props.isDraggingElement}),w.a.createElement("div",{className:"LessonBuilder-editor"},a.lesson_draft_mode?w.a.createElement(Cg,null):w.a.createElement(yg,null),w.a.createElement("div",{className:o},w.a.createElement("div",{className:"Editor-side",ref:function(t){e.sidebar=t}},w.a.createElement(ph,null)),this.renderContent())),this.props.isCommenting&&w.a.createElement("div",{className:"LessonBuilder-commentary"},w.a.createElement(zg,null)))}}],[{key:"shouldAutoFetchComments",get:function(){return Nc.a.COMMENT_URL_HASH.test(window.location.hash)}}]),t}(E.Component),av=Object(ue.d)(Object(le.b)(function(e){var t=e.editor,n=e.meta;return{currentSection:t.currentSection,lessonTitle:t.lessonTitle,sectionTitle:Object(S.get)(t.currentSection,"title"),sections:t.sections,emptyLesson:Object(nh.f)(t),isFetching:t.isFetching,isCollapsed:t.commentary.visible,isCommenting:t.commentary.visible,isDraggingElement:t.isDraggingElement,features:n.features}},function(e){return{hideCommentary:function(){e(th.c())},autoFetchCommentary:function(t,n){return e(th.a(t,n,!0))}}}),Object(Zu.DragDropContext)($u.a))(rv),iv=r(320),ov=r.n(iv),sv=r(688),cv=r.n(sv),lv=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case he.e.SECTION.CREATE:var n=t.payload,r=(n.elements,G()(n,["elements"]));return[].concat(Z()(e),[r]);case he.e.SECTION.UPDATE:var a=t.id,i=(t.type,G()(t,["id","type"])),o=ov()(e,{id:a}),s=R()({},e[o],i);return[].concat(Z()(e.slice(0,o)),[s],Z()(e.slice(o+1)));case he.e.SECTION.DUPLICATE:var c=t.payload,l=c.position-1;return[].concat(Z()(e.slice(0,l)),[c],Z()(e.slice(l)));case he.e.SECTION.REORDER:var u=t.ownIndex,d=t.overIndex,p=e[u],f=Cc()(e,{$splice:[[u,1],[d,0,p]]});return Object(ge.g)(f);case he.e.SECTION.DELETE:return cv()(Object(ge.e)(t.id),ge.h)(e);default:return e}},uv=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case he.e.ELEMENT.DELETE:return Object(ge.d)(t.id)(e);case he.e.ELEMENT.DELETE_CHILDREN:return Object(me.flow)(Object(me.reject)({parent_id:t.id}),ge.g)(e);case he.e.ELEMENT.SET_VALIDITY:var n=t.valid,r=t.id,a=Object(me.findIndex)({id:r})(e);return[].concat(Z()(e.slice(0,a)),[Object(me.set)("content.valid",n)(e[a])],Z()(e.slice(a+1)));case he.e.ELEMENT.APPLY_CHANGES:var i=t.id,o=t.mergeChanges,s=G()(t,["id","mergeChanges"]),c=Object(me.findIndex)({id:i})(e),l=e[c],u=o?Object(me.merge)(l.content,s):R()({},l.content,s);return[].concat(Z()(e.slice(0,c)),[R()({},l,{content:u})],Z()(e.slice(c+1)));case he.e.ELEMENT.CREATE:var d=t.position,p=t.payload,f=Object(me.findIndex)({position:d})(e);return Object(ge.h)([].concat(Z()(e.slice(0,f)),[p],Z()(e.slice(f))));case he.e.ELEMENT.REORDER:var h=t.position,m=t.newPosition,g=e[h-1],v=Cc()(e,{$splice:[[h-1,1],[m-1,0,g]]});return Object(ge.g)(v);case he.e.ELEMENT.REPLACE:var b=t.element,y=Object(me.findIndex)({id:b.id})(e);return[].concat(Z()(e.slice(0,y)),[b],Z()(e.slice(y+1)));case he.e.ELEMENT.DETACH_PARENT:return Object(ge.j)(e,{id:t.id},{parent_id:null});case he.e.ELEMENT.ASSIGN_PARENT:return Object(ge.j)(e,{id:t.id},{parent_id:t.parentId});case he.e.ELEMENT.UPDATE_COMMENTS_COUNT:return Object(ge.j)(e,{id:t.id},{comments_count:t.count});default:return e}},dv={visible:!1,fetching:!1,success:!0,elementId:null,threads:{},activeThreads:new Set},pv=function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dv,r=arguments.length>1?arguments[1]:void 0,a=function(e){return R()({},n,e)};switch(r.type){case he.e.COMMENTARY.SHOW:return a({visible:!0});case he.e.COMMENTARY.HIDE:return dv;case he.e.COMMENTARY.REQUEST:return a({fetching:!0,elementId:r.id});case he.e.COMMENTARY.REQUEST_SUCCESS:var o=r.payload,s=o.commentThreads,c=G()(o,["commentThreads"]);return a(R()({fetching:!1,success:!0,threads:s},c));case he.e.COMMENTARY.REQUEST_FAILURE:return a({success:!1,fetching:!1,threads:{}});case he.e.COMMENTARY.RESOLVE_THREAD:return a({threads:Object(me.omit)(r.id)(n.threads)});case he.e.COMMENTARY.POST_REPLY:return a({threads:(e=r.threadId,t={comments:{$push:[r.comment]}},Cc()(n.threads,i()({},e,t)))});case he.e.COMMENTARY.CREATE_THREAD:var l=r.thread;return a({threads:R()({},n.threads,i()({},l.id,l))});case he.e.COMMENTARY.SET_ACTIVE_THREAD:var u=n.activeThreads;return u.add(r.id),a({activeThreads:u});case he.e.COMMENTARY.SET_UNACTIVE_THREAD:var d=n.activeThreads;return d.delete(r.id),a({activeThreads:d});default:return dv}},fv={lessonId:0,lessonTitle:0,sections:[],currentSection:{},commentary:dv,isSaving:!1,isFetching:!1,fullwidth:!1,url:null,success:!0,isDraggingElement:!1,lastUpdatedAt:null,publishedAt:null},hv=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fv,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case he.e.LESSON.UPDATE:return R()({},e,{lessonTitle:t.title});case he.e.SECTION.CREATE:case he.e.SECTION.UPDATE:case he.e.SECTION.REORDER:case he.e.SECTION.DUPLICATE:case he.e.SECTION.DELETE:var n=e.sections,r=e.currentSection,a=lv(n,t);return R()({},e,{sections:a,isFetching:!1,currentSection:Object(S.isEmpty)(a)?{}:r});case he.e.SECTION.REQUEST_EDIT:case he.e.SECTION.REQUEST_CREATE:return R()({},e,{isFetching:!0});case he.e.SECTION.EDIT:return R()({},e,{currentSection:t.payload,isFetching:!1});case he.e.SECTION.UPDATE_URL:return R()({},e,{url:t.url});case he.e.COMMENTARY.SHOW:case he.e.COMMENTARY.HIDE:case he.e.COMMENTARY.REQUEST:case he.e.COMMENTARY.REQUEST_SUCCESS:case he.e.COMMENTARY.REQUEST_FAILURE:case he.e.COMMENTARY.RESOLVE_THREAD:case he.e.COMMENTARY.POST_REPLY:case he.e.COMMENTARY.CREATE_THREAD:case he.e.COMMENTARY.SET_ACTIVE_THREAD:case he.e.COMMENTARY.SET_UNACTIVE_THREAD:return R()({},e,{commentary:pv(e.commentary,t)});case he.e.ELEMENT.CREATE:case he.e.ELEMENT.DELETE:case he.e.ELEMENT.DELETE_CHILDREN:case he.e.ELEMENT.APPLY_CHANGES:case he.e.ELEMENT.SET_VALIDITY:case he.e.ELEMENT.REORDER:case he.e.ELEMENT.REPLACE:case he.e.ELEMENT.DETACH_PARENT:case he.e.ELEMENT.ASSIGN_PARENT:case he.e.ELEMENT.UPDATE_COMMENTS_COUNT:return R()({},e,{currentSection:R()({},e.currentSection,{elements:uv(e.currentSection.elements,t)})});case he.e.AUTOSAVE.REQUEST:return R()({},e,{isSaving:!0});case he.e.AUTOSAVE.SUCCESS:return R()({},e,{isSaving:!1,lastUpdatedAt:new Date});case he.e.AUTOSAVE.FAILURE:return R()({},e,{isSaving:!1,success:!1});case he.e.TOGGLE.DRAGGING_ELEMENT:return R()({},e,{isDraggingElement:!e.isDraggingElement});default:return R()({},fv,e,{currentSection:e.currentSection||{}})}},mv=function(e){return fe(e,{editor:hv,meta:function(){return e.meta}})},gv=function(e){function t(e){var n;return l()(this,t),(n=f()(this,m()(t).call(this,e))).store=mv(e.initialState),n}return y()(t,e),d()(t,[{key:"render",value:function(){return w.a.createElement(le.a,{store:this.store},w.a.createElement(av,null))}}]),t}(w.a.Component),vv=function(e){function t(e){var n;return l()(this,t),(n=f()(this,m()(t).call(this,e))).state={subject:e.givenAnswer?e.givenAnswer.subject:"",body:e.givenAnswer?e.givenAnswer.body:""},n.handleSubjectChange=n.handleSubjectChange.bind(v()(n)),n.handleBodyChange=n.handleBodyChange.bind(v()(n)),n}return y()(t,e),d()(t,[{key:"componentDidUpdate",value:function(){var e={subject:this.state.subject,body:this.state.body};this.props.saveAnswer(e,!0)}},{key:"handleSubjectChange",value:function(e){this.setState({subject:e.target.value})}},{key:"handleBodyChange",value:function(e){this.setState({body:e.target.value})}},{key:"render",value:function(){var e=this.props,t=e.i18n,n=e.isDisabled,r=e.previewing,a=e.headerClasses,i="QuestionWithMetadata-field QuestionWithMetadata--fieldWithLabel";return w.a.createElement("div",null,w.a.createElement("div",{className:a},w.a.createElement(z.a,{name:"edit"})," ",t.email_composition.new),w.a.createElement("div",{className:"QuestionWithMetadata"},w.a.createElement("div",{className:i},w.a.createElement("div",{className:"QuestionWithMetadata-fieldLabel"},t.email_practice.subject),w.a.createElement("input",{className:"fz-lg",onChange:this.handleSubjectChange,disabled:n,value:r?"":this.state.subject})),w.a.createElement("div",{className:i},w.a.createElement("div",{className:"QuestionWithMetadata-fieldLabel"},t.email_composition.body),w.a.createElement("textarea",{className:"fz-lg",onChange:this.handleBodyChange,disabled:n,value:r?"":this.state.body}))))}}]),t}(w.a.Component),bv=function(e){function t(e){var n;return l()(this,t),(n=f()(this,m()(t).call(this,e))).saveAnswer=n.saveAnswer.bind(v()(n)),n}return y()(t,e),d()(t,[{key:"saveAnswer",value:function(e,t){var n={answer:t?JSON.stringify(e):e,question_id:this.props.data.questionId};C.a.post(this.props.meta.saveUrl,n)}},{key:"render",value:function(){var e=this.props,t=e.data,n=e.meta,r=e.i18n,a=n.previewing||n.finished,i="email_composition"===t.questionType,o="email_reply"===t.questionType,s=Object(me.debounce)(300,this.saveAnswer);return w.a.createElement("div",{className:"PracticeQuestion"},w.a.createElement(Su,{required:this.props.data.required,subject:this.props.data.subject,elementHeaderClass:this.props.meta.elementHeaderClass,questionSubjectClass:this.props.meta.questionSubjectClass,labelErrorClass:this.props.meta.labelErrorClass}),n.features.practice&&t.criteria.length>0&&w.a.createElement(wu,{criteria:t.criteria}),w.a.createElement("div",{className:"PracticeQuestion-response"},w.a.createElement("div",{className:"fw-b mb-16"},i?r.email_composition.instructions:r.email_reply.instructions),i&&w.a.createElement(vv,{i18n:r,headerClasses:"QuestionWithMetadata-header fw-b",isDisabled:a,previewing:n.previewing,givenAnswer:t.givenAnswer,saveAnswer:s}),o&&w.a.createElement(Yu,{timeStamp:r.email_reply.time_stamp,placeholder:r.email_reply.reply_placeholder,headerText:r.new_email_from,data:t.questionEmailData,questionType:t.questionType,isDisabled:a,previewing:n.previewing,givenAnswer:t.givenAnswer,updateMessage:s}),n.features.peerFeedbackRequest&&w.a.createElement(ku,{questionId:t.questionId,progressId:t.progressId,disabled:a})))}}]),t}(w.a.Component),yv=r(689),Ev=r(690),_v=function(e){function n(){var e,t;l()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return t=f()(this,(e=m()(n)).call.apply(e,[this].concat(a))),i()(v()(t),"state",{answers:t.props.progress.answers}),i()(v()(t),"setGradedAnswers",function(e){return function(n,r){var a=t.state.answers,i=Z()(a),o=a.find(function(t){return t.id===e}),s=R()({},o,{isGraded:!0});if(null!==n&&(s.correct=n),null!==r&&(s.feedback=r),0===i.length)i.push(s);else{var c=Object(S.findIndex)(a,function(t){return t.id===e});i[c]=s}t.setState(function(e){return R()({},e,{answers:i})})}}),i()(v()(t),"hasGradedAnswers",function(){return t.state.answers.filter(function(e){return e.isGraded}).length>0}),t}return y()(n,e),d()(n,[{key:"render",value:function(){var e=this,n=this.props,r=n.progress,a=n.features,i=n.ziggeoApiKey,o=this.state.answers;return w.a.createElement("form",null,w.a.createElement("table",{className:"ReportCard"},w.a.createElement("thead",null,w.a.createElement("tr",null,w.a.createElement("th",{className:"ReportCard-rowNumber"}),w.a.createElement("th",{className:"ReportCard-divider"}),w.a.createElement("th",{className:"ReportCard-question"},t("progress.report_card.question")),w.a.createElement("th",{className:"ReportCard-givenAnswer"},t("progress.report_card.given_answer")),w.a.createElement("th",{className:"ReportCard-correctAnswer"},t("progress.report_card.correct_answer")),w.a.createElement("th",null,t("progress.report_card.feedback")))),w.a.createElement("tbody",null,o.map(function(t){return w.a.createElement(Ev.a,{key:"answer_".concat(t.id),answer:t,currentUser:r.userName,ziggeoApiKey:i,features:a,setGradedAnswer:e.setGradedAnswers(t.id)})}))),w.a.createElement("div",{className:"ReportCard-buttonContainer d-f jc-e"},w.a.createElement(we.a,{text:!this.hasGradedAnswers()&&t("grades.disabled_submit"),align:"end"},w.a.createElement(k.c,{type:"submit",customColor:!0,disabled:!this.hasGradedAnswers()},t("grades.submit")))))}}]),n}(w.a.Component),wv=function(e){var n,r=e.progress,a=e.gradableType,i=e.features,o=e.ziggeoApiKey,s=e.updatePath,c=e.currentUser,l=e.stalenessThreshold,u=r.daysAwaitingGrade>l;return w.a.createElement("div",{id:Object(S.uniqueId)("progress"),className:"clearfix ff-ss"},w.a.createElement("h2",{className:"SectionHeading SectionHeading--completionTitle ff-ss"},function(e,t){return"user"===e||"long-waiting"===e?t.lessonName:"lesson"===e?t.userName:null}(a,r)),"long-waiting"===a&&w.a.createElement("p",{className:"tt-c fz-20"},r.userName),w.a.createElement("span",{className:V()("bdrs-small","c-white","d-ib","ff-ss","fw-b","fz-sm","mb-16","p-4-8",{"bg-gray-dark":!u,"bg-red":u})},u&&w.a.createElement(z.a,{name:"warning_sign"})," ",0===(n=r.daysAwaitingGrade)?t("grades.awaiting_grade_time.today"):1===n?"".concat(n," ").concat(t("grades.awaiting_grade_time.one_day")):"".concat(n," ").concat(t("grades.awaiting_grade_time.days"))),r.designatedGraders.length>0&&w.a.createElement("div",{className:"c-brand-gray-dark mb-16"},t("grades.designated_grader",{count:r.designatedGraders.length}),w.a.createElement("span",{className:"fw-b"},function(e,n){var r=e.indexOf(n);return-1!==r&&(e[r]=t("grades.designated_graders_with_current_grader")),e.length>3?Object(Ne.g)([].concat(Z()(e.slice(0,3)),[t("grades.designated_graders_count_list",{remaining_graders:e.length-3})]),!0):Object(Ne.g)(e,!0)}(r.designatedGraders,c))),w.a.createElement(_v,{features:i,progress:r,currentUser:r.userName,ziggeoApiKey:o,updatePath:s}))},Sv=r(91),kv="cover",Cv=128,Nv=248,Ov=function(e){function t(e){var n;return l()(this,t),(n=f()(this,m()(t).call(this,e))).image=new Sv.a(R()({},e.image,{transform:{resize:{fit:"crop",align:"center",width:2*Cv,height:2*Nv}}})),n}return y()(t,e),d()(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.props.image.handle!==e.image.handle&&this.image.updateParams(e.image)}},{key:"render",value:function(){return w.a.createElement("div",{className:"LibraryTopic-imageContainer"},w.a.createElement("div",{className:"LibraryTopic-image",style:{backgroundImage:"url(".concat(this.image.url,")")}}))}}]),t}(E.Component),xv=function(e){var t=e.image;return w.a.createElement("div",{className:"LibraryTopic LibraryTopic--withImage"},w.a.createElement(df,{type:"warning",icon:"star_filled"}),w.a.createElement(Ov,{image:t}),w.a.createElement("div",{className:"LibraryTopic-content d-f jc-sb fd-c"},w.a.createElement("div",null,w.a.createElement(Yp,{minWidth:60,large:!0}),w.a.createElement(Yp,{minWidth:60}),w.a.createElement(Yp,{minWidth:60}),w.a.createElement(Yp,{minWidth:60})),w.a.createElement("div",{className:"LibraryTopic-count"},w.a.createElement(Yp,null))))},Tv=function(e){function t(e){var n;return l()(this,t),(n=f()(this,m()(t).call(this,e))).state={error:null},n.ratio=e.height/e.width,n.image=new Sv.a(R()({},e.image,{transform:{resize:{fit:"crop",align:"center",width:2*e.width,height:2*e.height}}})),n}return y()(t,e),d()(t,[{key:"componentDidMount",value:function(){this.loadImage()}},{key:"componentDidUpdate",value:function(e,t){var n=e.image.handle!==this.props.image.handle,r=e.image.policy!==this.props.image.policy;(n||r&&t.error)&&(this.image.updateParams(this.props.image),this.loadImage())}},{key:"loadImage",value:function(){var e=this,t=new Image;t.src=this.image.url,t.onloadstart=function(){return e.setState({error:null})},t.onload=function(){return e.setState({error:null})},t.onerror=function(){return e.setState({error:!0})}}},{key:"render",value:function(){var e=this.state.loading;return w.a.createElement("div",{className:"LearnCardImageCover-imageContainer ".concat(this.props.className)},w.a.createElement("div",{className:"LearnCardImageCover-image",style:{backgroundImage:e?void 0:"url(".concat(this.image.url,")"),paddingBottom:"".concat(100*this.ratio,"%")}}))}}]),t}(E.Component);i()(Tv,"defaultProps",{width:400,height:300,className:""});var Rv=Tv,Pv=function(e){var t=e.image;return w.a.createElement("div",{className:"Card LearnContentCard LearnContentCard--hasImage"},w.a.createElement(Rv,{image:t,width:222,height:125}),w.a.createElement("div",{className:"Card-content Card-content--mediumPadding LearnContentCard-content"},w.a.createElement("div",{className:"LearnContentCard-title"},w.a.createElement("div",null,w.a.createElement("span",{style:{display:"block",position:"relative",overflow:"hidden",maxHeight:"88px"}},w.a.createElement(Yp,{minWidth:80}))))))},Iv=function(e){var t=e.image;return w.a.createElement("div",{className:"Card Card--stacked LearnContentCard LearnContentCard--hasImage LearnContentCard--path"},w.a.createElement(Rv,{image:t,width:222,height:125}),w.a.createElement("div",{className:"Card-content Card-content--mediumPadding LearnContentCard-content"},w.a.createElement("div",{className:"LearnContentCard-title"},w.a.createElement("div",null,w.a.createElement("span",{style:{display:"block",position:"relative",overflow:"hidden",maxHeight:"88px"}},w.a.createElement(Yp,{minWidth:80}))))))},Av="image",Mv=function(e){function t(e){var n;return l()(this,t),(n=f()(this,m()(t).call(this,e))).state={mode:Av},n.image=new Sv.a(R()({},Object(S.pick)(e.image,["signature","policy","handle"]),{transform:{resize:{width:500,height:300,fit:"max"}}})),n}return y()(t,e),d()(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.image.handle!==this.props.image.handle&&this.image.updateParams(e.image)}},{key:"setMode",value:function(e){this.setState({mode:e})}},{key:"render",value:function(){var e=this,t=this.state.mode,n=V()("ImagePreviewCanvas",{"ImagePreviewCanvas--transparent":t===Av});return w.a.createElement("div",{className:n},this.props.imageType===kv&&w.a.createElement("div",{className:"ImagePreviewCanvas-header"},w.a.createElement(Q,{value:t,icon:"preview",onChange:function(t){return e.setMode(t.target.value)},className:"ImagePreviewCanvas-modePicker"},w.a.createElement("option",{value:Av},"Original Image"),w.a.createElement("option",{value:"topic"},"Topic Card"),w.a.createElement("option",{value:"lesson"},"Lesson Card"),w.a.createElement("option",{value:"path"},"Path Card"))),w.a.createElement("div",{className:"ImagePreviewCanvas-previewArea"},t===Av&&w.a.createElement("img",{src:this.image.url,alt:this.props.image.name}),"topic"===t&&w.a.createElement(xv,{image:this.props.image}),"lesson"===t&&w.a.createElement(Pv,{image:this.props.image}),"path"===t&&w.a.createElement(Iv,{image:this.props.image})))}}]),t}(E.Component),Dv=function(e){return w.a.createElement(un.c,{onDismiss:e.onDismiss},w.a.createElement(un.a,null,w.a.createElement(Zm.a,{lines:2},e.image.file_name)),w.a.createElement(Mv,{image:e.image,imageType:e.imageType}),!e.readonly&&w.a.createElement("div",{className:"mt-16"},!!e.image.places_used.length&&w.a.createElement("div",null,w.a.createElement("div",{className:"ff-ss c-gray-darker fz-bigger"},I18n.t("image_library.used_as")),e.image.places_used.map(function(e){return w.a.createElement("div",{key:e.id,className:"bb-gray-lighter p-12-0"},e.label)})),w.a.createElement("div",{className:"d-f fd-c mt-16"},w.a.createElement("span",{className:"fz-base c-gray-dark mb-16"},w.a.createElement(z.a,{name:"info",customClass:"mr-4"}),I18n.t("image_library.replace_warning")),w.a.createElement(k.d,{alignEnd:!0},w.a.createElement(k.c,{onClick:function(){return e.onDelete(e.image)}},I18n.t("common.delete")),w.a.createElement(k.c,{onClick:function(){return e.onReplace(e.image)}},I18n.t("image_library.replace_image"))))))};Dv.defaultProps={readonly:!0,onDelete:function(){},onReplace:function(){}};var jv=Dv,Lv=function(e){function t(e){var n;return l()(this,t),(n=f()(this,m()(t).call(this,e))).state={visible:!1},n.toggleModal=n.toggleModal.bind(v()(n)),n}return y()(t,e),d()(t,[{key:"toggleModal",value:function(){this.setState(function(e){return{visible:!e.visible}})}},{key:"render",value:function(){var e=V()("u-linkBtn",i()({},this.props.className,!!this.props.className)),t=this.props.message?this.props.message:"";return w.a.createElement("button",{type:"button",className:e,onClick:this.toggleModal},w.a.createElement(z.a,{name:"photo"})," ",t,this.state.visible&&w.a.createElement(jv,{image:this.props.image,imageType:this.props.imageType,onDismiss:this.toggleModal}))}}]),t}(E.Component),Fv=r(114),Bv=r(326),Uv=r(325),Hv=function(e){function n(e){var t;return l()(this,n),(t=f()(this,m()(n).call(this,e))).state={selectedImage:null,deleteConfirmModalVisible:!1},t.deleteImage=t.deleteImage.bind(v()(t)),t.replaceImage=t.replaceImage.bind(v()(t)),t.handleImageClick=t.handleImageClick.bind(v()(t)),t.handlePreviewClose=t.handlePreviewClose.bind(v()(t)),t.toggleDeleteConfirm=t.toggleDeleteConfirm.bind(v()(t)),t}return y()(n,e),d()(n,[{key:"deleteImage",value:function(e){var t=this;C.a.delete(N.k.IMAGES_DESTROY_ALL,{id:this.state.selectedImage.id}).then(function(){return t.setState({selectedImage:null})}).then(this.toggleDeleteConfirm).then(e)}},{key:"replaceImage",value:function(e,t){var n=this;Fv.a.updateImage(e).then(function(e){n.setState({selectedImage:e},t)})}},{key:"handleImageClick",value:function(e){this.setState({selectedImage:e})}},{key:"handlePreviewClose",value:function(){this.setState({selectedImage:null})}},{key:"toggleDeleteConfirm",value:function(){this.setState(function(e){return{deleteConfirmModalVisible:!e.deleteConfirmModalVisible}})}},{key:"render",value:function(){var e=this;return w.a.createElement(Bv.a,null,function(r){var a=r.firstPage,i=r.images,o=r.loading,s=r.paginationProps,c=r.reload,l=r.reloadOnDelete,u=r.totalImages,d=r.updateQuery,p=r.query;return w.a.createElement("div",null,e.state.selectedImage&&w.a.createElement(jv,{image:e.state.selectedImage,imageType:kv,onDismiss:e.handlePreviewClose,onDelete:e.toggleDeleteConfirm,onReplace:function(t){return e.replaceImage(t,c)},readonly:!1}),w.a.createElement(Ha.a,{type:"confirm",show:e.state.deleteConfirmModalVisible,title:t("image_library.delete_image"),message:t("image_library.delete_confirm"),confirmButtonText:t("common.delete"),cancelButtonText:t("common.cancel"),onConfirm:function(){return e.deleteImage(l)},onCancel:e.toggleDeleteConfirm,dismissCallback:e.toggleDeleteConfirm}),w.a.createElement("div",{className:"Index-header"},w.a.createElement("h1",{className:"Index-title"},t("image_library.title")),w.a.createElement("div",{className:"Index-newButtonsContainer"},w.a.createElement("button",{type:"button",onClick:function(){return n.createImage().then(a)},className:"NewButton NewButton--white"},w.a.createElement(z.a,{name:"add",customClass:"mr-4"}),I18n.t("image_library.upload_new")))),w.a.createElement(Lt,{className:"mb-32"},w.a.createElement(Lt.Header,{className:"px-24 py-16 d-f ai-c jc-sb"},o&&!u?w.a.createElement("div",null,I18n.t("common.loading")):w.a.createElement("div",null,w.a.createElement("span",null,I18n.t("image_library.image_count",{count:u})),e.props.hasOldImageElements&&w.a.createElement(z.a,{"data-toggle":"tooltip","data-original-title":t("image_library.not_all_images_explanation"),name:"info",customClass:"ml-4"})),w.a.createElement("input",{placeholder:t("image_library.search_by_name"),onChange:function(e){return d(e.target.value)},className:"NewInput NewInput--white",type:"search"})),w.a.createElement(Lt.Body,{className:"ImagesGrid p-16 bg-white"},w.a.createElement(ft.a,{loading:o},!Object(me.isEmpty)(i)&&i.map(function(t){return w.a.createElement(Uv.a,{key:t.id,image:t,onClick:e.handleImageClick})}),Object(me.isEmpty)(i)&&!!p&&w.a.createElement(Tl.a,null,w.a.createElement("img",{className:"mw-300 mb-32",src:hi.a,alt:t("image_library.no_results")}),w.a.createElement(Tl.b,null,t("image_library.no_results"))))),s.pageCount>1&&w.a.createElement(Lt.Footer,null,w.a.createElement(Lt.Pagination,H()({scrollTopOnChange:!0},s)))))})}}],[{key:"createImage",value:function(){return Fv.a.withoutAssociation()}}]),n}(E.Component),qv=r(152),Gv=function(e){return w.a.createElement("button",H()({type:"button",className:"u-linkBtn d-b"},e))},Wv=function(e){function t(e){var n;return l()(this,t),(n=f()(this,m()(t).call(this,e))).state={image:e.image,viewImageLibrary:!1},n.handleUploadImage=n.handleUploadImage.bind(v()(n)),n.toggleImageLibrary=n.toggleImageLibrary.bind(v()(n)),n.handleRemoveImage=n.handleRemoveImage.bind(v()(n)),n.handleImageLibrarySelect=n.handleImageLibrarySelect.bind(v()(n)),n}return y()(t,e),d()(t,[{key:"handleUploadImage",value:function(){var e=this,t={content_id:this.props.contentId,content_type:this.props.contentType,image_type:this.props.imageType};Object(Fv.a)(t).then(function(t){e.setState({image:t})}).catch(function(){})}},{key:"handleRemoveImage",value:function(){var e=this,t={image:{content_id:this.props.contentId,content_type:this.props.contentType,image_type:this.props.imageType}};C.a.delete(N.k.IMAGE(this.state.image.id),t).then(function(){e.setState({image:null})})}},{key:"handleImageLibrarySelect",value:function(e){var t=this;C.a.post(N.k.ASSOCIATED_IMAGES,{content_id:this.props.contentId,content_type:this.props.contentType,image_type:this.props.imageType,image_id:e.id}).then(function(e){t.setState({image:e,viewImageLibrary:!1})})}},{key:"toggleImageLibrary",value:function(){this.setState(function(e){return{viewImageLibrary:!e.viewImageLibrary}})}},{key:"render",value:function(){var e=null;return this.state.image&&(e=new Sv.a(R()({},Object(S.pick)(this.state.image,["signature","policy","handle"]),{transform:{resize:{width:230,height:300,fit:"max"}}}))),w.a.createElement("div",{className:"Module SidebarModule ui-front"},w.a.createElement("h3",{className:"Module-heading SectionHeading"},this.props.imageType===kv?I18n.t("image_library.cover_image"):I18n.t("image_library.background_image"),w.a.createElement(z.a,{name:"info",customClass:"Module-headingIcon","data-toggle":"tooltip","data-original-title":this.props.tooltipText})),w.a.createElement("div",{className:"SidebarModule-padded"},!this.state.image&&w.a.createElement(Gv,{children:"Upload",onClick:this.handleUploadImage}),!this.state.image&&this.props.allowImageLibrary&&w.a.createElement(Gv,{children:I18n.t("image_library.select_from_library"),onClick:this.toggleImageLibrary}),this.state.viewImageLibrary&&w.a.createElement(qv.a,{onSelect:this.handleImageLibrarySelect,onDismiss:this.toggleImageLibrary}),this.state.image&&w.a.createElement("div",{style:{width:"230px"}},w.a.createElement("img",{src:e.url,alt:this.state.image.name}),w.a.createElement(Lv,{image:this.state.image,imageType:this.props.imageType,message:"Preview",className:"mr-8"}),w.a.createElement(Gv,{className:"pull-right u-linkBtn fz-base fw-n",onClick:this.handleRemoveImage},w.a.createElement(z.a,{name:"delete",customClass:"mr-2"})," Remove"))))}}]),t}(E.Component),Vv=Object(E.createContext)(),zv=(Vv.Consumer,function(e){function t(e){var n;return l()(this,t),n=f()(this,m()(t).call(this,e)),i()(v()(n),"filterRegistry",new Map),i()(v()(n),"registerFilter",function(e){e.mapValueToSelected=e.mapValueToSelected||me.identity,n.filterRegistry.set(e.name,e),n.flushRegistrySubscriptions()}),i()(v()(n),"registrySubscriptions",[]),i()(v()(n),"addRegistrySubscription",function(e){n.registrySubscriptions.push(e)}),i()(v()(n),"setFilterValue",function(e,t){var r=n.props.toParams;n.setState(function(n){var a=R()({},n.filters,i()({},e,t));return{filters:a,params:r(a)}})}),i()(v()(n),"resetAllFilters",function(){var e=!0,t=!1,r=void 0;try{for(var a,i=n.filterRegistry.entries()[Symbol.iterator]();!(e=(a=i.next()).done);e=!0){var o=Ye()(a.value,2),s=o[0],c=o[1];n.setFilterValue(s,c.defaultState)}}catch(e){t=!0,r=e}finally{try{e||null==i.return||i.return()}finally{if(t)throw r}}}),i()(v()(n),"lastSelected",[]),i()(v()(n),"getSelectedFilters",function(){var e=n.state.filters,t=[],r=!0,a=!1,i=void 0;try{for(var o,s=function(){var n=Ye()(o.value,2),r=n[0],a=n[1].mapValueToSelected(e[r]);if(a){var i=(Array.isArray(a)?a:[a]).map(function(e){return{type:r,data:e}});t.push.apply(t,Z()(i))}},c=n.filterRegistry.entries()[Symbol.iterator]();!(r=(o=c.next()).done);r=!0)s()}catch(e){a=!0,i=e}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}var l=[].concat(Z()(n.lastSelected.filter(function(e){return Object(me.find)(e,t)})),Z()(t.filter(function(e){return!Object(me.find)(e,n.lastSelected)})));return n.lastSelected=l,l}),i()(v()(n),"removeSelected",function(e){var t=n.filterRegistry.get(e.type);n.setFilterValue(t.name,t.removeSelected(e.data,n.state.filters[t.name]))}),Object(Xe.a)(Object(me.isPlainObject)(e.initialState),"FilterProvider requires an initialState prop that is a plain object."),n.state={filterRegistry:n.filterRegistry,filters:e.initialState,getSelectedFilters:n.getSelectedFilters,registerFilter:n.registerFilter,setFilterValue:n.setFilterValue,removeSelected:n.removeSelected,resetAllFilters:n.resetAllFilters,subscribeToRegistry:n.addRegistrySubscription,params:e.toParams(e.initialState)},n}return y()(t,e),d()(t,[{key:"flushRegistrySubscriptions",value:function(){this.registrySubscriptions.length&&(this.registrySubscriptions.forEach(function(e){return e()}),this.registrySubscriptions=[])}},{key:"render",value:function(){return w.a.createElement(Vv.Provider,{value:this.state},this.props.children)}}]),t}(E.Component));function Yv(e){var t=Object(E.useContext)(Vv),n=t.registerFilter,r=t.setFilterValue,a=t.filters;return Object(E.useLayoutEffect)(function(){n(e)},[n,e]),[a[e.name],function(t){return r(e.name,t)}]}function Qv(){var e,t,n=Object(E.useContext)(Vv),r=n.filterRegistry,a=n.removeSelected,i=n.resetAllFilters,o=n.getSelectedFilters;(0,n.subscribeToRegistry)((e=Object(E.useCallback)(function(e){return!e},[]),t=Object(E.useReducer)(e,!0),Ye()(t,2)[1]));var s=o();return{selectedFilters:s,removeOne:a,removeAll:i,hasSelected:s.length>0,renderSelected:function(e){return r.get(e.type).renderSelected(e.data)}}}i()(zv,"defaultProps",{toParams:function(){return{}}});var Kv=r(214),Xv=r.n(Kv),$v=r(694),Zv=r.n($v),Jv={GREEN:"#8ad476",BLUE:"#4a90e2",YELLOW_LIGHTER:"#f9e2a7",YELLOW:"#f9cf36",YELLOW_DARK:"#f6bf35",RED_DARK:"#ce463c",INDIGO:"#5c62a4",GRAY_LIGHT:"#dedddd",GRAY_LIGHTER:"#ebeaea",GRAY_DARK:"#a3a2a1"};Xv.a.seriesTypes.line.prototype.drawLegendSymbol=Xv.a.seriesTypes.area.prototype.drawLegendSymbol,Xv.a.Axis.prototype.hasData=function(){return this.hasVisibleSeries},Xv.a.setOptions({credits:!1,lang:{thousandsSep:","},title:null,chart:{style:{fontFamily:'proxima-nova, "Helvetica Neue", sans-serif'}},plotOptions:{line:{marker:{enabled:!1}},area:{marker:{enabled:!1},fillOpacity:.1},series:{lineWidth:4}},legend:{itemStyle:{fontSize:"12px",fontWeight:"normal",color:Jv.GRAY_DARK}},xAxis:{lineColor:Jv.GRAY_LIGHT,labels:{style:{color:Jv.GRAY_DARK,fontSize:"12px"}},title:{text:null},tickWidth:0},yAxis:{lineColor:Jv.GRAY_LIGHT,labels:{style:{color:Jv.GRAY_DARK,fontSize:"12px"}},title:{text:null},gridLineWidth:0,min:0,lineWidth:1}});var eb=function(e){function t(){return l()(this,t),f()(this,m()(t).apply(this,arguments))}return y()(t,e),d()(t,[{key:"shouldComponentUpdate",value:function(e){return!Object(S.isEqual)(e.config,this.props.config)}},{key:"render",value:function(){return w.a.createElement(Zv.a,{config:Object(S.cloneDeep)(this.props.config)})}}]),t}(w.a.Component),tb=function(e){var t=e.children,n=e.include,r=e.url,a=Object(E.useContext)(Vv),i=Object(E.useReducer)(function(e,t){return R()({},e,t)},{loading:!0,error:null,data:null}),o=Ye()(i,2),s=o[0],c=o[1],l=Object(E.useMemo)(function(){return R()({},a.params,n)},[a.params,n]);return Object(E.useEffect)(function(){c({loading:!0}),C.a.get(r,l).then(function(e){return c({loading:!1,error:null,data:e})}).fail(function(e){return c({loading:!1,error:e})})},[l,r]),t(R()({},s,{params:l}))},nb=function(){return[0,100]},rb=Object(E.memo)(function(e){var t=e.i18n;return w.a.createElement(tb,{url:N.k.INSIGHTS.RATINGS.SATISFACTION_OVER_TIME,include:{time_zone:Intl.DateTimeFormat().resolvedOptions().timeZone}},function(e){var n=e.data,r=e.loading;e.params;return w.a.createElement(ft.a,{loading:r},!n&&t.loading,n&&w.a.createElement(eb,{config:{chart:{type:"area",height:"25%"},legend:{enabled:!1},xAxis:{type:"datetime",tickInterval:hr()("30 days"),dateTimeLabelFormats:{month:"%b 1"},minPadding:0,maxPadding:0},yAxis:{tickPositioner:nb,max:105,endOnTick:!1,labels:{format:"{value}%"}},series:[{name:t.ratings.positive_percent,data:n.satisfaction.map(function(e){return[Date.parse(e[0]),e[1]]}),color:Jv.YELLOW}]}}))})}),ab=function(e){var t=e.number,n=e.item,r=e.amount,a=e.href,i=e.icon,o=e.amountHREF,s=a?"a":"span",c=o?"a":"span";return w.a.createElement("li",{className:"d-f jc-sb ai-c c-brand-night fz-bigger"},w.a.createElement("span",{className:"d-f ai-c p-8"},w.a.createElement("span",{className:"c-gray-dark mr-8 fz-sm fw-b"},t),w.a.createElement(s,{href:a},w.a.createElement(Zm.a,{lines:1},n))),w.a.createElement(c,{className:"p-8 fw-b pl-16 f-sh-0",href:o},r.toLocaleString()," ",i&&w.a.createElement(z.a,{name:i})))},ib=function(e){var t=e.number,n=e.rowData;return w.a.createElement(ab,{number:t,item:n.title,amount:n.likes_percentage,href:n.urls.overview,icon:"thumbs_up",amountHREF:n.urls.likes})},ob=r(695),sb=r.n(ob),cb=r(696),lb=r.n(cb),ub=r(697),db=r.n(ub),pb=r(698),fb=r.n(pb);var hb=function(e){var t=e.i18n,n=[Object(E.useMemo)(function(){return"ar"===I18n.locale?db.a:sb.a},[]),Object(E.useMemo)(function(){return"ar"===I18n.locale?fb.a:lb.a},[])],r=Ye()(n,2),a=r[0],i=r[1];return w.a.createElement(tb,{url:N.k.INSIGHTS.RATINGS.COUNTS},function(e){var n=e.data;return!e.error&&w.a.createElement("div",null,w.a.createElement("div",{className:"DataCard-count"},w.a.createElement("img",{src:a,alt:"".concat(t.ratings.lesson_ratings.total_likes,":")}),n?n.likes_count.toLocaleString(I18n.locale):"…"),w.a.createElement("div",{className:"DataCard-count"},w.a.createElement("img",{src:i,alt:"".concat(t.ratings.lesson_ratings.total_dislikes,":")}),n?n.dislikes_count.toLocaleString(I18n.locale):"…"))})},mb=function(e){var t=e.dark,n=e.className,r=e.children,a=e.onClick;return w.a.createElement("span",{onClick:a,className:V()("Badge",t&&"Badge--dark",n)},r)},gb=function(e){function n(e){var t;return l()(this,n),(t=f()(this,m()(n).call(this,e))).state={popoverVisible:!1},t.togglePopover=t.togglePopover.bind(v()(t)),t}return y()(n,e),d()(n,[{key:"togglePopover",value:function(){this.setState(function(e){return{popoverVisible:!e.popoverVisible}})}},{key:"render",value:function(){var e=this.props,n=e.className,r=e.title,a=e.children,i=e.dark;return w.a.createElement("div",{className:V()("ff-ss pos-r f-smooth",n)},w.a.createElement(mb,{className:a?"c-p":"",onClick:a?this.togglePopover:null,dark:i},t("common.labs.name")," ",w.a.createElement(z.a,{name:"info",customClass:"ml-2"})),a&&this.state.popoverVisible&&w.a.createElement(Ut,{dismissCallback:this.togglePopover},r&&w.a.createElement("h4",{className:"fw-b ff-ss mb-16"},r),w.a.createElement("div",{className:"c-gray-dark"},a)))}}]),n}(E.Component);i()(gb,"FeedbackMessage",function(){return w.a.createElement("p",null,t("common.labs.feedback_description")," ",w.a.createElement("a",{className:"td-u",href:"mailto:".concat(t("common.feedback_email"))},t("common.feedback_email")))});var vb=gb,bb=function(e){var t=e.title,n=e.tooltip,r=e.subtitle,a=e.labsBadgeDescription;return w.a.createElement("h3",{className:"DataCard-title"},t,a&&w.a.createElement(vb,{dark:!0,className:"d-ib ml-8"},w.a.createElement("p",null,a),w.a.createElement(vb.FeedbackMessage,null)),n&&w.a.createElement(Cn,{tooltip:n,className:"ml-4"}),r&&w.a.createElement("span",{className:"DataCard-subtitle"},r))},yb=function(e){function t(){return l()(this,t),f()(this,m()(t).apply(this,arguments))}return y()(t,e),d()(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.subtitle,r=e.title,a=e.tooltip,i=e.downloadLink,o=e.reportTitle;return w.a.createElement("header",{className:"DataCard-header"},t&&t,w.a.createElement(bb,{title:r,tooltip:a,subtitle:n}),i&&w.a.createElement("div",null,w.a.createElement("hr",{className:"SlimRule"}),w.a.createElement("a",{href:i,className:"DataCard-link"},w.a.createElement(z.a,{name:"download"})," ",o)))}}]),t}(w.a.Component),Eb=function(e){function t(){var e,n;l()(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return n=f()(this,(e=m()(t)).call.apply(e,[this].concat(a))),i()(v()(n),"state",{data:null,error:!1,filtered:null}),i()(v()(n),"setFilteredState",function(){var e=n.props.filteredSource&&"false"!==sessionStorage.getItem("filtered");n.setState({filtered:e},n.requestData)}),i()(v()(n),"requestData",function(){var e=n.state.filtered?n.props.filteredSource:n.props.source;e&&C.a.get(e).then(function(e){return n.setState({data:e})}).fail(function(){return n.setState({error:!0})})}),i()(v()(n),"handleFilterClick",function(){n.setState(function(e){return{filtered:!e.filtered}},function(){n.requestData(),sessionStorage.setItem("filtered",n.state.filtered)})}),n}return y()(t,e),d()(t,[{key:"componentDidMount",value:function(){this.setFilteredState()}},{key:"componentDidUpdate",value:function(e){e.source===this.props.source&&e.filteredSource===this.props.filteredSource||this.requestData()}},{key:"render",value:function(){var e=this.props,t=e.title,n=e.tooltip,r=e.subtitle,a=e.rowComponent,i=e.i18n,o=e.customClass,s=e.filterableBy,c=e.filteredSource,l=this.state,u=l.data,d=l.error,p=l.filtered;return w.a.createElement("div",{className:o||null},t&&w.a.createElement(bb,{title:t,tooltip:n,subtitle:r}),d&&i.error,!u&&!d&&i.loading,u&&Object(S.isEmpty)(u.results)&&!d&&"".concat(i.no_results,"."),u&&!Object(S.isEmpty)(u.results)&&!d&&w.a.createElement("ul",{className:"zebra ls-n"},u.results.map(function(e,n){return w.a.createElement(a,{key:Object(S.uniqueId)(t),rowData:e,number:n+1})})),s&&c&&w.a.createElement("div",{className:"mt-16"},w.a.createElement("input",{defaultChecked:p,onClick:this.handleFilterClick,type:"checkbox"}),w.a.createElement("span",{className:"ml-4 c-brand-gray-dark"},i.exclude," ",s)))}}]),t}(w.a.Component);function _b(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:L.SHORT,a=[e,n].filter(Boolean).map(function(e){return moment(e).format(r)});if(1===a.length){if(e&&!n)return t("insights.filters.from_date",{date:a[0]});if(!e&&n)return t("insights.filters.to_date",{date:a[0]})}return a.join("–")}var wb=function(e){return _b(e.start,e.end,e.format)};wb.defaultProps={format:L.SHORT};var Sb=wb,kb=function(e){var n=e.i18n,r=Object(E.useContext)(Vv).params,a=r.start_date||r.end_date,i=a?t("insights.ratings.learner_satisfaction.description_with_filters"):t("insights.ratings.learner_satisfaction.description"),o=a?t("insights.ratings.top_rated.description_with_filters"):t("insights.ratings.top_rated.description"),s=a?t("insights.ratings.lowest_rated.description_with_filters"):t("insights.ratings.lowest_rated.description"),c=a?_b(r.start_date,r.end_date):n.timeframes.last_90_days,l=a?t("insights.ratings.table_subtitle_with_filter",{date:_b(r.start_date,r.end_date)}):t("insights.ratings.table_subtitle");return w.a.createElement("section",{className:"DataCard"},w.a.createElement(yb,{title:n.ratings.lesson_ratings.title,subtitle:c,downloadLink:Object(S.compact)([N.k.INSIGHTS.RATINGS.REPORT,$.param(r)]).join("?"),reportTitle:n.ratings.lesson_ratings.report.title},w.a.createElement(hb,{i18n:n})),w.a.createElement("div",{className:"DataCard-main"},w.a.createElement(bb,{title:n.ratings.learner_satisfaction.title,tooltip:i,subtitle:c}),w.a.createElement(rb,{i18n:n}),w.a.createElement(Eb,{title:n.ratings.top_rated.title,tooltip:o,subtitle:l,source:Object(S.compact)([N.k.INSIGHTS.RATINGS.HIGHEST_RATED_LESSONS,$.param(r)]).join("?"),rowComponent:ib,i18n:n}),w.a.createElement(Eb,{customClass:"mt-32",title:n.ratings.lowest_rated.title,tooltip:s,subtitle:l,source:Object(S.compact)([N.k.INSIGHTS.RATINGS.LOWEST_RATED_LESSONS,$.param(r)]).join("?"),rowComponent:ib,i18n:n})))},Cb=r(328),Nb=r.n(Cb),Ob=function(e){var t=e.imgSrc,n=e.imgDescription,r=e.route;return w.a.createElement(tb,{url:r},function(e){var r=e.data,a=e.loading;return w.a.createElement("div",{className:"DataCard-count"},w.a.createElement("img",{src:t,alt:n}),!a&&r?r.count.toLocaleString():"…")})},xb=function(e){var t=e.number,n=e.rowData;return w.a.createElement(ab,{number:t,item:n.name,href:n.urls.overview,amount:n.days_active,icon:"sign_out"})},Tb=function(e){var t=e.i18n;return w.a.createElement(tb,{url:N.k.INSIGHTS.ACTIVE_USERS.ACTIVE_USERS_OVER_TIME},function(e){var n=e.data,r=e.error;return w.a.createElement("div",null,r&&t.error,!r&&!n&&t.loading,!r&&n&&w.a.createElement(eb,{config:{chart:{type:"column",height:"25%"},legend:{enabled:!1},xAxis:{type:"datetime",dateTimeLabelFormats:{month:"%b"},minPadding:0,maxPadding:0},yAxis:{tickAmount:2,allowDecimals:!1},series:[{name:t.active_users.monthly_counts.title,data:n.monthly_active_user_counts.map(function(e){return[Date.parse(e[0]),e[1]]}),color:Jv.RED_DARK}]}}))})},Rb=function(e){function t(e){var n;return l()(this,t),(n=f()(this,m()(t).call(this,e))).state={activeTabIndex:0},n.handleTabClick=n.handleTabClick.bind(v()(n)),n}return y()(t,e),d()(t,[{key:"handleTabClick",value:function(e){e!==this.state.activeTabIndex&&this.setState({activeTabIndex:e})}},{key:"renderChildrenWithTabsApiAsProps",value:function(){var e=this;return w.a.Children.map(this.props.children,function(t,n){return w.a.cloneElement(t,{onClick:e.handleTabClick,tabIndex:n,isActive:n===e.state.activeTabIndex})})}},{key:"renderActiveTabContent",value:function(){var e=this.props.children,t=this.state.activeTabIndex;return e[t]&&e[t].props.children}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.title,r=e.subtitle,a=e.tooltip;return w.a.createElement("div",{className:V()("TabSection",t)},w.a.createElement("div",{className:"TabSection-header"},w.a.createElement("h3",{className:"DataCard-title"},n,a&&w.a.createElement(Cn,{tooltip:a,className:"ml-4"}),r&&w.a.createElement("span",{className:"DataCard-subtitle"},r)),w.a.createElement("ul",{className:"TabSection-tabsList"},this.renderChildrenWithTabsApiAsProps())),w.a.createElement("div",{key:this.state.activeTabIndex},this.renderActiveTabContent()))}}]),t}(w.a.PureComponent),Pb=function(e){function t(e){var n;return l()(this,t),(n=f()(this,m()(t).call(this,e))).handleClick=n.handleClick.bind(v()(n)),n}return y()(t,e),d()(t,[{key:"handleClick",value:function(e){e.preventDefault(),this.props.onClick(this.props.tabIndex)}},{key:"render",value:function(){var e=V()("TabSection-tab",{"TabSection-tab--active":this.props.isActive});return w.a.createElement("li",null,w.a.createElement("a",{className:e,onClick:this.handleClick},this.props.title))}}]),t}(w.a.PureComponent),Ib=function(e){return e.start_date||e.end_date},Ab=function(e){return!Object(S.isEmpty)(e.group_ids)},Mb=function(e){var n=Ab(e),r=Ib(e);return Object(S.find)([r&&n&&t("insights.active_users.monthly_counts.description_with_all_filters"),r&&!n&&t("insights.active_users.monthly_counts.description_with_date_filter"),!r&&n&&t("insights.active_users.monthly_counts.description_with_groups_filter"),t("insights.active_users.monthly_counts.description")])},Db=function(e){var n,r,a,i=e.i18n,o=Object(E.useContext)(Vv).params,s=function(e){return Object(S.compact)([e,$.param(o)]).join(e.includes("?")?"&":"?")},c=Ib(o)?t("insights.active_users.top_accessing.description_with_filter"):t("insights.active_users.top_accessing.description"),l=Ib(o)?w.a.createElement(Sb,{start:o.start_date,end:o.end_date}):t("insights.timeframes.last_90_days"),u=Ib(o)?w.a.createElement(Sb,{start:o.start_date,end:o.end_date}):t("insights.timeframes.last_6_months");return w.a.createElement("section",{className:"DataCard mb-24"},w.a.createElement(yb,{title:i.active_users.total_count.title,tooltip:(n=o,r=Ab(n),a=Ib(n),Object(S.find)([a&&r&&t("insights.active_users.total_count.description_with_all_filters"),a&&!r&&t("insights.active_users.total_count.description_with_date_filter"),!a&&r&&t("insights.active_users.total_count.description_with_groups_filter"),t("insights.active_users.total_count.description")])),subtitle:l,downloadLink:s(N.k.INSIGHTS.ACTIVE_USERS.REPORT),reportTitle:i.active_users.report.title},w.a.createElement(Ob,{route:N.k.INSIGHTS.ACTIVE_USERS.COUNT,imgSrc:Nb.a,imgDescription:"".concat(i.active_users.total_count.title,":")})),w.a.createElement("div",{className:"DataCard-main"},w.a.createElement(bb,{title:i.active_users.monthly_counts.title,tooltip:Mb(o),subtitle:u}),w.a.createElement(Tb,{i18n:i}),w.a.createElement(Rb,{title:i.active_users.top_accessing.title,subtitle:l,tooltip:c,className:"mt-32"},w.a.createElement(Pb,{title:i.tabs.users},w.a.createElement(Eb,{i18n:i,source:s(N.k.INSIGHTS.ACTIVE_USERS.MOST_ACTIVE_USERS),filteredSource:s(N.k.INSIGHTS.ACTIVE_USERS.MOST_ACTIVE_NON_ADMIN),rowComponent:xb,filterableBy:"Admins"})),w.a.createElement(Pb,{title:i.tabs.groups},w.a.createElement(Eb,{i18n:i,source:s(N.k.INSIGHTS.ACTIVE_USERS.MOST_ACTIVE_GROUPS),rowComponent:xb})))))},jb=r(329),Lb=r.n(jb),Fb=function(e){var t=e.number,n=e.rowData,r=Object(S.includes)("User Groups",n.type)?"lesson":"user";return w.a.createElement(ab,{number:t,item:n.title,amount:n.overdue_count,href:n.urls.overview,icon:r,amountHREF:n.urls.overdue})},Bb=function(e){var t=e.i18n,n=e.vertical,r=Object(E.useContext)(Vv).params,a=function(e){return Object(S.compact)([e,$.param(r)]).join("?")};return w.a.createElement("section",{className:"DataCard ".concat(n&&"DataCard--vertical"," f-1")},w.a.createElement(yb,{title:t.assignments.overdue.title,subtitle:t.timeframes.right_now,downloadLink:a(N.k.INSIGHTS.OVERDUE.REPORT),reportTitle:t.assignments.overdue.report.title},w.a.createElement(Ob,{route:N.k.INSIGHTS.OVERDUE.ASSIGNMENTS_COUNT,imgSrc:Lb.a,imgDescription:"".concat(t.assignments.overdue.title,":")})),w.a.createElement("div",{className:"DataCard-main"},w.a.createElement(bb,{title:t.assignments.most_overdue_learning_content.title,tooltip:t.assignments.most_overdue_learning_content.description}),w.a.createElement(Eb,{source:a(N.k.INSIGHTS.OVERDUE.CONTENTS),rowComponent:Fb,i18n:t}),w.a.createElement(Rb,{title:t.assignments.most_overdue_people_and_groups.title,tooltip:t.assignments.most_overdue_people_and_groups.description,className:"mt-32"},w.a.createElement(Pb,{title:"People"},w.a.createElement(Eb,{source:a(N.k.INSIGHTS.OVERDUE.USERS),rowComponent:Fb,i18n:t})),w.a.createElement(Pb,{title:"Groups"},w.a.createElement(Eb,{source:a(N.k.INSIGHTS.OVERDUE.GROUPS),rowComponent:Fb,i18n:t})))))},Ub=Object(E.memo)(function(e){var n=e.i18n;return w.a.createElement(tb,{url:N.k.INSIGHTS.COMPLETED_ASSIGNMENTS.WEEKLY_ASSIGNMENTS,include:{time_zone:Intl.DateTimeFormat().resolvedOptions().timeZone}},function(e){var r,a=e.data,i=e.loading,o=e.params;return w.a.createElement(ft.a,{loading:i},w.a.createElement("h3",{className:"DataCard-title"},n.assignments.weekly_completions.title,w.a.createElement(Cn,{tooltip:(r=o,r.start_date||r.end_date?t("insights.assignments.weekly_completions.description_with_filter"):t("insights.assignments.weekly_completions.description")),className:"ml-4"}),w.a.createElement("span",{className:"DataCard-subtitle"},o.start_date||o.end_date?w.a.createElement(Sb,{start:o.start_date,end:o.end_date}):n.timeframes.last_90_days)),!a&&n.loading,a&&w.a.createElement(eb,{config:{chart:{type:"line",height:"50%"},xAxis:{type:"datetime",tickInterval:hr()("30 days"),dateTimeLabelFormats:{month:"%b 1"}},yAxis:{tickAmount:2},series:[{name:n.assignments.weekly_completions.series.assignments,data:a.assignments.map(function(e){return[Date.parse(e[0]),e[1]]}),color:Jv.BLUE},{name:n.assignments.weekly_completions.series.completions,data:a.completions.map(function(e){return[Date.parse(e[0]),e[1]]}),color:Jv.GREEN}]}}))})}),Hb=Object(E.memo)(function(e){var t=e.i18n,n=Object(E.useContext)(Vv).params;return w.a.createElement("section",{className:"DataCard DataCard--vertical f-1 mr-32 h-100"},w.a.createElement(yb,{title:t.assignments.completed.title,subtitle:n.start_date||n.end_date?w.a.createElement(Sb,{start:n.start_date,end:n.end_date}):t.timeframes.last_90_days,downloadLink:Object(S.compact)([N.k.INSIGHTS.COMPLETED_ASSIGNMENTS.REPORT,$.param(n)]).join("?"),reportTitle:t.assignments.completed.report.title},w.a.createElement(Ob,{route:N.k.INSIGHTS.COMPLETED_ASSIGNMENTS.COUNT,imgSrc:Lb.a,imgDescription:"".concat(t.assignments.completed.title,":")})),w.a.createElement("div",{className:"DataCard-main"},w.a.createElement(Ub,{i18n:t})))}),qb=r(699),Gb=r.n(qb),Wb=function(e){var t=e.number,n=e.rowData;return w.a.createElement(ab,{number:t,item:n.title||"Untitled Lesson",amount:n.activity_count,href:n.urls.overview,icon:"preview"})},Vb=function(e){var t=e.i18n;return w.a.createElement(tb,{url:N.k.INSIGHTS.LESSON_VIEWS.WEEKLY_LESSON_VIEWS,include:{time_zone:Intl.DateTimeFormat().resolvedOptions().timeZone}},function(e){var n=e.data,r=e.error;return w.a.createElement("div",null,r&&t.error,!n&&!r&&t.loading,n&&!r&&w.a.createElement(eb,{config:{chart:{type:"area",height:"25%"},legend:{enabled:!1},xAxis:{type:"datetime",tickInterval:hr()("30 days"),dateTimeLabelFormats:{month:"%b 1"},minPadding:0,maxPadding:0},yAxis:{tickAmount:2,allowDecimals:!1},series:[{name:t.lesson_views.daily_views.title,data:n.weekly_counts.map(function(e){return[Date.parse(e[0]),e[1]]}),color:Jv.INDIGO}]}}))})},zb=function(e){var n,r=e.i18n,a=Object(E.useContext)(Vv).params,i=a.start_date||a.end_date,o=!Object(S.isEmpty)(a.group_ids),s=Object(S.find)([i&&o&&t("insights.lesson_views.daily_views.description_with_all_filters"),i&&!o&&t("insights.lesson_views.daily_views.description_with_date_filter"),!i&&o&&t("insights.lesson_views.daily_views.description_with_groups_filter"),t("insights.lesson_views.daily_views.description")]),c=Object(S.find)([i&&t("insights.lesson_views.most_viewed.description_with_date_filter"),t("insights.lesson_views.most_viewed.description")]),l=Object(S.find)([i&&o&&t("insights.lesson_views.weekly_views.description_with_all_filters"),i&&!o&&t("insights.lesson_views.weekly_views.description_with_date_filter"),!i&&o&&t("insights.lesson_views.weekly_views.description_with_groups_filter"),t("insights.lesson_views.weekly_views.description")]),u=i?_b(a.start_date,a.end_date):r.timeframes.last_90_days;return w.a.createElement("section",{className:"DataCard mb-24"},w.a.createElement(yb,{title:r.lesson_views.daily_views.title,subtitle:u,tooltip:s},w.a.createElement(Ob,{imgSrc:Gb.a,imgDescription:"".concat(r.lesson_views.icon.description,":"),route:N.k.INSIGHTS.LESSON_VIEWS.COUNT})),w.a.createElement("div",{className:"DataCard-main"},w.a.createElement(bb,{title:r.lesson_views.weekly_views.title,tooltip:l,subtitle:u}),w.a.createElement(Vb,{i18n:r}),w.a.createElement(Eb,{title:r.lesson_views.most_viewed.title,tooltip:c,subtitle:u,source:(n=N.k.INSIGHTS.LESSON_VIEWS.MOST_ACTIVE_LESSONS,Object(S.compact)([n,$.param(a)]).join("?")),rowComponent:Wb,i18n:r,customClass:"mt-32"})))},Yb=r(700),Qb=r.n(Yb),Kb=function(e){var t=e.number,n=e.rowData;return w.a.createElement(ab,{number:t,item:n.term,amount:n.searches})},Xb=function(e){var t=e.i18n,n=e.noResults,r=Object(E.useContext)(Vv).params,a=n?t.searches.top_null_searches.title:t.searches.top_searches.title,i=V()("TopSearches f-1",{"mr-32":!n});return w.a.createElement("div",{className:i},w.a.createElement(Eb,{title:a,subtitle:r.start_date||r.end_date?w.a.createElement(Sb,{start:r.start_date,end:r.end_date}):t.timeframes.last_90_days,i18n:t,source:Object(S.compact)([n?N.k.INSIGHTS.SEARCH.TOP_NULL_SEARCHES:N.k.INSIGHTS.SEARCH.TOP_SEARCHES,$.param(r)]).join("?"),rowComponent:Kb}))},$b=Object(E.memo)(function(e){var n=e.i18n;return w.a.createElement(tb,{url:N.k.INSIGHTS.SEARCH.SEARCHES_OVER_TIME,include:{time_zone:Intl.DateTimeFormat().resolvedOptions().timeZone}},function(e){var r=e.data,a=e.error,i=e.params;return w.a.createElement("div",null,w.a.createElement(bb,{title:n.searches.over_time.title,tooltip:i.start_date||i.end_date?t("insights.searches.over_time.description_with_filter"):t("insights.searches.over_time.description"),subtitle:i.start_date||i.end_date?w.a.createElement(Sb,{start:i.start_date,end:i.end_date}):n.timeframes.last_6_months}),a&&n.data_error,!r&&!a&&n.loading,!a&&r&&w.a.createElement(eb,{config:{chart:{height:240},xAxis:{type:"datetime",dateTimeLabelFormats:{month:"%b"},minPadding:0,maxPadding:0},yAxis:[{tickAmount:2,allowDecimals:!1},{opposite:!0,showEmpty:!1,tickPositioner:function(){return[0,100]},max:105,endOnTick:!1,labels:{format:"{value}%"}}],plotOptions:{column:{grouping:!1}},series:[{name:n.searches.over_time.total_searches,type:"column",yAxis:0,data:r.total_searches.map(function(e){return[Date.parse(e[0]),e[1]]}),color:Jv.YELLOW_DARK},{name:n.searches.over_time.searches_with_no_results,type:"column",yAxis:0,data:r.searches_with_no_results.map(function(e){return[Date.parse(e[0]),e[1]]}),color:Jv.YELLOW_LIGHTER},{name:n.searches.over_time.no_results_percentages,type:"line",yAxis:1,data:r.no_results_percentages.map(function(e){return[Date.parse(e[0]),e[1]]}),color:Jv.BLUE,visible:!1,tooltip:{valueSuffix:"%"}}]}}))})}),Zb=function(e){var n=e.i18n,r=Object(E.useContext)(Vv).params,a=r.start_date||r.end_date,i=!Object(S.isEmpty)(r.group_ids),o=Object(S.find)([a&&i&&t("insights.searches.total_count.description_with_all_filters"),a&&!i&&t("insights.searches.total_count.description_with_date_filter"),!a&&i&&t("insights.searches.total_count.description_with_group_filter"),t("insights.searches.total_count.description")]);return w.a.createElement("section",{className:"DataCard mb-24"},w.a.createElement(yb,{title:n.searches.total_count.title,tooltip:o,subtitle:r.start_date||r.end_date?w.a.createElement(Sb,{start:r.start_date,end:r.end_date}):n.timeframes.last_90_days,downloadLink:Object(S.compact)([N.k.INSIGHTS.SEARCH.REPORT,$.param(r)]).join("?"),reportTitle:n.searches.report.title},w.a.createElement(Ob,{route:N.k.INSIGHTS.SEARCH.COUNT,imgSrc:Qb.a,imgDescription:"".concat(n.searches.total_count.title,":")})),w.a.createElement("div",{className:"DataCard-main"},w.a.createElement($b,{i18n:n}),w.a.createElement("div",{className:"d-f jc-sb mt-32"},w.a.createElement(Xb,{i18n:n}),w.a.createElement(Xb,{noResults:!0,i18n:n}))))};function Jb(){return Qv().hasSelected}var ey=function(e){var t=e.children,n=Jb();return"function"==typeof t?t({hasSelectedFilters:n}):n?t:null},ty=function(e){var t=e.i18n,n=e.permissions,r=n.completedAssignments,a=Jb(),i=Object(E.useContext)(Vv).params,o=a&&!(!i.start_date&&!i.end_date);return w.a.createElement("div",null,n.lessonViews&&w.a.createElement(zb,{i18n:t}),n.searches&&w.a.createElement(Zb,{i18n:t}),n.activeUsers&&w.a.createElement(Db,{i18n:t}),w.a.createElement("div",{className:"d-f fw-w"},n.completedAssignments&&w.a.createElement(Hb,{i18n:t}),o&&w.a.createElement("div",{className:"f-1"}),n.overdueAssignments&&!o&&w.a.createElement(Bb,{i18n:t,vertical:r})))},ny=function(e){var t=e.status,n=e.url,r=e.i18n,a=function(e){var t=e.children;return w.a.createElement("a",{href:n,className:"ActivityFeedItem-status"},t)};switch(t.name){case"started":return w.a.createElement("span",null,w.a.createElement(a,null,r.started)," ",r.assignment);case"overdue":return w.a.createElement("span",null,r.is_now," ",w.a.createElement(a,null,r.overdue)," ",r.status_on," ",r.assignment);case"grade_pending":return w.a.createElement("span",null,r.is_now," ",w.a.createElement(a,null,r.grade_pending)," ",r.status_on," ",r.assignment);case"completed":return w.a.createElement("span",null,w.a.createElement(a,null,r.completed)," ",r.assignment);case"scored":return w.a.createElement("span",null,w.a.createElement(a,null,r.scored," ",t.value)," ",r.status_on," ",r.assignment);default:return!1}},ry=function(e){function t(){return l()(this,t),f()(this,m()(t).apply(this,arguments))}return y()(t,e),d()(t,[{key:"render",value:function(){var e=this.props,t=e.user,n=e.activity,r=e.actionable,a=e.i18n,i=V()("ActivityFeedItem ml-4 d-f",{"ActivityFeedItem--red":n.status.name.includes("overdue"),"ActivityFeedItem--green":["scored","completed"].includes(n.status.name),"ActivityFeedItem--yellow":n.status.name.includes("grade_pending")});return w.a.createElement("div",{className:i},w.a.createElement("div",{className:"ActivityFeedItem-timeline d-f ai-c pos-r"},w.a.createElement("div",{className:"ActivityFeedItem-line pos-a"}),w.a.createElement("span",{className:"ActivityFeedItem-statusIcon CompletionStatusIcon pos-a"})),w.a.createElement("div",{className:"ActivityFeedItem-container"},w.a.createElement("a",{className:"mr-4",href:t.url},t.name),w.a.createElement(ny,{i18n:a,status:n.status,url:n.url}),r.url?w.a.createElement("a",{className:"fw-b",href:r.url},r.title):w.a.createElement("span",{className:"fw-b"},r.title)))}}]),t}(w.a.PureComponent),ay=function(e){var t=e.i18n,n=e.date,r=e.activitiesByDate;return w.a.createElement("div",{className:"ActivityFeed-dateContainer mb-8"},w.a.createElement("div",{className:"mb-8"},w.a.createElement(z.a,{name:"calendar_empty",customClass:"ActivityFeed-icon"}),w.a.createElement("span",{className:"ActivityFeed-date ml-8"},n)),r[n].map(function(e){return w.a.createElement(ry,{key:Object(S.uniqueId)(e.user),i18n:t,user:e.user,activity:e.activity,actionable:e.actionable})}))},iy=function(e){var t=e.description;return w.a.createElement(Tl.a,null,w.a.createElement("img",{className:"mw-300 mb-32",src:hi.a,alt:t}),w.a.createElement(Tl.b,null,t))},oy=function(e){var n=e.i18n,r=Object(E.useContext)(Vv).params;if(r.start_date||r.end_date)return w.a.createElement(iy,{description:t("insights.activity_feed.cannot_filter_by_date")});var a=function(e){return Object(S.groupBy)(e.latest_activities,function(e){return I()(e.timestamp).startOf("day").format(L.LONG)})};return w.a.createElement(tb,{url:N.k.INSIGHTS.LATEST_ACTIVITIES},function(e){var r=e.data,i=e.loading,o=e.error;return w.a.createElement("div",null,o&&w.a.createElement("span",{className:"ff-ss"},n.error),i&&!o&&w.a.createElement("span",{className:"ff-ss"},w.a.createElement(k.k,{color:"darker",className:"mr-4"}),n.loading),!i&&!o&&r&&Object(S.isEmpty)(r.latest_activities)&&w.a.createElement(iy,{description:t("insights.activity_feed.no_activity_with_groups_filter")}),!i&&!o&&r&&!Object(S.isEmpty)(r.latest_activities)&&w.a.createElement("div",null,Object.keys(a(r)).map(function(e){return w.a.createElement(ay,{key:Object(S.uniqueId)(),i18n:n.activity_status,date:e,activitiesByDate:a(r)})})))})},sy=function(e){function t(){return l()(this,t),f()(this,m()(t).apply(this,arguments))}return y()(t,e),d()(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.subtitle,r=e.title,a=e.tooltip,i=e.downloadLink,o=e.reportTitle;return w.a.createElement("header",{className:"DataCard-header"},t&&t,w.a.createElement(bb,{title:r,tooltip:a,subtitle:n}),i&&w.a.createElement("div",null,w.a.createElement("hr",{className:"SlimRule"}),w.a.createElement("a",{href:i,className:"DataCard-link"},w.a.createElement(z.a,{name:"download"})," ",o)))}}]),t}(w.a.Component),cy=function(e){function t(e){var n;return l()(this,t),(n=f()(this,m()(t).call(this,e))).state={data:null,error:!1},n.getData=n.getData.bind(v()(n)),n}return y()(t,e),d()(t,[{key:"componentDidMount",value:function(){this.getData()}},{key:"getData",value:function(){var e=this;this.props.dataRoute&&C.a.get(this.props.dataRoute).then(function(t){return e.setState({data:t})}).fail(function(){return e.setState({error:!0})})}},{key:"render",value:function(){var e=this.state.data,t=this.props,n=t.imgSrc,r=t.imgDescription,a=t.dataRoute;return w.a.createElement("div",{className:"DataCard-dataOverview"},w.a.createElement("img",{src:n,alt:r,title:r}),a&&e&&e.count.toLocaleString(),a&&!e&&"…")}}]),t}(w.a.Component),ly={Header:sy,Container:function(e){var t=e.title,n=e.subtitle,r=e.tooltip,a=e.dataOverviewIcon,i=e.dataOverviewIconDescription,o=e.dataOverviewRoute,s=e.hasMargin,c=void 0===s||s,l=e.children,u=e.downloadLink,d=e.reportTitle,p=e.vertical,f=e.className,h=e.direction;return w.a.createElement("section",{className:V()("DataCard",l.length>1&&"DataCard--containsCards",p&&"DataCard--vertical",c&&"mb-24",f)},t&&w.a.createElement(sy,{title:t,subtitle:n,tooltip:r,downloadLink:u,reportTitle:d},w.a.createElement(cy,{imgSrc:a,imgDescription:i,dataRoute:o})),w.a.createElement("div",{className:V()("d-f","f-1",{"fd-r":l.length>1&&"row"===h,"fd-c":l.length>1&&"column"===h})},l))},Title:bb,Content:function(e){var t=e.title,n=e.subtitle,r=e.tooltip,a=e.labsBadgeDescription,i=e.children;return w.a.createElement("div",{className:"DataCard-main"},w.a.createElement(bb,{title:t,tooltip:r,subtitle:n,labsBadgeDescription:a}),i)}},uy=function(e){var t=e.position,n=e.averageRating,r=!1,a=Number(t)-Number(n);a<1&&a>=.3&&a<.9&&(r=!0);var i=Number(t)<=Number(n)||a>0&&a<.3&&a<1,o=V()("AverageRatingScale-star",{"AverageRatingScale-filledStar":i});return r?w.a.createElement(z.a,{name:"star_half_filled",customClass:"AverageRatingScale-filledStar"}):w.a.createElement(z.a,{name:"star_filled",customClass:o})},dy=function(e){var n=e.ratingOptions,r=e.averageRating;return w.a.createElement("div",{"data-toggle":"tooltip",title:"".concat(r," ").concat(t("insights.criterion.average")),"data-placement":"top"},n.map(function(e,t){return w.a.createElement("span",{className:"AverageRatingScale-starContainer",key:e.score},w.a.createElement(uy,{averageRating:r,position:t+1}))}))},py=function(e){function n(e){var t;return l()(this,n),(t=f()(this,m()(n).call(this,e))).calculateBarHeight=t.calculateBarHeight.bind(v()(t)),t}return y()(n,e),d()(n,[{key:"calculateBarHeight",value:function(e){var t=Math.max.apply(Math,Z()(Object(S.values)(this.props.data))),n=20*parseFloat(e/t);return t===e&&0!==t?20:0===e||n<=2?2:n.toPrecision(4)}},{key:"render",value:function(){var e=this,n=this.props.data,r=[t("insights.criterion.star_ratings.one"),t("insights.criterion.star_ratings.two"),t("insights.criterion.star_ratings.three"),t("insights.criterion.star_ratings.four"),t("insights.criterion.star_ratings.five")];return w.a.createElement("div",{className:"CriterionCountPerRating d-f jc-c"},Object.entries(n).map(function(n,a){return w.a.createElement("div",{key:n[0],"data-toggle":"tooltip",title:"".concat(n[1]," ").concat(r[a]).concat(t("insights.criterion.star_ratings.suffix")),"data-placement":"top",className:"CriterionCountPerRating-container"},w.a.createElement("div",{style:{height:"".concat(e.calculateBarHeight(n[1]),"px")},className:"CriterionCountPerRating-bar"}))}))}}]),n}(w.a.Component),fy=function(e){var n=e.criterion,r=e.ratingOptions;return w.a.createElement("tr",{className:"CriterionRow"},w.a.createElement("td",{className:"d-f"},n.name,w.a.createElement("div",{className:"ml-4","data-toggle":"tooltip",title:n.description||t("insights.criterion.no_description"),"data-placement":"top"},w.a.createElement(z.a,{name:"info",customClass:"c-brand-gray-dark"}))),w.a.createElement("td",{className:"AverageRatingScale"},w.a.createElement(dy,{ratingOptions:r,averageRating:n.data.average})),w.a.createElement("td",null,n.data.total),w.a.createElement("td",null,w.a.createElement(py,{data:n.data.count_per_star_rating})))},hy=[{score:1},{score:2},{score:3},{score:4},{score:5}],my={1:0,2:0,3:0,4:0,5:0},gy=function(e){var t=e.criteria;return w.a.createElement(w.a.Fragment,null,t.map(function(e){var t=function(e){return R()({},e,{data:{average:e.average,total:e.total,count_per_star_rating:e.count_per_star_rating.reduce(function(e,t){return R()({},e,i()({},t.score,t.frequency))},my)}})}(e);return w.a.createElement(fy,{criterion:t,key:t.name,ratingOptions:hy})}))},vy=function(e){var n=e.url,r=e.title,a=e.subtitle;return w.a.createElement(tb,{url:n},function(e){var n=e.data,i=e.loading;return w.a.createElement(ly.Content,{title:r,subtitle:a},w.a.createElement("div",{className:"FeedbackCriteriaInsights"},w.a.createElement("table",null,w.a.createElement("thead",null,w.a.createElement("tr",{className:"FeedbackCriteriaInsights-headerRow fw-b"},w.a.createElement("th",{className:"FeedbackCriteriaInsights-headerRow--criteria"},t("insights.criterion.headers.criteria")),w.a.createElement("th",null,t("insights.criterion.headers.average_rating")),w.a.createElement("th",null,t("insights.criterion.headers.total_ratings")),w.a.createElement("th",{className:"FeedbackCriteriaInsights-headerRow--ratingScale"},hy.map(function(e){return w.a.createElement("span",{key:e.score},e.score,w.a.createElement(z.a,{name:"star_filled"}))})))),w.a.createElement("tbody",{className:"fz-bigger"},i&&w.a.createElement("tr",null,w.a.createElement(k.k,null)),!i&&n&&0===n.length&&w.a.createElement("tr",{className:"p-4"},w.a.createElement("th",null,t("insights.criterion.no_results"))),!i&&n&&n.length>0&&w.a.createElement(gy,{criteria:n})))))})},by=function(){var e,n=Object(E.useContext)(Vv).params,r=n.start_date||n.end_date,a=!Object(S.isEmpty)(n.group_ids),i=r?w.a.createElement(Sb,{start:n.start_date,end:n.end_date}):t("insights.feedback_criteria.subtitle"),o=Object(S.find)([r&&a&&t("insights.feedback_criteria.tooltip_with_all_filters"),r&&!a&&t("insights.feedback_criteria.tooltip_with_date_filter"),!r&&a&&t("insights.feedback_criteria.tooltip_with_groups_filter"),t("insights.feedback_criteria.tooltip")]);return w.a.createElement(ly.Container,{className:"d-f",direction:"row"},w.a.createElement(ly.Header,{downloadLink:(e=N.k.INSIGHTS.PRACTICE.REPORT,Object(S.compact)([e,$.param(n)]).join("?")),reportTitle:t("insights.feedback_criteria.report.title"),subtitle:i,title:t("insights.feedback_criteria.title"),tooltip:o},w.a.createElement(Ob,{route:N.k.INSIGHTS.PRACTICE.FEEDBACK_CRITERIA_RATINGS_COUNT,imgSrc:Nb.a,imgDescription:t("insights.feedback_criteria.title")})),w.a.createElement("div",{className:"d-f fd-c fg-1"},w.a.createElement(vy,{url:N.k.INSIGHTS.PRACTICE.HIGHEST_RATED_FEEDBACK_CRITERIA,title:t("insights.learner_impact.feedback_criteria.highest.title"),subtitle:i}),w.a.createElement(vy,{url:N.k.INSIGHTS.PRACTICE.LOWEST_RATED_FEEDBACK_CRITERIA,title:t("insights.learner_impact.feedback_criteria.lowest.title"),subtitle:i})))},yy=function(){return Object(E.useEffect)(function(){ns("insights/learner_impact_tab_viewed")}),w.a.createElement("div",null,w.a.createElement(by,null))},Ey=function(e){function n(e){var t;return l()(this,n),(t=f()(this,m()(n).call(this,e))).state={tagId:"",groupId:"",startDate:null,endDate:null},t.startDateSelected=t.startDateSelected.bind(v()(t)),t.endDateSelected=t.endDateSelected.bind(v()(t)),t.handleGroupSelection=t.handleGroupSelection.bind(v()(t)),t.handleTagSelection=t.handleTagSelection.bind(v()(t)),t.handleDownload=t.handleDownload.bind(v()(t)),t}return y()(n,e),d()(n,[{key:"startDateSelected",value:function(e){var t=this.state.endDate;t&&t.isBefore(e)||this.setState({startDate:e})}},{key:"endDateSelected",value:function(e){var t=this.state.startDate;t&&t.isAfter(e)||this.setState({endDate:e})}},{key:"handleGroupSelection",value:function(e){this.setState({groupId:e.target.value})}},{key:"handleTagSelection",value:function(e){this.setState({tagId:e.target.value})}},{key:"handleDownload",value:function(){var e=Object(gs.b)(this.props.csvRoute,{tag_id:this.state.tagId,group_id:this.state.groupId,start_date:moment(this.state.startDate).format(),end_date:moment(this.state.endDate).format()});window.location.assign(e)}},{key:"render",value:function(){var e=this.props,n=e.groups,r=e.tags,a=e.title,i=e.subtitle,o=e.validate,s=this.state,c=s.groupId,l=s.tagId,u=s.startDate,d=s.endDate,p=o({tagId:l,groupId:c})&&!!u&&!!d;return w.a.createElement("div",{className:"DataCard-main"},w.a.createElement(bb,{title:a,subtitle:i,labsBadgeDescription:t("insights.more_reports.description")}),w.a.createElement("div",{className:"TagReportsInputBox"},r&&w.a.createElement("div",{className:"TagReportsInput d-f fd-c"},w.a.createElement("span",{className:"mb-4"},t("insights.tag_reports.fields.tag")),w.a.createElement(Q,{className:"w-220",onChange:this.handleTagSelection,value:this.state.tagId||""},w.a.createElement("option",{disabled:!0,default:!0,value:""},t("insights.tag_reports.fields.select_a_tag")),Object(S.sortBy)(r,"name").map(function(e){return w.a.createElement("option",{key:Object(S.uniqueId)(),value:e.id},e.name)}))),w.a.createElement("div",{className:"TagReportsInput d-f fd-c"},w.a.createElement("span",{className:"mb-4"},t("insights.tag_reports.fields.group")),w.a.createElement(Q,{className:"w-220",onChange:this.handleGroupSelection,value:this.state.groupId||""},w.a.createElement("option",{disabled:!0,default:!0,value:""},t("insights.tag_reports.fields.select_a_group")),Object(S.sortBy)(n,"name").map(function(e){return w.a.createElement("option",{key:Object(S.uniqueId)(),value:e.id},e.name)}))),w.a.createElement("div",{className:"TagReportsInputBox-datePicker TagReportsInput"},w.a.createElement("span",{className:"mb-4"},t("insights.tag_reports.fields.time_period")),w.a.createElement("div",{className:"ai-c d-f jc-sb"},w.a.createElement(M.a,{className:"NewInput NewInput--light TagReportsInput-dateSelect",dateFormat:L.fixed.NUMERIC_SHORT_MONTH_DAY_YEAR,onChange:this.startDateSelected,placeholderText:t("common.date_format"),selected:u}),w.a.createElement("span",null,"to"),w.a.createElement(M.a,{className:"NewInput NewInput--light TagReportsInput-dateSelect",dateFormat:L.fixed.NUMERIC_SHORT_MONTH_DAY_YEAR,onChange:this.endDateSelected,placeholderText:t("common.date_format"),selected:d})))),w.a.createElement(Ce,{className:"DataCard-link",disabled:!p,onClick:this.handleDownload,type:"primary"},w.a.createElement(z.a,{name:"download"})," ",t("common.download")))}}]),n}(w.a.Component),_y=function(e){function n(e){var t;return l()(this,n),(t=f()(this,m()(n).call(this,e))).state={groups:[],tags:[]},t.fetchData=t.fetchData.bind(v()(t)),t}return y()(n,e),d()(n,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"fetchData",value:function(){var e=this;C.a.get(N.k.GROUPS).then(function(t){var n=t.groups;return e.setState({groups:n})}),C.a.get(N.k.TAGS).then(function(t){var n=t.tags;return e.setState({tags:n})})}},{key:"render",value:function(){return w.a.createElement("section",{className:"DataCard DataCard--containsCards fd-c mb-24"},w.a.createElement(Ey,{csvRoute:N.k.INSIGHTS.TAGS.TAG_ACTIVITY,groups:this.state.groups,title:t("insights.tag_reports.tags_for_group_summary.title"),subtitle:t("insights.tag_reports.tags_for_group_summary.subtitle"),validate:function(e){return!!e.groupId}}),w.a.createElement(Ey,{csvRoute:N.k.INSIGHTS.TAGS.LESSON_ACTIVITY,groups:this.state.groups,tags:this.state.tags,title:t("insights.tag_reports.lessons_for_group_summary.title"),subtitle:t("insights.tag_reports.lessons_for_group_summary.subtitle"),validate:function(e){var t=e.groupId,n=e.tagId;return!!t&&!!n}}),w.a.createElement(Ey,{csvRoute:N.k.INSIGHTS.TAGS.LEARNER_ACTIVITY,groups:this.state.groups,tags:this.state.tags,title:t("insights.tag_reports.learners_for_group_summary.title"),subtitle:t("insights.tag_reports.learners_for_group_summary.subtitle"),validate:function(e){var t=e.groupId,n=e.tagId;return!!t&&!!n}}))}}]),n}(w.a.Component),wy=function(){var e=Intl.DateTimeFormat().resolvedOptions().timeZone;return w.a.createElement(ly.Container,{direction:"column"},w.a.createElement(ly.Content,{title:t("insights.peer_feedback.title"),subtitle:t("insights.peer_feedback.subtitle"),labsBadgeDescription:t("insights.more_reports.description")},w.a.createElement("a",{href:N.k.INSIGHTS.PEER_FEEDBACK.ALL_FEEDBACK,className:"DataCard-link"},w.a.createElement(z.a,{name:"download"})," ",t("common.download"))),w.a.createElement(ly.Content,{title:t("insights.questions_with_peer_feedback_enabled.title"),subtitle:t("insights.questions_with_peer_feedback_enabled.subtitle"),labsBadgeDescription:t("insights.more_reports.description")},w.a.createElement("a",{href:N.k.INSIGHTS.PEER_FEEDBACK.QUESTIONS+"?time_zone=".concat(e),className:"DataCard-link"},w.a.createElement(z.a,{name:"download"})," ",t("common.download"))))},Sy=function(){return w.a.createElement(ly.Container,{direction:"column"},w.a.createElement(ly.Content,{title:t("insights.on_demand_practice.users_report.title"),subtitle:t("insights.on_demand_practice.users_report.subtitle"),labsBadgeDescription:t("insights.more_reports.description")},w.a.createElement("a",{href:N.k.INSIGHTS.ON_DEMAND_PRACTICE.USERS_REPORT,className:"DataCard-link"},w.a.createElement(z.a,{name:"download"})," ",t("common.download"))),w.a.createElement(ly.Content,{title:t("insights.on_demand_practice.scenarios_report.title"),subtitle:t("insights.on_demand_practice.scenarios_report.subtitle"),labsBadgeDescription:t("insights.more_reports.description")},w.a.createElement("a",{href:N.k.INSIGHTS.ON_DEMAND_PRACTICE.SCENARIOS_REPORT,className:"DataCard-link"},w.a.createElement(z.a,{name:"download"})," ",t("common.download"))))},ky=function(){var e=Object(E.useContext)(Vv).params,n=e.start_date||e.end_date,r=e.group_ids&&e.group_ids.length>0,a=function(t){return Object(S.compact)([t,$.param(e)]).join("?")},i=n?_b(e.start_date,e.end_date):t("insights.timeframes.last_90_days");return w.a.createElement(ly.Container,{direction:"column"},w.a.createElement(ly.Content,{title:t("insights.sms.outbound_report.title"),subtitle:r?t("insights.sms.outbound_report.subtitle_with_groups_filter",{date:i}):t("insights.sms.outbound_report.subtitle",{date:i}),labsBadgeDescription:t("insights.more_reports.description")},w.a.createElement("a",{href:a(N.k.INSIGHTS.SMS.OUTBOUND_REPORT),className:"DataCard-link"},w.a.createElement(z.a,{name:"download"})," ",t("common.download"))),w.a.createElement(ly.Content,{title:t("insights.sms.inbound_report.title"),subtitle:r?t("insights.sms.inbound_report.subtitle_with_groups_filter",{date:i}):t("insights.sms.inbound_report.subtitle",{date:i}),labsBadgeDescription:t("insights.more_reports.description")},w.a.createElement("a",{href:a(N.k.INSIGHTS.SMS.INBOUND_REPORT),className:"DataCard-link"},w.a.createElement(z.a,{name:"download"})," ",t("common.download"))))},Cy=function(){var e,n=Object(E.useContext)(Vv).params,r=n.start_date||n.end_date,a=n.group_ids&&n.group_ids.length>0;return w.a.createElement(ly.Container,{direction:"column"},w.a.createElement(ly.Content,{title:t("insights.in_person_training.title"),subtitle:Object(S.find)([r&&a&&t("insights.in_person_training.subtitle_with_all_filters"),r&&t("insights.in_person_training.subtitle_with_date_filter"),a&&t("insights.in_person_training.subtitle_with_groups_filter"),t("insights.in_person_training.subtitle")])},w.a.createElement("a",{href:(e=N.k.INSIGHTS.IN_PERSON_TRAINING.REPORT,Object(S.compact)([e,$.param(n)]).join("?")),className:"DataCard-link"},w.a.createElement(z.a,{name:"download"})," ",t("common.download"))))},Ny=function(e){var n=e.permissions,r=Jb();return w.a.createElement("div",null,!r&&w.a.createElement(w.a.Fragment,null,w.a.createElement(ly.Container,{direction:"column"},w.a.createElement(ly.Content,{title:t("insights.events.title"),subtitle:t("insights.events.subtitle"),labsBadgeDescription:t("insights.more_reports.description")},w.a.createElement("a",{href:N.k.INSIGHTS.ALL_EVENTS_REPORT,className:"DataCard-link"},w.a.createElement(z.a,{name:"download"})," ",t("common.download")))),!n.searches&&w.a.createElement(ly.Container,{direction:"column"},w.a.createElement(ly.Content,{title:t("insights.search_summary.title"),subtitle:t("insights.search_summary.subtitle"),labsBadgeDescription:t("insights.more_reports.description")},w.a.createElement("a",{href:N.k.INSIGHTS.SEARCH.REPORT,className:"DataCard-link"},w.a.createElement(z.a,{name:"download"})," ",t("common.download")))),n.knowledgeCheckAttempts&&w.a.createElement(ly.Container,{direction:"column"},w.a.createElement(ly.Content,{title:t("insights.knowledge_checks.attempts.title"),subtitle:t("insights.knowledge_checks.attempts.subtitle"),labsBadgeDescription:t("insights.more_reports.description")},w.a.createElement("a",{href:N.k.INSIGHTS.KNOWLEDGE_CHECKS.ATTEMPTS_REPORT,className:"DataCard-link"},w.a.createElement(z.a,{name:"download"})," ",t("common.download"))),w.a.createElement(ly.Content,{title:t("insights.knowledge_checks.correctness.title"),subtitle:t("insights.knowledge_checks.correctness.subtitle"),labsBadgeDescription:t("insights.more_reports.description")},w.a.createElement("a",{href:N.k.INSIGHTS.KNOWLEDGE_CHECKS.CORRECTNESS_REPORT,className:"DataCard-link"},w.a.createElement(z.a,{name:"download"})," ",t("common.download")))),n.tagData&&w.a.createElement(_y,null),n.peerFeedback&&w.a.createElement(wy,null),n.onDemandPractice&&w.a.createElement(Sy,null)),n.sms&&w.a.createElement(ky,null),n.inPersonTraining&&w.a.createElement(Cy,null))},Oy=function(e){var t=e.onClick,n=e.children,r=e.disabled;return w.a.createElement("button",{type:"button",disabled:r,onClick:t,className:"NewButton NewButton--white w-180 d-f jc-sb ai-c"},n,w.a.createElement(z.a,{name:"caret_down",customClass:"ml-a c-gray-dark"}))},xy=function(e){var n=e.groups,r=Object(E.useMemo)(function(){return Object(me.keyBy)("id",n)},[n]),a=Yv(Object(E.useMemo)(function(){return{name:"groups",defaultState:[],removeSelected:function(e,t){return t.filter(function(t){return t!==e})},renderSelected:function(e){return r[e].name}}},[r])),i=Ye()(a,2),o=i[0],s=i[1];return w.a.createElement(Za,{wrapperClassName:"pos-r d-ib",popoverClassName:"",sort:{key:"name",descending:!1},data:r,selected:o,applyCallback:s,renderToggle:function(e){var r=e.toggle;return w.a.createElement(Oy,{onClick:r,disabled:0===n.length},0===n.length?t("insights.filters.no_groups"):t("insights.filters.filter_by_group"))}})},Ty={start:null,end:null},Ry={name:"date",defaultState:Ty,mapValueToSelected:function(e){return e.start||e.end?e:null},renderSelected:function(e){return w.a.createElement(Sb,{start:e.start,end:e.end})},removeSelected:function(){return Ty}},Py=function(){var e=Yv(Ry),n=Ye()(e,2),r=n[0],a=n[1];return w.a.createElement(ti,{wrapperClassName:"pos-r d-ib ml-16",popoverClassName:"",applyCallback:a,startDate:r.start,endDate:r.end,renderToggle:function(e){var n=e.toggle;return w.a.createElement(Oy,{onClick:n},t("insights.filters.filter_by_date"))}})},Iy=function(e){var t=e.onRemove,n=e.children;return w.a.createElement("span",{className:"d-ib p-4-8 bg-blue-lighter bdrs-small c-black fw-b fz-12 f-smooth m-4"},n,w.a.createElement("button",{type:"button",className:"u-resetBtn",onClick:t},w.a.createElement(z.a,{name:"remove",customClass:"ml-4"})))},Ay=function(){var e=Qv(),n=e.selectedFilters,r=e.removeAll,a=e.removeOne,i=e.hasSelected,o=e.renderSelected;return i?w.a.createElement("div",{className:"ff-ss"},w.a.createElement(z.a,{name:"filter",customClass:"mr-8 mt-1"}),n.map(function(e,t){return w.a.createElement(Iy,{key:"".concat(e.type,".").concat(o(e),".").concat(t),onRemove:function(){return a(e)}},o(e))}),w.a.createElement(Ce,{type:"primary",className:"ml-8 fz-bigger",onClick:r},t("insights.filters.clear_all"))):null},My=Object(me.pickBy)(function(e){return!Object(me.isEmpty)(e)});var Dy=function(e){var n=e.groups,r=Object(E.useContext)(Vv).params;return Object(E.useEffect)(function(){return function(e){var t=$.param(e),n=Object(me.compact)([N.k.INSIGHTS.INDEX,decodeURI(t)]).join("?");window.history.replaceState(null,"",n)}(r)},[r]),w.a.createElement("div",{className:"mb-16"},w.a.createElement("div",{className:"mb-16 ff-ss d-f ai-c"},w.a.createElement(xy,{groups:n}),w.a.createElement(Py,null),w.a.createElement(ey,null,w.a.createElement("div",{className:"Animated Animated--fadeIn ml-16 d-f ai-c mt-0 p-2-8 bg-teal c-white bdrs-small fw-b fz-12 f-smooth"},t("insights.filters.hidden_modules"),w.a.createElement(z.a,{name:"info","data-toggle":"tooltip",customClass:"ml-4 mt-0","data-original-title":t("insights.filters.hidden_modules_description")})))),w.a.createElement(Ay,null))};Dy.toParams=function(e){var t=e.date,n=e.groups;return My({start_date:t.start,end_date:t.end,group_ids:n})};var jy=Dy,Ly=function(e){var n=e.children,r=Object(E.useContext)(Vv).params,a=r.start_date||r.end_date,i=r.group_ids,o=t("insights.filters.hidden_tab_with_filters");return a||i?w.a.createElement(Tl.a,null,w.a.createElement("img",{className:"mw-300 mb-32",src:hi.a,alt:o}),w.a.createElement(Tl.b,null,o)):n},Fy=function(e){var n=e.i18n,r=e.meta,a=r.permissions,i=(r.features,r.groups),o=e.filters,s=Object(E.useState)(0),c=Ye()(s,2),l=c[0],u=c[1];return w.a.createElement(zv,{initialState:o,toParams:jy.toParams},w.a.createElement("div",{className:"mb-128"},w.a.createElement("header",{className:"Index-header mt-48 mb-24 ff-ss"},w.a.createElement("h1",{className:"Index-title"},n.title)),w.a.createElement(jy,{groups:i}),w.a.createElement(co,{onSelect:u,selectedIndex:l},w.a.createElement(uo,{className:"mb-24",tabClassName:"c-brand-night"},w.a.createElement(fo,null,n.engagement.title),a.lessonRatings&&w.a.createElement(fo,null,n.ratings.title),a.learnerImpact&&w.a.createElement(fo,null,t("insights.learner_impact.title")),a.latestActivities&&w.a.createElement(fo,null,n.activity_feed.title),w.a.createElement(fo,null,t("training_activity.name")),w.a.createElement(fo,null,t("insights.more_reports.title"))),w.a.createElement(mo,null,w.a.createElement(ty,{i18n:n,permissions:a})),a.lessonRatings&&w.a.createElement(mo,null,w.a.createElement(kb,{i18n:n})),a.learnerImpact&&w.a.createElement(mo,null,w.a.createElement(yy,null)),a.latestActivities&&w.a.createElement(mo,null,w.a.createElement(oy,{i18n:n})),w.a.createElement(mo,null,w.a.createElement(Ly,null,w.a.createElement(cc,null))),w.a.createElement(mo,null,w.a.createElement(Ny,{permissions:a})))))},By=function(e){var t=e.correct,n=e.feedback;return w.a.createElement("div",{className:"KnowledgeCheckFeedback"},t&&w.a.createElement("div",{className:"KnowledgeCheckFeedback-heading KnowledgeCheckFeedback-heading--correct"},w.a.createElement(z.a,{name:"correct",customClass:"KnowledgeCheckFeedback-icon"}),I18n.t("questions.question.knowledge_check.feedback.correct")),!t&&w.a.createElement("div",{className:"KnowledgeCheckFeedback-heading KnowledgeCheckFeedback-heading--incorrect"},w.a.createElement(z.a,{name:"incorrect",customClass:"KnowledgeCheckFeedback-icon"}),I18n.t("questions.question.knowledge_check.feedback.incorrect")),w.a.createElement("div",null,Object(S.unescape)(n)))},Uy={READY:{name:"ready",feedback:!1},FEEDBACK_CORRECT:{name:"feedback_correct",feedback:!0},FEEDBACK_INCORRECT:{name:"feedback_incorrect",feedback:!0}},Hy=function(e){function n(e){var t;return l()(this,n),(t=f()(this,m()(n).call(this,e))).state={currentChoice:Object(S.find)(t.optionsFromChoices(),{text:e.data.givenAnswer})||null,mode:Uy.READY,options:Object(me.shuffle)(t.optionsFromChoices())},t}return y()(n,e),d()(n,[{key:"componentDidMount",value:function(){this.goToNextMode()}},{key:"optionsFromChoices",value:function(){return this.props.data.choices.map(function(e){return{value:Object(S.toString)(e.id),text:Object(S.unescape)(e.text),correct:e.correct,feedback:e.feedback}})}},{key:"isInMode",value:function(e){return this.state.mode===e}},{key:"scrambledOptions",value:function(){return this.state.options.length>2?Object(me.shuffle)(this.state.options):Object(me.reverse)(this.state.options)}},{key:"enterMode",value:function(e){var t={mode:e};e===Uy.READY&&(t=R()({},t,{currentChoice:null,options:this.scrambledOptions()})),this.setState(t)}},{key:"isInFeedbackMode",value:function(){return this.state.mode.feedback}},{key:"saveAnswer",value:function(){var e={answer:this.state.currentChoice.text,question_id:this.props.data.questionId};C.a.post(this.props.meta.saveUrl,e)}},{key:"recordEvent",value:function(){var e=this.props.data.questionId,t=this.state.currentChoice,n={browser_information:!0,event_type:"knowledge_check/attempt",event_data:{question_id:e,attempt_data:{choice_id:t.value,choice_text:t.text,correct:t.correct}}};C.a.post(N.k.EVENTS,n)}},{key:"goToNextMode",value:function(){switch(this.state.mode){case Uy.FEEDBACK_CORRECT:break;case Uy.FEEDBACK_INCORRECT:this.enterMode(Uy.READY);break;case Uy.READY:var e=this.state.currentChoice;if(!e)break;e.correct?this.enterMode(Uy.FEEDBACK_CORRECT):this.enterMode(Uy.FEEDBACK_INCORRECT)}}},{key:"buttonText",value:function(){return this.isInMode(Uy.FEEDBACK_INCORRECT)?I18n.t("questions.question.knowledge_check.try_again"):I18n.t("questions.question.knowledge_check.check_answer")}},{key:"handleButtonClick",value:function(){this.state.currentChoice&&(this.isInMode(Uy.READY)&&(this.saveAnswer(),this.recordEvent()),this.goToNextMode())}},{key:"handleOptionsChange",value:function(e){var t=e.target.value;this.setState(function(e){return{currentChoice:Object(S.find)(e.options,{value:t})}})}},{key:"selectedValue",value:function(){return this.state.currentChoice?this.state.currentChoice.value:null}},{key:"buttonDisabled",value:function(){return!this.state.currentChoice||this.isInMode(Uy.FEEDBACK_CORRECT)}},{key:"buttonClassNames",value:function(){return V.a.apply(void 0,["KnowledgeCheckButton-button","btn","btn-sans","btn-lg"].concat([{"btn-primary":!this.buttonDisabled()}]))}},{key:"render",value:function(){var e=this;return w.a.createElement("div",{className:"KnowledgeCheckShow"},w.a.createElement("div",{className:"Label Label--brand CustomColor--backgroundColor "},t("questions.question.knowledge_check.badge")),w.a.createElement(Su,{required:this.props.data.required,subject:this.props.data.subject,elementHeaderClass:this.props.meta.elementHeaderClass,questionSubjectClass:this.props.meta.questionSubjectClass,labelErrorClass:this.props.meta.labelErrorClass}),this.isInFeedbackMode()&&w.a.createElement(By,{correct:this.state.currentChoice.correct,feedback:this.state.currentChoice.feedback}),w.a.createElement(fn,{name:"question-".concat(this.props.data.questionId,"-choices"),disabled:this.props.data.disabled||this.isInFeedbackMode(),selectedValue:this.selectedValue(),onChange:function(t){e.handleOptionsChange(t)}},this.state.options.map(function(e){return w.a.createElement(mn,{key:e.value,value:e.value},e.text)})),w.a.createElement("div",{className:"KnowledgeCheckShow-buttonContainer"},w.a.createElement("button",{type:"button",className:this.buttonClassNames(),onClick:function(){return e.handleButtonClick()},disabled:this.buttonDisabled()},this.buttonText())))}}]),n}(w.a.Component),qy=r(80),Gy=r(154),Wy=function(){return{type:he.h.CONTENTS.REQUEST}},Vy=function(e){var t=e.contents,n=e.topics,r=e.events;return{type:he.h.CONTENTS.RECEIVE,events:r,contents:t,topics:n}},zy=function(e){var t=e.search;return{type:he.h.SEARCH.READY,search:t}};function Yy(){return function(){var e=$n()(Kn.a.mark(function e(t){var n;return Kn.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t(Wy()),e.next=3,C.a.get(N.k.LEARN);case 3:n=e.sent,t(Vy(n)),t(zy(n));case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}var Qy=[],Ky=[],Xy={count:0},$y=function(){},Zy=function(e){return e.id},Jy=function(e){return["function","string"].includes(Ke()(e))},eE=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.source,r=t.identifier,a=void 0===r?Zy:r,i=t.groupBy,o=void 0===i?$y:i;l()(this,e),Object(Xe.a)(Array.isArray(n),"Expected source option to be of type Array but instead received "+"".concat(Ke()(n))),Object(Xe.a)(Jy(a),"Expected identifier option to be of type string or function but "+"instead received ".concat(Ke()(a))),Object(Xe.a)(Jy(o),"Expected groupBy option to be of type string or function but "+"instead instead ".concat(Ke()(o))),this.source=n,this.getIdentifierKey="string"==typeof a?function(e){return e[a]}:a,this.getGroupKey="string"==typeof o?function(e){return e[o]}:o}return d()(e,[{key:"normalize",value:function(){var e=this,t={};return this.source.forEach(function(n){var r,a=e.getIdentifierKey(n),i=e.getGroupKey(n);i?(t[i]||(t[i]={}),r=t[i]):r=t,r[a]=n}),t}}]),e}(),tE=function(e){var t=e.id,n=e.type;return"".concat(n,".").concat(t)},nE=new Map([[N.e.ELEMENT,"l_id"],[N.e.SECTION,"l_id"],[N.e.LESSON,"l_id"],[N.e.PATH,"p_id"],[N.e.TAG,"t_id"]]);function rE(e){var t=e[nE.get(e.content_type)],n=function(e){switch(e.content_type){case N.e.ELEMENT:case N.e.SECTION:return N.e.LESSON;default:return e.content_type}}(e);return{id:t,type:n,compoundId:tE({id:t,type:n})}}function aE(e){var t=e.id,n=e.type;return{id:t,type:n,compoundId:tE({id:t,type:n})}}var iE=Object(ue.c)({contents:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ky,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case he.h.CONTENTS.RECEIVE:return t.contents;default:return e}},topics:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qy,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case he.h.CONTENTS.RECEIVE:return t.topics;default:return e}},events:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xy,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case he.h.CONTENTS.RECEIVE:return t.events;default:return e}},normalized:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case he.h.CONTENTS.RECEIVE:return new eE({source:[].concat(Z()(t.contents),Z()(t.topics)),identifier:function(e){return aE(e).compoundId}}).normalize();default:return e}}}),oE={apiKey:null,appId:null,indexes:[],sourcePage:null,loading:!0,query:"",filters:{topic:{id:""},progress:""}},sE={features:{},askTheExpert:{expert:null},i18n:{}},cE=Object(ue.c)({data:iE,search:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oE,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case he.h.SEARCH.READY:return R()({},e,t.search,{loading:!1});case he.h.SEARCH.SET_SOURCE_PAGE:return R()({},e,{sourcePage:t.sourcePage});case he.h.SEARCH.RESET_SOURCE_PAGE:return R()({},e,{sourcePage:null});case he.h.SEARCH.UPDATE_QUERY:return R()({},e,{query:t.query});case he.h.SEARCH.UPDATE_FILTER:return R()({},e,{filters:R()({},e.filters,i()({},t.name,t.value))});case he.h.SEARCH.RESET_FILTERS:return R()({},e,{filters:oE.filters});default:return e}},loading:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case he.h.CONTENTS.REQUEST:return!0;case he.h.CONTENTS.RECEIVE:case he.h.CONTENTS.REQUEST_ERROR:return!1;default:return e}},meta:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sE;arguments.length>1&&arguments[1];return e}});function lE(e){try{return e()}catch(e){return}}var uE=function(e){return function(t){return function(n){var r=e.getState().meta;if(!Ku||!r.features.combined_learner_experience_browser_cache)return t(n);var a="learn-cache-v".concat(1,"_").concat(r.currentUser.id);if(n.type===he.h.CONTENTS.REQUEST){var i=t(n),o=lE(function(){return JSON.parse(localStorage.getItem(a))});return o&&t(Vy(o)),i}if(n.type===he.h.CONTENTS.RECEIVE){n.type;var s=G()(n,["type"]);lE(function(){return localStorage.setItem(a,JSON.stringify(s))})}return t(n)}}};function dE(e){return fe(e,cE,{name:"Learn",middleware:[uE]})}var pE=function(e){function t(){return l()(this,t),f()(this,m()(t).apply(this,arguments))}return y()(t,e),d()(t,[{key:"componentDidUpdate",value:function(e){this.props.location!==e.location&&window.scrollTo(0,0)}},{key:"render",value:function(){return this.props.children}}]),t}(E.Component),fE=Object(Gy.f)(pE),hE=function(e,t){var n=function(e){return Object(E.createElement)("div",R()({},e,{className:V()(t,e.className)}))};return n.displayName="Layout(".concat(e,")"),n};var mE,gE,vE=(mE={Dashboard:"LearnDashboard",Main:"LearnDashboard-main",Header:"LearnDashboard-header PageHero PageHero--dark PageHero--small",Side:"LearnDashboard-side",Content:"LearnDashboard-content"},gE={},Object.entries(mE).forEach(function(e){var t=Ye()(e,2),n=t[0],r=t[1];gE[n]=hE(n,r)}),gE),bE=Object(le.b)(function(e){return{loading:e.loading}})(function(e){var n=e.loading,r=e.children;return n?w.a.createElement("div",{className:"ta-c w-fill mt-16"},w.a.createElement(k.k,{className:"mr-16"}),w.a.createElement("span",null,t("common.loading"))):r}),yE=Object(Vi.createSelector)(function(e){return e.data.contents},Object(me.filter)("context.assignedDirectly")),EE=Object(Vi.createSelector)(yE,Object(me.negate)(me.isEmpty)),_E=Object(Vi.createSelector)(yE,Object(me.filter)("progress.gradePending")),wE=Object(Vi.createSelector)(yE,Object(me.filter)(function(e){return e.progress.completedDate&&!e.progress.gradePending})),SE=Object(Vi.createSelector)(yE,Object(me.reject)("progress.completedDate")),kE=Object(Vi.createSelector)(SE,Object(me.orderBy)(["progress.dueDate","progress.assignedDate"],["asc","desc"])),CE=Object(Vi.createSelector)(SE,Object(me.negate)(me.isEmpty)),NE=Object(Vi.createStructuredSelector)({awaitingGrade:_E,completed:wE,incomplete:kE}),OE=function(e){return e.data.topics},xE=Object(me.pipe)(Object(me.get)("title"),me.lowerCase),TE=Object(Vi.createSelector)([function(e,t){return t},OE],function(e,t){return Object(me.find)({id:e},t)}),RE=Object(Vi.createSelector)([TE,function(e){return e.data.contents}],Object(me.pipe)(function(e,t){return e?e.contents.map(function(e){return Object(me.find)(e,t)}):[]},Object(me.orderBy)(xE,"asc"))),PE=Object(Vi.createSelector)(OE,Object(me.reduce)(function(e,t){return e.concat(t.contents)},[])),IE=Object(Vi.createSelector)(OE,Object(me.orderBy)(["featured",xE],["desc","asc"])),AE=Object(Vi.createSelector)(OE,Object(me.negate)(me.isEmpty)),ME=function(e){return e.context.assignedDirectly},DE=Object(me.overSome)([ME,function(e){return e.context.inLibraryDirectly}]),jE=Object(me.curry)(function(e,t){var n=aE(t),r=n.id,a=n.type;return!!Object(me.find)({id:r,type:a},e)}),LE=function(e){return!!e.progress.completedDate},FE=function(e){return!!e.progress.startDate},BE=Object(Vi.createStructuredSelector)({isOverdue:function(e){return e.progress.isOverdue},isCompleted:LE,isIncomplete:function(e){var t=e.progress;return t.startDate&&!t.completedDate},hasScore:function(e){var t=e.progress;return Object(me.isNumber)(t.score)}}),UE=function(e){return e.data.contents},HE=Object(me.pipe)(Object(me.get)("title"),me.lowerCase),qE=Object(me.orderBy)(HE,"asc"),GE=Object(Vi.createSelector)([UE,PE],function(e,t){return Object(me.pipe)(Object(me.reject)(Object(me.overSome)([Object(me.negate)(DE),Object(me.overEvery)([ME,Object(me.negate)(LE)]),jE(t)])),qE)(e)}),WE=Object(Vi.createSelector)(UE,Object(me.pipe)(Object(me.filter)(function(e){return e.isFeatured&&DE(e)}),qE)),VE=Object(Vi.createSelector)(WE,Object(me.negate)(me.isEmpty)),zE=Object(Vi.createSelector)(UE,Object(me.reject)(Object(me.overSome)([Object(me.negate)(DE),ME]))),YE=Object(Vi.createSelector)(zE,Object(me.negate)(me.isEmpty)),QE=Object(Vi.createSelector)(UE,Object(me.some)("progress.startDate")),KE=Object(Vi.createSelector)(UE,Object(me.filter)(Object(me.overEvery)([DE,FE]))),XE=Object(Vi.createSelector)(UE,Object(me.filter)(FE)),$E=Object(Vi.createSelector)(UE,Object(me.filter)(LE)),ZE=Object(Vi.createStructuredSelector)({assigned:yE,completed:$E,started:XE}),JE=Object(me.pipe)(Object(me.curry)(function(e,t){return new RegExp("^".concat(t,"/?$"),"i").test(e)}),me.any),e_={VISIBLE:new Set,INVISIBLE:new Set([N.k.LEARN_TOPICS+".*"])},t_=function(){function e(){l()(this,e)}return d()(e,null,[{key:"register",value:function(e){e_.VISIBLE.add(e)}},{key:"isPermitted",value:function(e){return JE(e)([].concat(Z()(e_.VISIBLE),Z()(e_.INVISIBLE)))}},{key:"first",get:function(){return Array.from(e_.VISIBLE)[0]}}]),e}(),n_=function(e){function t(){return l()(this,t),f()(this,m()(t).apply(this,arguments))}return y()(t,e),d()(t,[{key:"componentDidMount",value:function(){this.props.onMount(this.props)}},{key:"render",value:function(){return w.a.createElement(qy.c,H()({className:"LearnNavLink",activeClassName:"CustomColor--borderColor DashboardSidebar-link--active"},Object(me.omit)(Object(me.keys)(t.defaultProps),this.props)))}}]),t}(E.Component);i()(n_,"defaultProps",{onMount:me.identity,if:!0});var r_=n_,a_=function(e){function t(){var e,n;l()(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return n=f()(this,(e=m()(t)).call.apply(e,[this].concat(a))),i()(v()(n),"renderLink",function(e){return!1!==e.if&&w.a.createElement(r_,H()({onMount:n.handleLinkMount},e))}),i()(v()(n),"handleLinkMount",function(e){t_.register(e.to)}),n}return y()(t,e),d()(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.location,n=e.history;t_.isPermitted(t.pathname)||n.push(t_.first)}},{key:"render",value:function(){return this.props.children(this.renderLink)}}]),t}(E.Component),i_=Object(Gy.f)(a_),o_=function(e,t){return null===e&&"/"===t.pathname||null!==e&&e.url===N.k.LEARN},s_=Object(Gy.f)(Object(le.b)(function(e){return{hasAssignments:EE(e),hasLibraryContents:YE(e),hasStartedAny:QE(e),hasEvents:!!e.data.events.count,features:{eventsDashboard:Object(Or.j)(e,"training_events"),peerFeedbackTab:Object(Or.j)(e,"peer_feedback_tab"),onDemandPractice:Object(Or.j)(e,"on_demand_practice")}}})(function(e){var n=e.hasAssignments,r=e.hasEvents,a=e.hasLibraryContents,i=e.hasStartedAny,o=e.features;return w.a.createElement(i_,null,function(e){return w.a.createElement("div",{className:"DashboardSidebar"},w.a.createElement("div",{className:"DashboardSidebar-group"},w.a.createElement("h2",{className:"DashboardSidebar-header"},t("learn.sidebar.headers.learn")),w.a.createElement(e,{to:N.k.LEARN,exact:!0,isActive:o_,className:"DashboardSidebar-link"},t("learn.sidebar.my_learning_content")),w.a.createElement(e,{className:"DashboardSidebar-link",to:N.k.LEARN_ASSIGNMENTS,if:a&&n},t("learn.sidebar.assignments")),w.a.createElement(e,{to:N.k.LEARN_HISTORY,if:i,className:"DashboardSidebar-link"},t("learn.sidebar.history")),o.eventsDashboard&&r&&w.a.createElement("a",{className:"DashboardSidebar-link",href:N.k.IN_PERSON_TRAINING.EVENTS_DASHBOARD},t("learn.sidebar.my_training_events"))),w.a.createElement("div",{className:"DashboardSidebar-group"},(o.onDemandPractice||o.peerFeedbackTab)&&w.a.createElement("h2",{className:"DashboardSidebar-header"},t("learn.sidebar.headers.practice")),o.onDemandPractice&&w.a.createElement("a",{className:"DashboardSidebar-link",href:N.k.ON_DEMAND_PRACTICE.LEARNING.INDEX(1)},t("learn.sidebar.on_demand_practice")),o.peerFeedbackTab&&w.a.createElement("a",{className:"DashboardSidebar-link",href:N.k.PRACTICE.PEER_FEEDBACK},t("learn.sidebar.peer_feedback"))))})})),c_=function(e){var t,n,r=Array.isArray(e)?e.join(" | "):e,a=(t=window.document.title,(n=t.lastIndexOf(" | "))?t.substring(n+" | ".length):t);window.document.title=[r,a].join(" | ")};function l_(e){Object(E.useEffect)(function(){return c_(e)},[e])}var u_=function(e){return l_(e.title),null},d_=function(e){var t=function(t){return Object(E.createElement)(e,R()({},t,BE(t)))};return t.displayName="withComputedProps(".concat(e.name,")"),t},p_=function(e){var t=e.children,n=e.omitCurrentYear,r=I()(t),a=r.format(L.MONTH_DAY_SHORT);return n&&!r.isSame(Date.now(),"year")&&(a=r.format(L.MONTH_DAY_YEAR_SHORT)),w.a.createElement("time",{dateTime:r.toJSON(),title:r.format(L.LONG)},a)};p_.defaultProps={omitCurrentYear:!0};var f_=p_,h_=d_(function(e){var n=e.progress,r=e.isCompleted,a=e.isOverdue,i=e.rounded;return w.a.createElement("div",{className:V()("LearnContentCardDueDateBadge",i&&"LearnContentCardDueDateBadge--rounded",a&&"LearnContentCardDueDateBadge--overdue",r&&"LearnContentCardDueDateBadge--completed")},a&&w.a.createElement("span",null,t("assignments.overdue.label")),!r&&n.dueDate&&!a&&w.a.createElement("span",null,t("assignments.due")," ",w.a.createElement(f_,null,n.dueDate)),r&&w.a.createElement("span",null,w.a.createElement(z.a,{name:"completed",customClass:""}),w.a.createElement(f_,null,n.completedDate)))}),m_=function(e){var t=e.completed,n=e.total,r=e.formatted,a=e.isOverdue;return w.a.createElement("div",{className:"LearnContentCardProgress"},w.a.createElement("div",{className:"LearnContentCardProgress-icon"},t>0?w.a.createElement(k.j,{progress:t/n,fgColor:a?Jv.RED_DARK:Jv.GREEN,bgColor:Jv.GRAY_LIGHTER}):w.a.createElement(z.a,{customClass:"fz-bigger",name:"path"})),w.a.createElement("div",{className:"LearnContentCardProgress-label"},r))},g_=d_(function(e){var n,r=e.progress,a=e.isIncomplete,i=e.isCompleted,o=e.hasScore,s=Object(S.compact)([a&&w.a.createElement("span",{key:"starDate"},t("progress.started")," ",(n=r.startDate,I()(n).format(L.MONTH_DAY_SHORT))),i&&o&&w.a.createElement("span",{key:"score"},"Score:",w.a.createElement("span",{className:"ml-4 c-green"},r.score,"%"))]);return!Object(S.isEmpty)(s)&&w.a.createElement("div",{className:"LearnContentCardStatus"},s)}),v_=function(e){var n=e.estimatedMinutesToComplete;return w.a.createElement("span",{className:"LearnContentCardDuration"},w.a.createElement(z.a,{customClass:"mr-4 c-gray-light",name:"clock"}),n," ",t("time_units.minutes.abbreviation"))},b_=function(e){function t(e){var n;return l()(this,t),(n=f()(this,m()(t).call(this,e))).isString=Object(S.isString)(e.children),n.renderUsingShiitake=Object(S.every)([n.isString,!Nc.a.JAPANESE_CHARACTERS.test(e.children)]),n}return y()(t,e),d()(t,[{key:"componentDidMount",value:function(){if(!this.renderUsingShiitake)try{$clamp(this.nodeRef,{clamp:this.props.lines})}catch(e){this.isString?this.renderUsingShiitake=!0:this.fallbackRenderKey="fallback-render",this.forceUpdate()}}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,r=t.lines,a=t.children;return this.renderUsingShiitake?w.a.createElement(Zm.a,{lines:r,className:n,children:a}):w.a.createElement("span",{key:this.fallbackRenderKey,className:n,ref:function(t){e.nodeRef=t},children:a})}}]),t}(E.Component);i()(b_,"defaultProps",{lines:3});var y_,E_,__=b_,w_=d_(function(e){var t=e.description,n=e.counts,r=e.image,a=e.links,i=e.progress,o=e.title,s=e.type,c=e.isCompleted,l=e.onClick,u=e.estimatedMinutesToComplete;return w.a.createElement(k.f,{cap:i.completedDate||r?null:"top",onClick:l,stacked:s===N.e.PATH,url:a.view,className:V()("LearnContentCard",{"LearnContentCard--hasDueDate":i.dueDate,"LearnContentCard--hasImage":r,"LearnContentCard--path":s===N.e.PATH,"LearnContentCard--lesson":s===N.e.LESSON,"LearnContentCard--completed":c})},(i.dueDate||i.completedDate)&&w.a.createElement(h_,{progress:i}),r&&w.a.createElement(Rv,{image:r,width:222,height:125}),w.a.createElement(k.f.Content,{padding:"medium",className:"LearnContentCard-content"},w.a.createElement(__,{lines:r?3:4,className:"LearnContentCard-title ws-pr"},o),t&&w.a.createElement(__,{lines:r?3:8,className:"LearnContentCard-description"},t),w.a.createElement("div",{className:"LearnContentCard-footer"},s===N.e.PATH&&w.a.createElement(m_,H()({},n,i)),s===N.e.LESSON&&u&&w.a.createElement(v_,{estimatedMinutesToComplete:u}),w.a.createElement(g_,{progress:i}))))}),S_=function(e){function n(e){var t;return l()(this,n),(t=f()(this,m()(n).call(this,e))).state={selectedSortOption:e.defaultSortOption},t.onSortChange=t.onSortChange.bind(v()(t)),t}return y()(n,e),d()(n,[{key:"onSortChange",value:function(e){this.setState({selectedSortOption:e.target.value})}},{key:"getAssignments",value:function(){var e=this.props,t=e.assignments,n=e.sortable,r=e.sortOptions;if(n){var a=r[this.state.selectedSortOption].sort;return t.sort(a)}return t}},{key:"render",value:function(){var e=this.state.selectedSortOption,n=this.props.sortOptions;return w.a.createElement("div",{className:"mb-16"},w.a.createElement(k.g,{className:"LearnContentGroup",items:this.getAssignments(),title:this.props.title},this.props.sortable&&w.a.createElement(k.g.Action,null,w.a.createElement("div",null,w.a.createElement("span",{className:"mr-8"},t("content.sort.prompt")),w.a.createElement(Q,{onChange:this.onSortChange,value:e},Object.entries(n).map(function(e){var t=Ye()(e,2),n=t[0],r=t[1];return w.a.createElement("option",{key:n,value:n},r.label)})))),w.a.createElement(k.g.Items,{render:function(e){return w.a.createElement(w_,H()({key:"".concat(e.id,".").concat(e.type)},e))}})))}}]),n}(E.Component),k_=(y_={},i()(y_,"aToZ",{get label(){return t("content.sort.alphabet_range")},sort:Object(yu.a)("title")}),i()(y_,"mostRecent",{get label(){return t("content.sort.most_recent")},sort:Object(yu.a)("progress.completedDate","desc")}),y_),C_=Object(le.b)(function(e){return{assignments:NE(e)}})(function(e){var n=e.assignments,r=n.incomplete,a=n.awaitingGrade,i=n.completed;return l_(t("learn.sidebar.assignments")),w.a.createElement("div",null,!Object(me.isEmpty)(r)&&w.a.createElement(S_,{title:t("assignments.incomplete.title"),assignments:r}),!Object(me.isEmpty)(a)&&w.a.createElement(S_,{title:t("assignments.grade_pending.title"),assignments:a}),!Object(me.isEmpty)(i)&&w.a.createElement(S_,{title:t("assignments.completed.title"),assignments:i,defaultSortOption:"mostRecent",sortOptions:k_,sortable:!0}))}),N_=Object(me.curryRightN)(2,Object(me.negate)(Or.j)),O_=Object(Vi.createSelector)([Object(me.overEvery)([N_("hide_my_assignments"),CE]),AE],Object(me.rest)(Object(me.negate)(Object(me.some)(me.identity)))),x_=Object(le.b)(function(e){return{additionalContents:GE(e),isOnlySection:O_(e)}})(function(e){var t=e.additionalContents,n=e.isOnlySection;return w.a.createElement(k.g,{className:"LearnContentGroup",items:t,title:n?I18n.t("content.groups.my_learning_content"):I18n.t("content.groups.additional_learning_content")},w.a.createElement(k.g.Items,{render:function(e){return w.a.createElement(w_,H()({key:tE(e)},e))}}))}),T_=Object(le.b)(function(e){return{featuredContent:WE(e)}})(function(e){var n=e.featuredContent;e.isOnlySection;return w.a.createElement(k.g,{className:"LearnContentGroup",title:t("content.groups.featured"),items:n},w.a.createElement(k.g.Items,{render:function(e){return w.a.createElement(w_,H()({onClick:(t=e,n=t.id,r=t.type,function(){var e={browser_information:!0,event_type:"featured_content/featured_content_clicked",event_data:{content_id:n,content_type:r}};C.a.post(N.k.EVENTS,e)}),key:tE(e)},e));var t,n,r}}))}),R_=function(e){var t=e.children,n=e.to;return w.a.createElement(qy.b,{to:n,className:"LearnContentGroup-action u-linkBtn"},w.a.createElement("span",{className:"fz-bigger"},t),w.a.createElement(z.a,{name:"arrow-right",customClass:"ml-4"}))},P_=Object(le.b)(function(e){return{incompleteAssignments:NE(e).incomplete,hasAssignments:EE(e),hasLibraryContents:YE(e)}})(function(e){var n=e.incompleteAssignments,r=e.hasAssignments,a=e.hasLibraryContents;return w.a.createElement(k.g,{className:"LearnContentGroup",title:t("assignments.incomplete.title"),items:n},r&&a&&w.a.createElement(k.g.Action,null,w.a.createElement(R_,{to:N.k.LEARN_ASSIGNMENTS},t("assignments.view_all"))),w.a.createElement(k.g.Items,{render:function(e){return w.a.createElement(w_,H()({key:tE(e)},e))}}))}),I_=function(e){var t=e.counts,n=e.description,r=e.image,a=e.links.view,i=e.name,o=e.featured;return w.a.createElement(k.f,{className:"LearnTopicCard",cap:r?null:"left",url:a,useRouter:!0},r&&w.a.createElement(Rv,{image:r,width:100,height:190}),o&&w.a.createElement(df,{type:"warning",icon:"star_filled"}),w.a.createElement(k.f.Content,{padding:"medium",className:"LearnTopicCard-content"},w.a.createElement(__,{lines:2,className:"LearnTopicCard-title ws-pr"},i),n&&w.a.createElement(__,{lines:3,className:"LearnTopicCard-description"},n),w.a.createElement("div",{className:"LearnTopicCard-footer"},w.a.createElement(z.a,{name:"tags",customClass:"mr-4"}),t.formatted)))},A_=Object(le.b)(function(e){return{topics:IE(e)}})(function(e){var n=e.topics;return w.a.createElement(k.g,{className:"LearnContentGroup",title:t("content.groups.topics"),items:n},w.a.createElement(k.g.Items,{render:function(e){return w.a.createElement(I_,H()({key:e.id},e))}}))}),M_=Object(Vi.createSelector)(function(e){return e.meta.i18n.learn},function(e){return{form:{action:e.expert.learner.submit_alt,heading:e.expert.library.title,placeholder:e.expert.library.placeholder,close:e.common.close,cancel:e.common.cancel},successMessage:{heading:e.expert.learner.sent_title,body:e.expert.learner.sent_body_alt,close:e.common.close}}}),D_={en:"expert_learn",es:"expert_learn_es",fr:"expert_learn_fr",de:"expert_learn_de",pt:"expert_learn_pt",it:"expert_learn_it",sv:"expert_learn_sv",nl:"expert_learn_nl",ru:"expert_learn_ru",ja:"expert_learn_ja","zh-CN":"expert_learn_zh_cn",ar:"expert_learn_ar"},j_=function(){var e=D_[I18n.locale]||"expert_learn_blank";return w.a.createElement(z.a,{customClass:"LearnExpertIcon mr-8 fz-20",name:e})},L_=function(e){function t(e){var n;return l()(this,t),(n=f()(this,m()(t).call(this,e))).state={requestSent:!1,requestSending:!1,question:""},n.updateQuestion=n.updateQuestion.bind(v()(n)),n.submitQuestion=n.submitQuestion.bind(v()(n)),n}return y()(t,e),d()(t,[{key:"updateQuestion",value:function(e){this.setState({question:e})}},{key:"submitQuestion",value:function(){var e=this;this.setState({requestSending:!0}),C.a.post(this.props.endpoint,{message:this.state.question}).then(function(){e.setState({requestSending:!1,requestSent:!0})}).fail(function(){e.setState({requestSending:!1})})}},{key:"render",value:function(){return this.props.children({question:this.state.question,updateQuestion:this.updateQuestion,submitQuestion:this.submitQuestion,requestSending:this.state.requestSending,requestSent:this.state.requestSent})}}]),t}(E.Component),F_=function(e){var t=e.updateQuestion,n=e.question,r=e.expert,a=e.loading,i=e.onSubmit,o=e.onClose,s=e.i18n;return w.a.createElement("div",{className:"Modal-container"},w.a.createElement("div",{className:"Modal-header"},s.heading),w.a.createElement("div",{className:"ExpertForm p-16"},w.a.createElement("textarea",{ref:function(e){return e&&e.focus()},className:"ExpertForm-message p-0",placeholder:s.placeholder,value:n,onChange:function(e){return t(e.target.value)}}),w.a.createElement(k.d,{alignEnd:!0},w.a.createElement("button",{type:"button",onClick:o,className:"u-linkBtn u-linkBtn--dark"},s.cancel),w.a.createElement(k.c,{onClick:i,loading:a,disabled:!n.trim(),tall:!0,customColor:!0},s.action," ",r.name))))},B_=function(e){var t=e.onClose,n=e.i18n;return w.a.createElement("div",{className:"Modal-container"},w.a.createElement("div",{className:"ta-c bg-green"},w.a.createElement("div",{className:"ExpertPopout-image"},w.a.createElement("img",{alt:"Envelope",src:$o.a})),w.a.createElement("div",{className:"ExpertPopout-waves"},w.a.createElement("img",{alt:"Sent Swooshes",src:Ko.a})),w.a.createElement("div",{className:"ExpertPopout-body"},w.a.createElement("p",null,w.a.createElement("strong",null,n.title)),w.a.createElement("p",null,n.body),w.a.createElement(k.c,{onClick:t,tall:!0},n.close))))},U_=function(e){var t=e.onClose,n=e.expert,r=e.i18n;return w.a.createElement(L_,{endpoint:N.k.LEARN_ASK_THE_EXPERT},function(e){var a=e.submitQuestion,i=e.question,o=e.requestSending,s=e.updateQuestion,c=e.requestSent;return w.a.createElement(ts.a,null,w.a.createElement(Bs.a,{className:"Modal ExpertPopout",onEscape:t},!c&&w.a.createElement(F_,{expert:n,loading:o,onClose:t,onSubmit:a,question:i,updateQuestion:s,i18n:r.form}),c&&w.a.createElement(B_,{onClose:t,i18n:r.successMessage}),w.a.createElement("div",{className:"Modal-background"})))})},H_=function(e){function t(e){var n;return l()(this,t),(n=f()(this,m()(t).call(this,e))).state={showModal:!1},n.toggleModal=n.toggleModal.bind(v()(n)),n}return y()(t,e),d()(t,[{key:"toggleModal",value:function(){this.setState(function(e){return{showModal:!e.showModal}})}},{key:"render",value:function(){var e=this.props,t=e.expert,n=e.features,r=e.children,a=e.i18n;return n.askTheExpert&&t&&[w.a.createElement("span",{key:"askTheExpert"},r({toggleModal:this.toggleModal})),this.state.showModal&&w.a.createElement(U_,{expert:t,onClose:this.toggleModal,key:"askTheExpertModal",i18n:a})]}}]),t}(E.Component),q_=Object(le.b)(function(e){return{expert:e.meta.askTheExpert.expert,features:{askTheExpert:Object(Or.j)(e,"ask_the_expert")}}})(H_),G_=Object(le.b)(function(e){return{i18n:{expert:e.meta.i18n.learn.expert,no_content:e.meta.i18n.learn.no_content,expertToggle:M_(e)}}})(function(e){var t=e.i18n;return w.a.createElement(Tl.a,{fullWidth:!0,align:"left",borderStyle:"dashed"},w.a.createElement(Tl.c,null,t.no_content.heading),w.a.createElement(q_,{i18n:t.expertToggle},function(e){var n=e.toggleModal;return w.a.createElement("div",{className:"LearnAskTheExpert"},w.a.createElement(Tl.b,null,w.a.createElement("div",{dangerouslySetInnerHTML:{__html:t.no_content.body_html}})),w.a.createElement(k.c,{className:"mt-16",customColor:!0,tall:!0,onClick:n},w.a.createElement(j_,null),t.expert.action_button))}))}),W_=Object(le.b)(function(e){var t={hasIncompleteAssignments:!Object(Or.j)(e,"hide_my_assignments")&&CE(e),hasTopics:AE(e),hasAdditionalContent:!Object(me.isEmpty)(GE(e)),hasFeaturedContents:Object(Or.j)(e,"combined_learner_experience_feature_lessons")&&VE(e)};return R()({},t,{hasAnyContent:Object(me.some)(me.identity,Object(me.values)(t))})})(function(e){return l_(t("learn.sidebar.my_learning_content")),w.a.createElement("div",null,e.hasIncompleteAssignments&&w.a.createElement(P_,null),e.hasFeaturedContents&&w.a.createElement(T_,null),e.hasTopics&&w.a.createElement(A_,null),e.hasAdditionalContent&&w.a.createElement(x_,null),!e.hasAnyContent&&w.a.createElement(G_,null))}),V_=function(){return w.a.createElement("span",{className:"Pill Pill--small d-ib fw-b bg-gray-light c-brand-gray-darker"},w.a.createElement(z.a,{name:"tags",customClass:"mr-4"}),t("learning_library.topic"))},z_=function(e){function t(){return l()(this,t),f()(this,m()(t).apply(this,arguments))}return y()(t,e),d()(t,[{key:"componentDidMount",value:function(){this.props.topic||(window.location.href=N.k.NOT_FOUND)}},{key:"render",value:function(){var e=this.props,t=e.contents,n=e.topic;return w.a.createElement("div",null,w.a.createElement(V_,null),w.a.createElement(k.g,{className:"LearnContentGroup mt-8",title:n.name,description:n.description,items:t},w.a.createElement(k.g.Items,{render:function(e){return w.a.createElement(w_,H()({key:"".concat(e.id,".").concat(e.type)},e))}})))}}]),t}(E.Component),Y_=Object(le.b)(function(e,t){var n=t.match,r=parseInt(n.params.id,10);return{contents:RE(e,r),topic:TE(e,r)}})(z_),Q_="mostRecentActivity";var K_=(E_={},i()(E_,Q_,{label:function(){return t("content.sort.most_recent")},sort:Object(yu.a)(function(e){return Math.max(e.progress.startTimestamp,e.progress.completedTimestamp)},"desc")}),i()(E_,"aToZ",{label:function(){return t("content.sort.alphabet_range")},sort:Object(yu.a)("title")}),E_),X_=function(e){function n(e){var t;return l()(this,n),(t=f()(this,m()(n).call(this,e))).state={selectedSortOption:Q_},t.onSortChange=t.onSortChange.bind(v()(t)),t}return y()(n,e),d()(n,[{key:"onSortChange",value:function(e){this.setState({selectedSortOption:e.target.value})}},{key:"getContents",value:function(){var e=this.props.contents,t=this.state.selectedSortOption,n=K_[t].sort;return e.sort(n)}},{key:"render",value:function(){return w.a.createElement(w.a.Fragment,null,w.a.createElement(u_,{title:[t("learn.sidebar.history"),t("learn.title")]}),w.a.createElement(k.g,{className:"LearnContentGroup",items:this.getContents(),title:t("content.groups.history")},w.a.createElement(k.g.Action,null,w.a.createElement("div",null,w.a.createElement("span",{className:"mr-8"},t("content.sort.prompt")),w.a.createElement(Q,{onChange:this.onSortChange,value:this.state.selectedSortOption},Object.entries(K_).map(function(e){var t=Ye()(e,2),n=t[0],r=t[1];return w.a.createElement("option",{key:n,value:n},r.label())})))),w.a.createElement(k.g.Items,{render:function(e){return w.a.createElement(w_,H()({key:"".concat(e.id,".").concat(e.type)},e))}})))}}]),n}(E.Component),$_=Object(le.b)(function(e){return{contents:KE(e)}})(X_),Z_=function(){return w.a.createElement(vE.Main,null,w.a.createElement(bE,null,w.a.createElement(vE.Side,null,w.a.createElement(s_,null)),w.a.createElement(vE.Content,null,w.a.createElement(Gy.c,null,w.a.createElement(Gy.a,{path:N.k.LEARN_ASSIGNMENTS,component:C_}),w.a.createElement(Gy.a,{path:N.k.LEARN_TOPIC,component:Y_}),w.a.createElement(Gy.a,{path:N.k.LEARN_HISTORY,component:$_}),w.a.createElement(Gy.a,{component:W_})))))},J_=r(89),ew=r.n(J_),tw=r(55),nw=r.n(tw),rw=r(173),aw=r.n(rw),iw=r(94),ow=r.n(iw);function sw(e,t){if(e===t)return!0;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var a=Object.prototype.hasOwnProperty,i=0;i<n.length;i++)if(!a.call(t,n[i])||e[n[i]]!==t[n[i]])return!1;return!0}function cw(e){return e.displayName||e.name||"UnknownComponent"}var lw=Promise.resolve(),uw=function(e){lw.then(e)};function dw(e){var t=e,n=[];return{getState:function(){return t},setState:function(e){t=e,n.forEach(function(e){return e()})},subscribe:function(e){return n.push(e),function(){n.splice(n.indexOf(e),1)}}}}var pw={highlightPreTag:"<ais-highlight-0000000000>",highlightPostTag:"</ais-highlight-0000000000>"},fw=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function hw(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mw(e){var t=e.indexName,n=e.initialState,r=void 0===n?{}:n,a=e.algoliaClient,i=e.resultsState,o=e.stalledSearchDelay,s=new rw.SearchParameters(fw({index:t},pw)),c=null,l=aw()(a,t,s);l.on("result",b),l.on("error",y),l.on("search",function(){c||(c=setTimeout(function(){var e=nw()(fw({},h.getState(),{isSearchStalled:!0}),"resultsFacetValues");h.setState(e)},o))});var u={},d={},p=l.state,f=function(e){var t=[],n=!1;function r(){n||(n=!0,uw(function(){n=!1,e()}))}return{registerWidget:function(e){return t.push(e),r(),function(){t.splice(t.indexOf(e),1),r()}},update:r,getWidgets:function(){return t}}}(function(){var e=g(h.getState().widgets);h.setState(fw({},h.getState(),{metadata:e,searching:!0})),v()}),h=dw({widgets:r,metadata:[],results:i||null,error:null,searching:!1,isSearchStalled:!0,searchingForFacetValues:!1}),m=!1;function g(e){return f.getWidgets().filter(function(e){return Boolean(e.getMetadata)}).map(function(t){return t.getMetadata(e)})}function v(){if(!m){var e=function(){d={};var e=f.getWidgets().filter(function(e){return Boolean(e.getSearchParameters)}).filter(function(e){return!(e.context.multiIndexContext||e.props.indexName!==t&&e.props.indexName)}).reduce(function(e,t){return t.getSearchParameters(e)},p);d[e.index]=t;var n=f.getWidgets().filter(function(e){return Boolean(e.getSearchParameters)}).filter(function(e){return e.context.multiIndexContext&&e.context.multiIndexContext.targetedIndex!==t||e.props.indexName&&e.props.indexName!==t}).reduce(function(e,t){var n=t.context.multiIndexContext?t.context.multiIndexContext.targetedIndex:t.props.indexName,r=e.find(function(e){return e.targetedIndex===n});return r?r.widgets.push(t):e.push({targetedIndex:n,widgets:[t]}),e},[]),r=f.getWidgets().filter(function(e){return Boolean(e.getSearchParameters)}).filter(function(e){return e.context.multiIndexContext&&e.context.multiIndexContext.targetedIndex===t||e.props.indexName&&e.props.indexName===t}).reduce(function(e,t){return t.getSearchParameters(e)},e);return d[r.index]=t,{sharedParameters:e,mainIndexParameters:r,derivatedWidgets:n}}(l.state),n=e.sharedParameters,r=e.mainIndexParameters,a=e.derivatedWidgets;Object.keys(u).forEach(function(e){return u[e].detach()}),u={},l.setState(n),a.forEach(function(e){var t=e.targetedIndex,r=l.derive(function(){var r=e.widgets.reduce(function(e,t){return t.getSearchParameters(e)},n);return d[r.index]=t,r});r.on("result",b),r.on("error",y),u[t]=r}),l.setState(r),l.search()}}function b(e){var t=h.getState(),n=t.results?t.results:{};n=!ew()(u)&&n.getFacetByName?{}:n,ew()(u)?n=e:n[d[e.index]]=e;var r=h.getState(),a=r.isSearchStalled;l.hasPendingRequests()||(clearTimeout(c),c=null,a=!1);var i=nw()(fw({},r,{results:n,isSearchStalled:a,searching:!1,error:null}),"resultsFacetValues");h.setState(i)}function y(e){var t=h.getState(),n=t.isSearchStalled;l.hasPendingRequests()||(clearTimeout(c),n=!1);var r=nw()(fw({},t,{isSearchStalled:n,error:e,searching:!1}),"resultsFacetValues");h.setState(r)}return{store:h,widgetsManager:f,getWidgetsIds:function(){return h.getState().metadata.reduce(function(e,t){return void 0!==t.id?e.concat(t.id):e},[])},onExternalStateUpdate:function(e){var t=g(e);h.setState(fw({},h.getState(),{widgets:e,metadata:t,searching:!0})),v()},transitionState:function(e){var t=h.getState().widgets;return f.getWidgets().filter(function(e){return Boolean(e.transitionState)}).reduce(function(e,n){return n.transitionState(t,e)},e)},onSearchForFacetValues:function(e){var t=e.facetName,n=e.query,r=e.maxFacetHits;h.setState(fw({},h.getState(),{searchingForFacetValues:!0})),l.searchForFacetValues(t,n,r).then(function(e){var r;h.setState(fw({},h.getState(),{resultsFacetValues:fw({},h.getState().resultsFacetValues,(r={},hw(r,t,e.facetHits),hw(r,"query",n),r)),searchingForFacetValues:!1}))},function(e){h.setState(fw({},h.getState(),{error:e,searchingForFacetValues:!1}))}).catch(function(e){setTimeout(function(){throw e})})},updateClient:function(e){l.setClient(e),v()},updateIndex:function(e){p=p.setIndex(e),v()},clearCache:function(){l.clearCache(),v()},skipSearch:function(){m=!0}}}var gw=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vw=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var bw=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.isControlled=Boolean(e.searchState);var r=n.isControlled?e.searchState:{};return n.isUnmounting=!1,n.aisManager=mw({indexName:e.indexName,algoliaClient:e.algoliaClient,initialState:r,resultsState:e.resultsState,stalledSearchDelay:e.stalledSearchDelay}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,E["Component"]),vw(t,[{key:"componentWillReceiveProps",value:function(e){!function(e,t){if(!e.searchState&&t.searchState)throw new Error("You can't switch <InstantSearch> from being uncontrolled to controlled");if(e.searchState&&!t.searchState)throw new Error("You can't switch <InstantSearch> from being controlled to uncontrolled")}(this.props,e),this.props.indexName!==e.indexName&&this.aisManager.updateIndex(e.indexName),this.props.refresh!==e.refresh&&e.refresh&&this.aisManager.clearCache(),this.props.algoliaClient!==e.algoliaClient&&this.aisManager.updateClient(e.algoliaClient),this.isControlled&&this.aisManager.onExternalStateUpdate(e.searchState)}},{key:"componentWillUnmount",value:function(){this.isUnmounting=!0,this.aisManager.skipSearch()}},{key:"getChildContext",value:function(){return this._aisContextCache||(this._aisContextCache={ais:{onInternalStateUpdate:this.onWidgetsInternalStateUpdate.bind(this),createHrefForState:this.createHrefForState.bind(this),onSearchForFacetValues:this.onSearchForFacetValues.bind(this),onSearchStateChange:this.onSearchStateChange.bind(this),onSearchParameters:this.onSearchParameters.bind(this)}}),{ais:gw({},this._aisContextCache.ais,{store:this.aisManager.store,widgetsManager:this.aisManager.widgetsManager,mainTargetedIndex:this.props.indexName})}}},{key:"createHrefForState",value:function(e){return e=this.aisManager.transitionState(e),this.isControlled&&this.props.createURL?this.props.createURL(e,this.getKnownKeys()):"#"}},{key:"onWidgetsInternalStateUpdate",value:function(e){e=this.aisManager.transitionState(e),this.onSearchStateChange(e),this.isControlled||this.aisManager.onExternalStateUpdate(e)}},{key:"onSearchStateChange",value:function(e){this.props.onSearchStateChange&&!this.isUnmounting&&this.props.onSearchStateChange(e)}},{key:"onSearchParameters",value:function(e,t,n){if(this.props.onSearchParameters){var r=this.props.searchState?this.props.searchState:{};this.props.onSearchParameters(e,t,n,r)}}},{key:"onSearchForFacetValues",value:function(e){this.aisManager.onSearchForFacetValues(e)}},{key:"getKnownKeys",value:function(){return this.aisManager.getWidgetsIds()}},{key:"render",value:function(){var e=E.Children.count(this.props.children),t=this.props.root,n=t.Root,r=t.props;return 0===e?null:w.a.createElement(n,r,this.props.children)}}]),t}();bw.defaultProps={stalledSearchDelay:200},bw.propTypes={indexName:Ea.a.string.isRequired,algoliaClient:Ea.a.object.isRequired,createURL:Ea.a.func,refresh:Ea.a.bool.isRequired,searchState:Ea.a.object,onSearchStateChange:Ea.a.func,onSearchParameters:Ea.a.func,resultsState:Ea.a.oneOfType([Ea.a.object,Ea.a.array]),children:Ea.a.node,root:Ea.a.shape({Root:Ea.a.oneOfType([Ea.a.string,Ea.a.func]),props:Ea.a.object}).isRequired,stalledSearchDelay:Ea.a.number},bw.childContextTypes={ais:Ea.a.object.isRequired};var yw=bw,Ew=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var _w="5.0.1";var ww=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Sw=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),a=n.ais.widgetsManager;return r.unregisterWidget=a.registerWidget(r),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,E["Component"]),ww(t,[{key:"componentWillMount",value:function(){this.context.ais.onSearchParameters(this.getSearchParameters,this.getChildContext(),this.props)}},{key:"componentWillReceiveProps",value:function(e){this.props.indexName!==e.indexName&&this.context.ais.widgetsManager.update()}},{key:"componentWillUnmount",value:function(){this.unregisterWidget()}},{key:"getChildContext",value:function(){return{multiIndexContext:{targetedIndex:this.props.indexName}}}},{key:"getSearchParameters",value:function(e,t){return e.setIndex(this.props?this.props.indexName:t.indexName)}},{key:"render",value:function(){var e=E.Children.count(this.props.children),t=this.props.root,n=t.Root,r=t.props;return 0===e?null:w.a.createElement(n,r,this.props.children)}}]),t}();Sw.propTypes={indexName:Ea.a.string.isRequired,children:Ea.a.node,root:Ea.a.shape({Root:Ea.a.oneOfType([Ea.a.string,Ea.a.func]),props:Ea.a.object}).isRequired},Sw.childContextTypes={multiIndexContext:Ea.a.object.isRequired},Sw.contextTypes={ais:Ea.a.object.isRequired};var kw=Sw,Cw=function(e){var t=function(e){var t=e.indexName,n=e.root,r=e.children;return w.a.createElement(kw,{indexName:t,root:n},r)};return t.propTypes={indexName:Ea.a.string.isRequired,root:Ea.a.shape({Root:Ea.a.oneOfType([Ea.a.string,Ea.a.func]).isRequired,props:Ea.a.object}),children:Ea.a.node},t.defaultProps={root:e},t},Nw=r(448),Ow=r.n(Nw),xw=r(88),Tw=r.n(xw),Rw=r(449),Pw=r.n(Rw),Iw=r(199),Aw=r.n(Iw),Mw=r(52),Dw=r.n(Mw),jw=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Lw=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function Fw(e){if(!e.displayName)throw new Error("`createConnector` requires you to provide a `displayName` property.");var t=Dw()(e,"refine"),n=Dw()(e,"searchForFacetValues"),r=Dw()(e,"getSearchParameters"),a=Dw()(e,"getMetadata"),i=Dw()(e,"transitionState"),o=Dw()(e,"cleanUp"),s=r||a||i;return function(c){var l,u,d;return u=l=function(l){function u(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,e,t));d.call(n);var r=t.ais,a=r.store,i=r.widgetsManager;return n.state={props:n.getProvidedProps(jw({},e,{canRender:!1})),canRender:!1},n.unsubscribe=a.subscribe(function(){n.state.canRender&&n.setState({props:n.getProvidedProps(jw({},n.props,{canRender:n.state.canRender}))})}),s&&(n.unregisterWidget=i.registerWidget(n)),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(u,E["Component"]),Lw(u,[{key:"getMetadata",value:function(t){return a?e.getMetadata.call(this,this.props,t):{}}},{key:"getSearchParameters",value:function(t){return r?e.getSearchParameters.call(this,t,this.props,this.context.ais.store.getState().widgets):null}},{key:"transitionState",value:function(t,n){return i?e.transitionState.call(this,this.props,t,n):n}},{key:"componentDidMount",value:function(){this.setState({canRender:!0})}},{key:"componentWillMount",value:function(){e.getSearchParameters&&this.context.ais.onSearchParameters(e.getSearchParameters,this.context,this.props)}},{key:"componentWillReceiveProps",value:function(t){Aw()(this.props,t)||(this.setState({props:this.getProvidedProps(t)}),s&&(this.context.ais.widgetsManager.update(),e.transitionState&&this.context.ais.onSearchStateChange(e.transitionState.call(this,t,this.context.ais.store.getState().widgets,this.context.ais.store.getState().widgets))))}},{key:"componentWillUnmount",value:function(){if(this.unsubscribe(),s&&(this.unregisterWidget(),o)){var t=e.cleanUp.call(this,this.props,this.context.ais.store.getState().widgets);this.context.ais.store.setState(jw({},this.context.ais.store.getState(),{widgets:t})),this.context.ais.onSearchStateChange(function e(t){return Object.keys(t).forEach(function(n){var r=t[n];ew()(r)&&ow()(r)?delete t[n]:ow()(r)&&e(r)}),t}(t))}}},{key:"shouldComponentUpdate",value:function(e,t){var n=sw(this.props,e);return null===this.state.props||null===t.props?this.state.props!==t.props||!n:!n||!sw(this.state.props,t.props)}},{key:"render",value:function(){if(null===this.state.props)return null;var e=t?{refine:this.refine,createURL:this.createURL}:{},r=n?{searchForItems:this.searchForFacetValues}:{};return w.a.createElement(c,jw({},this.props,this.state.props,e,r))}}]),u}(),l.displayName=e.displayName+"("+cw(c)+")",l.defaultClassNames=c.defaultClassNames,l.propTypes=e.propTypes,l.defaultProps=e.defaultProps,l.contextTypes={ais:Ea.a.object.isRequired,multiIndexContext:Ea.a.object},d=function(){var t=this;this.getProvidedProps=function(n){var r=t.context.ais.store.getState(),a=r.results,i=r.searching,o=r.error,s=r.widgets,c=r.metadata,l=r.resultsFacetValues,u={results:a,searching:i,error:o,searchingForFacetValues:r.searchingForFacetValues,isSearchStalled:r.isSearchStalled};return e.getProvidedProps.call(t,n,s,u,c,l)},this.refine=function(){for(var n,r=arguments.length,a=Array(r),i=0;i<r;i++)a[i]=arguments[i];t.context.ais.onInternalStateUpdate((n=e.refine).call.apply(n,[t,t.props,t.context.ais.store.getState().widgets].concat(a)))},this.searchForFacetValues=function(){for(var n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];t.context.ais.onSearchForFacetValues(e.searchForFacetValues.apply(e,[t.props,t.context.ais.store.getState().widgets].concat(r)))},this.createURL=function(){for(var n,r=arguments.length,a=Array(r),i=0;i<r;i++)a[i]=arguments[i];return t.context.ais.createHrefForState((n=e.refine).call.apply(n,[t,t.props,t.context.ais.store.getState().widgets].concat(a)))},this.cleanUp=function(){for(var n,r=arguments.length,a=Array(r),i=0;i<r;i++)a[i]=arguments[i];return(n=e.cleanUp).call.apply(n,[t].concat(a))}},u}}var Bw=r(121),Uw=r.n(Bw),Hw=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function qw(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gw(e){return e&&e.multiIndexContext?e.multiIndexContext.targetedIndex:e.ais.mainTargetedIndex}function Ww(e,t){return e.results&&!e.results.hits?e.results[Gw(t)]?e.results[Gw(t)]:null:e.results?e.results:null}function Vw(e){return e&&e.multiIndexContext}function zw(e,t,n,r,a){return Vw(n)?a?function(e,t,n,r,a){var i,o=Gw(n),s=r?{page:1}:void 0,c=Dw()(e,"indices."+o)?Hw({},e.indices,qw({},o,Hw({},e.indices[o],(qw(i={},a,Hw({},e.indices[o][a],t)),qw(i,"page",1),i)))):Hw({},e.indices,qw({},o,Hw(qw({},a,t),s)));return Hw({},e,{indices:c})}(e,t,n,r,a):function(e,t,n,r){var a=r?{page:1}:void 0,i=Gw(n),o=Dw()(e,"indices."+i)?Hw({},e.indices,qw({},i,Hw({},e.indices[i],t,a))):Hw({},e.indices,qw({},i,Hw({},t,a)));return Hw({},e,{indices:o})}(e,t,n,r):(e.indices&&r&&Object.keys(e.indices).forEach(function(t){e=zw(e,{page:1},{multiIndexContext:{targetedIndex:t}},!0,a)}),a?function(e,t,n,r){var a=n?{page:1}:void 0;return Hw({},e,qw({},r,Hw({},e[r],t)),a)}(e,t,r,a):function(e,t,n){var r=n?{page:1}:void 0;return Hw({},e,t,r)}(e,t,r))}function Yw(e){var t=e.match(/^([^.]*)\.(.*)/);return{namespace:t&&t[1],attributeName:t&&t[2]}}function Qw(e,t,n,r,a,i){var o=Gw(n),s=Yw(r),c=s.namespace,l=s.attributeName;if(Vw(n)&&t.indices&&c&&t.indices[""+o]&&Dw()(t.indices[""+o][c],""+l)||Vw(n)&&t.indices&&Dw()(t,"indices."+o+"."+r)||!Vw(n)&&c&&Dw()(t[c],l)||!Vw(n)&&Dw()(t,r)){return i(Vw(n)?c?Uw()(t.indices[""+o][c],l):Uw()(t.indices[o],r):c?Uw()(t[c],l):Uw()(t,r))}return e.defaultRefinement?e.defaultRefinement:a}function Kw(e,t,n){var r=Gw(t),a=Yw(n),i=a.namespace,o=a.attributeName;return Vw(t)&&Boolean(e.indices)?i?Hw({},e,{indices:Hw({},e.indices,qw({},r,Hw({},e.indices[r],qw({},i,nw()(e.indices[r][i],""+o)))))}):nw()(e,"indices."+r+"."+n):i?Hw({},e,qw({},i,nw()(e[i],""+o))):nw()(e,""+n)}var Xw=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function $w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Zw=Fw({displayName:"AlgoliaConfigure",getProvidedProps:function(){return{}},getSearchParameters:function(e,t){var n=nw()(t,"children");return e.setQueryParameters(n)},transitionState:function(e,t,n){var r="configure",a=nw()(e,"children"),i=this._props?Pw()(Tw()(this._props),Tw()(e)):[];return this._props=e,zw(n,$w({},r,Xw({},nw()(n[r],i),a)),this.context)},cleanUp:function(e,t){var n="configure",r=Gw(this.context),a=Vw(this.context)&&t.indices?t.indices[r]:t,i=(a&&a[n]?Object.keys(a[n]):[]).reduce(function(t,r){return e[r]||(t[r]=a[n][r]),t},{});return zw(t,$w({},n,i),this.context)}})(function(){return null}),Jw=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},eS=Fw({displayName:"AlgoliaCurrentRefinements",propTypes:{transformItems:Ea.a.func},getProvidedProps:function(e,t,n,r){var a=r.reduce(function(t,n){return void 0!==n.items&&(e.clearsQuery||"query"!==n.id)?e.clearsQuery&&"query"===n.id&&""===n.items[0].currentRefinement?t:t.concat(n.items.map(function(e){return Jw({},e,{id:n.id,index:n.index})})):t},[]);return{items:e.transformItems?e.transformItems(a):a,canRefine:a.length>0}},refine:function(e,t,n){return(n instanceof Array?n.map(function(e){return e.value}):[n]).reduce(function(e,t){return t(e)},t)}}),tS=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var nS=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,E["Component"]),tS(t,[{key:"componentWillMount",value:function(){this.context.setCanRefine&&this.context.setCanRefine(this.props.canRefine)}},{key:"componentWillReceiveProps",value:function(e){this.context.setCanRefine&&this.props.canRefine!==e.canRefine&&this.context.setCanRefine(e.canRefine)}},{key:"render",value:function(){return this.props.children}}]),t}();nS.propTypes={children:Ea.a.node.isRequired,canRefine:Ea.a.bool.isRequired},nS.contextTypes={setCanRefine:Ea.a.func};var rS=nS,aS=r(31),iS=r.n(aS),oS=(Ea.a.shape({register:Ea.a.func.isRequired,swap:Ea.a.func.isRequired,unregister:Ea.a.func.isRequired}),Ea.a.shape({createURL:Ea.a.func.isRequired,setState:Ea.a.func.isRequired,getState:Ea.a.func.isRequired,unlisten:Ea.a.func.isRequired}),function(e){return function(t,n,r){var a=t[n];if(a){var i=!0,o=!1,s=void 0;try{for(var c,l=Object.keys(a)[Symbol.iterator]();!(i=(c=l.next()).done);i=!0){var u=c.value;if(-1===e.indexOf(u))return new Error("Unknown `"+n+"` key `"+u+"`. Check the render method of `"+r+"`.")}}catch(e){o=!0,s=e}finally{try{!i&&l.return&&l.return()}finally{if(o)throw s}}}}}),sS=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function cS(e){return function(t){function n(n){var r=n.translations,a=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(n,["translations"]);return w.a.createElement(t,sS({translate:function(t){for(var n=arguments.length,a=Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];var o=r&&Dw()(r,t)?r[t]:e[t];return"function"==typeof o?o.apply(void 0,a):o}},a))}return n.displayName="Translatable("+cw(t)+")",n.propTypes={translations:oS(Object.keys(e))},n}}var lS=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ais";return function(){for(var n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];var i=r.filter(function(e){return e||""===e}).map(function(n){var r=t+"-"+e;return n?r+"-"+n:r});return iS()(i)}},uS=lS("CurrentRefinements"),dS=function(e){var t=e.items,n=e.canRefine,r=e.refine,a=e.translate,i=e.className;return w.a.createElement("div",{className:iS()(uS("",!n&&"-noRefinement"),i)},w.a.createElement("ul",{className:uS("list",!n&&"list--noRefinement")},t.map(function(e){return w.a.createElement("li",{key:e.label,className:uS("item")},w.a.createElement("span",{className:uS("label")},e.label),e.items?e.items.map(function(e){return w.a.createElement("span",{key:e.label,className:uS("category")},w.a.createElement("span",{className:uS("categoryLabel")},e.label),w.a.createElement("button",{className:uS("delete"),onClick:function(){return r(e.value)}},a("clearFilter",e)))}):w.a.createElement("span",{className:uS("category")},w.a.createElement("button",{className:uS("delete"),onClick:function(){return r(e.value)}},a("clearFilter",e))))})))},pS=Ea.a.arrayOf(Ea.a.shape({label:Ea.a.string.isRequired,value:Ea.a.func.isRequired,items:function(){return pS.apply(void 0,arguments)}}));dS.propTypes={items:pS.isRequired,canRefine:Ea.a.bool.isRequired,refine:Ea.a.func.isRequired,translate:Ea.a.func.isRequired,className:Ea.a.string},dS.defaultProps={className:""};var fS=cS({clearFilter:"✕"})(dS),hS=(eS(function(e){return w.a.createElement(rS,e,w.a.createElement(fS,e))}),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e});var mS=function(e){return e.attributes[0]},gS="hierarchicalMenu";function vS(e,t,n){return Qw(e,t,n,gS+"."+mS(e),null,function(e){return""===e?null:e})}function bS(e,t,n,r){var a=t.id,i=t.attributes,o=t.separator,s=t.rootPath,c=t.showParentLevel,l=vS(t,n,r),u=void 0;null===l?u=e:u=new rw.SearchParameters({hierarchicalFacets:[{name:a,attributes:i,separator:o,rootPath:s,showParentLevel:c}]}).toggleHierarchicalFacetRefinement(a,l).toggleHierarchicalFacetRefinement(a,e).getHierarchicalRefinement(a)[0];return u}var yS=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return t.slice(0,n).map(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Array.isArray(t.items)?hS({},t,{items:e(t.items,n)}):t})};function ES(e,t,n,r){var a,i,o,s=mS(e);return zw(t,(o=n||"",(i=s)in(a={})?Object.defineProperty(a,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):a[i]=o,a),r,!0,gS)}var _S=["name:asc"],wS=Fw({displayName:"AlgoliaHierarchicalMenu",propTypes:{attributes:function(e,t,n){if(!Array.isArray(e[t])||e[t].some(function(e){return"string"!=typeof e})||e[t].length<1)return new Error("Invalid prop "+t+" supplied to "+n+". Expected an Array of Strings")},separator:Ea.a.string,rootPath:Ea.a.string,showParentLevel:Ea.a.bool,defaultRefinement:Ea.a.string,showMore:Ea.a.bool,limit:Ea.a.number,showMoreLimit:Ea.a.number,transformItems:Ea.a.func},defaultProps:{showMore:!1,limit:10,showMoreLimit:20,separator:" > ",rootPath:null,showParentLevel:!0},getProvidedProps:function(e,t,n){var r=e.showMore,a=e.limit,i=e.showMoreLimit,o=mS(e),s=Ww(n,this.context);if(!(Boolean(s)&&Boolean(s.getFacetByName(o))))return{items:[],currentRefinement:vS(e,t,this.context),canRefine:!1};var c=r?i:a,l=s.getFacetValues(o,{sortBy:_S}),u=l.data?function e(t,n,r,a){return t.map(function(t){return{label:t.name,value:bS(t.path,n,r,a),count:t.count,isRefined:t.isRefined,items:t.data&&e(t.data,n,r,a)}})}(l.data,e,t,this.context):[],d=e.transformItems?e.transformItems(u):u;return{items:yS(d,c),currentRefinement:vS(e,t,this.context),canRefine:u.length>0}},refine:function(e,t,n){return ES(e,t,n,this.context)},cleanUp:function(e,t){return function(e,t,n){return Kw(t,n,gS+"."+mS(e))}(e,t,this.context)},getSearchParameters:function(e,t,n){var r=t.attributes,a=t.separator,i=t.rootPath,o=t.showParentLevel,s=t.showMore,c=t.limit,l=t.showMoreLimit,u=mS(t),d=s?l:c;e=e.addHierarchicalFacet({name:u,attributes:r,separator:a,rootPath:i,showParentLevel:o}).setQueryParameters({maxValuesPerFacet:Math.max(e.maxValuesPerFacet||0,d)});var p=vS(t,n,this.context);return null!==p&&(e=e.toggleHierarchicalFacetRefinement(u,p)),e},getMetadata:function(e,t){var n=this,r=e.attributes[0],a=mS(e),i=vS(e,t,this.context);return{id:a,index:Gw(this.context),items:i?[{label:r+": "+i,attribute:r,value:function(t){return ES(e,t,"",n.context)},currentRefinement:i}]:[]}}}),SS=r(131),kS=r.n(SS),CS=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},NS=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var OS=lS("SearchBox"),xS=w.a.createElement("svg",{width:"18",height:"18",viewBox:"0 0 38 38",xmlns:"http://www.w3.org/2000/svg",stroke:"#444",className:OS("loadingIcon")},w.a.createElement("g",{fill:"none",fillRule:"evenodd"},w.a.createElement("g",{transform:"translate(1 1)",strokeWidth:"2"},w.a.createElement("circle",{strokeOpacity:".5",cx:"18",cy:"18",r:"18"}),w.a.createElement("path",{d:"M36 18c0-9.94-8.06-18-18-18"},w.a.createElement("animateTransform",{attributeName:"transform",type:"rotate",from:"0 18 18",to:"360 18 18",dur:"1s",repeatCount:"indefinite"}))))),TS=w.a.createElement("svg",{className:OS("resetIcon"),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",width:"10",height:"10"},w.a.createElement("path",{d:"M8.114 10L.944 2.83 0 1.885 1.886 0l.943.943L10 8.113l7.17-7.17.944-.943L20 1.886l-.943.943-7.17 7.17 7.17 7.17.943.944L18.114 20l-.943-.943-7.17-7.17-7.17 7.17-.944.943L0 18.114l.943-.943L8.113 10z"})),RS=w.a.createElement("svg",{className:OS("submitIcon"),xmlns:"http://www.w3.org/2000/svg",width:"10",height:"10",viewBox:"0 0 40 40"},w.a.createElement("path",{d:"M26.804 29.01c-2.832 2.34-6.465 3.746-10.426 3.746C7.333 32.756 0 25.424 0 16.378 0 7.333 7.333 0 16.378 0c9.046 0 16.378 7.333 16.378 16.378 0 3.96-1.406 7.594-3.746 10.426l10.534 10.534c.607.607.61 1.59-.004 2.202-.61.61-1.597.61-2.202.004L26.804 29.01zm-10.426.627c7.323 0 13.26-5.936 13.26-13.26 0-7.32-5.937-13.257-13.26-13.257C9.056 3.12 3.12 9.056 3.12 16.378c0 7.323 5.936 13.26 13.258 13.26z"})),PS=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.getQuery=function(){return n.props.searchAsYouType?n.props.currentRefinement:n.state.query},n.onInputMount=function(e){n.input=e,n.props.__inputRef&&n.props.__inputRef(e)},n.onKeyDown=function(e){if(n.props.focusShortcuts){var t=n.props.focusShortcuts.map(function(e){return"string"==typeof e?e.toUpperCase().charCodeAt(0):e}),r=e.target||e.srcElement,a=r.tagName;if(!r.isContentEditable&&"INPUT"!==a&&"SELECT"!==a&&"TEXTAREA"!==a){var i=e.which||e.keyCode;-1!==t.indexOf(i)&&(n.input.focus(),e.stopPropagation(),e.preventDefault())}}},n.onSubmit=function(e){e.preventDefault(),e.stopPropagation(),n.input.blur();var t=n.props,r=t.refine;return t.searchAsYouType||r(n.getQuery()),!1},n.onChange=function(e){var t=n.props,r=t.searchAsYouType,a=t.refine,i=t.onChange,o=e.target.value;r?a(o):n.setState({query:o}),i&&i(e)},n.onReset=function(e){var t=n.props,r=t.searchAsYouType,a=t.refine,i=t.onReset;a(""),n.input.focus(),r||n.setState({query:""}),i&&i(e)},n.state={query:e.searchAsYouType?null:e.currentRefinement},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,E["Component"]),NS(t,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.onKeyDown)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.onKeyDown)}},{key:"componentWillReceiveProps",value:function(e){e.searchAsYouType||e.currentRefinement===this.props.currentRefinement||this.setState({query:e.currentRefinement})}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,r=t.translate,a=t.autoFocus,i=t.loadingIndicator,o=t.submit,s=t.reset,c=this.getQuery(),l=Object.keys(this.props).reduce(function(t,n){return-1===["onsubmit","onreset","onchange"].indexOf(n.toLowerCase())&&0===n.indexOf("on")?CS({},t,(r={},a=n,i=e.props[n],a in r?Object.defineProperty(r,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[a]=i,r)):t;var r,a,i},{}),u=this.props.showLoadingIndicator&&this.props.isSearchStalled;return w.a.createElement("div",{className:iS()(OS(""),n)},w.a.createElement("form",{noValidate:!0,onSubmit:this.props.onSubmit?this.props.onSubmit:this.onSubmit,onReset:this.onReset,className:OS("form",u&&"form--stalledSearch"),action:"",role:"search"},w.a.createElement("input",CS({ref:this.onInputMount,type:"search",placeholder:r("placeholder"),autoFocus:a,autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:"false",required:!0,maxLength:"512",value:c,onChange:this.onChange},l,{className:OS("input")})),w.a.createElement("button",{type:"submit",title:r("submitTitle"),className:OS("submit")},o),w.a.createElement("button",{type:"reset",title:r("resetTitle"),className:OS("reset"),hidden:!c||u},s),this.props.showLoadingIndicator&&w.a.createElement("span",{hidden:!u,className:OS("loadingIndicator")},i)))}}]),t}();PS.propTypes={currentRefinement:Ea.a.string,className:Ea.a.string,refine:Ea.a.func.isRequired,translate:Ea.a.func.isRequired,loadingIndicator:Ea.a.node,reset:Ea.a.node,submit:Ea.a.node,focusShortcuts:Ea.a.arrayOf(Ea.a.oneOfType([Ea.a.string,Ea.a.number])),autoFocus:Ea.a.bool,searchAsYouType:Ea.a.bool,onSubmit:Ea.a.func,onReset:Ea.a.func,onChange:Ea.a.func,isSearchStalled:Ea.a.bool,showLoadingIndicator:Ea.a.bool,__inputRef:Ea.a.func},PS.defaultProps={currentRefinement:"",className:"",focusShortcuts:["s","/"],autoFocus:!1,searchAsYouType:!0,showLoadingIndicator:!1,isSearchStalled:!1,loadingIndicator:xS,reset:TS,submit:RS};var IS=cS({resetTitle:"Clear the search query.",submitTitle:"Submit your search query.",placeholder:"Search here…"})(PS),AS=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var MS=Ea.a.arrayOf(Ea.a.shape({value:Ea.a.any,label:Ea.a.node.isRequired,items:function(){return MS.apply(void 0,arguments)}})),DS=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.onShowMoreClick=function(){e.setState(function(e){return{extended:!e.extended}})},e.getLimit=function(){var t=e.props,n=t.limit,r=t.showMoreLimit;return e.state.extended?r:n},e.resetQuery=function(){e.setState({query:""})},e.renderItem=function(t,n){var r=t.items&&w.a.createElement("ul",{className:e.props.cx("list","list--child")},t.items.slice(0,e.getLimit()).map(function(n){return e.renderItem(n,t)}));return w.a.createElement("li",{key:t.key||t.label,className:e.props.cx("item",t.isRefined&&"item--selected",t.noRefinement&&"item--noRefinement",r&&"item--parent")},e.props.renderItem(t,n),r)},e.state={extended:!1,query:""},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,E["Component"]),AS(t,[{key:"renderShowMore",value:function(){var e=this.props,t=e.showMore,n=e.translate,r=e.cx,a=this.state.extended,i=this.props.limit>=this.props.items.length;return t?w.a.createElement("button",{disabled:i,className:r("showMore",i&&"showMore--disabled"),onClick:this.onShowMoreClick},n("showMore",a)):null}},{key:"renderSearchBox",value:function(){var e=this,t=this.props,n=t.cx,r=t.searchForItems,a=t.isFromSearch,i=t.translate,o=t.items,s=t.selectItem,c=0===o.length&&""!==this.state.query?w.a.createElement("div",{className:n("noResults")},i("noResults")):null;return w.a.createElement("div",{className:n("searchBox")},w.a.createElement(IS,{currentRefinement:this.state.query,refine:function(t){e.setState({query:t}),r(t)},focusShortcuts:[],translate:i,onSubmit:function(t){t.preventDefault(),t.stopPropagation(),a&&s(o[0],e.resetQuery)}}),c)}},{key:"render",value:function(){var e=this,t=this.props,n=t.cx,r=t.items,a=t.className,i=t.searchable,o=t.canRefine,s=i?this.renderSearchBox():null,c=iS()(n("",!o&&"-noRefinement"),a);return 0===r.length?w.a.createElement("div",{className:c},s):w.a.createElement("div",{className:c},s,w.a.createElement("ul",{className:n("list",!o&&"list--noRefinement")},r.slice(0,this.getLimit()).map(function(t){return e.renderItem(t,e.resetQuery)})),this.renderShowMore())}}]),t}();DS.propTypes={cx:Ea.a.func.isRequired,translate:Ea.a.func,items:MS,renderItem:Ea.a.func.isRequired,selectItem:Ea.a.func,className:Ea.a.string,showMore:Ea.a.bool,limit:Ea.a.number,showMoreLimit:Ea.a.number,show:Ea.a.func,searchForItems:Ea.a.func,searchable:Ea.a.bool,isFromSearch:Ea.a.bool,canRefine:Ea.a.bool},DS.defaultProps={className:"",isFromSearch:!1};var jS=DS,LS=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},FS=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function BS(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var US=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=Array(a),o=0;o<a;o++)i[o]=arguments[o];return n=r=BS(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.onClick=function(e){var t,n;(n=1===(t=e).button,Boolean(n||t.altKey||t.ctrlKey||t.metaKey||t.shiftKey))||(r.props.onClick(),e.preventDefault())},BS(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,E["Component"]),FS(t,[{key:"render",value:function(){return w.a.createElement("a",LS({},nw()(this.props,"onClick"),{onClick:this.onClick}))}}]),t}();US.propTypes={onClick:Ea.a.func.isRequired};var HS=US,qS=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},GS=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function WS(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var VS=lS("HierarchicalMenu"),zS=Ea.a.arrayOf(Ea.a.shape({label:Ea.a.string.isRequired,value:Ea.a.string,count:Ea.a.number.isRequired,items:function(){return zS.apply(void 0,arguments)}})),YS=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=Array(a),o=0;o<a;o++)i[o]=arguments[o];return n=r=WS(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.renderItem=function(e){var t=r.props,n=t.createURL,a=t.refine;return w.a.createElement(HS,{className:VS("link"),onClick:function(){return a(e.value)},href:n(e.value)},w.a.createElement("span",{className:VS("label")},e.label)," ",w.a.createElement("span",{className:VS("count")},e.count))},WS(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,E["Component"]),GS(t,[{key:"render",value:function(){return w.a.createElement(jS,qS({renderItem:this.renderItem,cx:VS},kS()(this.props,["translate","items","showMore","limit","showMoreLimit","isEmpty","canRefine","className"])))}}]),t}();YS.propTypes={translate:Ea.a.func.isRequired,refine:Ea.a.func.isRequired,createURL:Ea.a.func.isRequired,canRefine:Ea.a.bool.isRequired,items:zS,showMore:Ea.a.bool,className:Ea.a.string,limit:Ea.a.number,showMoreLimit:Ea.a.number,transformItems:Ea.a.func},YS.defaultProps={className:""};var QS=cS({showMore:function(e){return e?"Show less":"Show more"}})(YS);wS(function(e){return w.a.createElement(rS,e,w.a.createElement(QS,e))});function KS(e){var t=e.preTag,n=e.postTag,r=e.highlightedValue,a=(void 0===r?"":r).split(t),i=a.shift(),o=""===i?[]:[{value:i,isHighlighted:!1}];if(n===t){var s=!0;a.forEach(function(e){o.push({value:e,isHighlighted:s}),s=!s})}else a.forEach(function(e){var t=e.split(n);o.push({value:t[0],isHighlighted:!0}),""!==t[1]&&o.push({value:t[1],isHighlighted:!1})});return o}var XS=function(e){var t=e.attribute,n=e.hit,r=e.highlightProperty;return function(e){var t=e.preTag,n=void 0===t?"<em>":t,r=e.postTag,a=void 0===r?"</em>":r,i=e.highlightProperty,o=e.attribute,s=e.hit;if(!s)throw new Error("`hit`, the matching record, must be provided");var c=Uw()(s[i],o,{});return Array.isArray(c)?c.map(function(e){return KS({preTag:n,postTag:a,highlightedValue:e.value})}):KS({preTag:n,postTag:a,highlightedValue:c.value})}({attribute:t,hit:n,preTag:pw.highlightPreTag,postTag:pw.highlightPostTag,highlightProperty:r})},$S=Fw({displayName:"AlgoliaHighlighter",propTypes:{},getProvidedProps:function(){return{highlight:XS}}});function ZS(e,t){return"split-"+e+"-"+t}var JS=function(e){var t=e.cx,n=e.value,r=e.highlightedTagName,a=e.isHighlighted,i=e.nonHighlightedTagName,o=a?r:i,s=a?"highlighted":"nonHighlighted";return w.a.createElement(o,{className:t(s)},n)};JS.propTypes={cx:Ea.a.func.isRequired,value:Ea.a.string.isRequired,isHighlighted:Ea.a.bool.isRequired,highlightedTagName:Ea.a.string.isRequired,nonHighlightedTagName:Ea.a.string.isRequired};var ek=function(e){var t=e.cx,n=e.hit,r=e.attribute,a=e.highlight,i=e.highlightProperty,o=e.tagName,s=e.nonHighlightedTagName,c=e.separator,l=e.className,u=a({hit:n,attribute:r,highlightProperty:i});return w.a.createElement("span",{className:iS()(t(""),l)},u.map(function(e,a){if(Array.isArray(e)){var i=a===u.length-1;return w.a.createElement("span",{key:ZS(a,n[r][a])},e.map(function(e,n){return w.a.createElement(JS,{cx:t,key:ZS(n,e.value),value:e.value,highlightedTagName:o,nonHighlightedTagName:s,isHighlighted:e.isHighlighted})}),!i&&w.a.createElement("span",{className:t("separator")},c))}return w.a.createElement(JS,{cx:t,key:ZS(a,e.value),value:e.value,highlightedTagName:o,nonHighlightedTagName:s,isHighlighted:e.isHighlighted})}))};ek.propTypes={cx:Ea.a.func.isRequired,hit:Ea.a.object.isRequired,attribute:Ea.a.string.isRequired,highlight:Ea.a.func.isRequired,highlightProperty:Ea.a.string.isRequired,tagName:Ea.a.string,nonHighlightedTagName:Ea.a.string,className:Ea.a.string,separator:Ea.a.node},ek.defaultProps={tagName:"em",nonHighlightedTagName:"span",className:"",separator:", "};var tk=ek,nk=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},rk=lS("Highlight"),ak=$S(function(e){return w.a.createElement(tk,nk({},e,{highlightProperty:"_highlightResult",cx:rk}))}),ik=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ok=lS("Snippet"),sk=$S(function(e){return w.a.createElement(tk,ik({},e,{highlightProperty:"_snippetResult",cx:ok}))}),ck=Fw({displayName:"AlgoliaHits",getProvidedProps:function(e,t,n){var r=Ww(n,this.context);return{hits:r?r.hits:[]}},getSearchParameters:function(e){return e}}),lk=lS("Hits"),uk=function(e){var t=e.hits,n=e.className,r=e.hitComponent;return w.a.createElement("div",{className:iS()(lk(""),n)},w.a.createElement("ul",{className:lk("list")},t.map(function(e){return w.a.createElement("li",{className:lk("item"),key:e.objectID},w.a.createElement(r,{hit:e}))})))};uk.propTypes={hits:Ea.a.arrayOf(Ea.a.object).isRequired,className:Ea.a.string,hitComponent:Ea.a.func},uk.defaultProps={className:"",hitComponent:function(e){return w.a.createElement("div",{style:{borderBottom:"1px solid #bbb",paddingBottom:"5px",marginBottom:"5px",wordBreak:"break-all"}},JSON.stringify(e).slice(0,100),"...")}};ck(uk);var dk=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function pk(e,t,n){return Qw(e,t,n,"hitsPerPage",null,function(e){return"string"==typeof e?parseInt(e,10):e})}var fk=Fw({displayName:"AlgoliaHitsPerPage",propTypes:{defaultRefinement:Ea.a.number.isRequired,items:Ea.a.arrayOf(Ea.a.shape({label:Ea.a.string,value:Ea.a.number.isRequired})).isRequired,transformItems:Ea.a.func},getProvidedProps:function(e,t){var n=pk(e,t,this.context),r=e.items.map(function(e){return e.value===n?dk({},e,{isRefined:!0}):dk({},e,{isRefined:!1})});return{items:e.transformItems?e.transformItems(r):r,currentRefinement:n}},refine:function(e,t,n){var r,a,i;return zw(t,(i=n,(a="hitsPerPage")in(r={})?Object.defineProperty(r,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[a]=i,r),this.context,!0)},cleanUp:function(e,t){return Kw(t,this.context,"hitsPerPage")},getSearchParameters:function(e,t,n){return e.setHitsPerPage(pk(t,n,this.context))},getMetadata:function(){return{id:"hitsPerPage"}}}),hk=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function mk(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var gk=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=Array(a),o=0;o<a;o++)i[o]=arguments[o];return n=r=mk(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.onChange=function(e){r.props.onSelect(e.target.value)},mk(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,E["Component"]),hk(t,[{key:"render",value:function(){var e=this.props,t=e.cx,n=e.items,r=e.selectedItem;return w.a.createElement("select",{className:t("select"),value:r,onChange:this.onChange},n.map(function(e){return w.a.createElement("option",{className:t("option"),key:Dw()(e,"key")?e.key:e.value,disabled:e.disabled,value:e.value},Dw()(e,"label")?e.label:e.value)}))}}]),t}();gk.propTypes={cx:Ea.a.func.isRequired,onSelect:Ea.a.func.isRequired,items:Ea.a.arrayOf(Ea.a.shape({value:Ea.a.oneOfType([Ea.a.string,Ea.a.number]).isRequired,key:Ea.a.oneOfType([Ea.a.string,Ea.a.number]),label:Ea.a.string,disabled:Ea.a.bool})).isRequired,selectedItem:Ea.a.oneOfType([Ea.a.string,Ea.a.number]).isRequired};var vk=gk,bk=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var yk=lS("HitsPerPage"),Ek=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,E["Component"]),bk(t,[{key:"render",value:function(){var e=this.props,t=e.items,n=e.currentRefinement,r=e.refine,a=e.className;return w.a.createElement("div",{className:iS()(yk(""),a)},w.a.createElement(vk,{onSelect:r,selectedItem:n,items:t,cx:yk}))}}]),t}();Ek.propTypes={items:Ea.a.arrayOf(Ea.a.shape({value:Ea.a.number.isRequired,label:Ea.a.string})).isRequired,currentRefinement:Ea.a.number.isRequired,refine:Ea.a.func.isRequired,className:Ea.a.string},Ek.defaultProps={className:""};fk(Ek);function _k(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function wk(e,t,n){return Qw(e,t,n,"page",1,function(e){return"string"==typeof e&&(e=parseInt(e,10)),e})}var Sk=Fw({displayName:"AlgoliaInfiniteHits",getProvidedProps:function(e,t,n){var r=Ww(n,this.context);if(this._allResults=this._allResults||[],!r)return{hits:[],hasMore:!1};var a=r.hits,i=r.page,o=r.nbPages;0===i?this._allResults=a:i>this.previousPage?this._allResults=[].concat(_k(this._allResults),_k(a)):i<this.previousPage&&(this._allResults=a);var s=i<o-1;return this.previousPage=i,{hits:this._allResults,hasMore:s}},getSearchParameters:function(e,t,n){return e.setQueryParameters({page:wk(t,n,this.context)-1})},refine:function(e,t){var n,r,a,i=wk(e,t,this.context)+1;return zw(t,(a=i,(r="page")in(n={})?Object.defineProperty(n,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[r]=a,n),this.context,!1)}}),kk=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var Ck=lS("InfiniteHits"),Nk=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,E["Component"]),kk(t,[{key:"render",value:function(){var e=this.props,t=e.hitComponent,n=e.hits,r=e.hasMore,a=e.refine,i=e.translate,o=e.className;return w.a.createElement("div",{className:iS()(Ck(""),o)},w.a.createElement("ul",{className:Ck("list")},n.map(function(e){return w.a.createElement("li",{key:e.objectID,className:Ck("item")},w.a.createElement(t,{hit:e}))})),w.a.createElement("button",{className:Ck("loadMore",!r&&"loadMore--disabled"),onClick:function(){return a()},disabled:!r},i("loadMore")))}}]),t}();Nk.propTypes={hits:Ea.a.arrayOf(Ea.a.object).isRequired,hasMore:Ea.a.bool.isRequired,refine:Ea.a.func.isRequired,translate:Ea.a.func.isRequired,className:Ea.a.string,hitComponent:Ea.a.oneOfType([Ea.a.string,Ea.a.func])},Nk.defaultProps={className:"",hitComponent:function(e){return w.a.createElement("div",{style:{borderBottom:"1px solid #bbb",paddingBottom:"5px",marginBottom:"5px",wordBreak:"break-all"}},JSON.stringify(e).slice(0,100),"...")}};Sk(cS({loadMore:"Load more"})(Nk));var Ok=r(240),xk=r.n(Ok);var Tk="menu";function Rk(e){return e.attribute}function Pk(e,t,n){return Qw(e,t,n,Tk+"."+Rk(e),null,function(e){return""===e?null:e})}function Ik(e,t,n,r){return e===Pk(t,n,r)?"":e}function Ak(e){var t=e.showMore,n=e.limit,r=e.showMoreLimit;return t?r:n}function Mk(e,t,n,r){var a,i,o,s=Rk(e);return zw(t,(o=n||"",(i=s)in(a={})?Object.defineProperty(a,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):a[i]=o,a),r,!0,Tk)}var Dk=["count:desc","name:asc"],jk=Fw({displayName:"AlgoliaMenu",propTypes:{attribute:Ea.a.string.isRequired,showMore:Ea.a.bool,limit:Ea.a.number,showMoreLimit:Ea.a.number,defaultRefinement:Ea.a.string,transformItems:Ea.a.func,searchable:Ea.a.bool},defaultProps:{showMore:!1,limit:10,showMoreLimit:20},getProvidedProps:function(e,t,n,r,a){var i=this,o=e.attribute,s=e.searchable,c=Ww(n,this.context),l=Boolean(c)&&Boolean(c.getFacetByName(o)),u=Boolean(a&&a[o]&&""!==a.query);if(s&&this.context.multiIndexContext)throw new Error("react-instantsearch: searching in *List is not available when used inside a multi index context");if(!l)return{items:[],currentRefinement:Pk(e,t,this.context),isFromSearch:u,searchable:s,canRefine:l};var d=u?a[o].map(function(n){return{label:n.value,value:Ik(n.value,e,t,i.context),_highlightResult:{label:{value:n.highlighted}},count:n.count,isRefined:n.isRefined}}):c.getFacetValues(o,{sortBy:Dk}).map(function(n){return{label:n.name,value:Ik(n.name,e,t,i.context),count:n.count,isRefined:n.isRefined}}),p=s&&!u?xk()(d,["isRefined","count","label"],["desc","desc","asc"]):d;return{items:(e.transformItems?e.transformItems(p):p).slice(0,Ak(e)),currentRefinement:Pk(e,t,this.context),isFromSearch:u,searchable:s,canRefine:d.length>0}},refine:function(e,t,n){return Mk(e,t,n,this.context)},searchForFacetValues:function(e,t,n){return{facetName:e.attribute,query:n,maxFacetHits:Ak(e)}},cleanUp:function(e,t){return function(e,t,n){return Kw(t,n,Tk+"."+Rk(e))}(e,t,this.context)},getSearchParameters:function(e,t,n){var r=t.attribute;e=(e=e.setQueryParameters({maxValuesPerFacet:Math.max(e.maxValuesPerFacet||0,Ak(t))})).addDisjunctiveFacet(r);var a=Pk(t,n,this.context);return null!==a&&(e=e.addDisjunctiveFacetRefinement(r,a)),e},getMetadata:function(e,t){var n=this,r=Rk(e),a=Pk(e,t,this.context);return{id:r,index:Gw(this.context),items:null===a?[]:[{label:e.attribute+": "+a,attribute:e.attribute,value:function(t){return Mk(e,t,"",n.context)},currentRefinement:a}]}}}),Lk=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fk=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function Bk(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var Uk=lS("Menu"),Hk=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=Array(a),o=0;o<a;o++)i[o]=arguments[o];return n=r=Bk(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.renderItem=function(e,t){var n=r.props.createURL,a=r.props.isFromSearch?w.a.createElement(ak,{attribute:"label",hit:e}):e.label;return w.a.createElement(HS,{className:Uk("link"),onClick:function(){return r.selectItem(e,t)},href:n(e.value)},w.a.createElement("span",{className:Uk("label")},a)," ",w.a.createElement("span",{className:Uk("count")},e.count))},r.selectItem=function(e,t){t(),r.props.refine(e.value)},Bk(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,E["Component"]),Fk(t,[{key:"render",value:function(){return w.a.createElement(jS,Lk({renderItem:this.renderItem,selectItem:this.selectItem,cx:Uk},kS()(this.props,["translate","items","showMore","limit","showMoreLimit","isFromSearch","searchForItems","searchable","canRefine","className"])))}}]),t}();Hk.propTypes={translate:Ea.a.func.isRequired,refine:Ea.a.func.isRequired,searchForItems:Ea.a.func.isRequired,searchable:Ea.a.bool,createURL:Ea.a.func.isRequired,items:Ea.a.arrayOf(Ea.a.shape({label:Ea.a.string.isRequired,value:Ea.a.string.isRequired,count:Ea.a.number.isRequired,isRefined:Ea.a.bool.isRequired})),isFromSearch:Ea.a.bool.isRequired,canRefine:Ea.a.bool.isRequired,showMore:Ea.a.bool,limit:Ea.a.number,showMoreLimit:Ea.a.number,transformItems:Ea.a.func,className:Ea.a.string},Hk.defaultProps={className:""};var qk=cS({showMore:function(e){return e?"Show less":"Show more"},noResults:"No results",submit:null,reset:null,resetTitle:"Clear the search query.",submitTitle:"Submit your search query.",placeholder:"Search here…"})(Hk),Gk=(jk(function(e){return w.a.createElement(rS,e,w.a.createElement(qk,e))}),r(120)),Wk=r.n(Gk),Vk=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function zk(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var Yk=lS("MenuSelect"),Qk=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=Array(a),o=0;o<a;o++)i[o]=arguments[o];return n=r=zk(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.handleSelectChange=function(e){var t=e.target.value;r.props.refine("ais__see__all__option"===t?"":t)},zk(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,E["Component"]),Vk(t,[{key:"render",value:function(){var e=this.props,t=e.items,n=e.canRefine,r=e.translate,a=e.className;return w.a.createElement("div",{className:iS()(Yk("",!n&&"-noRefinement"),a)},w.a.createElement("select",{value:this.selectedValue,onChange:this.handleSelectChange,className:Yk("select")},w.a.createElement("option",{value:"ais__see__all__option",className:Yk("option")},r("seeAllOption")),t.map(function(e){return w.a.createElement("option",{key:e.value,value:e.value,className:Yk("option")},e.label," (",e.count,")")})))}},{key:"selectedValue",get:function(){return(Wk()(this.props.items,{isRefined:!0})||{value:"ais__see__all__option"}).value}}]),t}();Qk.propTypes={items:Ea.a.arrayOf(Ea.a.shape({label:Ea.a.string.isRequired,value:Ea.a.string.isRequired,count:Ea.a.oneOfType([Ea.a.number.isRequired,Ea.a.string.isRequired]),isRefined:Ea.a.bool.isRequired})).isRequired,canRefine:Ea.a.bool.isRequired,refine:Ea.a.func.isRequired,translate:Ea.a.func.isRequired,className:Ea.a.string},Qk.defaultProps={className:""};var Kk=cS({seeAllOption:"See all"})(Qk),Xk=(jk(function(e){return w.a.createElement(rS,e,w.a.createElement(Kk,e))}),function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,a=!1,i=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){a=!0,i=e}finally{try{!r&&s.return&&s.return()}finally{if(a)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}());function $k(e){return void 0===e.start&&void 0===e.end?"":(e.start?e.start:"")+":"+(e.end?e.end:"")}var Zk="multiRange";function Jk(e){return e.attribute}function eC(e,t,n){return Qw(e,t,n,Zk+"."+Jk(e),"",function(e){return""===e?"":e})}function tC(e,t,n){var r=t.getFacetByName(e)?t.getFacetStats(e):null,a=n.split(":"),i=0===Number(a[0])||""===n?Number.NEGATIVE_INFINITY:Number(a[0]),o=0===Number(a[1])||""===n?Number.POSITIVE_INFINITY:Number(a[1]);return!(Boolean(r)&&(function(e,t,n){return e.min>t&&e.min<n||e.max>t&&e.max<n}(r,i,o)||function(e,t,n){return t>e.min&&t<e.max||n>e.min&&n<e.max}(r,i,o)))}function nC(e,t,n,r){var a,i,o;return zw(t,(a={},i=Jk(e),o=n,i in a?Object.defineProperty(a,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):a[i]=o,a),r,!0,Zk)}var rC=Fw({displayName:"AlgoliaNumericMenu",propTypes:{id:Ea.a.string,attribute:Ea.a.string.isRequired,items:Ea.a.arrayOf(Ea.a.shape({label:Ea.a.node,start:Ea.a.number,end:Ea.a.number})).isRequired,transformItems:Ea.a.func},getProvidedProps:function(e,t,n){var r=e.attribute,a=eC(e,t,this.context),i=Ww(n,this.context),o=e.items.map(function(t){var n=$k(t);return{label:t.label,value:n,isRefined:n===a,noRefinement:!!i&&tC(Jk(e),i,n)}}),s=i&&i.getFacetByName(r)?i.getFacetStats(r):null,c=Wk()(o,function(e){return!0===e.isRefined});return o.some(function(e){return""===e.value})||o.push({value:"",isRefined:ew()(c),noRefinement:!s,label:"All"}),{items:e.transformItems?e.transformItems(o):o,currentRefinement:a,canRefine:o.length>0&&o.some(function(e){return!1===e.noRefinement})}},refine:function(e,t,n){return nC(e,t,n,this.context)},cleanUp:function(e,t){return function(e,t,n){return Kw(t,n,Zk+"."+Jk(e))}(e,t,this.context)},getSearchParameters:function(e,t,n){var r=t.attribute,a=function(e){if(0===e.length)return{start:null,end:null};var t=e.split(":"),n=Xk(t,2),r=n[0],a=n[1];return{start:r.length>0?parseInt(r,10):null,end:a.length>0?parseInt(a,10):null}}(eC(t,n,this.context)),i=a.start,o=a.end;return e=e.addDisjunctiveFacet(r),i&&(e=e.addNumericRefinement(r,">=",i)),o&&(e=e.addNumericRefinement(r,"<=",o)),e},getMetadata:function(e,t){var n=this,r=Jk(e),a=eC(e,t,this.context),i=[],o=Gw(this.context);if(""!==a){var s=Wk()(e.items,function(e){return $k(e)===a}).label;i.push({label:e.attribute+": "+s,attribute:e.attribute,currentRefinement:s,value:function(t){return nC(e,t,"",n.context)}})}return{id:r,index:o,items:i}}}),aC=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},iC=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function oC(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var sC=lS("NumericMenu"),cC=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=Array(a),o=0;o<a;o++)i[o]=arguments[o];return n=r=oC(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.renderItem=function(e){var t=r.props,n=t.refine,a=t.translate;return w.a.createElement("label",{className:sC("label")},w.a.createElement("input",{className:sC("radio"),type:"radio",checked:e.isRefined,disabled:e.noRefinement,onChange:function(){return n(e.value)}}),w.a.createElement("span",{className:sC("labelText")},""===e.value?a("all"):e.label))},oC(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,E["Component"]),iC(t,[{key:"render",value:function(){var e=this.props,t=e.items,n=e.canRefine,r=e.className;return w.a.createElement(jS,{renderItem:this.renderItem,showMore:!1,canRefine:n,cx:sC,items:t.map(function(e){return aC({},e,{key:e.value})}),className:r})}}]),t}();cC.propTypes={items:Ea.a.arrayOf(Ea.a.shape({label:Ea.a.node.isRequired,value:Ea.a.string.isRequired,isRefined:Ea.a.bool.isRequired,noRefinement:Ea.a.bool.isRequired})).isRequired,canRefine:Ea.a.bool.isRequired,refine:Ea.a.func.isRequired,translate:Ea.a.func.isRequired,className:Ea.a.string},cC.defaultProps={className:""};var lC=cS({all:"All"})(cC);rC(function(e){return w.a.createElement(rS,e,w.a.createElement(lC,e))});function uC(e,t,n){return Qw(e,t,n,"page",1,function(e){return"string"==typeof e?parseInt(e,10):e})}function dC(e,t,n,r){var a,i,o;return zw(t,(o=n,(i="page")in(a={})?Object.defineProperty(a,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):a[i]=o,a),r,!1)}var pC=Fw({displayName:"AlgoliaPagination",getProvidedProps:function(e,t,n){var r=Ww(n,this.context);if(!r)return null;var a=r.nbPages;return{nbPages:a,currentRefinement:uC(e,t,this.context),canRefine:a>1}},refine:function(e,t,n){return dC(0,t,n,this.context)},cleanUp:function(e,t){return Kw(t,this.context,"page")},getSearchParameters:function(e,t,n){return e.setPage(uC(t,n,this.context)-1)},getMetadata:function(){return{id:"page"}}}),fC=r(330),hC=r.n(fC),mC=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var gC=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,E["Component"]),mC(t,[{key:"render",value:function(){var e=this.props,t=e.cx,n=e.createURL,r=e.items,a=e.onSelect,i=e.canRefine;return w.a.createElement("ul",{className:t("list",!i&&"list--noRefinement")},r.map(function(e){return w.a.createElement("li",{key:Dw()(e,"key")?e.key:e.value,className:t("item",e.selected&&!e.disabled&&"item--selected",e.disabled&&"item--disabled",e.modifier)},e.disabled?w.a.createElement("span",{className:t("link")},Dw()(e,"label")?e.label:e.value):w.a.createElement(HS,{className:t("link",e.selected&&"link--selected"),"aria-label":e.ariaLabel,href:n(e.value),onClick:function(){return a(e.value)}},Dw()(e,"label")?e.label:e.value))}))}}]),t}();gC.propTypes={cx:Ea.a.func.isRequired,createURL:Ea.a.func.isRequired,items:Ea.a.arrayOf(Ea.a.shape({value:Ea.a.oneOfType([Ea.a.string,Ea.a.number,Ea.a.object]).isRequired,key:Ea.a.oneOfType([Ea.a.string,Ea.a.number]),label:Ea.a.node,modifier:Ea.a.string,ariaLabel:Ea.a.string,disabled:Ea.a.bool})),onSelect:Ea.a.func.isRequired,canRefine:Ea.a.bool.isRequired};var vC=gC,bC=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yC=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var EC=lS("Pagination");function _C(e,t,n){var r=function(e,t){return Math.min(2*e+1,t)}(n,t);if(r===t)return hC()(1,t+1);var a=function(e,t,n,r){return e<=t?e:e>=n-t?r-(n-e):t+1}(e,n,t,r),i=e-a,o=e+(r-a);return hC()(i+1,o+1)}var wC=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,E["Component"]),yC(t,[{key:"getItem",value:function(e,t,n){var r,a=this.props,i=a.nbPages,o=a.totalPages,s=a.translate;return{key:e+"."+n,modifier:e,disabled:n<1||n>=Math.min(o,i),label:s(t,n),value:n,ariaLabel:s("aria"+(r=t,0===r.length?"":""+r[0].toUpperCase()+r.slice(1)),n)}}},{key:"render",value:function(){var e=this.props,t=e.listComponent,n=e.nbPages,r=e.totalPages,a=e.currentRefinement,i=e.padding,o=e.showFirst,s=e.showPrevious,c=e.showNext,l=e.showLast,u=e.refine,d=e.createURL,p=e.canRefine,f=e.translate,h=e.className,m=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["listComponent","nbPages","totalPages","currentRefinement","padding","showFirst","showPrevious","showNext","showLast","refine","createURL","canRefine","translate","className"]),g=Math.min(n,r),v=g,b=[];return o&&b.push({key:"first",modifier:"item--firstPage",disabled:1===a,label:f("first"),value:1,ariaLabel:f("ariaFirst")}),s&&b.push({key:"previous",modifier:"item--previousPage",disabled:1===a,label:f("previous"),value:a-1,ariaLabel:f("ariaPrevious")}),b=b.concat(_C(a,g,i).map(function(e){return{key:e,modifier:"item--page",label:f("page",e),value:e,selected:e===a,ariaLabel:f("ariaPage",e)}})),c&&b.push({key:"next",modifier:"item--nextPage",disabled:a===v||v<=1,label:f("next"),value:a+1,ariaLabel:f("ariaNext")}),l&&b.push({key:"last",modifier:"item--lastPage",disabled:a===v||v<=1,label:f("last"),value:v,ariaLabel:f("ariaLast")}),w.a.createElement("div",{className:iS()(EC("",!p&&"-noRefinement"),h)},w.a.createElement(t,bC({},m,{cx:EC,items:b,onSelect:u,createURL:d,canRefine:p})))}}]),t}();wC.propTypes={nbPages:Ea.a.number.isRequired,currentRefinement:Ea.a.number.isRequired,refine:Ea.a.func.isRequired,createURL:Ea.a.func.isRequired,canRefine:Ea.a.bool.isRequired,translate:Ea.a.func.isRequired,listComponent:Ea.a.func,showFirst:Ea.a.bool,showPrevious:Ea.a.bool,showNext:Ea.a.bool,showLast:Ea.a.bool,padding:Ea.a.number,totalPages:Ea.a.number,className:Ea.a.string},wC.defaultProps={listComponent:vC,showFirst:!0,showPrevious:!0,showNext:!0,showLast:!1,padding:3,totalPages:1/0,className:""};var SC=cS({previous:"‹",next:"›",first:"«",last:"»",page:function(e){return e.toString()},ariaPrevious:"Previous page",ariaNext:"Next page",ariaFirst:"First page",ariaLast:"Last page",ariaPage:function(e){return"Page "+e.toString()}})(wC),kC=(pC(function(e){return w.a.createElement(rS,e,w.a.createElement(SC,e))}),Fw({displayName:"AlgoliaPoweredBy",propTypes:{},getProvidedProps:function(e){return{url:"https://www.algolia.com/?utm_source=react-instantsearch&utm_medium=website&utm_content="+(e.canRender?location.hostname:"")+"&utm_campaign=poweredby"}}})),CC=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var NC=lS("PoweredBy"),OC=function(){return w.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",baseProfile:"basic",viewBox:"0 0 1366 362",width:"100",height:"27",className:NC("logo")},w.a.createElement("linearGradient",{id:"g",x1:"428.258",x2:"434.145",y1:"404.15",y2:"409.85",gradientUnits:"userSpaceOnUse",gradientTransform:"matrix(94.045 0 0 -94.072 -40381.527 38479.52)"},w.a.createElement("stop",{offset:"0",stopColor:"#00AEFF"}),w.a.createElement("stop",{offset:"1",stopColor:"#3369E7"})),w.a.createElement("path",{d:"M61.8 15.4h242.8c23.9 0 43.4 19.4 43.4 43.4v242.9c0 23.9-19.4 43.4-43.4 43.4H61.8c-23.9 0-43.4-19.4-43.4-43.4v-243c0-23.9 19.4-43.3 43.4-43.3z",fill:"url(#g)"}),w.a.createElement("path",{d:"M187 98.7c-51.4 0-93.1 41.7-93.1 93.2S135.6 285 187 285s93.1-41.7 93.1-93.2-41.6-93.1-93.1-93.1zm0 158.8c-36.2 0-65.6-29.4-65.6-65.6s29.4-65.6 65.6-65.6 65.6 29.4 65.6 65.6-29.3 65.6-65.6 65.6zm0-117.8v48.9c0 1.4 1.5 2.4 2.8 1.7l43.4-22.5c1-.5 1.3-1.7.8-2.7-9-15.8-25.7-26.6-45-27.3-1 0-2 .8-2 1.9zm-60.8-35.9l-5.7-5.7c-5.6-5.6-14.6-5.6-20.2 0l-6.8 6.8c-5.6 5.6-5.6 14.6 0 20.2l5.6 5.6c.9.9 2.2.7 3-.2 3.3-4.5 6.9-8.8 10.9-12.8 4.1-4.1 8.3-7.7 12.9-11 1-.6 1.1-2 .3-2.9zM217.5 89V77.7c0-7.9-6.4-14.3-14.3-14.3h-33.3c-7.9 0-14.3 6.4-14.3 14.3v11.6c0 1.3 1.2 2.2 2.5 1.9 9.3-2.7 19.1-4.1 29-4.1 9.5 0 18.9 1.3 28 3.8 1.2.3 2.4-.6 2.4-1.9z",fill:"#FFFFFF"}),w.a.createElement("path",{d:"M842.5 267.6c0 26.7-6.8 46.2-20.5 58.6-13.7 12.4-34.6 18.6-62.8 18.6-10.3 0-31.7-2-48.8-5.8l6.3-31c14.3 3 33.2 3.8 43.1 3.8 15.7 0 26.9-3.2 33.6-9.6s10-15.9 10-28.5v-6.4c-3.9 1.9-9 3.8-15.3 5.8-6.3 1.9-13.6 2.9-21.8 2.9-10.8 0-20.6-1.7-29.5-5.1-8.9-3.4-16.6-8.4-22.9-15-6.3-6.6-11.3-14.9-14.8-24.8s-5.3-27.6-5.3-40.6c0-12.2 1.9-27.5 5.6-37.7 3.8-10.2 9.2-19 16.5-26.3 7.2-7.3 16-12.9 26.3-17s22.4-6.7 35.5-6.7c12.7 0 24.4 1.6 35.8 3.5 11.4 1.9 21.1 3.9 29 6.1v155.2zm-108.7-77.2c0 16.4 3.6 34.6 10.8 42.2 7.2 7.6 16.5 11.4 27.9 11.4 6.2 0 12.1-.9 17.6-2.6 5.5-1.7 9.9-3.7 13.4-6.1v-97.1c-2.8-.6-14.5-3-25.8-3.3-14.2-.4-25 5.4-32.6 14.7-7.5 9.3-11.3 25.6-11.3 40.8zm294.3 0c0 13.2-1.9 23.2-5.8 34.1s-9.4 20.2-16.5 27.9c-7.1 7.7-15.6 13.7-25.6 17.9s-25.4 6.6-33.1 6.6c-7.7-.1-23-2.3-32.9-6.6-9.9-4.3-18.4-10.2-25.5-17.9-7.1-7.7-12.6-17-16.6-27.9s-6-20.9-6-34.1c0-13.2 1.8-25.9 5.8-36.7 4-10.8 9.6-20 16.8-27.7s15.8-13.6 25.6-17.8c9.9-4.2 20.8-6.2 32.6-6.2s22.7 2.1 32.7 6.2c10 4.2 18.6 10.1 25.6 17.8 7.1 7.7 12.6 16.9 16.6 27.7 4.2 10.8 6.3 23.5 6.3 36.7zm-40 .1c0-16.9-3.7-31-10.9-40.8-7.2-9.9-17.3-14.8-30.2-14.8-12.9 0-23 4.9-30.2 14.8-7.2 9.9-10.7 23.9-10.7 40.8 0 17.1 3.6 28.6 10.8 38.5 7.2 10 17.3 14.9 30.2 14.9 12.9 0 23-5 30.2-14.9 7.2-10 10.8-21.4 10.8-38.5zm127.1 86.4c-64.1.3-64.1-51.8-64.1-60.1L1051 32l39.1-6.2v183.6c0 4.7 0 34.5 25.1 34.6v32.9zm68.9 0h-39.3V108.1l39.3-6.2v175zm-19.7-193.5c13.1 0 23.8-10.6 23.8-23.7S1177.6 36 1164.4 36s-23.8 10.6-23.8 23.7 10.7 23.7 23.8 23.7zm117.4 18.6c12.9 0 23.8 1.6 32.6 4.8 8.8 3.2 15.9 7.7 21.1 13.4s8.9 13.5 11.1 21.7c2.3 8.2 3.4 17.2 3.4 27.1v100.6c-6 1.3-15.1 2.8-27.3 4.6s-25.9 2.7-41.1 2.7c-10.1 0-19.4-1-27.7-2.9-8.4-1.9-15.5-5-21.5-9.3-5.9-4.3-10.5-9.8-13.9-16.6-3.3-6.8-5-16.4-5-26.4 0-9.6 1.9-15.7 5.6-22.3 3.8-6.6 8.9-12 15.3-16.2 6.5-4.2 13.9-7.2 22.4-9s17.4-2.7 26.6-2.7c4.3 0 8.8.3 13.6.8s9.8 1.4 15.2 2.7v-6.4c0-4.5-.5-8.8-1.6-12.8-1.1-4.1-3-7.6-5.6-10.7-2.7-3.1-6.2-5.5-10.6-7.2s-10-3-16.7-3c-9 0-17.2 1.1-24.7 2.4-7.5 1.3-13.7 2.8-18.4 4.5l-4.7-32.1c4.9-1.7 12.2-3.4 21.6-5.1s19.5-2.6 30.3-2.6zm3.3 141.9c12 0 20.9-.7 27.1-1.9v-39.8c-2.2-.6-5.3-1.3-9.4-1.9-4.1-.6-8.6-1-13.6-1-4.3 0-8.7.3-13.1 1-4.4.6-8.4 1.8-11.9 3.5s-6.4 4.1-8.5 7.2c-2.2 3.1-3.2 4.9-3.2 9.6 0 9.2 3.2 14.5 9 18 5.9 3.6 13.7 5.3 23.6 5.3zM512.9 103c12.9 0 23.8 1.6 32.6 4.8 8.8 3.2 15.9 7.7 21.1 13.4 5.3 5.8 8.9 13.5 11.1 21.7 2.3 8.2 3.4 17.2 3.4 27.1v100.6c-6 1.3-15.1 2.8-27.3 4.6-12.2 1.8-25.9 2.7-41.1 2.7-10.1 0-19.4-1-27.7-2.9-8.4-1.9-15.5-5-21.5-9.3-5.9-4.3-10.5-9.8-13.9-16.6-3.3-6.8-5-16.4-5-26.4 0-9.6 1.9-15.7 5.6-22.3 3.8-6.6 8.9-12 15.3-16.2 6.5-4.2 13.9-7.2 22.4-9s17.4-2.7 26.6-2.7c4.3 0 8.8.3 13.6.8 4.7.5 9.8 1.4 15.2 2.7v-6.4c0-4.5-.5-8.8-1.6-12.8-1.1-4.1-3-7.6-5.6-10.7-2.7-3.1-6.2-5.5-10.6-7.2-4.4-1.7-10-3-16.7-3-9 0-17.2 1.1-24.7 2.4-7.5 1.3-13.7 2.8-18.4 4.5l-4.7-32.1c4.9-1.7 12.2-3.4 21.6-5.1 9.4-1.8 19.5-2.6 30.3-2.6zm3.4 142c12 0 20.9-.7 27.1-1.9v-39.8c-2.2-.6-5.3-1.3-9.4-1.9-4.1-.6-8.6-1-13.6-1-4.3 0-8.7.3-13.1 1-4.4.6-8.4 1.8-11.9 3.5s-6.4 4.1-8.5 7.2c-2.2 3.1-3.2 4.9-3.2 9.6 0 9.2 3.2 14.5 9 18s13.7 5.3 23.6 5.3zm158.5 31.9c-64.1.3-64.1-51.8-64.1-60.1L610.6 32l39.1-6.2v183.6c0 4.7 0 34.5 25.1 34.6v32.9z",fill:"#182359"}))},xC=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,E["Component"]),CC(t,[{key:"render",value:function(){var e=this.props,t=e.url,n=e.translate,r=e.className;return w.a.createElement("div",{className:iS()(NC(""),r)},w.a.createElement("span",{className:NC("text")},n("searchBy"))," ",w.a.createElement("a",{href:t,target:"_blank",className:NC("link"),"aria-label":"Algolia"},w.a.createElement(OC,null)))}}]),t}();xC.propTypes={url:Ea.a.string.isRequired,translate:Ea.a.func.isRequired,className:Ea.a.string};kC(cS({searchBy:"Search by"})(xC));var TC=r(156),RC=r.n(TC);function PC(e){return e.attribute}var IC="range";function AC(e,t,n,r){var a=Qw(e,t,r,IC+"."+PC(e),{},function(e){var t=e.min,n=e.max;return"string"==typeof t&&(t=parseInt(t,10)),"string"==typeof n&&(n=parseInt(n,10)),{min:t,max:n}}),i=void 0!==e.min,o=void 0!==e.max,s=void 0!==a.min,c=void 0!==a.max;if(i&&s&&a.min<n.min)throw Error("You can't provide min value lower than range.");if(o&&c&&a.max>n.max)throw Error("You can't provide max value greater than range.");return i&&!s&&(a.min=n.min),o&&!c&&(a.max=n.max),a}function MC(e,t){return{min:void 0!==e.min?e.min:t.min,max:void 0!==e.max?e.max:t.max}}function DC(e,t,n,r){return e||n!==r?e&&t?n:r:void 0}function jC(e,t,n,r,a){var i=n.min,o=n.max,s=r.min,c=r.max,l=void 0===i||""===i,u=void 0===o||""===o,d=l?void 0:parseFloat(i),p=u?void 0:parseFloat(o),f=l||RC()(d),h=u||RC()(p);if(!f||!h)throw Error("You can't provide non finite values to the range connector.");if(d<s)throw Error("You can't provide min value lower than range.");if(p>c)throw Error("You can't provide max value greater than range.");var m,g,v,b=PC(e);return zw(t,(m={},g=b,v={min:DC(void 0!==e.min,l,s,d),max:DC(void 0!==e.max,u,c,p)},g in m?Object.defineProperty(m,g,{value:v,enumerable:!0,configurable:!0,writable:!0}):m[g]=v,m),a,!0,IC)}var LC=Fw({displayName:"AlgoliaRange",propTypes:{id:Ea.a.string,attribute:Ea.a.string.isRequired,defaultRefinement:Ea.a.shape({min:Ea.a.number,max:Ea.a.number}),min:Ea.a.number,max:Ea.a.number,precision:Ea.a.number,header:Ea.a.node,footer:Ea.a.node},defaultProps:{precision:0},getProvidedProps:function(e,t,n){var r=e.attribute,a=e.precision,i=e.min,o=e.max,s=Ww(n,this.context),c=s&&s.getFacetByName(r),l=c&&s.getFacetStats(r)||{},u=(c?s.getFacetValues(r):[]).map(function(e){return{value:e.name,count:e.count}}),d=function(e,t,n){var r=Math.pow(10,n),a=void 0;a=RC()(e.min)?e.min:RC()(t.min)?t.min:void 0;var i=void 0;return i=RC()(e.max)?e.max:RC()(t.max)?t.max:void 0,{min:void 0!==a?Math.floor(a*r)/r:a,max:void 0!==i?Math.ceil(i*r)/r:i}}({min:i,max:o},l,a),p=d.min,f=d.max;this._currentRange={min:p,max:f};var h=AC(e,t,this._currentRange,this.context);return{min:p,max:f,canRefine:u.length>0,currentRefinement:MC(h,this._currentRange),count:u,precision:a}},refine:function(e,t,n){return jC(e,t,n,this._currentRange,this.context)},cleanUp:function(e,t){return function(e,t,n){return Kw(t,n,IC+"."+PC(e))}(e,t,this.context)},getSearchParameters:function(e,t,n){var r=t.attribute,a=AC(t,n,this._currentRange,this.context),i=a.min,o=a.max;return e=e.addDisjunctiveFacet(r),void 0!==i&&(e=e.addNumericRefinement(r,">=",i)),void 0!==o&&(e=e.addNumericRefinement(r,"<=",o)),e},getMetadata:function(e,t){var n=this,r=this._currentRange,a=r.min,i=r.max,o=AC(e,t,this._currentRange,this.context),s=o.min,c=o.max,l=[],u=void 0!==s,d=void 0!==c;if(u&&s!==a||d&&c!==i){var p=[u?s+" <= ":"",e.attribute,d?" <= "+c:""];l.push({label:p.join(""),attribute:e.attribute,value:function(t){return jC(e,t,{},n._currentRange,n.context)},currentRefinement:MC({min:s,max:c},{min:a,max:i})})}return{id:PC(e),index:Gw(this.context),items:l}}}),FC=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var BC=lS("RangeInput"),UC=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onSubmit=function(e){e.preventDefault(),n.props.refine({min:n.state.from,max:n.state.to})},n.state=n.normalizeStateForRendering(e),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,E["Component"]),FC(t,[{key:"componentWillReceiveProps",value:function(e){!e.canRefine||this.props.canRefine===e.canRefine&&this.props.currentRefinement.min===e.currentRefinement.min&&this.props.currentRefinement.max===e.currentRefinement.max||this.setState(this.normalizeStateForRendering(e))}},{key:"normalizeStateForRendering",value:function(e){var t=e.canRefine,n=e.min,r=e.max,a=e.currentRefinement,i=a.min,o=a.max;return{from:t&&void 0!==i&&i!==n?i:"",to:t&&void 0!==o&&o!==r?o:""}}},{key:"normalizeRangeForRendering",value:function(e){var t=e.canRefine,n=e.min,r=e.max,a=void 0!==n,i=void 0!==r;return{min:t&&a&&i?n:"",max:t&&a&&i?r:""}}},{key:"render",value:function(){var e=this,t=this.state,n=t.from,r=t.to,a=this.props,i=a.precision,o=a.translate,s=a.canRefine,c=a.className,l=this.normalizeRangeForRendering(this.props),u=l.min,d=l.max,p=1/Math.pow(10,i);return w.a.createElement("div",{className:iS()(BC("",!s&&"-noRefinement"),c)},w.a.createElement("form",{className:BC("form"),onSubmit:this.onSubmit},w.a.createElement("input",{className:BC("input","input--min"),type:"number",min:u,max:d,value:n,step:p,placeholder:u,disabled:!s,onChange:function(t){return e.setState({from:t.currentTarget.value})}}),w.a.createElement("span",{className:BC("separator")},o("separator")),w.a.createElement("input",{className:BC("input","input--max"),type:"number",min:u,max:d,value:r,step:p,placeholder:d,disabled:!s,onChange:function(t){return e.setState({to:t.currentTarget.value})}}),w.a.createElement("button",{className:BC("submit"),type:"submit"},o("submit"))))}}]),t}();UC.propTypes={canRefine:Ea.a.bool.isRequired,precision:Ea.a.number.isRequired,translate:Ea.a.func.isRequired,refine:Ea.a.func.isRequired,min:Ea.a.number,max:Ea.a.number,currentRefinement:Ea.a.shape({min:Ea.a.number,max:Ea.a.number}),className:Ea.a.string},UC.defaultProps={currentRefinement:{},className:""};var HC=cS({submit:"ok",separator:"to"})(UC),qC=(LC(function(e){return w.a.createElement(rS,e,w.a.createElement(HC,e))}),Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}),GC=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var WC=lS("RatingMenu"),VC=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,E["Component"]),GC(t,[{key:"onClick",value:function(e,t,n){n.preventDefault(),n.stopPropagation(),e===this.props.currentRefinement.min&&t===this.props.currentRefinement.max?this.props.refine({min:this.props.min,max:this.props.max}):this.props.refine({min:e,max:t})}},{key:"buildItem",value:function(e){for(var t=e.max,n=e.lowerBound,r=e.count,a=e.translate,i=e.createURL,o=e.isLastSelectableItem,s=!r,c=this.props.currentRefinement.min<n,l=o&&c||!s&&n===this.props.currentRefinement.min&&t===this.props.currentRefinement.max,u=[],d=0,p=0;p<t;p++)p<n&&d++,u.push([w.a.createElement("svg",{key:p,className:WC("starIcon",p>=n?"starIcon--empty":"starIcon--full"),"aria-hidden":"true",width:"24",height:"24"},w.a.createElement("use",{xlinkHref:"#"+WC(p>=n?"starEmptySymbol":"starSymbol")}))," "]);var f=s||o&&l?{}:{href:i({min:n,max:t}),onClick:this.onClick.bind(this,n,t)};return w.a.createElement("li",{key:n,className:WC("item",l&&"item--selected",s&&"item--disabled")},w.a.createElement("a",qC({className:WC("link"),"aria-label":""+d+a("ratingLabel")},f),u,w.a.createElement("span",{className:WC("label"),"aria-hidden":"true"},a("ratingLabel"))," ",w.a.createElement("span",{className:WC("count")},r)))}},{key:"render",value:function(){var e=this,t=this.props,n=t.min,r=t.max,a=t.translate,i=t.count,o=t.createURL,s=t.canRefine,c=t.className,l=void 0!==n&&n>=0?n:1,u=void 0!==r&&r>=0?r:0,d=u-l+1,p=Math.max(d,0),f=i.map(function(e){return qC({},e,{value:parseFloat(e.value)})}).filter(function(e){return e.value>=l&&e.value<=u}),h=new Array(p).fill(null).map(function(e,t){return f.find(function(e){return e.value===u-t})||{value:u-t,count:0,total:0}}).reduce(function(e,t,n){return e.concat(qC({},t,{total:0===n?t.count:e[n-1].total+t.count}))},[]),m=h.map(function(t,n){return e.buildItem({lowerBound:t.value,count:t.total,isLastSelectableItem:h.length-1===n,max:u,translate:a,createURL:o})});return w.a.createElement("div",{className:iS()(WC("",!s&&"-noRefinement"),c)},w.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",style:{display:"none"}},w.a.createElement("symbol",{id:WC("starSymbol"),viewBox:"0 0 24 24"},w.a.createElement("path",{d:"M12 .288l2.833 8.718h9.167l-7.417 5.389 2.833 8.718-7.416-5.388-7.417 5.388 2.833-8.718-7.416-5.389h9.167z"})),w.a.createElement("symbol",{id:WC("starEmptySymbol"),viewBox:"0 0 24 24"},w.a.createElement("path",{d:"M12 6.76l1.379 4.246h4.465l-3.612 2.625 1.379 4.246-3.611-2.625-3.612 2.625 1.379-4.246-3.612-2.625h4.465l1.38-4.246zm0-6.472l-2.833 8.718h-9.167l7.416 5.389-2.833 8.718 7.417-5.388 7.416 5.388-2.833-8.718 7.417-5.389h-9.167l-2.833-8.718z"}))),w.a.createElement("ul",{className:WC("list",!s&&"list--noRefinement")},m))}}]),t}();VC.propTypes={translate:Ea.a.func.isRequired,refine:Ea.a.func.isRequired,createURL:Ea.a.func.isRequired,min:Ea.a.number,max:Ea.a.number,currentRefinement:Ea.a.shape({min:Ea.a.number,max:Ea.a.number}),count:Ea.a.arrayOf(Ea.a.shape({value:Ea.a.string,count:Ea.a.number})),canRefine:Ea.a.bool.isRequired,className:Ea.a.string},VC.defaultProps={className:""};var zC=cS({ratingLabel:" & Up"})(VC);LC(function(e){return w.a.createElement(rS,e,w.a.createElement(zC,e))});var YC="refinementList";function QC(e){return e.attribute}function KC(e,t,n){return Qw(e,t,n,YC+"."+QC(e),[],function(e){return"string"==typeof e?""===e?[]:[e]:e})}function XC(e,t,n,r){var a=KC(t,n,r);return-1===a.indexOf(e)?a.concat([e]):a.filter(function(t){return t!==e})}function $C(e){var t=e.showMore,n=e.limit,r=e.showMoreLimit;return t?r:n}function ZC(e,t,n,r){var a,i,o,s=QC(e);return zw(t,(a={},i=s,o=n.length>0?n:"",i in a?Object.defineProperty(a,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):a[i]=o,a),r,!0,YC)}var JC=["isRefined","count:desc","name:asc"],eN=Fw({displayName:"AlgoliaRefinementList",propTypes:{id:Ea.a.string,attribute:Ea.a.string.isRequired,operator:Ea.a.oneOf(["and","or"]),showMore:Ea.a.bool,limit:Ea.a.number,showMoreLimit:Ea.a.number,defaultRefinement:Ea.a.arrayOf(Ea.a.oneOfType([Ea.a.string,Ea.a.number])),searchable:Ea.a.bool,transformItems:Ea.a.func},defaultProps:{operator:"or",showMore:!1,limit:10,showMoreLimit:20},getProvidedProps:function(e,t,n,r,a){var i=this,o=e.attribute,s=e.searchable,c=Ww(n,this.context),l=Boolean(c)&&Boolean(c.getFacetByName(o)),u=Boolean(a&&a[o]&&""!==a.query);if(s&&this.context.multiIndexContext)throw new Error("react-instantsearch: searching in *List is not available when used inside a multi index context");if(!l)return{items:[],currentRefinement:KC(e,t,this.context),canRefine:l,isFromSearch:u,searchable:s};var d=u?a[o].map(function(n){return{label:n.value,value:XC(n.value,e,t,i.context),_highlightResult:{label:{value:n.highlighted}},count:n.count,isRefined:n.isRefined}}):c.getFacetValues(o,{sortBy:JC}).map(function(n){return{label:n.name,value:XC(n.name,e,t,i.context),count:n.count,isRefined:n.isRefined}});return{items:(e.transformItems?e.transformItems(d):d).slice(0,$C(e)),currentRefinement:KC(e,t,this.context),isFromSearch:u,searchable:s,canRefine:d.length>0}},refine:function(e,t,n){return ZC(e,t,n,this.context)},searchForFacetValues:function(e,t,n){return{facetName:e.attribute,query:n,maxFacetHits:$C(e)}},cleanUp:function(e,t){return function(e,t,n){return Kw(t,n,YC+"."+QC(e))}(e,t,this.context)},getSearchParameters:function(e,t,n){var r=t.attribute,a="and"===t.operator?"addFacet":"addDisjunctiveFacet",i=a+"Refinement";return e=(e=e.setQueryParameters({maxValuesPerFacet:Math.max(e.maxValuesPerFacet||0,$C(t))}))[a](r),KC(t,n,this.context).reduce(function(e,t){return e[i](r,t)},e)},getMetadata:function(e,t){var n=QC(e),r=this.context;return{id:n,index:Gw(this.context),items:KC(e,t,r).length>0?[{attribute:e.attribute,label:e.attribute+": ",currentRefinement:KC(e,t,r),value:function(t){return ZC(e,t,[],r)},items:KC(e,t,r).map(function(n){return{label:""+n,value:function(a){var i=KC(e,a,r).filter(function(e){return e!==n});return ZC(e,t,i,r)}}})}]:[]}}}),tN=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nN=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function rN(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var aN=lS("RefinementList"),iN=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=Array(a),o=0;o<a;o++)i[o]=arguments[o];return n=r=rN(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.state={query:""},r.selectItem=function(e,t){t(),r.props.refine(e.value)},r.renderItem=function(e,t){var n=r.props.isFromSearch?w.a.createElement(ak,{attribute:"label",hit:e}):e.label;return w.a.createElement("label",{className:aN("label")},w.a.createElement("input",{className:aN("checkbox"),type:"checkbox",checked:e.isRefined,onChange:function(){return r.selectItem(e,t)}}),w.a.createElement("span",{className:aN("labelText")},n)," ",w.a.createElement("span",{className:aN("count")},e.count.toLocaleString()))},rN(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,E["Component"]),nN(t,[{key:"render",value:function(){return w.a.createElement(jS,tN({renderItem:this.renderItem,selectItem:this.selectItem,cx:aN},kS()(this.props,["translate","items","showMore","limit","showMoreLimit","isFromSearch","searchForItems","searchable","canRefine","className"]),{query:this.state.query}))}}]),t}();iN.propTypes={translate:Ea.a.func.isRequired,refine:Ea.a.func.isRequired,searchForItems:Ea.a.func.isRequired,searchable:Ea.a.bool,createURL:Ea.a.func.isRequired,items:Ea.a.arrayOf(Ea.a.shape({label:Ea.a.string.isRequired,value:Ea.a.arrayOf(Ea.a.string).isRequired,count:Ea.a.number.isRequired,isRefined:Ea.a.bool.isRequired})),isFromSearch:Ea.a.bool.isRequired,canRefine:Ea.a.bool.isRequired,showMore:Ea.a.bool,limit:Ea.a.number,showMoreLimit:Ea.a.number,transformItems:Ea.a.func,className:Ea.a.string},iN.defaultProps={className:""};var oN=cS({showMore:function(e){return e?"Show less":"Show more"},noResults:"No results",submit:null,reset:null,resetTitle:"Clear the search query.",submitTitle:"Submit your search query.",placeholder:"Search here…"})(iN),sN=(eN(function(e){return w.a.createElement(rS,e,w.a.createElement(oN,e))}),function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}());var cN=lS("ClearRefinements"),lN=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,E["Component"]),sN(t,[{key:"render",value:function(){var e=this.props,t=e.items,n=e.canRefine,r=e.refine,a=e.translate,i=e.className;return w.a.createElement("div",{className:iS()(cN(""),i)},w.a.createElement("button",{className:cN("button",!n&&"button--disabled"),onClick:function(){return r(t)},disabled:!n},a("reset")))}}]),t}();lN.propTypes={items:Ea.a.arrayOf(Ea.a.object).isRequired,canRefine:Ea.a.bool.isRequired,refine:Ea.a.func.isRequired,translate:Ea.a.func.isRequired,className:Ea.a.string},lN.defaultProps={className:""};var uN=cS({reset:"Clear all filters"})(lN),dN=(eS(function(e){return w.a.createElement(rS,e,w.a.createElement(uN,e))}),Fw({displayName:"AlgoliaScrollTo",propTypes:{scrollOn:Ea.a.string},defaultProps:{scrollOn:"page"},getProvidedProps:function(e,t){var n=e.scrollOn,r=Qw(e,t,this.context,n,null,function(e){return e});if(this._prevSearchState||(this._prevSearchState={}),Vw(this.context)){var a=Gw(this.context);t=t.indices?t.indices[a]:{}}var i=nw()(nw()(t,"configure"),n),o=sw(this._prevSearchState,i);return this._prevSearchState=i,{value:r,hasNotChanged:o}}})),pN=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var fN=lS("ScrollTo"),hN=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,E["Component"]),pN(t,[{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.value,r=t.hasNotChanged;n!==e.value&&r&&this.el.scrollIntoView()}},{key:"render",value:function(){var e=this;return w.a.createElement("div",{ref:function(t){return e.el=t},className:fN("")},this.props.children)}}]),t}();hN.propTypes={value:Ea.a.any,children:Ea.a.node,hasNotChanged:Ea.a.bool};dN(hN);function mN(e,t,n){return Qw(e,t,n,"query","",function(e){return e||""})}function gN(e,t,n,r){var a,i,o;return zw(t,(o=n,(i="query")in(a={})?Object.defineProperty(a,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):a[i]=o,a),r,!0)}Fw({displayName:"AlgoliaSearchBox",propTypes:{defaultRefinement:Ea.a.string},getProvidedProps:function(e,t,n){return{currentRefinement:mN(e,t,this.context),isSearchStalled:n.isSearchStalled}},refine:function(e,t,n){return gN(0,t,n,this.context)},cleanUp:function(e,t){return function(e,t,n){return Kw(t,n,"query")}(0,t,this.context)},getSearchParameters:function(e,t,n){return e.setQuery(mN(t,n,this.context))},getMetadata:function(e,t){var n=this,r=mN(e,t,this.context);return{id:"query",index:Gw(this.context),items:null===r?[]:[{label:"query: "+r,value:function(e){return gN(0,e,"",n.context)},currentRefinement:r}]}}})(IS);var vN=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function bN(e,t,n){return Qw(e,t,n,"sortBy",null,function(e){return e||null})}var yN=Fw({displayName:"AlgoliaSortBy",propTypes:{defaultRefinement:Ea.a.string,items:Ea.a.arrayOf(Ea.a.shape({label:Ea.a.string,value:Ea.a.string.isRequired})).isRequired,transformItems:Ea.a.func},getProvidedProps:function(e,t){var n=bN(e,t,this.context),r=e.items.map(function(e){return e.value===n?vN({},e,{isRefined:!0}):vN({},e,{isRefined:!1})});return{items:e.transformItems?e.transformItems(r):r,currentRefinement:n}},refine:function(e,t,n){var r,a,i;return zw(t,(i=n,(a="sortBy")in(r={})?Object.defineProperty(r,a,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[a]=i,r),this.context,!0)},cleanUp:function(e,t){return Kw(t,this.context,"sortBy")},getSearchParameters:function(e,t,n){var r=bN(t,n,this.context);return e.setIndex(r)},getMetadata:function(){return{id:"sortBy"}}}),EN=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var _N=lS("SortBy"),wN=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,E["Component"]),EN(t,[{key:"render",value:function(){var e=this.props,t=e.items,n=e.currentRefinement,r=e.refine,a=e.className;return w.a.createElement("div",{className:iS()(_N(""),a)},w.a.createElement(vk,{cx:_N,items:t,selectedItem:n,onSelect:r}))}}]),t}();wN.propTypes={items:Ea.a.arrayOf(Ea.a.shape({label:Ea.a.string,value:Ea.a.string.isRequired})).isRequired,currentRefinement:Ea.a.string.isRequired,refine:Ea.a.func.isRequired,className:Ea.a.string},wN.defaultProps={className:""};yN(wN);var SN=Fw({displayName:"AlgoliaStats",getProvidedProps:function(e,t,n){var r=Ww(n,this.context);return r?{nbHits:r.nbHits,processingTimeMS:r.processingTimeMS}:null}}),kN=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var CN=lS("Stats"),NN=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,E["Component"]),kN(t,[{key:"render",value:function(){var e=this.props,t=e.translate,n=e.nbHits,r=e.processingTimeMS,a=e.className;return w.a.createElement("div",{className:iS()(CN(""),a)},w.a.createElement("span",{className:CN("text")},t("stats",n,r)))}}]),t}();NN.propTypes={translate:Ea.a.func.isRequired,nbHits:Ea.a.number.isRequired,processingTimeMS:Ea.a.number.isRequired,className:Ea.a.string},NN.defaultProps={className:""};SN(cS({stats:function(e,t){return e.toLocaleString()+" results found in "+t.toLocaleString()+"ms"}})(NN));function ON(e){return e.attribute}var xN="toggle";function TN(e,t,n){return Qw(e,t,n,xN+"."+ON(e),!1,function(e){return e||!1})}function RN(e,t,n,r){var a,i,o,s=ON(e);return zw(t,(o=n||!1,(i=s)in(a={})?Object.defineProperty(a,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):a[i]=o,a),r,!0,xN)}var PN=Fw({displayName:"AlgoliaToggle",propTypes:{label:Ea.a.string,filter:Ea.a.func,attribute:Ea.a.string,value:Ea.a.any,defaultRefinement:Ea.a.bool},getProvidedProps:function(e,t){return{currentRefinement:TN(e,t,this.context)}},refine:function(e,t,n){return RN(e,t,n,this.context)},cleanUp:function(e,t){return function(e,t,n){return Kw(t,n,xN+"."+ON(e))}(e,t,this.context)},getSearchParameters:function(e,t,n){var r=t.attribute,a=t.value,i=t.filter;return TN(t,n,this.context)&&(r&&(e=e.addFacet(r).addFacetRefinement(r,a)),i&&(e=i(e))),e},getMetadata:function(e,t){var n=this,r=ON(e),a=TN(e,t,this.context),i=[],o=Gw(this.context);return a&&i.push({label:e.label,currentRefinement:a,attribute:e.attribute,value:function(t){return RN(e,t,!1,n.context)}}),{id:r,index:o,items:i}}}),IN=lS("ToggleRefinement"),AN=function(e){var t=e.currentRefinement,n=e.label,r=e.refine,a=e.className;return w.a.createElement("div",{className:iS()(IN(""),a)},w.a.createElement("label",{className:IN("label")},w.a.createElement("input",{className:IN("checkbox"),type:"checkbox",checked:t,onChange:function(e){return r(e.target.checked)}}),w.a.createElement("span",{className:IN("labelText")},n)))};AN.propTypes={currentRefinement:Ea.a.bool.isRequired,label:Ea.a.string.isRequired,refine:Ea.a.func.isRequired,className:Ea.a.string},AN.defaultProps={className:""};PN(AN);var MN=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function DN(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var jN=lS("Panel"),LN=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var a=arguments.length,i=Array(a),o=0;o<a;o++)i[o]=arguments[o];return n=r=DN(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),r.state={canRefine:!0},r.setCanRefine=function(e){r.setState({canRefine:e})},DN(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,E["Component"]),MN(t,[{key:"getChildContext",value:function(){return{setCanRefine:this.setCanRefine}}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,r=e.header,a=e.footer,i=this.state.canRefine;return w.a.createElement("div",{className:iS()(jN("",!i&&"-noRefinement"),n)},r&&w.a.createElement("div",{className:jN("header")},r),w.a.createElement("div",{className:jN("body")},t),a&&w.a.createElement("div",{className:jN("footer")},a))}}]),t}();LN.propTypes={children:Ea.a.node.isRequired,className:Ea.a.string,header:Ea.a.node,footer:Ea.a.node},LN.childContextTypes={setCanRefine:Ea.a.func.isRequired},LN.defaultProps={className:"",header:null,footer:null};var FN=function(e){return e.attributes[0]},BN="hierarchicalMenu";function UN(e,t,n,r){var a,i,o,s=FN(e);return zw(t,(o=n||"",(i=s)in(a={})?Object.defineProperty(a,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):a[i]=o,a),r,!0,BN)}var HN=Fw({displayName:"AlgoliaBreadcrumb",propTypes:{attributes:function(e,t,n){if(!Array.isArray(e[t])||e[t].some(function(e){return"string"!=typeof e})||e[t].length<1)return new Error("Invalid prop "+t+" supplied to "+n+". Expected an Array of Strings")},transformItems:Ea.a.func},getProvidedProps:function(e,t,n){var r=FN(e),a=Ww(n,this.context);if(!(Boolean(a)&&Boolean(a.getFacetByName(r))))return{items:[],canRefine:!1};var i=a.getFacetValues(r),o=i.data?function e(t){return t.reduce(function(t,n){return n.isRefined&&(t.push({label:n.name,value:n.path}),n.data&&(t=t.concat(e(n.data)))),t},[])}(i.data):[],s=e.transformItems?e.transformItems(o):o;return{canRefine:s.length>0,items:s}},refine:function(e,t,n){return UN(e,t,n,this.context)}}),qN=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var GN=lS("Breadcrumb"),WN=Ea.a.arrayOf(Ea.a.shape({label:Ea.a.string.isRequired,value:Ea.a.string.isRequired})),VN=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,E["Component"]),qN(t,[{key:"render",value:function(){var e=this.props,t=e.canRefine,n=e.createURL,r=e.items,a=e.refine,i=e.rootURL,o=e.separator,s=e.translate,c=e.className,l=t?w.a.createElement("li",{className:GN("item")},w.a.createElement(HS,{className:GN("link"),onClick:function(){return i?null:a()},href:i||n()},s("rootLabel"))):null,u=r.map(function(e,t){var i=t===r.length-1;return w.a.createElement("li",{className:GN("item",i&&"item--selected"),key:t},w.a.createElement("span",{className:GN("separator")},o),i?e.label:w.a.createElement(HS,{className:GN("link"),onClick:function(){return a(e.value)},href:n(e.value)},e.label))});return w.a.createElement("div",{className:iS()(GN("",!t&&"-noRefinement"),c)},w.a.createElement("ul",{className:GN("list")},l,u))}}]),t}();VN.propTypes={canRefine:Ea.a.bool.isRequired,createURL:Ea.a.func.isRequired,items:WN,refine:Ea.a.func.isRequired,rootURL:Ea.a.string,separator:Ea.a.node,translate:Ea.a.func.isRequired,className:Ea.a.string},VN.defaultProps={rootURL:null,separator:" > ",className:""};var zN,YN,QN,KN,XN=cS({rootLabel:"Home"})(VN),$N=(HN(function(e){return w.a.createElement(rS,e,w.a.createElement(XN,e))}),zN=Ow.a,YN={Root:"div",props:{className:"ais-InstantSearch__root"}},KN=QN=function(e){function t(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r)));return i.client=i.props.algoliaClient||zN(i.props.appId,i.props.apiKey),i.client.addAlgoliaAgent("react-instantsearch "+_w),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,E.Component),Ew(t,[{key:"componentWillReceiveProps",value:function(e){var t=this.props;e.algoliaClient?this.client=e.algoliaClient:t.appId===e.appId&&t.apiKey===e.apiKey||(this.client=zN(e.appId,e.apiKey)),this.client.addAlgoliaAgent("react-instantsearch "+_w)}},{key:"render",value:function(){return w.a.createElement(yw,{createURL:this.props.createURL,indexName:this.props.indexName,searchState:this.props.searchState,onSearchStateChange:this.props.onSearchStateChange,onSearchParameters:this.props.onSearchParameters,root:this.props.root,algoliaClient:this.client,refresh:this.props.refresh,resultsState:this.props.resultsState},this.props.children)}}]),t}(),QN.propTypes={algoliaClient:Ea.a.object,appId:Ea.a.string,apiKey:Ea.a.string,children:Ea.a.oneOfType([Ea.a.arrayOf(Ea.a.node),Ea.a.node]),indexName:Ea.a.string.isRequired,createURL:Ea.a.func,searchState:Ea.a.object,refresh:Ea.a.bool.isRequired,onSearchStateChange:Ea.a.func,onSearchParameters:Ea.a.func,resultsState:Ea.a.oneOfType([Ea.a.object,Ea.a.array]),root:Ea.a.shape({Root:Ea.a.oneOfType([Ea.a.string,Ea.a.func]).isRequired,props:Ea.a.object})},QN.defaultProps={refresh:!1,root:YN},KN),ZN=Cw({Root:"div",props:{className:"ais-MultiIndex__root"}});var JN=Object(le.b)(function(e){return{loading:e.search.loading,config:Object(me.pick)(["apiKey","appId","indexes"],e.search),query:e.search.query}})(function(e){var t=e.loading,n=e.query,r=e.config,a=e.children,i=Object(me.values)(r.indexes);return a({loading:t,query:n,indexes:r.indexes,credentialsProps:{apiKey:r.apiKey,appId:r.appId,indexName:i[0]}})}),eO=r(82),tO=function(e,t){return t},nO=function(e){return e.data.normalized},rO=function(e){var t=function(e){return nE.get(e.type)}(e);return"".concat(t,"=").concat(e.id)},aO=Object(Vi.createSelector)(function(e){return e.search.filters.topic.id},nO,function(e,t){var n=parseInt(e,10);if(!Object(me.isNumber)(n))return[];var r=tE({id:n,type:N.e.TAG});return(Object(me.get)([r,"contents"],t)||[]).map(rO)}),iO=Object(Vi.createSelector)(function(e){return e.search.filters.progress},ZE,function(e,t){switch(e){case"assigned":return t.assigned;case"completed":return t.completed;case"viewed":return t.started;default:return[]}}),oO=Object(Vi.createSelector)(iO,Object(me.map)(rO)),sO=function(){var e=Object(Vi.createSelector)(tO,nO,function(e,t){var n=rE(e).compoundId;return Object(me.get)(n,t)});return function(t,n){var r=n.hit;return{contentData:e(t,r)}}},cO=function(e){return Object(le.b)(sO)(e)},lO=cO(function(e){var t=e.contentData,n=e.hit;return w.a.createElement(I_,H()({},t,{name:w.a.createElement(sk,{hit:n,attribute:"name"}),description:w.a.createElement(sk,{hit:n,attribute:"description"})}))}),uO=Object(me.compose)(eO.connectInfiniteHits,eO.connectStateResults)(function(e){var n=e.hasMore,r=e.hits,a=e.refine,i=e.searchResults;if(!n)return!1;var o=i.hitsPerPage,s=i.nbHits-r.length,c=Math.min(s,o);return w.a.createElement("button",{type:"button",className:"u-linkBtn mt-16 fz-bigger",onClick:a},t("learning_library.search.show_more_matches",{count:c}),w.a.createElement(z.a,{name:"caret_down",customClass:"ml-4 fz-base"}))}),dO=Object(me.compose)(eO.connectInfiniteHits,eO.connectStateResults)(function(e){var n=e.hits,r=e.searchResults;return r&&r.nbHits>0&&w.a.createElement("div",{className:"LearnContentGroup"},w.a.createElement(k.g,{title:t("content.groups.topics"),items:n,customCount:r.nbHits},w.a.createElement(k.g.Items,{render:function(e){return w.a.createElement(lO,{key:e.objectID,hit:e})}})),w.a.createElement(uO,null))}),pO=cO(function(e){var t=e.contentData,n=e.hit;return w.a.createElement(w_,H()({},t,{title:w.a.createElement(sk,{attribute:"title",hit:n}),description:w.a.createElement(sk,{attribute:"description",hit:n})}))}),fO=Object(me.compose)(eO.connectInfiniteHits,eO.connectStateResults)(function(e){var n=e.hits,r=e.searchResults;return r&&r.nbHits>0&&w.a.createElement("div",{className:"LearnContentGroup"},w.a.createElement(k.g,{title:t("content.groups.lessons_and_paths"),items:n,customCount:r.nbHits},w.a.createElement(k.g.Items,{render:function(e){return w.a.createElement(pO,{key:e.objectID,hit:e})}})),w.a.createElement(uO,null))}),hO=r(701),mO=Object(me.flow)(me.compact,Object(me.join)("")),gO=function(e){return e.content_type===N.e.ELEMENT},vO=function(e){return e.content_type===N.e.SECTION},bO=function(e,t){return mO(["".concat(e,"?section_id=").concat(t.s_id),gO(t)&&"#".concat(t.e_id)])},yO=new Set([N.c.FLIPCARD,N.c.REVEAL]);function EO(e){return yO.has(e.element_content_type)&&"none"===e._snippetResult.content.matchLevel?"content_hidden":"content"}var _O=cO(function(e){var t=e.hit,n=e.contentData;return w.a.createElement(k.f,{url:bO(n.links.view,t),className:"LearnLessonContentHit"},w.a.createElement(k.f.Content,{className:"LearnLessonContentHit-content",padding:"medium"},w.a.createElement("div",{className:V()("LearnLessonContentHit-match",{"LearnLessonContentHit-match--large":vO(t)})},w.a.createElement(hO.Snippet,{hit:t,attribute:EO(t)})),w.a.createElement("div",{className:"LearnLessonContentHit-lessonTitle"},t.lesson_title),w.a.createElement("div",{className:"LearnLessonContentHit-footer"},(n.progress.dueDate||n.progress.completedDate)&&w.a.createElement(h_,{rounded:!0,progress:n.progress}),w.a.createElement(g_,{progress:n.progress}))))}),wO=Object(me.compose)(eO.connectInfiniteHits,eO.connectStateResults)(function(e){var n=e.hits,r=e.searchResults;return r&&r.nbHits>0&&w.a.createElement("div",{className:"LearnContentGroup"},w.a.createElement(k.g,{title:t("content.groups.lesson_content"),items:n,customCount:r.nbHits},w.a.createElement(k.g.Items,{render:function(e){return w.a.createElement(_O,{key:e.objectID,hit:e})}})),w.a.createElement(uO,null))}),SO=Object(le.b)(function(e){return{i18n:{search:e.meta.i18n.learn.search,expert:e.meta.i18n.learn.expert}}})(function(e){var t=e.onClick,n=e.i18n;return w.a.createElement("div",null,w.a.createElement("div",{className:"c-brand-gray"},n.search.insufficient_results.prompt),w.a.createElement(k.c,{onClick:t,className:"mt-8",tall:!0,customColor:!0},w.a.createElement(j_,null),n.expert.action_button))}),kO=Object(le.b)(function(e){return{i18n:{no_results:e.meta.i18n.learn.search.no_results,expertToggle:M_(e)}}})(function(e){var t=e.query,n=(e.features,e.i18n);return w.a.createElement("div",null,w.a.createElement("h2",{className:"fw-b ff-ss"},n.no_results.heading," ",w.a.createElement("i",null,t)),w.a.createElement(q_,{i18n:n.expertToggle},function(e){var t=e.toggleModal;return w.a.createElement(SO,{onClick:t})}))}),CO=Object(le.b)(function(e){return{i18n:{search:e.meta.i18n.learn.search,expertToggle:M_(e)}}})(function(e){var t=e.i18n;return w.a.createElement(q_,{i18n:t.expertToggle},function(e){var n=e.toggleModal;return w.a.createElement("div",{className:"mb-128"},w.a.createElement("h2",{className:"fw-b ff-ss"},t.search.insufficient_results.heading),w.a.createElement(SO,{onClick:n}))})}),NO=Object(eO.connectStateResults)(function(e){var t=e.allSearchResults,n=e.indexes,r=e.searching,a=e.searchResults,i=(e.features,e.expert,Object(S.values)(t).some(function(e){return e&&e.nbHits>0}));return w.a.createElement("div",null,w.a.createElement(ZN,{indexName:n.tags},w.a.createElement(dO,null)),w.a.createElement(ZN,{indexName:n.lessonsPaths},w.a.createElement(fO,null)),w.a.createElement(ZN,{indexName:n.sectionsElements},w.a.createElement(wO,null)),i&&w.a.createElement(CO,null),!r&&!i&&w.a.createElement(kO,{query:a&&a.query}))}),OO=function(e){function t(e){var n;return l()(this,t),(n=f()(this,m()(t).call(this,e))).sendRequest=Object(S.debounce)(n.sendRequest.bind(v()(n)),3e3),n}return y()(t,e),d()(t,[{key:"componentDidMount",value:function(){this.sendRequest()}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){e.query!==this.props.query&&e.query&&this.sendRequest()}},{key:"getNbHitsForIndex",value:function(e){return this.props.allSearchResults[this.props.indexes[e]].nbHits}},{key:"sendRequest",value:function(){var e=this.getNbHitsForIndex("tags"),t=this.getNbHitsForIndex("lessonsPaths"),n=this.getNbHitsForIndex("sectionsElements"),r=e+t+n;C.a.post(N.k.LEARN_SEARCH_TRACK,{search_event:{match_count:r,query:this.props.query,tag_count:e,lesson_path_count:t,section_element_count:n}})}},{key:"render",value:function(){return null}}]),t}(E.Component),xO=Object(ue.d)(eO.connectStateResults)(OO),TO=function(e){function n(){return l()(this,n),f()(this,m()(n).apply(this,arguments))}return y()(n,e),d()(n,[{key:"render",value:function(){return w.a.createElement(qy.b,{to:this.props.sourcePage||N.k.LEARN,className:"LearnBackButton u-linkBtn"},w.a.createElement(z.a,{name:"back",customClass:"LearnBackButton-icon"}),t("common.back"))}}]),n}(E.Component),RO=Object(ue.d)(Gy.f,Object(le.b)(function(e){return{sourcePage:e.search.sourcePage}}))(TO),PO=function(e){var t=e.options,n=e.value,r=e.onChange,a=e.name;return w.a.createElement("div",null,t.map(function(e){return w.a.createElement("label",{key:"".concat(a,"-").concat(e.value),htmlFor:"".concat(a,"-").concat(e.value),className:"d-b"},w.a.createElement("input",{id:"".concat(a,"-").concat(e.value),type:"radio",name:a,value:e.value,checked:e.value.toString()===n,onChange:function(e){return r(e.target.value)}}),w.a.createElement("span",null,e.label))}))},IO=function(e){var t=e.options,n=e.value,r=e.onChange,a=e.name;return w.a.createElement("select",{value:n||"",onChange:function(e){return r(e.target.value)}},t.map(function(e){return w.a.createElement("option",{key:"".concat(a,"-").concat(e.value),value:e.value,children:e.label})}))},AO=function(e){var t=e.title,n=G()(e,["title"]);return w.a.createElement("div",{className:"LearnSearchFilter"},w.a.createElement("h4",{className:"LearnSearchFilter-title"},t),w.a.createElement("div",{className:"LearnSearchFilter-radioGroup"},w.a.createElement(PO,n)),w.a.createElement("div",{className:"LearnSearchFilter-selectMenu"},w.a.createElement(IO,n),w.a.createElement(z.a,{name:"caret_down",customClass:"LearnSearchFilter-selectMenuIcon"})))},MO={filterByTopic:function(e){return{type:he.h.SEARCH.UPDATE_FILTER,name:"topic",value:{id:e}}}},DO=Object(le.b)(function(e){return{topics:IE(e),selectedTopicId:e.search.filters.topic.id}},MO)(function(e){var n=e.topics,r=e.selectedTopicId,a=e.filterByTopic;return w.a.createElement(AO,{title:t("learn.sidebar.filter.by_topic"),value:r,onChange:a,name:"filterByTopic",options:[{label:t("learn.sidebar.label.everything"),value:""}].concat(Z()(n.map(function(e){return{label:e.name,value:e.id}})))})}),jO={filterByProgress:function(e){return{type:he.h.SEARCH.UPDATE_FILTER,name:"progress",value:e}}},LO=Object(le.b)(function(e){return{selectedProgress:e.search.filters.progress}},jO)(function(e){var n=e.selectedProgress,r=e.filterByProgress;return w.a.createElement(AO,{title:t("learn.sidebar.filter.by_progress"),value:n,onChange:r,name:"filterByProgress",options:[{label:t("learn.sidebar.label.everything"),value:""},{label:t("learn.sidebar.label.assigned"),value:"assigned"},{label:t("learn.sidebar.label.viewed"),value:"viewed"},{label:t("learn.sidebar.label.completed"),value:"completed"}]})}),FO=function(){return w.a.createElement("div",{className:"LearnDashboardSidebar"},w.a.createElement("div",{className:"LearnDashboardSidebar-backButton"},w.a.createElement(RO,null)),w.a.createElement(DO,null),w.a.createElement(LO,null))},BO=Object(le.b)(function(e){return{idsForSelectedTopic:aO(e),idsForSelectedProgress:oO(e)}})(function(e){var t=e.idsForSelectedTopic,n=e.idsForSelectedProgress;return w.a.createElement(Zw,{numericFilters:[t,n]})}),UO=function(e){function n(){var e,t;l()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return t=f()(this,(e=m()(n)).call.apply(e,[this].concat(a))),i()(v()(t),"state",{searchState:{}}),i()(v()(t),"onSearchStateChange",function(e){var n=R()({},e);n.indices=Object(S.get)(n,"indices",{}),Object(S.isEmpty)(t.state.searchState)||Object(S.isEqual)(e.configure,t.state.searchState.configure)||Object.keys(n.indices).forEach(function(e){Object.assign(n.indices[e],{page:1})}),t.setState({searchState:n})}),t}return y()(n,e),d()(n,[{key:"componentWillUnmount",value:function(){this.props.resetFilters()}},{key:"render",value:function(){var e=this;return w.a.createElement(JN,null,function(n){var r=n.loading,a=n.credentialsProps,i=n.indexes,o=n.query;return w.a.createElement(vE.Main,null,w.a.createElement(vE.Side,null,w.a.createElement(FO,null)),w.a.createElement(vE.Content,null,r&&t("common.loading"),!r&&w.a.createElement($N,H()({},a,{searchState:e.state.searchState,onSearchStateChange:e.onSearchStateChange}),w.a.createElement(Zw,{query:o,snippetEllipsisText:"..."}),w.a.createElement(BO,null),w.a.createElement(NO,{indexes:i}),w.a.createElement(xO,{indexes:i,query:o}))))})}}]),n}(E.Component),HO={resetFilters:function(){return{type:he.h.SEARCH.RESET_FILTERS}}},qO=Object(le.b)(null,HO)(UO),GO=function(e){function n(e){var t;return l()(this,n),(t=f()(this,m()(n).call(this,e))).state={focused:!1},t.handleFocus=t.handleFocus.bind(v()(t)),t.handleBlur=t.handleBlur.bind(v()(t)),t.handleClear=t.handleClear.bind(v()(t)),t}return y()(n,e),d()(n,[{key:"handleFocus",value:function(){this.setState({focused:!0})}},{key:"handleBlur",value:function(){this.setState({focused:!1})}},{key:"handleClear",value:function(){this.input.focus(),this.props.onClear()}},{key:"render",value:function(){var e=this,n=this.props,r=n.query,a=n.onChange,i=n.className,o=n.disabled,s=V()("SearchBox",i,{"SearchBox--focused":this.state.focused,"SearchBox--disabled":o});return w.a.createElement("div",{className:s},w.a.createElement(z.a,{name:"search",customClass:"SearchBox-icon"}),w.a.createElement("input",{className:"SearchBox-input",placeholder:t("learning_library.search.placeholder"),value:r,onChange:a,onFocus:this.handleFocus,onBlur:this.handleBlur,disabled:o,autoComplete:"off",ref:function(t){e.input=t,e.props.inputRef(t)}}),!o&&r&&w.a.createElement("button",{type:"button",onClick:this.handleClear,className:"SearchBox-button"},t("common.clear")))}}]),n}(E.Component);i()(GO,"defaultProps",{inputRef:function(){}});var WO=GO,VO=N.k.LEARN_SEARCH,zO=N.k.LEARN,YO=function(e){function t(e){var n;return l()(this,t),(n=f()(this,m()(t).call(this,e))).setQuery=n.setQuery.bind(v()(n)),n.clearQuery=n.setQuery.bind(v()(n),""),n.handleOnChange=n.handleOnChange.bind(v()(n)),n.updateUrl=Object(S.debounce)(n.updateUrl.bind(v()(n)),300),n}return y()(t,e),d()(t,[{key:"componentDidMount",value:function(){var e=this;this.isOnSearchPage&&this.setQueryFromLocation().then(function(t){t||e.props.history.replace(e.props.sourcePage||zO)})}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=e.query,n=e.location,r=this.isOnSearchPage,a=this.props.query!==t;!r&&a&&""!==t&&this.props.history.push(VO),r||n.pathname!==VO||(t||this.setQueryFromLocation(n),this.props.setSourcePage(this.props.location)),r&&a&&""===t&&this.props.history.push(this.props.sourcePage||zO),r&&n.pathname!==VO&&(this.clearQuery(),this.props.resetSourcePage())}},{key:"updateUrl",value:function(){var e=this.props.query;this.props.history.replace({pathname:this.props.location.pathname,search:e?new URLSearchParams({query:e}).toString():""})}},{key:"setQuery",value:function(e){this.props.updateQuery(e),this.updateUrl(e)}},{key:"setQueryFromLocation",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.location;return new Promise(function(n){var r=new URLSearchParams(t.search).get("query");r&&e.setQuery(r),n(r)})}},{key:"handleOnChange",value:function(e){this.setQuery(e.target.value)}},{key:"render",value:function(){return w.a.createElement(WO,{query:this.props.query,onChange:this.handleOnChange,onClear:this.clearQuery,disabled:this.props.loading})}},{key:"isOnSearchPage",get:function(){return this.props.location.pathname===VO}}]),t}(E.Component),QO={setSourcePage:function(e){return{type:he.h.SEARCH.SET_SOURCE_PAGE,sourcePage:e}},resetSourcePage:function(){return{type:he.h.SEARCH.RESET_SOURCE_PAGE}},updateQuery:function(e){return{type:he.h.SEARCH.UPDATE_QUERY,query:e}}},KO=Object(ue.d)(Gy.f,Object(le.b)(function(e){return{loading:e.search.loading,query:e.search.query,sourcePage:e.search.sourcePage}},QO))(YO),XO=Object(le.b)(function(e){return{i18n:{expert:e.meta.i18n.learn.expert,expertToggle:M_(e)}}})(function(e){var t=e.i18n;return w.a.createElement(q_,{i18n:t.expertToggle},function(e){var n=e.toggleModal;return w.a.createElement("div",{className:"LearnAskTheExpert"},w.a.createElement("span",null,t.expert.question),w.a.createElement("a",{onClick:n},w.a.createElement(z.a,{name:"chat_outline",customClass:"LearningHeader-expertIcon"}),t.expert.action_button))})}),$O=Object(Gy.f)(function(e){e.expert,e.features;return w.a.createElement(vE.Header,null,w.a.createElement("div",{className:"LearnHeader-search"},w.a.createElement(KO,null),w.a.createElement(XO,null)))}),ZO=function(e){function t(e){var n;return l()(this,t),(n=f()(this,m()(t).call(this,e))).store=dE(e),n}return y()(t,e),d()(t,[{key:"componentDidMount",value:function(){this.store.dispatch(Yy())}},{key:"render",value:function(){return w.a.createElement(le.a,{store:this.store},w.a.createElement(qy.a,null,w.a.createElement(fE,null,w.a.createElement(vE.Dashboard,null,w.a.createElement(pa,null),w.a.createElement($O,null),w.a.createElement(Gy.c,null,w.a.createElement(Gy.a,{path:N.k.LEARN_SEARCH,component:qO}),w.a.createElement(Gy.a,{component:Z_}))))))}}]),t}(E.Component),JO=function(e){var n=e.attempts,r=e.userName;return w.a.createElement(w.a.Fragment,null,w.a.createElement(k.f,{className:"LearnerOverview-listTable"},w.a.createElement(k.f.Content,null,n.length>0&&w.a.createElement("table",{className:"DataTable Table tablesaw tablesaw-stack w-fill","data-tablesaw-mode":"stack"},w.a.createElement("thead",null,w.a.createElement("tr",null,w.a.createElement("th",null,w.a.createElement("span",{className:"pl-16"},t("practice.on_demand_practice.overview.attempts_table.name_header"))),w.a.createElement("th",{name:"createdAt"},w.a.createElement("span",{className:"pl-16"},t("practice.on_demand_practice.overview.learner_page.completions"),w.a.createElement(z.a,{name:"triangle_down",customClass:"LearnerOverview-arrow"}))))),w.a.createElement("tbody",null,n.map(function(e){return w.a.createElement("tr",{key:e.id},w.a.createElement("td",null,w.a.createElement("span",{className:"pl-16"},r)),w.a.createElement("td",null,w.a.createElement("time",{className:"pl-16"},(t=e.createdAt,moment(t).format(L.LONG_AT_TIME)))));var t}))))))},ex=function(e){function n(){var e,t;l()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return t=f()(this,(e=m()(n)).call.apply(e,[this].concat(a))),i()(v()(t),"state",{modalVisible:!1}),i()(v()(t),"inputRef",Object(E.createRef)()),i()(v()(t),"openModal",function(){t.setState({modalVisible:!0})}),i()(v()(t),"closeModal",function(){t.setState({modalVisible:!1})}),i()(v()(t),"selectInput",function(e){var n=t.inputRef.current;n&&n.select()}),i()(v()(t),"thumbnail",function(){var e=t.props.attempt;return"audio_recording"===e.scenarioType?"":"webcam_recording"===e.scenarioType?Object(Ts.c)(e.answer):"screen_recording"===e.scenarioType?t.props.hippoThumbnailBase+e.answer+".jpg":""}),t}return y()(n,e),d()(n,[{key:"render",value:function(){var e,n=this,r=this.props,a=r.attempt,i=r.prompt,o=r.hippoPreviewBase,s=this.state.modalVisible;return w.a.createElement("tr",{className:"LearnerOverview-completionsTableRow"},w.a.createElement("td",{className:"DataTable-name LearnerOverview-completionsTableCell"},i),w.a.createElement("td",{className:"LearnerOverview-completionsTableCell"},(e=a.createdAt,moment(e).format(L.LONG_AT_TIME))),w.a.createElement("td",{className:"DataTable-name LearnerOverview-completionsTableCell"},w.a.createElement(k.f,null,w.a.createElement(k.f.Content,null,w.a.createElement("div",{className:"PreviousAttempt-thumbnail",onClick:this.openModal,onKeyDown:function(e){return"Enter"===e.key&&n.openModal()},tabIndex:"0",role:"button"},w.a.createElement(xs.a,{mediaThumbnailSrc:this.thumbnail(),questionType:a.scenarioType}))),w.a.createElement(k.f.Content,null,w.a.createElement("div",{className:"mb-8 c-gray-darker fz-base"},t("practice.on_demand_practice.overview.learner_page.share_link_text")),w.a.createElement("div",{className:"d-f ai-c"},w.a.createElement("input",{className:"NewInput NewInput--white f-1 f-sh-0",onFocus:this.selectInput,onClick:this.selectInput,ref:this.inputRef,value:a.sharableLink,readOnly:!0})))),w.a.createElement(Ws,{attempt:a,caption:t("practice.on_demand_practice.overview.learner_page.share_link_text"),show:s,prompt:i,handleDismiss:this.closeModal,hippoPreviewBase:o})))}}]),n}(E.Component),tx=Object(Ts.d)(ex),nx=function(e){function n(){var e,t;l()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return t=f()(this,(e=m()(n)).call.apply(e,[this].concat(a))),i()(v()(t),"state",{prompt:"",attempts:[],loading:!0,ziggeoApiKey:null,loadError:!1,userName:"",containerTitle:"",hippoThumbnailBase:"",hippoPreviewBase:""}),t}return y()(n,e),d()(n,[{key:"componentDidMount",value:function(){var e=this;C.a.get(N.k.ON_DEMAND_PRACTICE.CREATOR.ATTEMPTS.USER(this.props.scenarioId,this.props.userId)).then(function(t){e.setState(R()({loading:!1},t))}).fail(function(){e.setState({loading:!1,loadError:!0})})}},{key:"render",value:function(){var e=this.props,n=e.scenarioId,r=e.userId,a=this.state,i=a.loading,o=a.attempts,s=a.prompt,c=a.ziggeoApiKey,l=a.loadError,u=a.containerTitle,d=a.userName,p=a.hippoThumbnailBase,f=a.hippoPreviewBase;return w.a.createElement("section",{className:"LearnerOverview"},l&&w.a.createElement("div",{className:"fz-24 w-half m-a ta-c"},t("practice.on_demand_practice.error.generic")),i&&w.a.createElement(k.k,null),!i&&w.a.createElement("div",null,w.a.createElement("h1",{className:"LearnerOverview-header"},t("practice.on_demand_practice.overview.learner_page.for_the_learner"),w.a.createElement("a",{href:N.k.USER(r),className:"td-u"},d),t("practice.on_demand_practice.overview.learner_page.and_the_scenario"),w.a.createElement("a",{href:N.k.ON_DEMAND_PRACTICE.CREATOR.SHOW(n),className:"td-u"},u)),w.a.createElement(JO,{attempts:o,userName:d}),w.a.createElement("div",{className:"fz-18 mt-30"},t("practice.on_demand_practice.overview.learner_page.completed_responses")),w.a.createElement("div",{className:"mt-24"},w.a.createElement("table",{className:"DataTable Table tablesaw-stack LearnerOverview-completionsTable","data-tablesaw-mode":"stack"},w.a.createElement("thead",null,w.a.createElement("tr",null,w.a.createElement("th",{className:"DataTable-name"},t("practice.on_demand_practice.general.prompt")),w.a.createElement("th",null,w.a.createElement("span",null,t("practice.on_demand_practice.overview.learner_page.completion_date"),w.a.createElement(z.a,{name:"triangle_down",customClass:"LearnerOverview-arrow"}))),w.a.createElement("th",{className:"DataTable-name"},t("practice.on_demand_practice.overview.learner_page.given_response")))),w.a.createElement("tbody",null,o.map(function(e,t){return w.a.createElement(tx,{key:e.id,prompt:s,attempt:e,apiKey:c,hippoPreviewBase:f,hippoThumbnailBase:p})}))))))}}]),n}(E.Component),rx=function(e){var t=e.loading,n=e.title,r=e.stat;return w.a.createElement("li",{className:"StatisticsModule-stat"},w.a.createElement("span",{className:"StatisticsModule-value"},t?w.a.createElement("div",{className:"Spinner"}):r),w.a.createElement("span",{className:"StatisticsModule-label"},n))},ax=function(e){function n(){var e,t;l()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return t=f()(this,(e=m()(n)).call.apply(e,[this].concat(a))),i()(v()(t),"state",{loading:!0,totalCompleted:"-",totalLessonViews:"-",uniqueLessonViews:"-",averageCompletionTime:"-"}),t}return y()(n,e),d()(n,[{key:"componentDidMount",value:function(){this.requestData()}},{key:"requestData",value:function(){var e=this;C.a.get(this.props.engagementLessonPath).then(function(t){return e.setState(R()({},t,{loading:!1}))}).fail(function(){return e.setState({loading:!1})})}},{key:"render",value:function(){var e=this.state.loading;return w.a.createElement("ul",{className:"StatisticsModule-list"},w.a.createElement(rx,{loading:e,stat:this.state.totalCompleted,title:t("lesson_analytics.lesson_engagement.lesson_completions")}),w.a.createElement(rx,{loading:e,stat:this.state.totalLessonViews,title:t("lesson_analytics.lesson_engagement.lesson_views")}),w.a.createElement(rx,{loading:e,stat:this.state.uniqueLessonViews,title:t("lesson_analytics.lesson_engagement.unique_learner_views")}),w.a.createElement(rx,{loading:e,stat:this.state.averageCompletionTime,title:t("lesson_analytics.lesson_engagement.average_completion_time")}))}}]),n}(E.Component),ix=Object(me.pickBy)(Object(me.negate)(me.isNull)),ox=function(e){function t(){return l()(this,t),f()(this,m()(t).apply(this,arguments))}return y()(t,e),d()(t,[{key:"render",value:function(){var e=this.props,t=e.topic,n=e.filters,r=e.onClick,a=G()(e,["topic","filters","onClick"]),o=V()("LibraryTopic CustomColor--borderColorLeft",i()({"LibraryTopic--withImage":!!t.image},a.className,a.className));return w.a.createElement("a",{className:o,href:Object(gs.b)(t.path,ix(n)),onClick:r},this.featured&&w.a.createElement(df,{type:"warning",icon:"star_filled"}),t.image&&w.a.createElement(Ov,{image:t.image}),w.a.createElement("div",{className:"LibraryTopic-content d-f jc-sb fd-c"},w.a.createElement("div",null,w.a.createElement(sx,{lines:3},t.name),t.description&&w.a.createElement(cx,{lines:4},t.description)),w.a.createElement("div",{className:"LibraryTopic-count"},t.content_counts_text)))}},{key:"featured",get:function(){return"featured_in_library"===this.props.topic.library_visibility}}]),t}(E.Component),sx=function(e){return w.a.createElement(Zm.a,H()({tagName:"h3",className:"LibraryTopic-title"},e))},cx=function(e){return w.a.createElement(Zm.a,H()({tagName:"p",className:"LibraryTopic-description"},e))},lx=ox,ux=function(e){function t(){return l()(this,t),f()(this,m()(t).apply(this,arguments))}return y()(t,e),d()(t,[{key:"render",value:function(){return w.a.createElement("div",null,w.a.createElement("div",{className:"ai-c d-f fd-c MediaRecording"},w.a.createElement("iframe",{title:"Recording Embed",allowFullScreen:!0,width:"100%",height:"100%",allowTransparency:"true",scrolling:"no",style:{backgroundColor:"transparent"},frameBorder:"0",src:this.props.preview_source})),w.a.createElement("figcaption",null,w.a.createElement("p",null,this.props.caption)))}}]),t}(w.a.Component),dx=function(e){function n(e){var t;return l()(this,n),t=f()(this,m()(n).call(this,e)),i()(v()(t),"handleSubmit",function(){t.setState({loading:!0}),t.props.subscription.id?t.updateSubscription():t.createSubscription()}),i()(v()(t),"handleChange",function(e){var n=e.target,r=n.name,a=n.value,o=n.type,s=n.checked,c="checkbox"===o?s:a;t.setState(i()({},r,c))}),i()(v()(t),"handleSubscriptionEventChange",function(e){var n,r=e.target.name,a=Z()(t.state.events);n=a.includes(r)?a.filter(function(e){return e!==r}):[].concat(Z()(a),[r]),t.setState({events:n})}),t.state=R()({subscription_type:e.subscriptionType},e.subscription,{errors:[],loading:!1}),t}return y()(n,e),d()(n,[{key:"createSubscription",value:function(){var e=this;C.a.post(N.k.NOTIFICATION_SUBSCRIPTIONS,{notification_subscription:R()({},this.state)}).then(function(t){return e.props.onCancel()}).fail(function(t){e.setState({errors:t.responseJSON.errors,loading:!1})})}},{key:"updateSubscription",value:function(){var e=this;C.a.put(N.k.NOTIFICATION_SUBSCRIPTION(this.props.subscription.id),{notification_subscription:R()({},this.state)}).then(function(){return e.props.onCancel()}).fail(function(t){e.setState({errors:t.responseJSON.errors,loading:!1})})}},{key:"render",value:function(){var e=this;return w.a.createElement("div",{className:"p-16 form-horizontal"},w.a.createElement("input",{type:"hidden",id:"type",name:"subscription_type",value:this.state.subscription_type}),w.a.createElement("div",null,w.a.createElement("input",{type:"checkbox",id:"subscribed",name:"subscribed",checked:this.state.subscribed,onChange:this.handleChange})," ",w.a.createElement("label",{htmlFor:"subscribed"},t("settings.tab.api_webhook.event_subscription.enable"))),w.a.createElement("p",null,w.a.createElement("label",{htmlFor:"url"},t("settings.tab.api_webhook.event_subscription.payload_url")),w.a.createElement("input",{type:"url",id:"url",name:"url",className:"form-control SettingsContent-fullWidthInput",value:this.state.url,onChange:this.handleChange,placeholder:"https://example.com/route",required:!0}),this.state.errors.url&&this.state.errors.url.map(function(e){return w.a.createElement("span",{key:e,className:"c-red"},e)})),w.a.createElement("p",null,w.a.createElement("label",{htmlFor:"token"},t("settings.tab.api_webhook.event_subscription.token")),w.a.createElement("input",{type:"text",id:"token",name:"token",className:"form-control SettingsContent-fullWidthInput",value:this.state.token,onChange:this.handleChange,required:!0}),this.state.errors.token&&this.state.errors.token.map(function(e){return w.a.createElement("span",{key:e,className:"c-red"},e)})),w.a.createElement("p",null,w.a.createElement("label",{htmlFor:"version"},t("settings.tab.api_webhook.event_subscription.version")),w.a.createElement("select",{className:"form-control SettingsContent-input",value:this.state.version,onChange:this.handleChange},w.a.createElement("option",{value:"1"},"1"))),this.props.events&&w.a.createElement("h3",{className:"SettingsContent-heading"},t("settings.tab.api_webhook.event_subscription.events")),this.props.events&&this.props.events.map(function(t){return w.a.createElement("span",{key:t},w.a.createElement("input",{type:"checkbox",id:t,name:t,checked:e.state.events.includes(t),onChange:e.handleSubscriptionEventChange})," ",w.a.createElement("label",{htmlFor:t},t),"  ")}),w.a.createElement("div",{className:"mt-10"},w.a.createElement(k.c,{onClick:this.handleSubmit,primary:!0,disabled:this.state.loading,loading:this.state.loading},t("settings.tab.api_webhook.event_subscription.save")),"  ",w.a.createElement(Ce,{type:"primary",onClick:this.props.onCancel},t("settings.tab.api_webhook.event_subscription.cancel"))))}}]),n}(E.Component),px={id:null,subscribed:!1,url:"",token:"",version:1,events:[]},fx=function(e){var n=e.onDismiss,r=e.onSubmit;return w.a.createElement(un.c,{onDismiss:n},w.a.createElement(un.a,null,t("settings.tab.api_webhook.event_subscription.delete_susbcription")),w.a.createElement(un.b,null,t("settings.tab.api_webhook.event_subscription.confirm_delete")),w.a.createElement(k.d,{alignEnd:!0},w.a.createElement(Ce,{type:"primary",className:"cancel mr-24 ml-24",onClick:n},t("common.cancel")),w.a.createElement(k.c,{onClick:r,primary:!0},t("settings.tab.api_webhook.event_subscription.delete"))))},hx=function(e){var n=e.errors,r=e.onDismiss,a=function(e){var t=e.title,n=e.messages;return w.a.createElement("div",null,w.a.createElement(un.b,null,t),w.a.createElement("ul",null,n.map(function(e){return w.a.createElement("li",{key:e},e)})))};return w.a.createElement(un.c,{onDismiss:r},w.a.createElement(un.a,null,t("common.error")),Object.keys(n).map(function(e){return w.a.createElement(a,{key:e,title:e,messages:n[e]})}))},mx=function(e){var n=e.subscriptions,r=e.editSubscription,a=e.setDeletableSubscriptionId,i=e.toggleDeleteModal;return w.a.createElement(Lt,{alternate:!0},w.a.createElement(Lt.Body,null,n.map(function(e){return w.a.createElement(Lt.Row,{key:e.id},w.a.createElement(Lt.Body.Cell,{size:"xs"},e.subscribed?t("settings.tab.api_webhook.event_subscription.subscribed"):t("settings.tab.api_webhook.event_subscription.unsubscribed")),w.a.createElement(Lt.Body.Cell,{size:"xl"},e.url),w.a.createElement(Lt.Body.Cell,{size:"xs"},w.a.createElement(Ce,{type:"primary",onClick:function(){r(e)}},t("settings.tab.api_webhook.event_subscription.edit"))),w.a.createElement(Lt.Body.Cell,{size:"xs"},w.a.createElement(Ce,{type:"primary",onClick:function(){i(!0),a(e.id)}},t("settings.tab.api_webhook.event_subscription.delete"))))})))},gx=function(e){return w.a.createElement(w.a.Fragment,null,e.subscriptions&&e.subscriptions.length>0&&w.a.createElement(mx,e),w.a.createElement(k.d,{alignEnd:!0},w.a.createElement(k.c,{className:"mt-8",onClick:function(){return e.editSubscription(px)},primary:!0},t("settings.tab.api_webhook.event_subscription.new_subscription"))))},vx=function(e){function t(){var e,n;l()(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return n=f()(this,(e=m()(t)).call.apply(e,[this].concat(a))),i()(v()(n),"state",{currentSubscription:null,subscriptions:null,deleteModalIsVisible:!1,deletableSubscriptionId:null,errors:null}),i()(v()(n),"editSubscription",function(e){n.setState({currentSubscription:e})}),i()(v()(n),"toggleDeleteModal",function(e){n.setState({deleteModalIsVisible:e})}),i()(v()(n),"setDeletableSubscriptionId",function(e){n.setState({deletableSubscriptionId:e})}),i()(v()(n),"onCancel",function(){n.editSubscription(null),n.getSubscriptions()}),i()(v()(n),"deleteSubscription",function(){C.a.delete(N.k.NOTIFICATION_SUBSCRIPTION(n.state.deletableSubscriptionId)).then(function(){n.setState({deleteModalIsVisible:!1}),n.getSubscriptions()}).fail(function(e){n.setState({deleteModalIsVisible:!1,errors:e.responseJSON.errors}),n.getSubscriptions()})}),n}return y()(t,e),d()(t,[{key:"componentDidMount",value:function(){this.getSubscriptions()}},{key:"getSubscriptions",value:function(){var e=this,t=this.props.meta.subscriptionType;C.a.get("".concat(N.k.NOTIFICATION_SUBSCRIPTIONS,"?subscription_type=").concat(t)).then(function(t){return e.setState({subscriptions:t})})}},{key:"render",value:function(){var e=this,t=this.props.meta,n=t.subscriptionType,r=t.events,a=this.state,i=a.currentSubscription,o=a.subscriptions,s=a.deleteModalIsVisible;return w.a.createElement(w.a.Fragment,null,s&&w.a.createElement(fx,{onDismiss:function(){return e.toggleDeleteModal(!1)},onSubmit:this.deleteSubscription}),this.state.errors&&w.a.createElement(hx,{errors:this.state.errors,onDismiss:function(){return e.setState({errors:null})}}),i?w.a.createElement(dx,{onCancel:this.onCancel,events:r,subscriptionType:n,subscription:i}):w.a.createElement(gx,{subscriptions:o,editSubscription:this.editSubscription,deleteSubscription:this.deleteSubscription,toggleDeleteModal:this.toggleDeleteModal,setDeletableSubscriptionId:this.setDeletableSubscriptionId}))}}]),t}(E.Component),bx=function(e){var n=e.scenarioId,r=e.groupId,a=Object(E.useState)(1),i=Ye()(a,2),o=i[0],s=i[1],c=Object(gs.b)(N.k.ON_DEMAND_PRACTICE.CREATOR.ATTEMPTS.INDEX(n),{page:o,group_id:r}),l=Sn(c),u=l.data,d=l.loading;return w.a.createElement("div",null,d&&w.a.createElement(k.k,null),!d&&w.a.createElement(k.f,{className:"bs-n"},w.a.createElement(k.f.Content,null,0===u.attempts.length&&w.a.createElement(Tl.a,{align:"left",className:"fz-lg"},t("practice.on_demand_practice.overview.attempts_table.blank_slate_message")),u.attempts.length>0&&w.a.createElement("table",{className:"DataTable Table tablesaw tablesaw-stack w-fill","data-tablesaw-mode":"stack"},w.a.createElement("thead",null,w.a.createElement("tr",null,w.a.createElement("th",{name:"userName",className:"DataTable-name"},w.a.createElement("span",{className:"pl-16"},t("practice.on_demand_practice.overview.attempts_table.name_header"))),w.a.createElement("th",{name:"lastCompletedAt"},w.a.createElement("span",{className:"pl-16"},t("practice.on_demand_practice.overview.attempts_table.last_completed_header"))),w.a.createElement("th",{name:"count"},w.a.createElement("span",{className:"pl-16"},t("practice.on_demand_practice.overview.attempts_table.count_header"))))),w.a.createElement("tbody",null,u.attempts.map(function(e){return w.a.createElement("tr",{key:e.id},w.a.createElement("td",{className:"DataTable-name"},w.a.createElement("a",{href:N.k.ON_DEMAND_PRACTICE.CREATOR.ATTEMPTS.USER(n,e.id),className:"pl-16 d-b"},e.userName)),w.a.createElement("td",null,w.a.createElement("time",{className:"pl-16"},(t=e.lastCompletedAt,moment(t).format(L.LONG_AT_TIME)))),w.a.createElement("td",null,w.a.createElement("span",{className:"pl-16"},e.count)));var t})))),u.pagination.pages>1&&w.a.createElement(Rt,{pages:u.pagination.pages,selected:u.pagination.selected,pageSelectCallback:s,customClass:"h-100 ml-16 py-8"})))},yx=function(e){var n=e.scenarioId,r=Object(gs.a)(window.location.href,"group_id"),a=Object(E.useState)({}),i=Ye()(a,2),o=i[0],s=i[1],c=Sn(N.k.ON_DEMAND_PRACTICE.CREATOR.SHOW(n,r),s).loading;return w.a.createElement("div",{className:"PathViewer panel mt-30 pt-24"},!c&&w.a.createElement("span",{className:"ff-ss ws-pr c-gray-light"},t("practice.on_demand_practice.overview.source_scenario"),w.a.createElement("a",{className:"c-gray-light u-linkBtn td-u ml-4",href:N.k.ON_DEMAND_PRACTICE.CREATOR.SHOW(n)},o.practiceContainerTitle)," ",o.group&&w.a.createElement(w.a.Fragment,null,t("practice.on_demand_practice.overview.and_the_group"),w.a.createElement("a",{className:"c-gray-light u-linkBtn td-u ml-4",href:N.k.GROUP_SHOW(r)},o.group.name))),w.a.createElement("h2",{className:"ff-ss ws-pr mt-48 mb-24"},t("practice.on_demand_practice.overview.attempts_table.title")),w.a.createElement(bx,{groupId:r,scenarioId:n,className:"mt-30"}))},Ex=function(e){var t=e.title;return w.a.createElement("header",{className:"EditorElement-header"},w.a.createElement("div",{className:"EditorElement-title"},t))},_x=function(e){var n=e.canUseCustomFeedbackCriteria,r=e.feedbackCriteria,a=e.updateFeedbackCriteria;return r.length>0?w.a.createElement(wm,{selectedCriteria:r,handleUpdate:a,canUseCustomFeedbackCriteria:n}):w.a.createElement(ym,{handleUpdate:a,canUseCustomFeedbackCriteria:n,description:t("feedback_criteria.practice_with_peers_description")})},wx=function(e){var t=e.hint,n=e.feedbackCriteria,r=e.updateFeedbackCriteria,a=e.features;return w.a.createElement("footer",{className:"EditorElement-footer"},w.a.createElement("div",{className:"EditorElement-hint"},t),a.practiceWithPeers&&w.a.createElement(_x,{feedbackCriteria:n,updateFeedbackCriteria:r,canUseCustomFeedbackCriteria:!!a.customFeedbackCriteria}))},Sx=function(e){var n=e.prompt,r=e.updatePrompt,a=e.questionType,i=e.feedbackCriteria,o=e.updateFeedbackCriteria,s=e.features;return w.a.createElement("div",{className:"EditorElement-content"},w.a.createElement(Ex,{title:t("questions.types.".concat(a,".title"))}),w.a.createElement("div",{className:"EditorElement-body"},w.a.createElement(Dl.a,{className:"EditorElement-input",placeholder:t("questions.element.enter_prompt"),value:n,onChange:r,singleLine:!0})),w.a.createElement(wx,{feedbackCriteria:i,updateFeedbackCriteria:o,features:s,hint:t("questions.types.".concat(a,".hint"))}))},kx=function(){return w.a.createElement(un.c,{className:"Editor-ErrorModal ta-c"},w.a.createElement("img",{src:"/assets/blankslates/editor_error.svg",role:"presentation",alt:t("lessons.editor.error_message")}),w.a.createElement("h3",null,t("common.uh_oh")),w.a.createElement("p",null,t("common.problem.saving_update"),w.a.createElement("br",null),t("common.solution.reload_try_again")),w.a.createElement(k.c,{onClick:function(){return window.location.reload()}},t("common.reload_page")))},Cx=function(e){return e.feedbackContributors},Nx=function(e){var t=e.name,n=e.type;return w.a.createElement("div",{className:"d-f fz-16 py-4 ai-c"},n===N.i.GROUP&&w.a.createElement(z.a,{name:"group",customClass:"mr-8 c-brand-gray-dark"}),w.a.createElement("span",{className:"d-f w-fill"},t))},Ox=function(e){var n=e.identifier,r=e.scenarioId,a=e.selectedSuggestions,i=e.filterSuggestions,o=e.onSuggestionSelected,s=e.onSuggestionRemoved,c=N.k.ON_DEMAND_PRACTICE.CREATOR.FEEDBACK_CONTRIBUTOR_OPTIONS.AUTOCOMPLETE_FEEDBACK_CONTRIBUTOR(r);return w.a.createElement(w.a.Fragment,null,w.a.createElement(Tn,{url:c,queryParam:"q",renderSuggestion:Nx,getSuggestionValue:function(e){return e.name},mapResponseToSuggestions:Cx,onSuggestionSelected:o,filterSuggestions:i,placeholder:t("practice.on_demand_practice.editor.scenario_autocomplete_placeholder"),className:"ScenarioEditor-input w-fill mb-12"}),w.a.createElement("div",{className:"d-f fw-w mb-16 mt-8"},a.map(function(e){return w.a.createElement("span",{key:n(e),className:"d-ib p-4-8 mr-8 mb-4 bg-gray-light bdrs-small c-black fw-b fz-12 f-smooth"},e.name,w.a.createElement("button",{type:"button","aria-label":t("common.close"),onClick:s(e),className:"u-resetBtn ml-8"},w.a.createElement(z.a,{name:"remove"})))})))},xx=function(e){return"".concat(e.id,".").concat(e.type)},Tx=function(e){function n(e){var t;return l()(this,n),t=f()(this,m()(n).call(this,e)),i()(v()(t),"state",{loading:!0,scenario:null,saved:!1,savingError:!1,potentialFeedbackContributors:[]}),i()(v()(t),"loadScenario",function(){t.setState({loading:!0}),C.a.get(N.k.ON_DEMAND_PRACTICE.CREATOR.EDIT(t.props.scenarioId)).then(function(e){var n=[];e&&e.feedbackContributors&&(n=e.feedbackContributors||[],delete e.feedbackContributors);var r=[];e&&e.feedbackCriteria&&(r=e.feedbackCriteria||[]),t.setState({loading:!1,scenario:e,potentialFeedbackContributors:n,feedbackCriteria:r})})}),i()(v()(t),"saveScenario",function(){var e=t.state.scenario,n={scenario:{prompt:e.prompt,practice_container_attributes:{id:e.practiceContainerId,title:e.practiceContainerTitle,description:e.practiceContainerDescription}}};C.a.put(N.k.ON_DEMAND_PRACTICE.CREATOR.UPDATE(t.props.scenarioId),n).then(function(e){e.success?t.setSavedState():t.setState({savingError:!0})}).fail(function(){t.setState({savingError:!0})})}),i()(v()(t),"updatePrompt",function(e){t.setState(function(t){return{scenario:R()({},t.scenario,{prompt:e})}},function(){t.saveScenario()})}),i()(v()(t),"updateTitle",function(e){t.setState(function(t){return{scenario:R()({},t.scenario,{practiceContainerTitle:e})}},function(){t.saveScenario()})}),i()(v()(t),"updateDescription",function(e){t.setState(function(t){return{scenario:R()({},t.scenario,{practiceContainerDescription:e})}},function(){t.saveScenario()})}),i()(v()(t),"filterSuggestions",function(e){var n=t.state.potentialFeedbackContributors.map(xx);return e.filter(function(e){return!n.includes(xx(e))})}),i()(v()(t),"onSuggestionSelected",function(e){t.setState(function(t){var n=t.potentialFeedbackContributors;return{potentialFeedbackContributors:[].concat(Z()(n),[e])}}),C.a.post(N.k.ON_DEMAND_PRACTICE.CREATOR.FEEDBACK_CONTRIBUTOR_OPTIONS.INDEX(t.props.scenarioId),R()({},e)).then(function(e,n,r){204===r.status?t.setSavedState():t.setState({savingError:!0})}).catch(function(e){t.setState({savingError:!0})})}),i()(v()(t),"onSuggestionRemoved",function(e){return function(){t.setState(function(t){return{potentialFeedbackContributors:t.potentialFeedbackContributors.filter(function(t){return xx(t)!==xx(e)})}}),C.a.delete("".concat(N.k.ON_DEMAND_PRACTICE.CREATOR.FEEDBACK_CONTRIBUTOR_OPTIONS.INDEX(t.props.scenarioId),"?id=").concat(encodeURI(e.id),"&type=").concat(encodeURI(e.type))).then(function(e,n,r){204===r.status?t.setSavedState():t.setState({savingError:!0})}).catch(function(e){t.setState({savingError:!0})})}}),i()(v()(t),"updateFeedbackCriteria",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];t.setState({feedbackCriteria:e}),C.a.post(N.k.ON_DEMAND_PRACTICE.CREATOR.FEEDBACK_CRITERIA.INDEX(t.props.scenarioId),{criteria:e.map(function(e){return e.id})}).then(function(e,n,r){200===r.status?t.setSavedState():t.setState({savingError:!0})}).catch(function(e){t.setState({savingError:!0})})}),t.store=mv({editor:{currentUserId:e.currentUserId},meta:{}}),t}return y()(n,e),d()(n,[{key:"componentDidMount",value:function(){this.loadScenario()}},{key:"setSavedState",value:function(){var e=this;this.setState({saved:!0},function(){setTimeout(function(){e.setState({saved:!1})},2e3)})}},{key:"render",value:function(){var e=this.state,n=e.scenario,r=e.loading,a=e.saved,i=e.savingError,o=e.potentialFeedbackContributors,s=e.feedbackCriteria;return w.a.createElement(le.a,{store:this.store},w.a.createElement("div",{className:"ScenarioEditor ff-ss p-24 maxw-layout"},r&&w.a.createElement(k.k,null),!r&&w.a.createElement(w.a.Fragment,null,w.a.createElement("div",{className:"ScenarioEditor-header d-f jc-sb mb-16"},w.a.createElement("h1",{className:"ff-ss fw-n"},t("practice.on_demand_practice.editor.scenario_builder")),w.a.createElement(k.d,null,w.a.createElement("div",{role:"alert","aria-hidden":a,className:"ScenarioEditor-saved ".concat(a&&"ScenarioEditor-saved--shown")},t("common.saved")),w.a.createElement(k.c,{url:N.k.ON_DEMAND_PRACTICE.CREATOR.SHOW(this.props.scenarioId)},t("practice.on_demand_practice.editor.scenario_overview")),w.a.createElement(k.c,{url:N.k.ON_DEMAND_PRACTICE.PREVIEW.SHOW(this.props.scenarioId),target:"_blank"},t("common.preview")))),w.a.createElement(k.f,null,w.a.createElement(k.f.Content,{padding:"large"},w.a.createElement("label",{htmlFor:"container-title",className:"v-hide"},t("practice.on_demand_practice.editor.scenario_title")),w.a.createElement(Dl.a,{id:"container-title",value:n.practiceContainerTitle,className:"ScenarioEditor-title fz-h1 Animated mb-8",onChange:this.updateTitle,placeholder:t("practice.on_demand_practice.editor.scenario_title"),singleLine:!0}),w.a.createElement("label",{htmlFor:"container-description",className:"v-hide"},t("practice.on_demand_practice.editor.scenario_description")),w.a.createElement(Dl.a,{id:"container-description",value:n.practiceContainerDescription,className:"ScenarioEditor-description fz-24 Animated mb-16",onChange:this.updateDescription,placeholder:t("practice.on_demand_practice.editor.scenario_description"),singleLine:!0}),w.a.createElement(Sx,{prompt:n.prompt,updatePrompt:this.updatePrompt,questionType:n.scenarioType,feedbackCriteria:s,updateFeedbackCriteria:this.updateFeedbackCriteria,features:this.props.features}),this.props.features.practiceWithPeers&&w.a.createElement(w.a.Fragment,null,w.a.createElement("h3",{className:"ff-ss"},t("practice.on_demand_practice.editor.scenario_potential_feedback_contributors")),w.a.createElement(Ox,{identifier:xx,selectedSuggestions:o,scenarioId:this.props.scenarioId,filterSuggestions:this.filterSuggestions,onSuggestionSelected:this.onSuggestionSelected,onSuggestionRemoved:this.onSuggestionRemoved}))))),i&&w.a.createElement(kx,null)))}}]),n}(E.Component),Rx=function(e){var t=e.criterion,n=e.onClick,r=e.selected,a=e.disabled,i=e.id,o=e.name;return w.a.createElement("span",{className:"FeedbackCriteriaToggleButton d-fi ai-c jc-c ".concat(a?"disabled":"")},w.a.createElement("input",{onChange:n,className:"FeedbackCriteriaToggleCheckbox",id:i,type:"checkbox",checked:r,disabled:a,name:o,value:t.id}),w.a.createElement("label",{htmlFor:i},t.name))},Px=function(){var e=Object(E.useState)([]),t=Ye()(e,2),n=t[0],r=t[1];return[n,function(e){var t=[];t=n.includes(e)?n.filter(function(t){return t!==e}):[].concat(Z()(n),[e]),r(t)}]},Ix=function(){var e=Object(E.useState)(""),t=Ye()(e,2),n=t[0],r=t[1];return[n,function(e){var t=e.target.value;r(t)}]},Ax=function(e){var n=e.scenarioId,r=e.attemptId,a=Sn(N.k.ON_DEMAND_PRACTICE.LEARNING.ATTEMPTS.GIVE_FEEDBACK(n,r)),i=a.data,o=a.loading,s=Object(E.useState)(!1),c=Ye()(s,2),l=c[0],u=c[1],d=Px(),p=Ye()(d,2),f=p[0],h=p[1],m=Px(),g=Ye()(m,2),v=g[0],b=g[1],y=Ix(),_=Ye()(y,2),S=_[0],C=_[1],O=Ix(),x=Ye()(O,2),T=x[0],R=x[1];if(o)return w.a.createElement("div",{className:"OnDemandPracticeFeedbackGiving"},w.a.createElement("div",{className:"d-f ai-c jc-c"},w.a.createElement(k.k,{className:"mr-8"})," ",t("common.loading")));var P=i.scenario,I=i.attempt,A=i.ziggeoApiKey,M=i.hippoPreviewBase,D=i.feedbackRequest,j=i.feedbackCriteria,L=j.length>0,F=S||T||f.length>0||v.length>0;return w.a.createElement("div",{className:"OnDemandPracticeFeedbackGiving"},w.a.createElement("a",{className:"OnDemandPracticeFeedbackGiving-backLink",href:N.k.ON_DEMAND_PRACTICE.LEARNING.INDEX(1)},w.a.createElement(z.a,{name:"back",customClass:"mr-4"}),t("practice.practice_with_peers.feedback_giving.back_link")),w.a.createElement("header",{className:"OnDemandPracticeFeedbackGiving-header"},w.a.createElement("h1",{className:"OnDemandPracticeFeedbackGiving-title"},t("practice.practice_with_peers.feedback_giving.title"))),w.a.createElement("div",{className:"OnDemandPracticeFeedbackGiving-meta"},P.practiceContainerTitle," — ",I.userName),w.a.createElement("div",{className:"OnDemandPracticeFeedbackGiving-prompt mb-16 text-wrap"},P.prompt),w.a.createElement(k.f,null,w.a.createElement(k.f.Content,{padding:"large",className:"OnDemandPracticeFeedbackGiving-attempt m-fd-c"},w.a.createElement("div",{className:"OnDemandPracticeFeedbackGiving-answer mr-32 m-m-0"},function(e,n,r){switch(e.scenarioType){case"webcam_recording":return w.a.createElement(Us,{token:e.answer,className:"VideoEmbed-videoPlayer",apiKey:n});case"screen_recording":case"audio_recording":return w.a.createElement("div",{className:"pos-r iframe-16-9"},w.a.createElement(Hs.a,{embedUrl:Gs(r,e.answer)}));case"written_response":return w.a.createElement("div",null,w.a.createElement("strong",{className:"d-ib mb-8"},t("practice.practice_with_peers.feedback_giving.response_header",{userName:e.userName})),w.a.createElement("div",{className:"m-0 p-12 fz-base mh-40 bdrs-base bd-gray-lighter text-wrap"},e.answer));default:return w.a.createElement("div",null)}}(I,A,M)),w.a.createElement("div",{className:"OnDemandPracticeFeedbackGiving-notes"},w.a.createElement("strong",{className:"d-ib mb-8"},t("practice.practice_with_peers.feedback_giving.notes",{userName:I.userName})),""===D.note&&w.a.createElement("p",{className:"fs-i c-gray-dark"},t("practice.practice_with_peers.feedback_giving.no_notes",{userName:I.userName})),w.a.createElement("p",null,D.note)))),w.a.createElement("div",{className:"OnDemandPracticeFeedbackGiving-divider"}),w.a.createElement(pn,{method:"POST",url:N.k.ON_DEMAND_PRACTICE.LEARNING.ATTEMPTS.ATTEMPT_FEEDBACKS(P.id,I.id),onSubmit:function(){return u(!0)}},w.a.createElement(k.f,{className:"mt-16"},w.a.createElement(k.f.Content,{padding:"large",className:"OnDemandPracticeFeedbackGiving-feedback"},w.a.createElement("header",{className:"OnDemandPracticeFeedbackGiving-feedbackHeader"},w.a.createElement("h3",{className:"OnDemandPracticeFeedbackGiving-feedbackTitle pb-8"},t("practice.practice_with_peers.feedback_giving.feedback_title"))),w.a.createElement("div",{className:"OnDemandPracticeFeedbackGiving-feedbackArea m-fd-c"},L&&w.a.createElement("div",{className:"OnDemandPracticeFeedbackGiving-feedbackAreaSide"},w.a.createElement("span",{className:"OnDemandPracticeFeedbackGiving-feedbackAreaLabel"},w.a.createElement(z.a,{name:"color_thumbs_up",customClass:"is-32 mr-8"}),w.a.createElement("strong",null,t("practice.practice_with_peers.feedback_giving.what_went_well"))," ",w.a.createElement(Cn,{tooltip:t("practice.practice_with_peers.feedback_giving.what_went_well_info"),className:"ml-4 u-hideBelowSM"})),w.a.createElement("div",null,j.map(function(e){return w.a.createElement(Rx,{onClick:function(){return h(e.id)},selected:f.includes(e.id),disabled:v.includes(e.id),criterion:e,id:"appriciative_criterion_".concat(e.id),name:"appreciativeCriteriaIds[]"})}))),w.a.createElement("div",{className:"OnDemandPracticeFeedbackGiving-feedbackAreaSide mb-32"},w.a.createElement("label",{className:"OnDemandPracticeFeedbackGiving-feedbackAreaLabel fw-b",htmlFor:"appriciative_feedback"},!L&&w.a.createElement("span",{className:"d-f ai-c"},w.a.createElement(z.a,{name:"color_thumbs_up",customClass:"is-32 mr-8"}),w.a.createElement("strong",null,t("practice.practice_with_peers.feedback_giving.what_went_well")))," ",L&&t("practice.practice_with_peers.feedback_giving.specific_examples")),w.a.createElement("textarea",{name:"appreciativeComment",value:S,onChange:C,className:"OnDemandPracticeFeedbackGiving-input",id:"appriciative_feedback"}))),w.a.createElement("div",{className:"OnDemandPracticeFeedbackGiving-feedbackArea m-fd-c"},L&&w.a.createElement("div",{className:"OnDemandPracticeFeedbackGiving-feedbackAreaSide"},w.a.createElement("span",{className:"OnDemandPracticeFeedbackGiving-feedbackAreaLabel d-f ai-c"},w.a.createElement(z.a,{name:"color_tools",customClass:"is-32 mr-8"}),w.a.createElement("strong",null,t("practice.practice_with_peers.feedback_giving.what_improved"))),w.a.createElement("div",null,j.map(function(e){return w.a.createElement(Rx,{onClick:function(){return b(e.id)},selected:v.includes(e.id),disabled:f.includes(e.id),criterion:e,id:"critical_criterion_".concat(e.id),name:"criticalCriteriaIds[]"})}))),w.a.createElement("div",{className:"OnDemandPracticeFeedbackGiving-feedbackAreaSide"},w.a.createElement("label",{className:"OnDemandPracticeFeedbackGiving-feedbackAreaLabel fw-b",htmlFor:"critical_feedback"},!L&&w.a.createElement("span",{className:"d-f ai-c"},w.a.createElement(z.a,{name:"color_tools",customClass:"is-32 mr-8"}),w.a.createElement("strong",null,t("practice.practice_with_peers.feedback_giving.what_improved")))," ",L&&t("practice.practice_with_peers.feedback_giving.specific_examples")),w.a.createElement("textarea",{name:"criticalComment",value:T,onChange:R,className:"OnDemandPracticeFeedbackGiving-input",id:"critical_feedback"}))),w.a.createElement(k.d,{alignEnd:!0,className:"mt-16"},w.a.createElement(k.c,{type:"submit",customColor:!0,loading:l,disabled:!F||l},"Send Feedback"))))))},Mx=function(e){var n=e.scenario,r=e.onDismiss,a=Object(E.useState)(!1),i=Ye()(a,2),o=i[0],s=i[1];return w.a.createElement(un.c,{onDismiss:o?null:r},w.a.createElement(pn,{url:N.k.ON_DEMAND_PRACTICE.CREATOR.CONTAINER.ARCHIVE(n.practiceContainerId),onSubmit:function(){return s(!0)}},w.a.createElement("h2",{className:"ff-ss mb-16"},t("practice.on_demand_practice.overview.archive.confirmation")),w.a.createElement(k.d,{alignEnd:!0},w.a.createElement(Ce,{disabled:o,type:"primary",className:"mr-8",onClick:r},t("common.cancel")),w.a.createElement(k.c,{loading:o,submit:!0,primary:!0},t("common.archive")))))},Dx=function(e){var n=e.scenario,r=e.onDismiss,a=Object(E.useState)(!1),i=Ye()(a,2),o=i[0],s=i[1];return w.a.createElement(un.c,{onDismiss:o?null:r},w.a.createElement(pn,{url:N.k.ON_DEMAND_PRACTICE.CREATOR.CONTAINER.RESTORE(n.practiceContainerId),onSubmit:function(){return s(!0)}},w.a.createElement("h2",{className:"ff-ss mb-16"},t("practice.on_demand_practice.overview.restore.confirmation")),w.a.createElement("p",null,t("practice.on_demand_practice.overview.restore.description")),w.a.createElement(k.d,{alignEnd:!0},w.a.createElement(Ce,{disabled:o,type:"primary",className:"mr-8",onClick:r},t("common.cancel")),w.a.createElement(k.c,{loading:o,submit:!0,primary:!0},t("common.restore")))))},jx=r(140),Lx=r.n(jx),Fx=function(e){function n(){var e,t;l()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return t=f()(this,(e=m()(n)).call.apply(e,[this].concat(a))),i()(v()(t),"state",{isEditing:!1,scenarioDescription:t.props.scenario.practiceContainerDescription,loading:!1}),i()(v()(t),"inputRef",w.a.createRef()),i()(v()(t),"sizeElement",function(){t.inputRef.current&&Lx()(t.inputRef.current)}),i()(v()(t),"updateElementSize",function(){t.inputRef.current&&Lx.a.update(t.inputRef.current)}),i()(v()(t),"cancelEditing",function(){t.setState({isEditing:!1,scenarioDescription:t.props.scenario.practiceContainerDescription})}),i()(v()(t),"startEditing",function(){t.setState({isEditing:!0},function(){t.focusInputRef(),t.sizeElement()})}),i()(v()(t),"changeDescription",function(e){t.setState({scenarioDescription:e.target.value.replace(/[\r\n|\n|\s]+/g," ")},function(){t.updateElementSize()})}),i()(v()(t),"handleKeyDown",function(e){13===e.keyCode&&(e.preventDefault(),t.setState({shake:!0}),setTimeout(function(){t.setState({shake:!1})},500))}),i()(v()(t),"updateDescription",function(){t.setState({loading:!0});var e=t.state.scenarioDescription,n={scenario:{practice_container_attributes:{id:t.props.scenario.practiceContainerId,description:e}}};C.a.put(N.k.ON_DEMAND_PRACTICE.CREATOR.UPDATE(t.props.scenario.id),n).then(function(e){e.success&&(t.props.updateScenario(e.scenario),t.setState({loading:!1,isEditing:!1}))})}),t}return y()(n,e),d()(n,[{key:"focusInputRef",value:function(){this.inputRef.current&&this.inputRef.current.focus()}},{key:"componentDidMount",value:function(){this.inputRef.current&&Lx()(this.inputRef.current)}},{key:"render",value:function(){var e=this.props,n=e.scenario,r=e.userCanEditScenario,a=this.state,i=a.isEditing,o=a.scenarioDescription,s=a.loading,c=a.shake,l=V()("Textarea w-fill",{Animated:!0,"Animated--shake":c});return w.a.createElement(w.a.Fragment,null,w.a.createElement("div",{className:"d-f jc-sb ai-fs"},w.a.createElement(on.a,null,t("practice.on_demand_practice.overview.description_title")),!i&&r&&w.a.createElement(we.a,{align:"end",text:n.archived&&t("practice.on_demand_practice.overview.archived_note")},w.a.createElement(Ce,{className:"u-linkBtn",type:"primary",onClick:this.startEditing,disabled:n.archived},w.a.createElement(z.a,{name:"edit",customClass:"mr-4"}),t("common.edit")))),!i&&n.practiceContainerDescription&&w.a.createElement("p",{className:"m-0 ws-pr"},n.practiceContainerDescription),!n.practiceContainerDescription&&!i&&w.a.createElement("span",{className:"c-brand-gray-darker"},"No Description"),i&&w.a.createElement("div",null,w.a.createElement("textarea",{className:l,value:o||"",onChange:this.changeDescription,onKeyDown:this.handleKeyDown,ref:this.inputRef}),w.a.createElement("div",{className:"d-f jc-e ai-c mt-8"},w.a.createElement("button",{type:"button",className:"u-linkBtn u-linkBtn--dark td-u",onClick:this.cancelEditing},t("common.cancel")),w.a.createElement("button",{type:"button",className:"ml-16 ".concat(Object(Cu.a)("NewButton",["blue","wide","center"])),onClick:this.updateDescription},s&&w.a.createElement("span",{className:"Spinner mr-4"}),!s&&t("common.save")))))}}]),n}(w.a.Component);var Bx=function(e){var n=e.scenario,r=kn(),a=Ye()(r,2),i=a[0],o=a[1],s=function(e){e.eventId;var t=e.initialState,n=e.scenarioId,r=Object(E.useState)(t),a=Ye()(r,2),i=a[0],o=a[1],s=Object(E.useCallback)(function(e){C.a.post(N.k.ON_DEMAND_PRACTICE.CONTAINER_VISIBILITY_GROUPS,{group_id:e.id,scenario_id:n}).then(function(e){o(function(t){return[].concat(Z()(t),[e])})})},[n]);return{data:i,remove:Object(E.useCallback)(function(e){C.a.delete(N.k.ON_DEMAND_PRACTICE.CONTAINER_VISIBILITY_GROUP(e.id),{scenario_id:n}).then(function(){o(Object(me.reject)({id:e.id}))})},[n]),create:s}}({initialState:n.containerVisibilityGroups,scenarioId:n.id});return w.a.createElement(on.b,null,w.a.createElement(on.a,{className:"d-f jc-sb"},w.a.createElement("span",null,w.a.createElement("span",{className:"mr-4"},t("practice.on_demand_practice.overview.visibility.header")),w.a.createElement(Cn,{tooltip:t("practice.on_demand_practice.overview.visibility.tooltip")})),!i&&!Object(me.isEmpty)(s.data)&&w.a.createElement("button",{type:"button",className:"u-linkBtn fz-base fw-n",onClick:o},w.a.createElement(z.a,{name:"edit",customClass:"mr-4"}),t("common.edit"))),w.a.createElement(Vn,{advanced:!0,editing:i,onCreateContent:s.create,onRemoveContent:s.remove,toggleEditing:o,libraryContents:s.data,emptyStateActionText:t("practice.on_demand_practice.overview.visibility.add_to_odp"),removeTooltip:t("practice.on_demand_practice.overview.visibility.remove_group"),suggestionsProps:{url:N.k.GROUPS,mapResponseToSuggestions:function(e){return e.groups},filterSuggestions:_n(s.data,"group.id"),queryParam:"q"}}))},Ux=function(e){var n=e.scenario,r=e.updateScenario,a=e.userCanEditScenario,i=e.userCanManageUsers,o=Object(E.useState)(!1),s=Ye()(o,2),c=s[0],l=s[1],u=Object(E.useState)(!1),d=Ye()(u,2),p=d[0],f=d[1];return w.a.createElement(w.a.Fragment,null,w.a.createElement(an,{className:"PathBuilderSidebar"},w.a.createElement(nn.a,{maxHeight:null,hidden:!0},w.a.createElement(on.b,{className:"d-f"},n.archived&&a&&w.a.createElement(k.c,{className:"NewButton--white NewButton--center undecorated c-brand-gray-darker f-1 mr-8",icon:"restore",fullWidth:!0,onClick:function(){return f(!0)},small:!0},t("actions.restore")),!n.archived&&a&&w.a.createElement(k.c,{className:"NewButton--white NewButton--center undecorated c-brand-gray-darker f-1 mr-8",icon:"archive",fullWidth:!0,onClick:function(){return l(!0)},small:!0},t("actions.archive")),w.a.createElement(k.c,{className:"NewButton--white NewButton--center undecorated c-brand-gray-darker f-1 ",icon:"preview",fullWidth:!0,url:N.k.ON_DEMAND_PRACTICE.PREVIEW.SHOW(n.id),target:"_blank",small:!0},t("actions.preview"))),w.a.createElement(on.b,{className:"d-f fd-c"},w.a.createElement(Fx,{scenario:n,updateScenario:r,userCanEditScenario:a})),w.a.createElement(on.b,null,w.a.createElement(on.a,null,t("common.created_at")),w.a.createElement(Is,null,n.createdAt),w.a.createElement("br",null),t("common.by")," ",n.createdBy,n.lastUpdatedAt&&w.a.createElement(w.a.Fragment,null,w.a.createElement(on.a,{className:"mt-16"},t("common.last_updated")),w.a.createElement(Is,null,n.lastUpdatedAt),w.a.createElement("br",null),t("common.by")," ",n.lastUpdatedBy)),a&&i&&w.a.createElement(Bx,{scenario:n}))),c&&w.a.createElement(Mx,{scenario:n,onDismiss:function(){return l(!1)}}),p&&w.a.createElement(Dx,{scenario:n,onDismiss:function(){return f(!1)}}))},Hx=function(e){var n=e.scenario,r=e.userCanEditScenario;return w.a.createElement("div",{className:"ScenarioOverviewHeader"},w.a.createElement("div",null,w.a.createElement("div",{className:"d-f jc-sb ai-fs mb-16"},w.a.createElement("h1",{className:"ff-ss ws-pr mr-8"},n.practiceContainerTitle||t("practice.on_demand_practice.overview.untitled_scenario")),r&&w.a.createElement(we.a,{text:n.archived&&t("practice.on_demand_practice.overview.archived_note")},w.a.createElement(k.c,{primary:!0,disabled:n.archived,url:N.k.ON_DEMAND_PRACTICE.CREATOR.EDIT(n.id)},t("practice.on_demand_practice.overview.edit_scenario"))))))},qx=function(e){var n=e.scenarioId,r=e.groupId,a=Sn(N.k.ON_DEMAND_PRACTICE.CREATOR.ENGAGEMENTS.COMPLETIONS(n,r)),i=a.data,o=a.loading,s=Sn(N.k.ON_DEMAND_PRACTICE.CREATOR.ENGAGEMENTS.VIEWS(n,r)),c=s.data,l=s.loading,u=Sn(N.k.ON_DEMAND_PRACTICE.CREATOR.ENGAGEMENTS.UNIQUE_VIEWS(n,r)),d=u.data,p=u.loading;return w.a.createElement("div",{className:"ScenarioEngagementContainer"},w.a.createElement("h3",{className:"ff-ss fw-b ws-pr"},t("practice.on_demand_practice.overview.scenario_engagement.heading")),w.a.createElement(k.f,{className:"mt-30"},w.a.createElement(k.f.Content,{padding:"large",className:"d-f ai-c jc-c"},w.a.createElement("div",{className:"ScenarioEngagementContainer-completions d-f ai-c jc-c fg-1 fd-c"},w.a.createElement("h1",{className:"ff-ss fw-b"},!o&&i.completions),w.a.createElement("span",{className:"fz-18"},o&&t("practice.on_demand_practice.overview.scenario_engagement.loading"),!o&&w.a.createElement("a",{className:"u-linkBtn",href:N.k.ON_DEMAND_PRACTICE.CREATOR.ATTEMPTS.INDEX(n,r)},t("practice.on_demand_practice.overview.scenario_engagement.completions")))),w.a.createElement("div",{className:"ScenarioEngagementContainer-views d-f ai-c jc-c fg-1 fd-c"},w.a.createElement("h1",{className:"ff-ss fw-b"},!l&&c.views),w.a.createElement("span",{className:"fz-18"},o&&t("practice.on_demand_practice.overview.scenario_engagement.loading"),!o&&t("practice.on_demand_practice.overview.scenario_engagement.views"))),w.a.createElement("div",{className:"ScenarioEngagementContainer-uniqueViews d-f ai-c jc-c fg-1 fd-c"},w.a.createElement("h1",{className:"ff-ss fw-b"},!p&&d.uniqueViews),w.a.createElement("span",{className:"fz-18"},o&&t("practice.on_demand_practice.overview.scenario_engagement.loading"),!o&&t("practice.on_demand_practice.overview.scenario_engagement.unique_views"))))))},Gx=function(e){var n=e.scenarioId,r=e.permissions,a=Object(gs.a)(window.location.href,"group_id"),i=Object(E.useState)({groups:null}),o=Ye()(i,2),s=o[0].groups,c=o[1],l=Object(E.useState)(a||null),u=Ye()(l,2),d=u[0],p=u[1],f=Object(E.useState)({}),h=Ye()(f,2),m=h[0],g=h[1],v=Sn(N.k.ON_DEMAND_PRACTICE.CREATOR.SHOW(n,d),g).loading,b=Sn(N.k.GROUPS,c).groupsLoading;return w.a.createElement("div",{className:"PathBuilder"},v&&w.a.createElement(k.k,null),!v&&w.a.createElement(w.a.Fragment,null,w.a.createElement("div",{className:"PathBuilder-main"},w.a.createElement("div",{className:"PathViewer"},w.a.createElement(Hx,{scenario:m,userCanEditScenario:r.userCanEditScenario}),r.userCanManageUsers&&w.a.createElement("div",{className:"d-f ai-c mt-16"},w.a.createElement("div",{className:"f-sh-0 mr-8 c-gray-darker"},t("common.filter_by")),w.a.createElement(Q,{value:d,onChange:function(e){var t=e.target.value;Object(gs.c)(t?"group_id=".concat(t):""),p(t)},disabled:b,className:"w-240"},b&&w.a.createElement("option",null,t("common.loading")),!b&&w.a.createElement(w.a.Fragment,null,w.a.createElement("option",{key:"none",value:""},t("groups.select")),s&&s.map(function(e){var t=e.id,n=e.name;return w.a.createElement("option",{key:t,value:t},n)})))),r.userCanManageUsers&&w.a.createElement(qx,{groupId:d,scenarioId:n}))),w.a.createElement("div",{className:"PathBuilder-side"},w.a.createElement(Ux,{scenario:m,updateScenario:g,userCanEditScenario:r.userCanEditScenario,userCanManageUsers:r.userCanManageUsers}))))},Wx=Object(le.b)(function(e){return{hasAssignments:EE(e),hasLibraryContents:YE(e),hasStartedAny:QE(e),hasEvents:!!e.data.events.count,features:{eventsDashboard:Object(Or.j)(e,"training_events"),onDemandPractice:Object(Or.j)(e,"on_demand_practice"),peerFeedback:Object(Or.j)(e,"practice_feedback_tab")}}})(function(e){var n=e.hasAssignments,r=e.hasEvents,a=e.hasLibraryContents,o=e.hasStartedAny,s=e.features,c=e.activePage;return w.a.createElement("div",{className:"DashboardSidebar"},w.a.createElement("div",{className:"DashboardSidebar-group"},w.a.createElement("h2",{className:"DashboardSidebar-header"},t("learn.sidebar.headers.learn")),w.a.createElement("a",{className:"DashboardSidebar-link",href:N.k.LEARN},t("learn.sidebar.my_learning_content")),a&&n&&w.a.createElement("a",{className:"DashboardSidebar-link",href:N.k.LEARN_ASSIGNMENTS},t("learn.sidebar.assignments")),o&&w.a.createElement("a",{className:"DashboardSidebar-link",href:N.k.LEARN_HISTORY},t("learn.sidebar.history")),s.eventsDashboard&&r&&w.a.createElement("a",{className:"DashboardSidebar-link",href:N.k.IN_PERSON_TRAINING.EVENTS_DASHBOARD},t("learn.sidebar.my_training_events"))),w.a.createElement("div",{className:"DashboardSidebar-group"},w.a.createElement("h2",{className:"DashboardSidebar-header"},t("learn.sidebar.headers.practice")),s.onDemandPractice&&w.a.createElement("a",{href:N.k.ON_DEMAND_PRACTICE.LEARNING.INDEX(1),className:V()("DashboardSidebar-link",i()({},"CustomColor--borderColor DashboardSidebar-link--active",c===N.k.ON_DEMAND_PRACTICE.LEARNING.INDEX(1)))},t("practice.on_demand_practice.title")),s.peerFeedback&&w.a.createElement("a",{href:N.k.PRACTICE.PEER_FEEDBACK,className:V()("DashboardSidebar-link",i()({},"CustomColor--borderColor DashboardSidebar-link--active",c===N.k.PRACTICE.PEER_FEEDBACK))},t("practice.peer_feedback.sidebar"))))}),Vx={screen_recording:t("practice.on_demand_practice.response_types.screen_recording"),audio_recording:t("practice.on_demand_practice.response_types.audio_recording"),webcam_recording:t("practice.on_demand_practice.response_types.webcam_recording"),written_response:t("practice.on_demand_practice.response_types.written_response")},zx={screen_recording:"laptop",audio_recording:"audio",webcam_recording:"person",written_response:"paper"},Yx={screen_recording:"laptop_outlined",audio_recording:"microphone_outlined",webcam_recording:"webcam_outlined",written_response:"keyboard_outlined"},Qx=function(e){var t=Object(E.useRef)(),n=Nc.a.JAPANESE_CHARACTERS.test(e);return Object(E.useEffect)(function(){t.current&&$clamp(t.current,{clamp:3})}),n?w.a.createElement("p",{title:e,ref:t},e):w.a.createElement("span",{title:e},w.a.createElement(Zm.a,{lines:3},e||""))},Kx=function(e){var t=e.scenario,n=e.features,r=Qx(t.practiceContainerTitle),a=Qx(t.practiceContainerDescription);return w.a.createElement(k.f,{url:N.k.ON_DEMAND_PRACTICE.LEARNING.SHOW(t.id),className:"OnDemandPracticeCard"},n.onDemandPracticeUiUpdates&&w.a.createElement("div",{className:"OnDemandPracticeCard-image CustomColor--backgroundColor d-f ai-c jc-c"},w.a.createElement(z.a,{customClass:"fz-64",name:zx[t.scenarioType]})),w.a.createElement(k.f.Content,{padding:"medium",className:"OnDemandPracticeCard-content"},w.a.createElement("div",null,w.a.createElement("h1",{className:"OnDemandPracticeCard-title mb-12"},r),w.a.createElement("div",{className:"OnDemandPracticeCard-description"},a)),n.onDemandPracticeUiUpdates&&w.a.createElement("div",{className:"OnDemandPracticeCard-footer"},w.a.createElement(z.a,{customClass:"fz-18",name:Yx[t.scenarioType]}),w.a.createElement("span",{className:"ls-u fw-600 p-3-10 fz-12 tt-n"},Vx[t.scenarioType])),!n.onDemandPracticeUiUpdates&&w.a.createElement("div",null,w.a.createElement(mb,{dark:!0,className:"bdrs-small ls-u p-3-10 fz-12 bg-navy c-white tt-n"},Vx[t.scenarioType]))))},Xx=function(e){function n(e){var t;return l()(this,n),t=f()(this,m()(n).call(this,e)),i()(v()(t),"state",{scenarios:[],loading:!0,pagination:{},pageNumber:Object(gs.a)(window.location.href,"page")||null,learnMoreModalOpen:!1,hideCallout:!1}),i()(v()(t),"learnMoreButton",w.a.createRef()),i()(v()(t),"changePage",function(e){t.setState({pageNumber:e},function(){Object(gs.c)("?page=".concat(t.state.pageNumber)),t.getData(!1)})}),i()(v()(t),"getData",function(e){t.setState({loading:!0});var n=t.state.pageNumber;return C.a.get(N.k.ON_DEMAND_PRACTICE.LEARNING.INDEX(n)).then(function(n){var r=n.scenarios,a=n.pagination,i=n.hideCallout;t.setState({scenarios:r,pagination:a,hideCallout:i,loading:e})})}),i()(v()(t),"updateUserBannerSettings",function(){C.a.post(N.k.SETTINGS.UPDATE_USER_SETTINGS,{user_settings:{dismiss_odp_banner:"true"}}).then(function(e){e.success&&t.setState({hideCallout:!0})})}),i()(v()(t),"toggleLearnMoreModal",function(){t.state.learnMoreModalOpen&&t.learnMoreButton.current&&t.learnMoreButton.current.focus(),t.setState(function(e){return{learnMoreModalOpen:!e.learnMoreModalOpen}})}),t.store=dE(e),t}return y()(n,e),d()(n,[{key:"componentDidMount",value:function(){var e=this;Promise.all([this.getData(!0),this.store.dispatch(Yy())]).then(function(){e.setState({loading:!1})})}},{key:"render",value:function(){var e=this,n=this.state,r=n.loading,a=n.scenarios,i=n.learnMoreModalOpen,o=n.hideCallout,s=n.pagination,c=this.props.meta.features.onDemandPracticeClarity,l=w.a.createElement("div",{className:"d-f ai-c jc-sb m-fd-c m-ai-fs"},w.a.createElement(k.c,{ref:this.learnMoreButton,onClick:this.toggleLearnMoreModal,className:"mb-16"},t("practice.on_demand_practice.clarity.learn_more")),w.a.createElement(Ce,{className:"ta-l",onClick:this.updateUserBannerSettings},t("practice.on_demand_practice.clarity.got_it")));return w.a.createElement(le.a,{store:this.store},w.a.createElement("div",{className:"OnDemandPracticeRoot"},r&&w.a.createElement("div",{className:"d-f ai-c jc-c"},w.a.createElement(k.k,{className:"mr-8"})," ",t("common.loading")),!r&&w.a.createElement("div",{className:"d-f m-fd-c"},w.a.createElement(Wx,{activePage:N.k.ON_DEMAND_PRACTICE.LEARNING.INDEX(1)}),w.a.createElement("div",{className:"OnDemandPracticeRoot-content"},c&&w.a.createElement(Fa,{classNames:"CSSTransition fade",in:!o,timeout:500,unmountOnExit:!0},w.a.createElement(k.e,{actions:l,title:t("practice.on_demand_practice.clarity.title"),className:"mb-16",icon:"say"},t("practice.on_demand_practice.clarity.text"))),a.length>0&&w.a.createElement(k.g,{items:a,title:t("content.groups.practice")},w.a.createElement(k.g.Action,null,w.a.createElement("a",{className:"u-linkBtn",href:N.k.ON_DEMAND_PRACTICE.LEARNING.ATTEMPTS.ALL},w.a.createElement("span",{className:"fz-bigger"},t("practice.on_demand_practice.overview.learner_page.all_previous_responses.link")),w.a.createElement(z.a,{name:"arrow-right",customClass:"ml-4"}))),w.a.createElement(k.g.Items,{className:"d-f fw-w OnDemandPracticeRoot-items",render:function(t){return w.a.createElement(Kx,{key:t.id,scenario:t,features:e.props.meta.features})}})),s.pages>1&&w.a.createElement(Rt,{pages:s.pages,selected:s.selected,pageSelectCallback:this.changePage,customClass:"mt-24 ta-c"}),!r&&0===a.length&&w.a.createElement(Tl.a,{borderStyle:"dashed",className:"PracticeContentGroup--empty",extraLarge:!0},w.a.createElement("span",null,t("practice.on_demand_practice.no_responses"))))),w.a.createElement(k.h,{activatorRef:this.learnMoreButton,shown:i,onDismiss:this.toggleLearnMoreModal},w.a.createElement(k.h.Header,null,t("practice.on_demand_practice.clarity.learn_more_modal.title")),w.a.createElement(k.h.Content,null,w.a.createElement("ul",{className:"ls-n mw-text-45 fz-lg"},w.a.createElement("li",{className:"d-f m-fd-c mb-32"},w.a.createElement(z.a,{name:"thumbsup",customClass:"is-48 mr-16 mb-8"}),w.a.createElement("p",{className:"d-f fd-c mb-32 w-fill"},w.a.createElement("strong",null,t("practice.on_demand_practice.clarity.learn_more_modal.header_one")),t("practice.on_demand_practice.clarity.learn_more_modal.text_one"))),w.a.createElement("li",{className:"d-f m-fd-c mb-32"},w.a.createElement(z.a,{name:"bullseye",customClass:"is-48 mr-16 mb-8"}),w.a.createElement("p",{className:"d-f fd-c mb-32 w-fill"},w.a.createElement("strong",null,t("practice.on_demand_practice.clarity.learn_more_modal.header_two")),t("practice.on_demand_practice.clarity.learn_more_modal.text_two"))),w.a.createElement("li",{className:"d-f m-fd-c"},w.a.createElement(z.a,{name:"trophy",customClass:"is-48 mr-16 mb-8"}),w.a.createElement("p",{className:"d-f fd-c mb-32 w-fill"},w.a.createElement("strong",null,t("practice.on_demand_practice.clarity.learn_more_modal.header_three")),t("practice.on_demand_practice.clarity.learn_more_modal.text_three"))))),w.a.createElement(k.h.Footer,null,w.a.createElement(k.d,{alignEnd:!0},w.a.createElement(k.c,{onClick:this.toggleLearnMoreModal},t("practice.on_demand_practice.clarity.learn_more_modal.got_it")))))))}}]),n}(E.Component),$x=function(e){function n(){var e,t;l()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return t=f()(this,(e=m()(n)).call.apply(e,[this].concat(a))),i()(v()(t),"state",{prompt:"",description:"",attempts:[],loading:!0,ziggeoApiKey:null,loadError:!1,hippoPreviewBase:null}),i()(v()(t),"removeAttempt",function(e){t.setState(function(t){return{attempts:Object(me.remove)(function(t){return t.id===e},t.attempts)}})}),i()(v()(t),"renderPreviousAttempt",function(e,n){var r=t.props,a=r.highlightFirstAttempt,i=r.scenarioId,o=t.state,s=o.prompt,c=o.description,l=o.ziggeoApiKey,u=o.hippoPreviewBase,d=o.hippoThumbnailBase;return w.a.createElement(nc,{highlighted:a&&0===n,key:e.id,apiKey:l,prompt:s,description:c,attempt:e,removeAttempt:t.removeAttempt,scenarioId:i,hippoPreviewBase:u,hippoThumbnailBase:d})}),t}return y()(n,e),d()(n,[{key:"componentDidMount",value:function(){var e=this;C.a.get(N.k.ON_DEMAND_PRACTICE.LEARNING.ATTEMPTS.INDEX(this.props.scenarioId)).then(function(t){e.setState(R()({loading:!1},t))}).fail(function(){e.setState({loading:!1,loadError:!0})})}},{key:"render",value:function(){var e=this.state,n=e.loading,r=e.attempts,a=e.loadError;return w.a.createElement("div",null,a&&w.a.createElement("div",{className:"fz-24 w-half m-a ta-c"},t("practice.on_demand_practice.error.attempts_load")),n&&w.a.createElement(k.k,null),!n&&r.map(this.renderPreviousAttempt))}}]),n}(E.Component),Zx=window.chrome,Jx=window.navigator,eT=Jx.vendor,tT=void 0!==window.opr,nT=Jx.userAgent.indexOf("MSIE ")>-1,rT=Jx.userAgent.indexOf("Trident/")>-1,aT=Jx.userAgent.indexOf("Edge")>-1,iT=Jx.userAgent.match("CriOS"),oT=Jx.userAgent.match("FxiOS"),sT=eT.indexOf("Apple")>-1,cT=function(){return void 0!==window.orientation||-1!==navigator.userAgent.indexOf("IEMobile")},lT=function(){return null!=Zx&&"Google Inc."===eT&&!1===tT&&!1===aT},uT=function(){return Boolean(sT&&!iT&&!oT)},dT=function(){return nT||rT||aT},pT=function(e){function n(){var e,r;l()(this,n);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return r=f()(this,(e=m()(n)).call.apply(e,[this].concat(o))),i()(v()(r),"state",{recording:!1,loading:!0,isComplete:!1,hippoToken:null,errorType:null,offlineError:!1,videoUploaded:!1,tryAgainModalShown:!1,importTimingStarted:null}),i()(v()(r),"saveAttempt",function(e){r.props.handleSave(r.state.hippoToken)}),i()(v()(r),"toggleTryAgainModal",function(){r.setState(function(e){return{tryAgainModalShown:!e.tryAgainModalShown}})}),i()(v()(r),"tryAgain",function(){navigator&&navigator.onLine?(r.props.resetAnswer(),r.setState({hippoToken:null,isComplete:!1,tryAgainModalShown:!1})):r.setState({offlineError:!0})}),i()(v()(r),"sourceUploaded",function(e){return function(){r.trackSourceUploaded(e),r.state.hippoToken&&(r.props.setAnswer&&r.props.setAnswer(r.state.hippoToken),r.setState({isComplete:!0})),r.setState({videoUploaded:!0})}}),i()(v()(r),"videoSubmitted",function(e){return function(t){r.trackVideoSubmitted(e);var n=qs(t);r.setState({hippoToken:n,recording:!1},function(){r.state.videoUploaded&&(r.props.setAnswer&&r.props.setAnswer(r.state.hippoToken),r.setState({isComplete:!0}))})}}),i()(v()(r),"videoCancelled",function(e){return function(t){r.trackVideoCancelled(e),r.reloadRecording(t)}}),i()(v()(r),"importProgress",function(e){"started"===e.operation&&r.trackImportStarted()}),i()(v()(r),"importComplete",function(e){r.trackImportComplete(e),r.trackRecordingData(e)}),i()(v()(r),"recordInitiated",function(e){r.trackRecordingInitiated(e),r.trackRecordingData(e)}),i()(v()(r),"recordStarted",function(){r.trackRecordingStarted()}),i()(v()(r),"recordAborted",function(){r.trackRecordingAborted(),r.reloadRecording()}),i()(v()(r),"recordStopped",function(){r.trackRecordingStopped()}),i()(v()(r),"handleRecord",function(){var e=r.props.recordingConfig;r.setState({recording:!0}),window.hippoWidget.on("record_error",r.showErrorModal),window.hippoWidget.startRecording(e,r.props.currentUserId),window.hippoWidget.on("record_initiated",r.recordInitiated),window.hippoWidget.on("record_started",r.recordStarted),window.hippoWidget.on("record_aborted",r.recordAborted),window.hippoWidget.on("record_stopped",r.recordStopped),window.hippoWidget.on("video_submitted",r.videoSubmitted(!1)),window.hippoWidget.on("source_uploaded",r.sourceUploaded(!1)),window.hippoWidget.on("video_cancelled",r.videoCancelled(!1))}),i()(v()(r),"handleUpload",function(){window.hippoWidget.on("import_failed",r.handleUploadError),window.hippoWidget.import(r.props.currentUserId),window.hippoWidget.on("import_progress",function(e){"started"===e.operation&&r.trackImportStarted()}),window.hippoWidget.on("video_submitted",r.videoSubmitted(!0)),window.hippoWidget.on("import_complete",r.importComplete),window.hippoWidget.on("source_uploaded",r.sourceUploaded(!0)),window.hippoWidget.on("video_cancelled",r.videoCancelled(!0)),window.hippoWidget.on("record_aborted",r.reloadRecording)}),i()(v()(r),"reloadRecording",function(){r.setState({hippoToken:null,recording:!1,isComplete:!1})}),i()(v()(r),"handleUploadError",function(e){"invalid_file_format"===e.reason?r.setState({errorType:e.reason+"_video"}):"size_limit_exceeded"===e.reason&&r.setState({errorType:e.reason}),r.trackImportFailure(e),r.reloadRecording()}),i()(v()(r),"showErrorModal",function(e){var t=e.error;Object.values(Ru).includes(t)?r.trackPermissionDenied(t):r.trackRecordingError(t),r.setState({errorType:null,hippoToken:null,recording:!1,isComplete:!1}),t!==Ru.HIPPO_SCREEN_PERMISSION_DENIED_ERROR&&r.setState({errorType:t})}),i()(v()(r),"answerUrl",function(){return r.props.hippoPreviewBase+r.state.hippoToken+"?type=lessonly"}),i()(v()(r),"handleResetError",function(){r.setState({errorType:null,hippoToken:null,recording:!1,isComplete:!1})}),i()(v()(r),"closeOfflineErrorModal",function(){r.setState({offlineError:!1})}),i()(v()(r),"recordingSupported",function(){return!cT()&&(!(r.isScreenRecording()&&!lT())&&(!uT()&&!dT()))}),i()(v()(r),"isScreenRecording",function(){return r.props.recordingConfig.screenRecord}),i()(v()(r),"getRecordButtonText",function(){return r.isScreenRecording()?t("questions.question.hippo_screen_recording.record"):t("questions.question.audio_recording.record")}),i()(v()(r),"getUploadButtonText",function(){return r.isScreenRecording()?t("questions.question.hippo_screen_recording.upload"):t("questions.question.audio_recording.upload")}),i()(v()(r),"trackingEventParameters",function(){return{scenario_id:r.props.questionId}}),i()(v()(r),"trackRecordingStarted",function(){ns("on_demand_practice/recording_started",R()({},r.trackingEventParameters()))}),i()(v()(r),"trackRecordingStopped",function(){ns("on_demand_practice/recording_stopped",R()({},r.trackingEventParameters()))}),i()(v()(r),"trackRecordingAborted",function(){ns("on_demand_practice/recording_aborted",R()({},r.trackingEventParameters()))}),i()(v()(r),"trackImportStarted",function(){r.setState({importTimingStarted:performance.now()}),ns("on_demand_practice/upload_started",{scenario_id:r.props.questionId})}),i()(v()(r),"trackImportComplete",function(e){var t=r.state.importTimingStarted,n=performance.now()-t;ns("on_demand_practice/upload_complete",{scenario_id:r.props.questionId,token:e.token,duration:e.media_duration,total_import_time:n})}),i()(v()(r),"trackImportFailure",function(e){ns("on_demand_practice/upload_failed",{scenario_id:r.props.questionId,error:e})}),i()(v()(r),"trackSourceUploaded",function(e){ns("on_demand_practice/source_uploaded",R()({},r.trackingEventParameters(),{upload:e}))}),i()(v()(r),"trackVideoSubmitted",function(e){ns("on_demand_practice/video_submitted",R()({},r.trackingEventParameters(),{upload:e}))}),i()(v()(r),"trackVideoCancelled",function(e){ns("on_demand_practice/video_cancelled",R()({},r.trackingEventParameters(),{upload:e}))}),i()(v()(r),"trackPermissionDenied",function(e){ns("on_demand_practice/permission_denied",R()({},r.trackingEventParameters(),{upload:!1,error_type:e}))}),i()(v()(r),"trackRecordingError",function(e){ns("on_demand_practice/recording_error",R()({},r.trackingEventParameters(),{upload:!1,error_type:e}))}),r}return y()(n,e),d()(n,[{key:"componentDidMount",value:function(){var e=this;window.hippoWidget.onLoad(function(){e.setState({loading:!1})})}},{key:"trackRecordingInitiated",value:function(e){ns("on_demand_practice/recording_initiated",R()({},this.trackingEventParameters(),{token:e.token}))}},{key:"trackRecordingData",value:function(e){ns("recording_metadata",{asset_id:e.asset_id,token:e.token})}},{key:"render",value:function(){var e=this.state,n=e.isComplete,r=e.errorType,a=e.loading,i=e.tryAgainModalShown,o=e.offlineError,s=e.recording;return w.a.createElement(w.a.Fragment,null,w.a.createElement("div",null,a&&w.a.createElement("div",{className:"d-f h-150 jc-c ai-c"},w.a.createElement(k.k,null)),!a&&!s&&!n&&w.a.createElement("div",{className:"QuestionElement-recordingActions"},w.a.createElement("div",null,w.a.createElement(k.c,{tall:!0,customColor:!0,disabled:a||!this.recordingSupported(),onClick:this.handleRecord},this.getRecordButtonText()),!this.recordingSupported()&&w.a.createElement(Cn,{tooltip:t("questions.question.media_recording.unsupported"),className:"ml-8 tooltip-fixedWidth"})),w.a.createElement("button",{type:"button",className:"u-linkBtn mt-8 fz-bigger",onClick:this.handleUpload},this.getUploadButtonText())),s&&w.a.createElement("div",{className:"QuestionElement-recordingActions"},w.a.createElement(k.k,{size:"large"})),!a&&n&&!s&&w.a.createElement(w.a.Fragment,null,w.a.createElement("div",{className:"Video Video--playable"},w.a.createElement(Hs.a,{embedUrl:this.answerUrl()})),w.a.createElement(k.d,{alignEnd:!0,className:"RecordingQuestion-actions mt-32"},w.a.createElement(k.c,{className:"mr-16",onClick:this.toggleTryAgainModal},t("common.try_again"))))),r&&w.a.createElement(Lu,{errorType:r,onAction:this.handleResetError}),o&&w.a.createElement(un.c,{onDismiss:this.closeOfflineErrorModal},w.a.createElement(un.a,null,t("practice.on_demand_practice.recording.offline_error.title")),t("practice.on_demand_practice.recording.offline_error.description"),w.a.createElement(k.d,{alignEnd:!0,className:"mt-8"},w.a.createElement(k.c,{customColor:!0,onClick:this.closeOfflineErrorModal},t("common.ok")))),i&&w.a.createElement(un.c,{onDismiss:this.toggleTryAgainModal},w.a.createElement(un.a,null,t("common.try_again")),t("practice.on_demand_practice.recording.try_again_note"),w.a.createElement(k.d,{alignEnd:!0,className:"mt-16"},w.a.createElement(k.c,{onClick:this.toggleTryAgainModal},t("common.cancel")),w.a.createElement(k.c,{customColor:!0,onClick:this.tryAgain},t("common.try_again")))))}}]),n}(w.a.Component),fT={screenRecord:!1,audio:!0,webCam:!1,resolution:"1080",tabRecording:!1,separateLayer:!1,fromPopup:!0,initiator:"generic_embed"},hT=function(e){var t=e.prompt,n=e.hippoPreviewBase,r=e.handleSave,a=e.questionId,i=e.currentUserId,o=e.setAnswer,s=e.resetAnswer,c=e.hasPracticeWithPeers;return w.a.createElement(pT,{questionId:a,recordingConfig:fT,handleSave:r,hippoPreviewBase:n,prompt:t,currentUserId:i,setAnswer:o,resetAnswer:s,hasPracticeWithPeers:c})},mT={screenRecord:!0,audio:!0,webCam:!1,resolution:"1080",tabRecording:!1,separateLayer:!1,fromPopup:!0,initiator:"generic_embed"},gT=function(e){var t=e.prompt,n=e.hasPracticeWithPeers,r=e.hippoPreviewBase,a=e.handleSave,i=e.questionId,o=e.setAnswer,s=e.resetAnswer,c=e.currentUserId;return w.a.createElement(pT,{questionId:i,recordingConfig:mT,setAnswer:o,resetAnswer:s,handleSave:a,hippoPreviewBase:r,prompt:t,currentUserId:c,hasPracticeWithPeers:n})},vT=function(e){function n(){var e,t;l()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return t=f()(this,(e=m()(n)).call.apply(e,[this].concat(a))),i()(v()(t),"state",{isComplete:!1,token:null,tokenError:!1,offlineError:!1,tryAgainModalShown:!1}),i()(v()(t),"recordingElementRef",w.a.createRef()),i()(v()(t),"getToken",function(){return C.a.get(N.k.ZIGGEO_TOKEN.SHOW).then(function(e){var n=e.success,r=e.token;n?t.setState({token:r}):t.setState({tokenError:!0})}).fail(function(){t.setState({tokenError:!0})})}),i()(v()(t),"createRecordingElement",function(){Object(Ts.b)(t.state.token,t.setAnswer,null,!0,t.trackWebcamEvent,t.recordingElementRef.current)}),i()(v()(t),"toggleTryAgainModal",function(){t.setState(function(e){return{tryAgainModalShown:!e.tryAgainModalShown}})}),i()(v()(t),"tryAgain",function(){navigator&&navigator.onLine?(t.props.resetAnswer(),t.setState({isComplete:!1,tryAgainModalShown:!1},t.createRecordingElement)):t.setState({offlineError:!0})}),i()(v()(t),"closeTokenErrorModal",function(){t.setState({tokenError:!1})}),i()(v()(t),"closeOfflineErrorModal",function(){t.setState({offlineError:!1})}),i()(v()(t),"saveAttempt",function(e){t.props.handleSave(t.state.token,e)}),i()(v()(t),"setAnswer",function(){t.props.setAnswer&&t.props.setAnswer(t.state.token),t.setState({isComplete:!0})}),i()(v()(t),"trackWebcamEvent",function(){}),t}return y()(n,e),d()(n,[{key:"componentDidMount",value:function(){this.getToken().then(this.createRecordingElement)}},{key:"render",value:function(){var e=this.state,n=e.isComplete,r=e.token,a=e.tokenError,i=e.offlineError,o=e.tryAgainModalShown;return w.a.createElement(w.a.Fragment,null,w.a.createElement("div",{className:"RecordingQuestion VideoEmbed"},!r&&w.a.createElement("div",{className:"d-f h-150 jc-c ai-c"},w.a.createElement(k.k,null)),w.a.createElement("div",{className:"VideoEmbed-videoRecorder mt-8",ref:this.recordingElementRef}),n&&w.a.createElement(k.d,{className:"mt-16",alignEnd:!0},w.a.createElement(k.c,{onClick:this.toggleTryAgainModal},t("common.try_again")))),a&&w.a.createElement(un.c,{onDismiss:this.closeTokenErrorModal},w.a.createElement(un.a,null,t("practice.on_demand_practice.webcam_recording.token_error.title")),t("practice.on_demand_practice.webcam_recording.token_error.description"),w.a.createElement(k.d,{alignEnd:!0,className:"mt-8"},w.a.createElement(k.c,{customColor:!0,onClick:this.closeTokenErrorModal},t("common.ok")))),i&&w.a.createElement(un.c,{onDismiss:this.closeOfflineErrorModal},w.a.createElement(un.a,null,t("practice.on_demand_practice.recording.offline_error.title")),t("practice.on_demand_practice.recording.offline_error.description"),w.a.createElement(k.d,{alignEnd:!0,className:"mt-8"},w.a.createElement(k.c,{customColor:!0,onClick:this.closeOfflineErrorModal},t("common.ok")))),o&&w.a.createElement(un.c,{onDismiss:this.toggleTryAgainModal},w.a.createElement(un.a,null,t("common.try_again")),t("practice.on_demand_practice.webcam_recording.try_again_note"),w.a.createElement(k.d,{alignEnd:!0,className:"mt-16"},w.a.createElement(k.c,{onClick:this.toggleTryAgainModal},t("common.cancel")),w.a.createElement(k.c,{customColor:!0,onClick:this.tryAgain},t("common.try_again")))))}}]),n}(w.a.Component),bT=Object(Ts.d)(vT),yT=function(e){e.handleSave;var n=e.setAnswer,r=Object(wn.a)();return w.a.createElement("div",{className:"WrittenResponseQuestion"},w.a.createElement("textarea",{placeholder:t("questions.question.written_response.textarea_placeholder"),ref:r,className:"WrittenResponseQuestion-textbox",onChange:function(e){return n(e.target.value.trim())}}))},ET=function(e){var n=e.scenario,r=e.children,a=e.saveAttemptWithFeedback,i=e.saveAttempt,o=e.saving,s=e.answer,c=e.isComplete,l=e.practiceWithPeers;return w.a.createElement(k.f,{className:"OnDemandPracticeQuestion"},w.a.createElement(k.f.Content,{padding:"large"},w.a.createElement("h1",{className:"OnDemandPracticeQuestion-title"},w.a.createElement(z.a,{name:"rocket",customClass:"is-28 mr-8"})," ",t("practice.practice_with_peers.practice_title")),w.a.createElement("div",{className:"OnDemandPracticeQuestion-content"},w.a.createElement("div",{className:"OnDemandPracticeQuestion-metadata"},w.a.createElement("header",null,w.a.createElement("h1",{className:"OnDemandPracticeQuestion-prompt text-wrap"},n.prompt),w.a.createElement("p",null,t("practice.on_demand_practice.".concat(n.scenarioType,".instructions"))))),w.a.createElement("div",{className:"OnDemandPracticeQuestion-question"},r,w.a.createElement("div",{className:V()("OnDemandPracticeQuestion-feedback",{disabled:!c||!s})},!l&&w.a.createElement(w.a.Fragment,null,w.a.createElement("h1",{className:"OnDemandPracticeQuestion-feedbackTitle"},w.a.createElement(z.a,{name:"high_five",customClass:"is-28 mr-8"}),t("practice.practice_with_peers.feedback_title")),w.a.createElement("p",{className:"m-16"},w.a.createElement("strong",null,t("practice.on_demand_practice.completed_text"))),w.a.createElement(k.d,{alignEnd:!0},w.a.createElement(k.c,{disabled:o,onClick:i,className:"mb-16"},t("practice.on_demand_practice.save_attempt")))),l&&w.a.createElement(w.a.Fragment,null,w.a.createElement("h1",{className:"OnDemandPracticeQuestion-feedbackTitle"},w.a.createElement(z.a,{name:"high_five",customClass:"is-28 mr-8"}),t("practice.practice_with_peers.feedback_title")),w.a.createElement("p",{className:"m-16"},w.a.createElement("strong",null,t("practice.practice_with_peers.completed_text"))),w.a.createElement("div",{className:"d-f m-fd-c jc-sb w-fill mt-16"},w.a.createElement("div",{className:"ta-c OnDemandPracticeQuestion-nextStepsLeft"},w.a.createElement(k.c,{customColor:!0,disabled:o,onClick:a,className:"mb-16 w-fill"},t("practice.practice_with_peers.save_and_ask")),w.a.createElement("p",null,w.a.createElement("em",null,t("practice.practice_with_peers.save_and_ask_text")))),w.a.createElement("div",{className:"OnDemandPracticeQuestion-nextStepsOr ta-c tt-u fw-b fz-16"},t("common.or")),w.a.createElement("div",{className:"ta-c OnDemandPracticeQuestion-nextStepsRight"},w.a.createElement(k.c,{disabled:o,onClick:i,className:"mb-16 w-fill"},t("practice.practice_with_peers.save")),w.a.createElement("p",null,w.a.createElement("em",null,t("practice.practice_with_peers.save_text")))))))))))},_T="webcam_recording",wT="audio_recording",ST="screen_recording",kT="written_response",CT=function(e){function n(){var e,t;l()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return t=f()(this,(e=m()(n)).call.apply(e,[this].concat(a))),i()(v()(t),"state",{scenario:null,loading:!0,loadError:!1,saveError:!1,isComplete:!1,answer:null}),i()(v()(t),"closeSaveErrorModal",function(){t.setState({saveError:!1})}),i()(v()(t),"postAttempt",function(){var e={answer:t.state.answer,userId:t.props.currentUserId};return C.a.post(N.k.ON_DEMAND_PRACTICE.LEARNING.ATTEMPTS.INDEX(t.props.scenarioId),e)}),i()(v()(t),"saveAttemptWithoutFeedback",function(){t.postAttempt().then(function(e){t.setState({saving:!1}),e.success?t.props.setTabState({tab:1,highlightFirstAttempt:!0,saveError:!1}):t.setState({saveError:!0})}).fail(function(){t.setState({saveError:!0})})}),i()(v()(t),"saveAttempt",function(e){t.setState({saving:!0}),"string"==typeof e?t.setState({answer:e},function(){t.saveAttemptWithoutFeedback()}):t.saveAttemptWithoutFeedback()}),i()(v()(t),"saveAttemptWithFeedback",function(){t.setState({saving:!0}),t.postAttempt().then(function(e){e.success?window.location.href=N.k.ON_DEMAND_PRACTICE.LEARNING.ATTEMPTS.REQUEST_FEEDBACK(e.scenario_id,e.attempt_id):t.setState({saveError:!0})}).fail(function(){t.setState({saveError:!0})})}),i()(v()(t),"setAnswer",function(e){t.setState({answer:e,isComplete:!0})}),i()(v()(t),"resetAnswer",function(){t.setState({answer:null,isComplete:!1})}),t}return y()(n,e),d()(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.isPreviewing?N.k.ON_DEMAND_PRACTICE.PREVIEW.SHOW(this.props.scenarioId):N.k.ON_DEMAND_PRACTICE.LEARNING.SHOW(this.props.scenarioId);C.a.get(t).then(function(t){t?e.setState({loading:!1,scenario:t,loadError:!1}):e.setState({loading:!1,loadError:!0})}).fail(function(){e.setState({loading:!1,loadError:!0})})}},{key:"renderQuestion",value:function(){var e=this.state.scenario;return e.scenarioType===_T?w.a.createElement(bT,{prompt:e.prompt,apiKey:this.props.ziggeoApiKey,handleSave:this.saveAttempt,setAnswer:this.setAnswer,resetAnswer:this.resetAnswer,hasPracticeWithPeers:this.context.practiceWithPeers}):e.scenarioType===wT?w.a.createElement(hT,{questionId:e.id,prompt:e.prompt,hippoPreviewBase:this.props.hippoPreviewBase,handleSave:this.saveAttempt,currentUserId:this.props.currentUserId,setAnswer:this.setAnswer,resetAnswer:this.resetAnswer,hasPracticeWithPeers:this.context.practiceWithPeers}):e.scenarioType===ST?w.a.createElement(gT,{questionId:e.id,prompt:e.prompt,hippoPreviewBase:this.props.hippoPreviewBase,handleSave:this.saveAttempt,currentUserId:this.props.currentUserId,hasPracticeWithPeers:this.context.practiceWithPeers,setAnswer:this.setAnswer,resetAnswer:this.resetAnswer}):e.scenarioType===kT?w.a.createElement(yT,{questionId:e.id,handleSave:this.saveAttempt,setAnswer:this.setAnswer,resetAnswer:this.resetAnswer,currentUserId:this.props.currentUserId}):e.scenarioType===kT?w.a.createElement(yT,{questionId:e.id,prompt:e.prompt,handleSave:this.saveAttempt,currentUserId:this.props.currentUserId}):w.a.createElement("div",null)}},{key:"render",value:function(){var e=this.state,n=e.loading,r=e.loadError,a=e.saveError,i=e.scenario,o=e.isComplete,s=e.saving,c=e.answer,l=this.context.practiceWithPeers;return w.a.createElement("div",null,r&&w.a.createElement("div",{className:"fz-24 m-a ta-c"},t("practice.on_demand_practice.error.scenario_load")),!n&&!r&&l&&w.a.createElement(w.a.Fragment,null,w.a.createElement("h1",{className:"ff-ss fz-24 fw-b text-wrap lh-1"},i.practice_container_title),w.a.createElement("h2",{className:"ff-ss fz-18 mb-16 text-wrap lh-1"},i.prompt)),n&&w.a.createElement(k.k,null),!n&&!r&&w.a.createElement(ET,{practiceWithPeers:l,saveAttempt:this.saveAttempt,saveAttemptWithFeedback:this.saveAttemptWithFeedback,scenario:i,answer:c,isComplete:o,saving:s},this.renderQuestion()),a&&w.a.createElement(un.c,{onDismiss:this.closeSaveErrorModal},w.a.createElement(un.a,null,t("practice.on_demand_practice.error.save_attempt.title")),t("practice.on_demand_practice.error.save_attempt.description"),w.a.createElement(k.d,{alignEnd:!0,className:"mt-8"},w.a.createElement(k.c,{customColor:!0,onClick:this.closeSaveErrorModal},t("common.ok")))))}}]),n}(w.a.Component);i()(CT,"contextType",As);var NT=CT,OT={current_response:0,previous_responses:1},xT=function(e){var n=e.scenarioId,r=e.ziggeoApiKey,a=e.currentUserId,i=e.isPreviewing,o=e.hippoPreviewBase,s=e.meta,c=OT[Object(gs.a)(window.location.href,"tab")]||0,l=Object(E.useState)({tab:c,highlightFirstAttempt:!1}),u=Ye()(l,2),d=u[0],p=u[1],f=V()("OnDemandPracticeScenario",{"OnDemandPracticeScenario--disabled":i});return w.a.createElement(As.Provider,{value:s.features},w.a.createElement("div",{className:f},w.a.createElement("div",{className:i?"pe-n":""},w.a.createElement("a",{className:"OnDemandPracticeScenario-backLink",href:N.k.ON_DEMAND_PRACTICE.LEARNING.INDEX(1)},w.a.createElement(z.a,{name:"back",customClass:"mr-4"}),t("practice.on_demand_practice.back_link")),w.a.createElement(co,{selectedIndex:d.tab,onSelect:function(e){return p({tab:e,highlightFirstAttempt:!1})}},w.a.createElement(uo,{className:"mb-24",tabClassName:"c-brand-night"},w.a.createElement(fo,null,t("practice.on_demand_practice.on_demand_practice_tab")),w.a.createElement(fo,null,t("practice.on_demand_practice.previous_attempts_tab"))),w.a.createElement(mo,null,w.a.createElement(NT,{scenarioId:n,ziggeoApiKey:r,currentUserId:a,setTabState:p,hippoPreviewBase:o,isPreviewing:i})),w.a.createElement(mo,null,w.a.createElement($x,{scenarioId:n,highlightFirstAttempt:d.highlightFirstAttempt}))))))},TT=function(e){var n=e.scenarioId,r=e.attemptId,a=Object(E.useState)(0),i=Ye()(a,2),o=i[0],s=i[1],c=Sn(N.k.ON_DEMAND_PRACTICE.LEARNING.ATTEMPTS.SHOW(n,r)),l=c.data,u=c.loading,d=Sn(N.k.ON_DEMAND_PRACTICE.LEARNING.ATTEMPTS.ATTEMPT_FEEDBACKS(n,r)),p=d.data,f=d.loading,h=l?l.ziggeoApiKey:null;if(f||u)return w.a.createElement("div",{className:"mt-24"},w.a.createElement("div",{className:"maxw-layout m-a ff-ss d-f ai-c jc-c"},w.a.createElement(k.k,{className:"mr-8"})," ",t("common.loading")));var m=l.attempt,g=l.scenario,v=l.hippoPreviewBase,b=p.feedback,y="webcam_recording"===m.scenarioType,_=1===b.length||0===o,S=1===b.length||o===b.length-1,C=b[o].feedbackCriteria.appreciative||[],O=b[o].feedbackCriteria.critical||[];return w.a.createElement("div",{className:"mt-24 p-16"},w.a.createElement("div",{className:"maxw-layout fz-16 m-a ff-ss"},w.a.createElement("a",{className:"u-linkBtn mb-24 d-b",href:N.k.ON_DEMAND_PRACTICE.LEARNING.SHOW(n,"previous_responses")},w.a.createElement(z.a,{name:"back",customClass:"mr-4"}),t("practice.practice_with_peers.feedback_overview.back_link")),w.a.createElement(k.f,null,w.a.createElement(k.f.Content,{padding:"medium",className:"d-f m-fd-c"},w.a.createElement("div",{className:"w-fill mw-25p m-maxw-100p VideoEmbed VideoEmbed-player VideoEmbed--background mr-16 m-m-0 mb-16 pos-r minh-150 minw"},y&&w.a.createElement(Us,{apiKey:h,token:m.answer,className:"VideoEmbed-videoPlayer"}),!y&&w.a.createElement(Hs.a,{embedUrl:Gs(v,m.answer)})),w.a.createElement("header",{className:"d-f jc-sb w-fill"},w.a.createElement("div",{className:"mr-16"},w.a.createElement("h3",{className:"ff-ss fz-16 fw-b m-0 mb-16 text-wrap"},g.practiceContainerTitle),w.a.createElement("p",{className:"text-wrap"},g.prompt)),w.a.createElement("div",{className:"ta-r f-sh-0"},w.a.createElement(Is,null,m.createdAt))))),w.a.createElement("div",{className:"bb-gray-lighter py-16 mb-16"},w.a.createElement("h2",{className:"ff-ss"},t("practice.practice_with_peers.feedback_overview.feedback"))),b.length>0&&w.a.createElement(w.a.Fragment,null,w.a.createElement(k.f,null,w.a.createElement(k.f.Content,{padding:"large"},w.a.createElement("div",{className:"ta-c mb-32 mt-24"},w.a.createElement("strong",null,t("practice.practice_with_peers.feedback_overview.feedback_giver"))," ",b[o].feedbackGiver),w.a.createElement("div",{className:"d-f ai-c jc-sb m-fd-c"},w.a.createElement("div",{className:"d-f ai-c jc-c u-hideBelowXS"},w.a.createElement("button",{type:"button",disabled:_,onClick:function(){s(o-1)},className:"u-resetBtn"},w.a.createElement(z.a,{name:"previous",customClass:V()("is-32",{"c-gray-dark":_})}))),w.a.createElement("div",{className:"fg-1 m-w-fill px-32 m-p-0"},w.a.createElement("div",{className:"d-f mb-32 m-fd-c"},w.a.createElement("div",null,w.a.createElement(z.a,{name:"color_thumbs_up",customClass:"is-48 mr-8"})),w.a.createElement("div",{className:"mb-16 w-fill"},w.a.createElement("strong",{className:"mb-8 d-ib"},t("practice.practice_with_peers.feedback_overview.awesome")),w.a.createElement("div",{className:"d-f fw-w ai-c mb-16"},C.map(function(e){return w.a.createElement("div",{className:"mr-8 d-ib"},w.a.createElement(z.a,{name:"check",customClass:"mr-8"}),e)})),w.a.createElement("p",{className:"text-wrap"},b[o].appreciativeComment))),w.a.createElement("div",{className:"d-f m-fd-c"},w.a.createElement("div",null,w.a.createElement(z.a,{name:"color_tools",customClass:"is-48 mr-8"})),w.a.createElement("div",{className:"mb-16 w-fill"},w.a.createElement("strong",{className:"mb-8 d-ib"},t("practice.practice_with_peers.feedback_overview.improved")),w.a.createElement("div",{className:"d-f fw-w ai-c mb-16"},O.map(function(e){return w.a.createElement("div",{className:"mr-8 d-ib"},w.a.createElement(z.a,{name:"gear",customClass:"mr-8"}),e)})),w.a.createElement("p",{className:"text-wrap"},b[o].criticalComment)))),w.a.createElement("div",{className:"d-f ai-c jc-c u-hideBelowXS"},w.a.createElement("button",{type:"button",disabled:S,onClick:function(){s(o+1)},className:"u-resetBtn"},w.a.createElement(z.a,{name:"next",customClass:V()("is-32",{"c-gray-dark":S})})))))),w.a.createElement("div",{className:"d-f ai-c jc-sb u-showBelowXS w-half mx-a mt-32"},w.a.createElement("button",{type:"button",disabled:_,onClick:function(){s(o-1)},className:"u-resetBtn"},w.a.createElement(z.a,{name:"previous",customClass:V()("is-32",{"c-gray-dark":_})})),w.a.createElement("button",{type:"button",disabled:S,onClick:function(){s(o+1)},className:"u-resetBtn"},w.a.createElement(z.a,{name:"next",customClass:V()("is-32",{"c-gray-dark":S})}))))))},RT=function(e){var n=e.attempt,r=e.ziggeoApiKey,a=e.hippoPreviewBase;switch(n.scenarioType){case"webcam_recording":return w.a.createElement(Us,{token:n.answer,apiKey:r,className:"VideoEmbed-videoPlayer"});case"screen_recording":case"audio_recording":return w.a.createElement(Hs.a,{embedUrl:Gs(a,n.answer)});case"written_response":return w.a.createElement(w.a.Fragment,null,w.a.createElement("strong",{className:"d-ib mb-8"},t("practice.practice_with_peers.request_feedback.your_attempt")),w.a.createElement("p",{className:"m-0 p-12 fz-base mh-40 bdrs-base bd-gray-lighter text-wrap"},w.a.createElement(to.a,null,n.answer)));default:return w.a.createElement("div",null)}},PT=function(e){function n(){var e,r;l()(this,n);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return r=f()(this,(e=m()(n)).call.apply(e,[this].concat(o))),i()(v()(r),"state",{selectedFeedbackContributors:[],loading:!0,attempt:null,ziggeoApiKey:null,hippoPreviewBase:null,notes:"",saving:!1}),i()(v()(r),"autosizeRef",w.a.createRef()),i()(v()(r),"fetchScenario",function(){return C.a.get(N.k.ON_DEMAND_PRACTICE.LEARNING.ATTEMPTS.REQUEST_FEEDBACK(r.props.scenarioId,r.props.attemptId))}),i()(v()(r),"componentDidMount",function(){r.setState({loading:!0}),r.fetchScenario().then(function(e){r.setState(R()({},e,{loading:!1}))})}),i()(v()(r),"renderSuggestion",function(e){var t=e.name;return w.a.createElement("span",{className:"d-f w-fill"},t)}),i()(v()(r),"filterSuggestions",function(e){var t=r.state.selectedFeedbackContributors.map(function(e){return e.id});return 0===t.length?e:e.filter(function(e){return!t.includes(e.id)})}),i()(v()(r),"onSuggestionSelected",function(e){var t=r.state.selectedFeedbackContributors;r.setState({selectedFeedbackContributors:[].concat(Z()(t),[e])})}),i()(v()(r),"renderSuggestionAutoComplete",function(){var e=r.state.attempt;return w.a.createElement(Tn,{url:N.k.ON_DEMAND_PRACTICE.LEARNING.SCENARIOS.FEEDBACK_CONTRIBUTOR_OPTIONS(e.scenarioId),renderSuggestion:r.renderSuggestion,getSuggestionValue:function(e){return e.name},mapResponseToSuggestions:function(e){return e.feedbackContributorOptions},onSuggestionSelected:r.onSuggestionSelected,placeholder:t("practice.practice_with_peers.request_feedback.autocomplete_placeholder"),filterSuggestions:r.filterSuggestions,className:"OnDemandPracticeRequestFeedback-input w-fill mb-12"})}),i()(v()(r),"removeFeedbackContributor",function(e){return function(){r.setState(function(t){return{selectedFeedbackContributors:t.selectedFeedbackContributors.filter(function(t){return t.id!==e})}})}}),i()(v()(r),"updateNotes",function(e){var t=e.target.value;r.setState({notes:t},function(){r.autosizeRef.current&&Lx.a.update(r.autosizeRef.current)})}),i()(v()(r),"setSaving",function(){r.setState({saving:!0})}),r}return y()(n,e),d()(n,[{key:"componentDidUpdate",value:function(){this.autosizeRef.current&&Lx()(this.autosizeRef.current)}},{key:"render",value:function(){var e=this,n=this.state,r=n.attempt,a=n.loading,i=n.ziggeoApiKey,o=n.hippoPreviewBase,s=n.selectedFeedbackContributors,c=n.notes,l=n.saving;return a?w.a.createElement(k.k,null):w.a.createElement(pn,{url:N.k.ON_DEMAND_PRACTICE.LEARNING.ATTEMPTS.SUBMIT_FEEDBACK_REQUEST(r.scenarioId,r.id),method:"post",className:"OnDemandPracticeRequestFeedback",onSubmit:this.setSaving},w.a.createElement("div",{className:"mb-16"},w.a.createElement("a",{className:"OnDemandPracticeRequestFeedback-backLink",href:N.k.ON_DEMAND_PRACTICE.LEARNING.INDEX(1)},w.a.createElement(z.a,{name:"back",customClass:"mr-4"}),t("practice.on_demand_practice.back_to_practice"))),w.a.createElement(k.f,null,w.a.createElement(k.f.Content,{padding:"large"},w.a.createElement("h1",{className:"OnDemandPracticeRequestFeedback-title"},w.a.createElement(z.a,{name:"say",customClass:"is-28 mr-8"}),t("practice.practice_with_peers.request_feedback.title")),w.a.createElement("div",{className:"d-f m-fd-c"},w.a.createElement("div",{className:"OnDemandPracticeRequestFeedback-preview mr-16 m-m-0"},w.a.createElement("div",{className:"VideoEmbed VideoEmbed-player w-fill pos-r minh-300"},w.a.createElement(RT,{attempt:r,ziggeoApiKey:i,hippoPreviewBase:o}))),w.a.createElement("div",{className:"OnDemandPracticeRequestFeedback-form d-f fd-c"},w.a.createElement("label",{className:"mb-8",htmlFor:"graderInput"},w.a.createElement("strong",null,t("practice.practice_with_peers.request_feedback.reviewers"))," ",w.a.createElement("em",null,"(",t("common.required"),")")),this.renderSuggestionAutoComplete(),w.a.createElement("div",{className:"d-f mb-16 mt-8 fw-w"},s.map(function(n){return w.a.createElement("span",{key:n.id,className:"d-ib p-4-8 bg-gray-light bdrs-small c-black fw-b fz-12 f-smooth mr-8 mb-8"},n.name,w.a.createElement("input",{type:"hidden",name:"feedbackContributorIds[]",value:n.id}),w.a.createElement("button",{type:"button","aria-label":t("common.close"),onClick:e.removeFeedbackContributor(n.id),className:"u-resetBtn"},w.a.createElement(z.a,{name:"remove",customClass:"ml-8"})))})),w.a.createElement("label",{className:"mb-8",htmlFor:"note"},w.a.createElement("strong",null,t("practice.practice_with_peers.request_feedback.notes_label"))),w.a.createElement("textarea",{ref:this.autosizeRef,id:"note",name:"note",value:c,onChange:this.updateNotes,className:"OnDemandPracticeRequestFeedback-input w-fill h-100",placeholder:t("practice.practice_with_peers.request_feedback.notes_placeholder")}))),w.a.createElement(k.d,{alignEnd:!0,className:"mt-16"},w.a.createElement(k.c,{primary:!0,disabled:l||0===s.length,type:"submit"},t("practice.practice_with_peers.request_feedback.button"))))))}}]),n}(w.a.Component),IT=r(27),AT=r(38),MT=Object(le.b)(function(e){return{title:e.pathBuilder.title}},function(e){return{updateTitle:function(t){e(AT.i({title:t}))}}})(function(e){var t=e.title,n=e.updateTitle;return w.a.createElement("div",{className:"mb-16"},w.a.createElement("label",{className:"mb-8 c-brand-gray-darker",htmlFor:"pathName"},"Path name"),w.a.createElement(Dl.a,{id:"pathName",className:"PathBuilder-nameInput NewInput--white",onChange:n,value:t,controlled:!0,wait:0}))}),DT=function(e){function t(e){var n;return l()(this,t),(n=f()(this,m()(t).call(this,e))).state={customMessage:"",assignNewContent:!1},n.handlePreviewEmail=n.handlePreviewEmail.bind(v()(n)),n.handleInputChange=n.handleInputChange.bind(v()(n)),n.handleSubmit=n.handleSubmit.bind(v()(n)),n}return y()(t,e),d()(t,[{key:"handlePreviewEmail",value:function(){var e=this;Bo({name:"email_preview"}).then(function(t){var n=N.k.ASSIGNMENT_ADDED_CONTENTS_PREVIEW(e.props.pathId),r={contents:e.props.contents.map(Object(me.pick)(["id","type"])),message:e.state.customMessage};C.a.postJSON(n,r,{dataType:"html"}).then(function(e){var n=t.document.createElement("style");n.innerHTML="body { padding: 5%; background: rgb(244, 244, 244); font: normal 13px/1 'proxima-nova', 'Helvetica Neue', sans-serif;} .maincontain { box-shadow: 0px 1px 1px 0px #ececec; }",t.document.body.innerHTML=e,t.document.body.appendChild(n)})})}},{key:"handleSubmit",value:function(){this.props.onSubmit(this.state)}},{key:"handleInputChange",value:function(e){var t=e.target,n=t.value,r=t.type,a=t.name,o=r.match("radio");this.setState(i()({},a,o?JSON.parse(n):n))}},{key:"render",value:function(){var e=this.props,t=e.onCancel,n=e.updateInProgress,r=e.completedCount,a=this.state,i=a.assignNewContent,o=a.customMessage,s=w.a.createElement("b",{className:"c-brand-gray-darkest"},"".concat(r," ").concat(Object(Ne.d)(r,"learner")));return w.a.createElement(un.c,{onDismiss:t},w.a.createElement(un.a,null,"You’re adding content to this Path"),w.a.createElement(un.b,null,"How should this affect the ",s," who"," ",Object(Ne.d)(r,"has","have")," previously completed this Path?"),w.a.createElement("div",{className:"FormGroup mt-24"},w.a.createElement("label",{htmlFor:"assignNewContent-false",className:"mb-8"},w.a.createElement("input",{type:"radio",id:"assignNewContent-false",name:"assignNewContent",value:!1,checked:!1===i,onChange:this.handleInputChange}),w.a.createElement("span",{className:"ml-8"},"Do not require the new content, but make it visible to them")),w.a.createElement("label",{htmlFor:"assignNewContent-true"},w.a.createElement("input",{type:"radio",id:"assignNewContent-true",name:"assignNewContent",value:!0,checked:!0===i,onChange:this.handleInputChange}),w.a.createElement("span",{className:"ml-8"},"Require the new content to be complete")),i&&w.a.createElement("div",{className:"FormGroup-subset mt-16"},w.a.createElement("div",{className:"mb-8 fz-base d-f jc-sb"},w.a.createElement("label",{htmlFor:"customMessage",className:"c-brand-gray-darker"},"Custom Assignment Email Message (optional)"),w.a.createElement("button",{type:"button",className:"AssignModal-previewEmailBtn",onClick:this.handlePreviewEmail,disabled:!o.trim().length},"Preview Email",w.a.createElement(z.a,{name:"external-link"}))),w.a.createElement("textarea",{id:"customMessage",name:"customMessage",value:o,onChange:this.handleInputChange,className:"Textarea PathUpdateModal-emailMessageInput",ref:function(e){return e&&e.focus()}}))),w.a.createElement("div",{className:"d-f jc-e ai-c mt-24"},w.a.createElement("button",{type:"button",className:"u-linkBtn u-linkBtn--dark td-u",onClick:t,children:"Cancel"}),w.a.createElement("button",{type:"button",className:"ml-16 ".concat(Object(Cu.a)("NewButton",["yellow","tallAndWide"])),onClick:this.handleSubmit},n&&w.a.createElement("span",{className:"Spinner mr-8"}),"Update Path")))}}]),t}(E.PureComponent),jT=Object(le.b)(function(e){return{pathId:e.pathBuilder.id,contents:e.pathBuilder.contents}})(DT),LT=function(e){function t(e){var n;return l()(this,t),(n=f()(this,m()(t).call(this,e))).state={showConfirmationModal:!1,completedCount:null},n.handleUpdatePath=n.handleUpdatePath.bind(v()(n)),n.cancelUpdatePath=n.cancelUpdatePath.bind(v()(n)),n}return y()(t,e),d()(t,[{key:"handleUpdatePath",value:function(e){var t=this;this.props.loading||this.props.updatePath({merge:e}).then(function(e){var n=e.success,r=e.completedUsersCount;t.buttonRef&&t.setState({showConfirmationModal:!n,completedCount:n?null:r})})}},{key:"cancelUpdatePath",value:function(){this.setState({showConfirmationModal:!1})}},{key:"render",value:function(){var e=this,t=this.props,n=t.hasUnsavedChanges,r=t.loading,a=this.state.showConfirmationModal;return w.a.createElement("div",{className:"d-ib",ref:function(t){e.buttonRef=t}},Object(we.b)({text:n.reason})(w.a.createElement("button",{type:"button",className:Object(Cu.a)("NewButton",["tallAndWide","yellow"]),onClick:function(){return e.handleUpdatePath()},disabled:!n.value},r&&w.a.createElement("span",{className:"Spinner mr-8"}),"Update Path")),a&&w.a.createElement(jT,{updateInProgress:this.props.loading,completedCount:this.state.completedCount,onSubmit:function(t){return e.handleUpdatePath(t)},onCancel:this.cancelUpdatePath}))}}]),t}(E.PureComponent),FT={updatePath:AT.c},BT=Object(le.b)(function(e){return{loading:e.pathBuilder.updateInProgress}},FT)(LT),UT=Object(le.b)(function(e){var t=e.pathBuilder;return{updatedAt:t.updatedAt,createdAt:t.createdAt}})(function(e){var t=e.onDismiss,n=e.onSubmit,r=e.updatedAt,a=e.createdAt,i=Object(me.isEmpty)(r)?a:r,o=i.user,s=i.date,c=I()(s).format(L.LONG_AT_TIME);return w.a.createElement(un.c,{onDismiss:t},w.a.createElement(un.a,null,"Discard Changes?"),w.a.createElement(un.b,null,"This Path was last saved ",c," by ",o,"."),w.a.createElement("div",{className:"d-f jc-e ai-c mt-24"},w.a.createElement("button",{type:"button",className:"u-linkBtn u-linkBtn--dark td-u",onClick:t,children:"No, Keep Changes"}),w.a.createElement("button",{type:"button",className:"ml-16 ".concat(Object(Cu.a)("NewButton",["yellow","tallAndWide"])),onClick:n,children:"Yes, Discard Changes"})))}),HT=function(e){function t(){var e;return l()(this,t),(e=f()(this,m()(t).call(this))).state={showConfirmationModal:!1},e.handleClick=e.handleClick.bind(v()(e)),e.handleCancel=e.handleCancel.bind(v()(e)),e}return y()(t,e),d()(t,[{key:"handleClick",value:function(){this.props.hasUnsavedChanges.value?this.setState({showConfirmationModal:!0}):this.props.discardChanges()}},{key:"handleCancel",value:function(){this.setState({showConfirmationModal:!1})}},{key:"render",value:function(){var e=this.props,t=e.discardChanges,n=e.hasUnsavedChanges;return w.a.createElement("div",{className:"d-ib mr-16"},w.a.createElement("button",{type:"button",className:"u-linkBtn u-linkBtn--dark td-u",onClick:this.handleClick,children:n.value?"Discard Changes":"Cancel"}),this.state.showConfirmationModal&&w.a.createElement(UT,{onSubmit:t,onDismiss:this.handleCancel}))}}]),t}(E.PureComponent),qT={discardChanges:AT.b},GT=Object(le.b)(null,qT)(HT),WT={saveDraft:AT.c},VT=Object(le.b)(function(e){return{loading:e.pathBuilder.updateInProgress}},WT)(function(e){var t=e.saveDraft,n=e.hasUnsavedChanges,r=e.loading;return Object(we.b)({text:n.reason,inline:!0})(w.a.createElement("button",{type:"button",className:Object(Cu.a)("NewButton",["tallAndWide","blue"]),onClick:r?null:t,disabled:!n.value},r&&w.a.createElement("span",{className:"Spinner mr-4"})," Save Draft"))}),zT={publish:AT.a},YT=Object(le.b)(function(e){var t=e.pathBuilder;return{canPublishPath:IT.b(t),loading:t.updateInProgress}},zT)(function(e){var t=e.canPublishPath,n=e.loading,r=e.publish;return Object(we.b)({text:t.reason,inline:!0})(w.a.createElement("button",{type:"button",className:Object(Cu.a)("NewButton",["yellow","tallAndWide"]),onClick:n?null:r,disabled:!t.value},n&&w.a.createElement("span",{className:"Spinner mr-4"})," Publish Path"))}),QT={toggleEditing:AT.f},KT=Object(le.b)(function(e){var t=e.pathBuilder;G()(e,["pathBuilder"]);return{hasUnsavedChanges:IT.j(t),hasDraft:!Object(me.isEmpty)(t.lastRevision),isPublished:!!Object(me.get)("publishedAt.date")(t),isEditing:IT.q.isEdit(t),canEdit:IT.a(t),userCanManageContent:t.permissions.editPath}},QT)(function(e){var t=e.hasUnsavedChanges,n=e.isPublished,r=e.isEditing,a=e.hasDraft,i=e.userCanManageContent,o=G()(e,["hasUnsavedChanges","isPublished","isEditing","hasDraft","userCanManageContent"]);return w.a.createElement("div",{className:"PathBuilder-actions"},!r&&i&&Object(we.b)({text:o.canEdit.reason,inline:!0})(w.a.createElement("button",{type:"button",children:"Edit Path",className:Object(Cu.a)("NewButton",["blue","tallAndWide","center"]),onClick:o.toggleEditing,disabled:!o.canEdit.value})),!r&&!n&&i&&w.a.createElement(YT,null),r&&a&&w.a.createElement(GT,{hasUnsavedChanges:t}),r&&!n&&w.a.createElement(VT,{hasUnsavedChanges:t}),r&&n&&w.a.createElement(BT,{hasUnsavedChanges:t}))}),XT=Object(le.b)(function(e){var t=e.pathBuilder;return{isPublished:!!Object(me.get)("publishedAt.date")(t),hasDraft:!Object(me.isEmpty)(t.lastRevision),title:t.title,editingMode:IT.q.isEdit(t)}})(function(e){var t=e.isPublished,n=e.hasDraft,r=e.editingMode,a=e.title;return w.a.createElement("h1",{className:"PathBuilder-title ws-pr"},r?t?"Edit Published Path":n?"Edit Draft Path":"Create New Path":a)}),$T=Object(le.b)(function(e){var t=e.pathBuilder;return{title:t.title,isPublished:!!Object(me.get)("publishedAt.date")(t),hasDraft:!Object(me.isEmpty)(t.lastRevision),editingMode:IT.q.isEdit(t)}})(function(e){e.isPublished,e.hasDraft;var t=e.editingMode;e.title;return w.a.createElement("div",{className:"PathBuilder-header"},w.a.createElement("div",{className:"d-f jc-sb"},w.a.createElement(XT,null),w.a.createElement(KT,null)),t&&w.a.createElement(MT,null))}),ZT=function(e,t){return I()(e.date).diff(I()(t.date))},JT=function(e){var t=e.date;return!Object(S.isEmpty)(t)},eR=Object(le.b)(function(e){var t=e.pathBuilder;return{isNewPath:!t.id,updatedAt:t.updatedAt,createdAt:t.createdAt,publishedAt:t.publishedAt,archivedAt:t.archivedAt}})(function(e){var n=e.createdAt,r=e.updatedAt,a=e.publishedAt,i=e.archivedAt;if(e.isNewPath)return!1;var o=[R()({label:"Archived"},i),R()({label:"Last Updated"},r),R()({label:"Published"},a),R()({label:"Created"},n)];return w.a.createElement(on.b,null,o.filter(JT).sort(ZT).map(function(e,n,r){var a=e.label,i=e.date,o=e.user,s=r.length;return w.a.createElement("div",{className:n===s-1?"":"mb-16",key:Object(S.uniqueId)()},w.a.createElement(on.a,null,a),w.a.createElement("div",{className:"c-brand-gray-darker"},I()(i).format(L.LONG_AT_TIME)),w.a.createElement("div",{className:"c-brand-gray-darker"},t("common.by")," ",o||t("common.deleted_user")))}))}),tR=r(702),nR=r(208),rR=function(e){function t(e){var n;return l()(this,t),(n=f()(this,m()(t).call(this,e))).state={enforcedOrder:n.props.enforcedOrder},n.handleSave=n.handleSave.bind(v()(n)),n.onRadioChange=n.onRadioChange.bind(v()(n)),n}return y()(t,e),d()(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.state.enforcedOrder!==e.enforcedOrder&&this.setState({enforcedOrder:e.enforcedOrder})}},{key:"onRadioChange",value:function(e){var t=e.target;this.setState(i()({},t.name,JSON.parse(t.value)))}},{key:"handleSave",value:function(){var e=this,t={enforcedOrder:this.state.enforcedOrder};this.props.pathId?this.setState({loading:!0},function(){C.a.put(N.k.PATHS+"/".concat(e.props.pathId),t).then(function(t){e.props.updatePath({enforcedOrder:t.enforcedOrder}),e.setState({loading:!1},e.props.toggleEditing)})}):(this.props.updatePath(t),this.props.toggleEditing())}},{key:"render",value:function(){var e=this,n=this.props.userCanEditContent,r=function(t){var n=t.value,r=t.name,a=t.label;return w.a.createElement("label",{htmlFor:"".concat(r,".").concat(n)},w.a.createElement("input",{checked:e.state.enforcedOrder===n,id:"".concat(r,".").concat(n),name:r,onChange:e.onRadioChange,type:"radio",value:n}),w.a.createElement("span",{className:"ml-8"},a))};return w.a.createElement(on.b,null,w.a.createElement(on.a,{className:"d-f jc-sb",htmlFor:"pathDescription"},"Step Order",!this.props.isArchived&&!this.props.editing&&n&&w.a.createElement("button",{type:"button",className:"u-linkBtn fz-base fw-n",onClick:this.props.toggleEditing},w.a.createElement(z.a,{name:"edit",customClass:"mr-4"}),"Edit")),!this.props.editing&&w.a.createElement("div",{className:"c-brand-gray-darker"},t.labels[this.props.enforcedOrder]),this.props.editing&&w.a.createElement("div",null,w.a.createElement(r,{name:"enforcedOrder",value:!0,label:t.labels.true}),w.a.createElement(r,{name:"enforcedOrder",value:!1,label:t.labels.false}),w.a.createElement("div",{className:"d-f jc-e ai-c mt-8"},w.a.createElement("button",{type:"button",className:"u-linkBtn u-linkBtn--dark td-u",onClick:this.props.toggleEditing,children:"Cancel"}),w.a.createElement(nR.a,{loading:this.state.loading,onClick:this.handleSave}))))}}]),t}(E.Component);i()(rR,"labels",{true:"Steps must be taken in order",false:"Steps can be taken in any order"});var aR={toggleEditing:AT.g,updatePath:AT.i},iR=Object(le.b)(function(e){var t=e.pathBuilder;e.meta;return{pathId:t.id,enforcedOrder:t.enforcedOrder,editing:t.editingOrderEnforcement,isArchived:IT.l(t),userCanEditContent:t.permissions.editPath}},aR)(rR);var oR=function(e){return e.map(function(e){var t=e.onClick,n=e.label,r=e.icon;return{onClick:t,children:w.a.createElement("span",null,w.a.createElement(z.a,{name:r,customClass:"mr-8 c-brand-gray-light"}),n)}})},sR=function(e){e.id;var t=e.name,n=e.children,r=e.editing,a=e.options;return w.a.createElement("div",{className:"fz-base c-brand-gray-darker mb-4 p-4 ai-c d-f jc-sb bdrs-base h-bc-gray-lightest"},n||t,r&&a&&w.a.createElement(Mg,{options:oR(a)}))},cR=function(e){var t=e.taggings,n=e.onCreateTagging,r=e.getTag,a=e.tagsPath,i=e.tagOptions,o=e.toggleEditing,s=e.queryParam,c=e.mapResponseToSuggestions,l=e.filterSuggestions;return w.a.createElement("div",null,w.a.createElement(Tn,{onSuggestionSelected:n,placeholder:"Add a tag by Name",className:"NewInput NewInput--light NewInput--fw mb-16",queryParam:s,url:a,mapResponseToSuggestions:c,filterSuggestions:l}),t.map(function(e){var t=function(e){return function(t){return e.map(function(e){return R()({},e,{onClick:function(n){return e.onClick.call(n,t)}})})}}(i)(e),n=r(e);return w.a.createElement(sR,H()({},n,{key:n.id,options:t,editing:!0}))}),w.a.createElement("div",{className:"d-f jc-e ai-c mt-16"},w.a.createElement("button",{type:"button",className:"ml-16 NewButton NewButton--blue NewButton--wide NewButton--center",onClick:o,children:"Done"})))},lR=function(e){function t(){var e;return l()(this,t),(e=f()(this,m()(t).call(this))).state={expanded:!1},e.toggleList=e.toggleList.bind(v()(e)),e}return y()(t,e),d()(t,[{key:"renderExpandButton",value:function(){var e=this,n=this.props.collapseAt,r=function(n){return t.CollapseButton(R()({},n,{onClick:e.toggleList}))};return!(this.tagsCount<=n)&&(this.state.expanded?w.a.createElement(r,{icon:"triangle_up"},"Show fewer"):w.a.createElement(r,{icon:"triangle_down"},"Show ",this.tagsCount-(n-1)," More"))}},{key:"toggleList",value:function(){this.setState(function(e){return{expanded:!e.expanded}})}},{key:"getTaggings",value:function(){var e=this.props,t=e.taggings,n=e.collapseAt;return this.state.expanded||this.tagsCount<=n?t:t.slice(0,n-1)}},{key:"renderAddTagButton",value:function(){return w.a.createElement("button",{type:"button",className:"u-linkBtn fz-base fw-n",onClick:this.props.toggleEditing},w.a.createElement(z.a,{name:"add",customClass:"mr-4"}),"Add Tag")}},{key:"renderTags",value:function(){var e=this;return this.getTaggings().map(function(t){var n=e.props.getTag(t);return w.a.createElement(sR,H()({key:n.id},n))})}},{key:"renderBody",value:function(){return 0!==this.tagsCount?this.renderTags():this.props.viewOnly?w.a.createElement(uR,null):this.renderAddTagButton()}},{key:"render",value:function(){return w.a.createElement("div",null,this.renderBody(),this.renderExpandButton())}},{key:"tagsCount",get:function(){return this.props.taggings.length}}],[{key:"CollapseButton",value:function(e){var t=e.onClick,n=e.children,r=e.icon;return w.a.createElement("button",{type:"button",className:"u-linkBtn p-4",onClick:t},n,w.a.createElement(z.a,{name:r,customClass:"ml-4 fz-xs"}))}}]),t}(E.Component);i()(lR,"defaultProps",{collapseAt:4});var uR=function(){return w.a.createElement("span",{className:"c-brand-gray-darker"},"No Tags")},dR=lR,pR=function(e){var t=e.editing,n=G()(e,["editing"]);return t?w.a.createElement(cR,n):w.a.createElement(dR,n)},fR=function(e){return function(t){var n=Object(me.map)("tag.id",e);return Object(me.reject)(function(e){var t=e.id;return n.includes(t)},t)}},hR=Object(le.b)(function(e){var t=e.pathBuilder;return{taggings:t.taggings,editingTaggings:IT.n(t,"taggings"),isArchived:IT.l(t)}},function(e){return{onCreateTagging:function(t){e(function(e){return function(t,n){return new Promise(function(r,a){var i={taggableId:n().pathBuilder.id,taggableType:N.i.PATH,tagId:e.id};C.a.postJSON(N.k.TAGGINGS,{tagging:i}).then(function(e){t({type:he.j.TAGGING.CREATE,tagging:e})})})}}(t))},onRemoveTagging:function(t){e(function(e){return function(t,n){return new Promise(function(n,r){C.a.delete(N.k.TAGGING(e.id)).then(function(){t({type:he.j.TAGGING.REMOVE,taggingId:e.id})})})}}(t))},onTaggingAllContent:function(t){e(function(e){return function(t,n){return new Promise(function(t,r){var a=n().pathBuilder.id;C.a.postJSON(N.k.TAG_ALL_CONTENT,{tagId:e.tag.id,pathId:a}).then(function(){alert("Tagged all content with "+e.tag.name)})})}}(t))},toggleEditing:function(){e(Object(AT.h)("taggings"))}}})(function(e){var t=e.taggings,n=e.editingTaggings,r=e.toggleEditing,a=e.onCreateTagging,i=e.onRemoveTagging,o=e.onTaggingAllContent,s=e.isArchived,c=t.length>=1,l=!s&&!n&&c;return w.a.createElement(on.b,null,w.a.createElement(on.a,{className:"d-f jc-sb"},w.a.createElement("span",null,w.a.createElement("span",{className:"mr-4"},"Tags"),w.a.createElement(Cn,{tooltip:"Admins can edit the available tags through the gear menu above"})),l&&w.a.createElement("button",{type:"button",className:"u-linkBtn fz-base fw-n",onClick:r},w.a.createElement(z.a,{name:"edit",customClass:"mr-4"}),"Edit")),w.a.createElement(pR,{editing:n,viewOnly:s,toggleEditing:r,taggings:t,tagsPath:"/tags",queryParam:"q",mapResponseToSuggestions:function(e){return e.tags},filterSuggestions:fR(t),getTag:function(e){return e.tag},getSuggestionValue:function(e){return e.name},onCreateTagging:a,tagOptions:[{label:"Remove this tag",icon:"delete",onClick:i},{label:"Tag all of this Path’s Lessons",icon:"tags",onClick:o}]}))}),mR=function(e){function t(){var e;return l()(this,t),(e=f()(this,m()(t).call(this))).state={expanded:!1},e.toggleList=e.toggleList.bind(v()(e)),e}return y()(t,e),d()(t,[{key:"renderExpandButton",value:function(){var e=this,t=this.props.collapseAt,n=function(t){return e.constructor.CollapseButton(R()({},t,{onClick:e.toggleList}))};return!(this.childrenCount<=t)&&(this.state.expanded?w.a.createElement(n,{icon:"triangle_up"},"Show fewer"):w.a.createElement(n,{icon:"triangle_down"},"Show ",this.childrenCount-(t-1)," More"))}},{key:"toggleList",value:function(){this.setState(function(e){return{expanded:!e.expanded}})}},{key:"renderChildren",value:function(){var e=this.props,t=e.children,n=e.collapseAt;return this.state.expanded||this.childrenCount<=n?t:E.Children.toArray(t).slice(0,n-1)}},{key:"render",value:function(){return 0!==this.props.children.length&&(this.props.collapsible?w.a.createElement("div",null,this.renderChildren(),this.renderExpandButton()):w.a.createElement("div",null,this.props.children))}},{key:"childrenCount",get:function(){return this.props.children.length}}],[{key:"CollapseButton",value:function(e){var t=e.onClick,n=e.children,r=e.icon;return w.a.createElement("button",{type:"button",className:"u-linkBtn p-4",onClick:t},n,w.a.createElement(z.a,{name:r,customClass:"ml-4 fz-xs"}))}}]),t}(E.Component);i()(mR,"defaultProps",{collapseAt:3});var gR=mR,vR=function(e){var t=e.expanded,n=e.onClick,r=e.loading,a=e.items,i=e.label,o=e.renderItem;return w.a.createElement("div",{className:"fz-base c-brand-gray-darker p-4 pos-r "+(t?"":"mb-4")},w.a.createElement("div",{className:"ai-c d-f"},w.a.createElement("div",{className:"c-p us-n",onClick:n},w.a.createElement(z.a,{name:t?"caret_down":"caret_right"}),w.a.createElement("span",null,i)),r&&w.a.createElement("span",{className:"Spinner ml-8 mt-1"})),t&&!Object(S.isEmpty)(a)&&w.a.createElement("div",{className:"pl-16 mt-4 mb-0-lc",children:a.map(o)}))},bR=function(e){function n(){var e;return l()(this,n),(e=f()(this,m()(n).call(this))).state={admins:null,adminsExpanded:!1,adminsLoading:!1},e.handleAdminsClick=e.handleAdminsClick.bind(v()(e)),e.renderOwnership=e.renderOwnership.bind(v()(e)),e}return y()(n,e),d()(n,[{key:"getAdmins",value:function(){var e=this;return new Promise(function(t){e.state.admins?t(e.state.admins):(e.setState({adminsLoading:!0}),C.a.get(e.props.automaticOwnersRoute).then(function(n){e.setState({adminsLoading:!1}),t(e.props.mapResponseToAdmins(n))}))})}},{key:"handleAdminsClick",value:function(){var e=this;this.getAdmins().then(function(t){e.setState(function(e){return{admins:t,adminsExpanded:!e.adminsExpanded}})})}},{key:"renderOwnership",value:function(e){var t=this.props,n=t.editing,r=t.getOwnershipOptions,a=(0,t.getOwner)(e),i=function(e){return function(t){return e.map(function(e){return R()({},e,{onClick:function(n){return e.onClick.call(n,t)}})})}}(r(e))(e);return w.a.createElement(sR,{key:e.id,options:i,editing:n},w.a.createElement("span",null,a.name,"edit_and_view_activity"===e.permission&&w.a.createElement(z.a,{name:"activity",customClass:"ml-4 c-brand-gray-light h-c-gray-darker","data-toggle":"tooltip","data-original-title":"This person can view everyone's activity on this Path and all its Lessons."})))}},{key:"render",value:function(){var e=this.props;return w.a.createElement("div",{className:"mb-0-lc"},e.editing&&w.a.createElement(Tn,{onSuggestionSelected:e.onCreateOwnership,placeholder:"Add a Person by Name",className:"NewInput NewInput--light NewInput--fw mb-16",url:e.sharedOwnersRoute,filterSuggestions:e.filterSuggestions(e.ownerships,e.getOwner),mapResponseToSuggestions:e.mapResponseToSuggestions}),w.a.createElement(vR,{label:t("ownership.heading.automatic_owners"),onClick:this.handleAdminsClick,items:this.state.admins,loading:this.state.adminsLoading,expanded:this.state.adminsExpanded,renderItem:function(t){return w.a.createElement(sR,{key:t.id,name:e.getAdminName(t)})}}),w.a.createElement(gR,{collapsible:!e.editing},e.ownerships.map(this.renderOwnership)),e.editing&&w.a.createElement("div",{className:"d-f jc-e ai-c mt-16"},w.a.createElement("button",{type:"button",className:"ml-16 NewButton NewButton--blue NewButton--wide NewButton--center",onClick:e.toggleEditing,children:"Done"})))}}]),n}(E.Component);i()(bR,"defaultProps",{automaticOwnersRoute:N.k.OWNERSHIPS_PEOPLE+"?ownership_type=automatic_ownership",sharedOwnersRoute:N.k.OWNERSHIPS_PEOPLE+"?ownership_type=shared_ownership&limit=10",filterSuggestions:function(e,t){return function(n){var r=e.map(function(e){return t(e).id});return n.filter(function(e){var t=e.id;return!r.includes(t)})}},getOwner:function(e){return e.owner},getAdminName:function(e){return e.name},mapResponseToAdmins:function(e){return e.owners},mapResponseToSuggestions:function(e){return e.owners}});var yR=bR,ER="edit_and_view_activity",_R="edit_only",wR=he.j.OWNERSHIP,SR={create:function(e){return{type:wR.CREATE,ownership:e}},remove:function(e){return{type:wR.REMOVE,id:e.id}},update:function(e){return{type:wR.UPDATE,ownership:e}}},kR={create:function(e){return C.a.postJSON(N.k.OWNERSHIPS,e)},delete:function(e){return C.a.delete(N.k.OWNERSHIP(e.id))},update:function(e,t){return C.a.put(N.k.OWNERSHIP(e.id),t)}};var CR={toggleEditing:AT.h.bind(null,"ownerships"),removeOwnership:function(e){return function(t,n){return new Promise(function(r){var a=Object(me.get)("meta.currentUser.id")(n());kR.delete(e).then(function(){t(SR.remove(e)),e.owner.id===a&&(window.location.href=N.k.CONTENT)})})}},createOwnership:function(e){return function(t,n){return new Promise(function(r,a){var i=n().pathBuilder;kR.create({ownableId:i.id,ownableType:N.i.PATH,ownerId:e.id}).then(function(e){t(SR.create(e))})})}},togglePermission:function(e){return function(t){return t(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){return new Promise(function(r){kR.update(e,t).then(function(t){var r=t.success,a=G()(t,["success"]);r&&n(SR.update(R()({},e,a)))})})}}(e,{permission:e.permission===_R?ER:_R}))}}},NR=Object(le.b)(function(e){var t=e.pathBuilder;return{ownerships:t.ownerships,editingOwnerships:IT.n(t,"ownerships"),isArchived:IT.l(t),updateOwnershipPermissions:t.permissions.updateOwnershipPermissions}},CR)(function(e){var n,r=e.isArchived,a=e.editingOwnerships,i=e.toggleEditing,o=e.ownerships,s=e.createOwnership,c=e.removeOwnership,l=(e.permission,e.togglePermission),u=e.updateOwnershipPermissions;return w.a.createElement(on.b,null,w.a.createElement(on.a,{className:"d-f jc-sb"},w.a.createElement("span",null,w.a.createElement("span",{className:"mr-4"},"Path Owners"),w.a.createElement(Cn,{tooltip:t("ownership.share.tooltip")})),!r&&!a&&w.a.createElement("button",{type:"button",className:"u-linkBtn fz-base fw-n",onClick:i},w.a.createElement(z.a,{name:"edit",customClass:"mr-4"}),"Edit")),w.a.createElement(yR,{editing:a,toggleEditing:i,ownerships:o,onCreateOwnership:s,getOwnershipOptions:(n={updateOwnershipPermissions:u,togglePermission:l,removeOwnership:c},function(e){var t=[{label:"Remove Ownership",icon:"delete",onClick:n.removeOwnership}];return n.updateOwnershipPermissions&&t.push({label:e.permission===_R?"Share access to Path activity":"Revoke access to path activity",icon:"bar_chart",onClick:n.togglePermission}),t})}))}),OR=r(36);function xR(e){return function(t,n){return new Promise(function(r,a){var i={assignableId:n().pathBuilder.id,assignableType:N.i.PATH,groupId:e.id};C.a.postJSON(N.k.LIBRARY_CONTENTS,{libraryContent:i}).then(function(e){t({type:he.j.LIBRARY_CONTENT.CREATE,libraryContent:e})})})}}function TR(e){return function(t,n){return new Promise(function(n,r){C.a.delete(N.k.LIBRARY_CONTENT(e.id)).then(function(){t({type:he.j.LIBRARY_CONTENT.REMOVE,libraryContent:e})})})}}var RR=function(e){function n(){return l()(this,n),f()(this,m()(n).apply(this,arguments))}return y()(n,e),d()(n,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){if(this.shouldReloadLibraryContents(e)){this.props.reloadLibraryContents();var t=this.props,n=t.features,r=t.editing;!n.advancedLearningLibrary&&r&&this.props.toggleEditing()}}},{key:"shouldReloadLibraryContents",value:function(e){var t=this.props.hasRelatedUrls,n=e.hasRelatedUrls;return n&&n!==t}},{key:"shouldShowEditButton",value:function(){var e=this.props,t=e.features,n=e.libraryContents;return!t.advancedLearningLibrary||!Object(me.isEmpty)(n)}},{key:"render",value:function(){var e=this.props,n=e.features,r=e.editing,a=e.isArchived,i=e.showLearnLanguage,o=G()(e,["features","editing","isArchived","showLearnLanguage"]);return w.a.createElement(on.b,null,w.a.createElement(on.a,{className:"d-f jc-sb"},w.a.createElement("span",null,w.a.createElement("span",{className:"mr-4"},i?t("learn.title"):t("learning_library.title")),n.advancedLearningLibrary&&w.a.createElement(Cn,{tooltip:i?"Choose which groups can find this Path on the Learn page":"Choose which groups can find this Path in the Learning Library"})),!a&&!r&&this.shouldShowEditButton()&&w.a.createElement("button",{type:"button",className:"u-linkBtn fz-base fw-n",onClick:o.toggleEditing},w.a.createElement(z.a,{name:"edit",customClass:"mr-4"}),"Edit")),w.a.createElement(Vn,{advanced:n.advancedLearningLibrary,editing:r,onCreateContent:o.createLibraryContent,onRemoveContent:o.removeLibraryContent,toggleEditing:o.toggleEditing,libraryContents:o.libraryContents,setLibraryVisibility:o.setLibraryVisibility,availableToEveryone:o.availableToEveryone,emptyStateActionText:i?t("learn.add"):t("learning_library.add"),removeTooltip:i?t("learn.remove_from_group_learn"):t("learning_library.remove_from_group_learning_library"),suggestionsProps:{url:N.k.GROUPS,mapResponseToSuggestions:function(e){return e.groups},filterSuggestions:_n(o.libraryContents,"group.id"),queryParam:"q"}}))}}]),n}(E.PureComponent),PR={toggleEditing:AT.h.bind(null,"learningLibrary"),setLibraryVisibility:function(e){return function(t,n){return new Promise(function(r,a){var i=n(),o=i.meta,s=i.pathBuilder,c=Object(me.get)("currentCompany")(o).everyoneGroup;if(Object(Xe.a)(c.id,"Failed to add to learning library. Group 'Everyone' cannot be found"),!0===e)t(xR(c));else{var l=Object(me.find)(function(e){return e.group.id===c.id})(s.libraryContents);t(TR(l))}})}},createLibraryContent:xR,removeLibraryContent:TR,reloadLibraryContents:function(){return function(e,t){var n=t().pathBuilder.id;C.a.get(N.k.PATH_VIEW(n)).then(function(e){return e.libraryContents}).then(function(t){e(Object(OR.updatePath)({libraryContents:t}))})}}},IR=Object(le.b)(function(e){var t=e.pathBuilder,n=G()(e,["pathBuilder"]);return{libraryContents:t.libraryContents,editing:IT.n(t,"learningLibrary"),isArchived:IT.l(t),availableToEveryone:IT.k(t,n.meta.currentCompany.everyoneGroup),hasRelatedUrls:IT.h(t),everyoneGroup:n.meta.currentCompany.everyoneGroup,showLearnLanguage:Object(Or.j)(n,"combined_learner_experience"),features:{advancedLearningLibrary:Object(Or.j)(n,"advanced_learning_library")}}},PR)(RR),AR=function(e){var t=e.typeName;return{options:{private:"Only ".concat(t," Owners and users who have been assigned this ").concat(t," can view it."),public:"Anyone can view this ".concat(t," using this link:")}}},MR=function(e){function t(e){var n;return l()(this,t),(n=f()(this,m()(t).call(this,e))).handleClick=n.handleClick.bind(v()(n)),n}return y()(t,e),d()(t,[{key:"handleClick",value:function(){this.input.select()}},{key:"render",value:function(){var e,t=this;return w.a.createElement("input",{className:V()("NewInput NewInput--fw NewInput--light",(e={},i()(e,this.props.className,this.props.className),i()(e,"pr-0",!0),e)),onClick:this.handleClick,ref:function(e){t.input=e},value:this.props.value,readOnly:!0})}}]),t}(E.PureComponent),DR=function(e){function t(e){var n;return l()(this,t),(n=f()(this,m()(t).call(this))).locale=AR({typeName:e.typeName}),n.handleOptionChange=n.handleOptionChange.bind(v()(n)),n}return y()(t,e),d()(t,[{key:"renderOverview",value:function(){var e=this.props.public?"public":"private";return w.a.createElement("div",null,w.a.createElement("div",{className:"c-brand-gray-darker"},this.locale.options[e]),this.props.public&&w.a.createElement(MR,{className:"mt-8",value:this.props.shareUrl}))}},{key:"handleOptionChange",value:function(e){var t=JSON.parse(e.target.value);this.props.public!==t&&this.props.onOptionChange(t)}},{key:"render",value:function(){var e=this,t=this.locale,n=function(t){return w.a.createElement(jR,H()({onChange:e.handleOptionChange,checked:e.props.public===t.value},t))};return this.props.editing?w.a.createElement("div",null,w.a.createElement(n,{value:!1,name:"private",label:t.options.private}),w.a.createElement(n,{value:!0,name:"public",label:t.options.public}),this.props.public&&w.a.createElement("div",{className:"ml-20 mt-8"},w.a.createElement(MR,{value:this.props.shareUrl})),this.props.editing&&w.a.createElement("div",{className:"d-f jc-e ai-c mt-16"},w.a.createElement("button",{type:"button",className:"ml-16 NewButton NewButton--blue NewButton--wide NewButton--center",onClick:this.props.toggleEditing,children:"Done"}))):this.renderOverview()}}]),t}(E.PureComponent),jR=function(e){var t=e.value,n=e.name,r=e.label,a=e.checked,i=e.onChange;return w.a.createElement("label",{className:"d-f",htmlFor:"".concat(n,".").concat(t)},w.a.createElement("input",{className:"f-sh-0",checked:a,id:"".concat(n,".").concat(t),name:n,onChange:i,type:"radio",value:t}),w.a.createElement("span",{className:"ml-8 c-brand-gray-darker"},r))},LR=DR,FR={toggleEditing:AT.h.bind(null,"sharing"),onOptionChange:AT.j},BR=Object(le.b)(function(e){var t=e.pathBuilder;return{editing:IT.n(t,"sharing"),isArchived:IT.l(t),shareUrl:Object(me.get)("urls.share")(t),isPublic:t.public,changePublicitySettings:t.permissions.changePublicitySettings}},FR)(function(e){var t=e.editing,n=e.isArchived,r=e.isPublic,a=e.onOptionChange,i=e.shareUrl,o=e.toggleEditing,s=e.changePublicitySettings;return w.a.createElement(on.b,null,w.a.createElement(on.a,{className:"d-f jc-sb"},"Sharing",!n&&!t&&s&&w.a.createElement("button",{type:"button",className:"u-linkBtn fz-base fw-n",onClick:o},w.a.createElement(z.a,{name:"edit",customClass:"mr-4"}),"Edit")),w.a.createElement(LR,{editing:t,toggleEditing:o,public:r,shareUrl:i,onOptionChange:a,typeName:"Path"}))}),UR=function(e){var t=e.icon,n=e.children,r=e.className,a=void 0===r?"":r,i=G()(e,["icon","children","className"]);return w.a.createElement("a",H()({},i,{className:"NewButton NewButton--white NewButton--center undecorated c-brand-gray-darker f-1 "+a}),t&&w.a.createElement(z.a,{name:t,customClass:"mr-4"}),n)},HR=Object(le.b)(function(e){var t=e.pathBuilder;G()(e,["pathBuilder"]);return{pathId:t.id,isArchived:IT.l(t),previewUrl:Object(me.get)("urls.preview",t),userCanManageContent:t.permissions.editPath}})(function(e){var t=e.pathId,n=e.isArchived,r=e.previewUrl,a=e.userCanManageContent;return!!t&&w.a.createElement(on.b,{className:"d-f"},!n&&a&&w.a.createElement(UR,{"data-confirm":"Archiving this path will remove live data from users and the gradebook.",icon:"archive","data-method":"put",href:N.k.PATH_ARCHIVE(t)},"Archive"),n&&a&&w.a.createElement(UR,{icon:"restore","data-method":"put",href:N.k.PATH_RESTORE(t)},"Restore"),r&&w.a.createElement(UR,{className:"ml-8",icon:"preview",href:r},"Preview"))}),qR=r(703),GR=r.n(qR),WR=function(e){return function(t){return{type:he.j.RELATED_URLS[e],mapping:t}}},VR={createMapping:WR("CREATE"),removeMapping:WR("REMOVE")},zR={create:function(e){return C.a.postJSON(N.k.RELATED_URL_MAPPINGS,e)},delete:function(e){return C.a.delete(N.k.RELATED_URL_MAPPING(e.id))}};function YR(e){return function(t,n){var r={relatedUrlId:e.id,contentId:n().pathBuilder.id,contentType:N.i.PATH};zR.create({relatedUrlMapping:r}).then(function(e){t(VR.createMapping(e))})}}function QR(e){return function(t){zR.delete(e).then(function(){t(VR.removeMapping(e))})}}var KR=function(e){var t=e.children,n=e.editing,r=e.onRemove,a=e.removeTooltip;return w.a.createElement("div",{className:"fz-base c-brand-gray-darker mb-4 p-4 ai-c d-f ws-pr jc-sb bdrs-base h-bc-gray-lightest"},w.a.createElement("span",null,t),n&&w.a.createElement("button",{type:"button",className:"u-resetBtn c-brand-gray h-c-gray-darker ml-8",onClick:r},w.a.createElement(z.a,{name:"delete","data-toggle":"tooltip","data-original-title":a})))},XR=function(e){var t=e.suggestionsProps,n=G()(e,["suggestionsProps"]),r=!Object(me.isEmpty)(n.mappings);return w.a.createElement("div",null,n.editing&&w.a.createElement(Tn,H()({placeholder:n.placeholder,className:"NewInput NewInput--light NewInput--fw mb-16",onSuggestionSelected:n.onCreateMapping,filterSuggestions:_n(n.mappings,t.filterKey)},t)),r&&w.a.createElement("div",null,n.mappings.map(function(e){return w.a.createElement(KR,H()({key:e.id,children:n.renderMapping(e),onRemove:function(){return n.onRemoveMapping(e)}},e,n))})),!r&&!n.editing&&w.a.createElement("button",{type:"button",className:"u-linkBtn fz-base fw-n",onClick:n.toggleEditing},w.a.createElement(z.a,{name:"add",customClass:"mr-4"}),n.addButtonText),!n.editing&&w.a.createElement("a",{className:"d-b mt-16 u-linkBtn",href:n.viewMappingsUrl,children:n.viewMappingsText}),n.editing&&w.a.createElement("div",{className:"d-f jc-e ai-c mt-16"},w.a.createElement("button",{type:"button",className:"ml-16 NewButton NewButton--blue NewButton--wide NewButton--center",onClick:n.toggleEditing,children:"Done"})))};var $R=function(e){var t=e.contentMappingProps,n=G()(e,["contentMappingProps"]),r=function(e){var r=e.relatedUrls,a=G()(e,["relatedUrls"]);return w.a.createElement(on.b,null,w.a.createElement(on.a,{className:"d-f jc-sb"},w.a.createElement("span",null,w.a.createElement("span",{className:"mr-4"},n.header),w.a.createElement(Cn,{tooltip:n.headerTooltip})),!a.editing&&w.a.createElement("button",{type:"button",className:"u-linkBtn fz-base fw-n",onClick:a.toggleEditing},w.a.createElement(z.a,{name:"edit",customClass:"mr-4"}),"Edit")),w.a.createElement(XR,GR()({mappings:r,renderMapping:function(e){return e.url},suggestionsProps:{filterKey:"relatedUrl.id"}},a,t)))},a={toggleEditing:AT.h.bind(null,n.UIStateKey),onCreateMapping:YR,onRemoveMapping:QR};return r.displayName="ContentMappingBase(".concat(n.displayName,")"),Object(le.b)(function(e){var t=e.pathBuilder;return{editing:Object(IT.n)(t,n.UIStateKey),relatedUrls:n.mappingsSelector(t)}},a)(r)},ZR=function(e){return w.a.createElement("div",null,e.url,e.metadata&&w.a.createElement("span",{className:"fz-base c-brand-gray-light h-c-gray-darker ml-4"},w.a.createElement(z.a,{name:"code","data-html":"true","data-toggle":"tooltip","data-original-title":e.metadata})))},JR=$R({displayName:"ChromeMappings",mappingsSelector:IT.c,header:"Chrome Extension",headerTooltip:"Only learners who can see this content in the Learning Library will see it in Lessonly for Chrome.",UIStateKey:"chromeExtension",contentMappingProps:{addButtonText:"Add to Chrome Extension",removeTooltip:"Remove Chrome extension Mapping",viewMappingsText:"View all mapped content and URLs",renderMapping:function(e){return ZR(e.relatedUrl)},viewMappingsUrl:N.k.RELATED_URLS,suggestionsProps:{placeholder:"Add a related website's URL",url:N.k.RELATED_URLS_FILTER,queryParam:"url",mapResponseToSuggestions:function(e){return e.matchedUrls},getSuggestionValue:function(e){return e.url},renderSuggestion:function(e){return ZR(e)}}}}),eP=$R({displayName:"WebWidgetMappings",mappingsSelector:IT.u,header:"Web Widget",headerTooltip:"Only learners who can see this content in the Learning Library will see it in the Web Widget.",UIStateKey:"webWidget",contentMappingProps:{addButtonText:"Add to Web Widget",removeTooltip:"Remove Web Widget Mapping",viewMappingsText:"View all mapped content and keywords",viewMappingsUrl:N.k.WEB_WIDGETS,renderMapping:function(e){return e.relatedUrl.name},suggestionsProps:{placeholder:"Add a related keyword",url:N.k.WEB_WIDGETS_FILTER,queryParam:"name",mapResponseToSuggestions:function(e){return e.matchedNames},getSuggestionValue:function(e){return e.name},renderSuggestion:function(e){return e.name}}}}),tP=function(e){var t=e.className,n=void 0===t?"":t,r=G()(e,["className"]);return w.a.createElement("button",H()({type:"button",className:"u-linkBtn fz-base fw-n d-b ".concat(n)},r))},nP=function(e){function n(e){var t;return l()(this,n),(t=f()(this,m()(n).call(this,e))).state={viewImageLibrary:!1},t.handleUploadImage=t.handleUploadImage.bind(v()(t)),t.handleRemoveImage=t.handleRemoveImage.bind(v()(t)),t.handleImageLibrarySelect=t.handleImageLibrarySelect.bind(v()(t)),t.toggleImageLibrary=t.toggleImageLibrary.bind(v()(t)),t}return y()(n,e),d()(n,[{key:"handleUploadImage",value:function(){var e=this,t={content_id:this.props.pathId,content_type:this.props.contentType,image_type:this.props.imageType};Object(Fv.a)(t).then(function(t){e.props.updatePath({image:t})}).catch(function(){})}},{key:"handleRemoveImage",value:function(){var e=this,t={image:{content_id:this.props.pathId,content_type:this.props.contentType,image_type:this.props.imageType}};C.a.delete(N.k.IMAGE(this.props.image.id),t).then(function(){e.props.updatePath({image:null})})}},{key:"toggleImageLibrary",value:function(){this.setState(function(e){return{viewImageLibrary:!e.viewImageLibrary}})}},{key:"handleImageLibrarySelect",value:function(e){var t=this;C.a.post(N.k.ASSOCIATED_IMAGES,{content_id:this.props.pathId,content_type:this.props.contentType,image_type:this.props.imageType,image_id:e.id}).then(function(e){t.props.updatePath({image:e}),t.setState({viewImageLibrary:!1})})}},{key:"render",value:function(){var e=this.props,n=e.isArchived,r=e.image,a=null;return r&&(a=new Sv.a(R()({},Object(S.pick)(r,["signature","policy","handle"]),{transform:{resize:{width:232,height:300,fit:"max"}}}))),w.a.createElement(on.b,null,this.state.viewImageLibrary&&w.a.createElement(qv.a,{onSelect:this.handleImageLibrarySelect,onDismiss:this.toggleImageLibrary}),w.a.createElement(on.a,{className:"d-f jc-sb"},w.a.createElement("span",null,w.a.createElement("span",{className:"mr-4"},"Cover Image"),w.a.createElement(Cn,{tooltip:t("paths.path_builder.cover_image_tooltip")}))),!n&&r?w.a.createElement("div",null,w.a.createElement("img",{src:a.url,alt:r.name}),w.a.createElement(Lv,{image:r,imageType:this.props.imageType,message:"Preview",className:"mr-8"}),w.a.createElement(tP,{className:"pull-right u-linkBtn fz-base fw-n",onClick:this.handleRemoveImage},w.a.createElement(z.a,{name:"delete",customClass:"mr-2"})," Remove")):w.a.createElement("div",null,w.a.createElement(tP,{onClick:this.handleUploadImage},w.a.createElement(z.a,{name:"add",customClass:"mr-2"})," Upload"),this.props.allowImageLibrary&&w.a.createElement(tP,{className:"mt-8",onClick:this.toggleImageLibrary},w.a.createElement(z.a,{name:"add",customClass:"mr-2"})," ",I18n.t("image_library.select_from_library"))))}}]),n}(E.PureComponent),rP={updatePath:AT.i},aP=Object(le.b)(function(e){var t=e.pathBuilder,n=G()(e,["pathBuilder"]);return{image:t.image,pathId:t.id,imageType:n.meta.coverImage.imageType,contentType:n.meta.coverImage.contentType,allowImageLibrary:n.meta.features.allowImageLibrary}},rP)(nP),iP=function(e){function n(){var e,t;l()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return t=f()(this,(e=m()(n)).call.apply(e,[this].concat(a))),i()(v()(t),"state",{selectedWorkspace:t.props.workspace,loading:!1}),i()(v()(t),"handleSubmit",function(e){var n=t.props,r=n.id,a=n.toggleEditing,i=n.updatePath,o=t.state.selectedWorkspace;r?t.setState({loading:!0},function(){C.a.put(N.k.PATH(r),{workspace_id:o.id}).then(function(e){i({workspace:e.workspace}),t.setState({loading:!1},a)})}):(i({workspace:o}),a())}),i()(v()(t),"handleSelectChange",function(e){var n=e.target,r=n.value,a=n.options,i=n.selectedIndex;t.setState({selectedWorkspace:{id:r,name:a[i].dataset.name}})}),t}return y()(n,e),d()(n,[{key:"render",value:function(){var e=this.state.loading,n=this.props,r=n.workspaces,a=n.editing,i=n.isArchived,o=n.workspace,s=n.toggleEditing;return w.a.createElement(on.b,null,w.a.createElement(on.a,{className:"d-f jc-sb"},t("workspaces.workspace"),!i&&!a&&w.a.createElement("button",{type:"button",className:"u-linkBtn fz-base fw-n",onClick:s},w.a.createElement(z.a,{name:"edit",customClass:"mr-4"})," ",t("common.edit"))),!a&&w.a.createElement("div",{className:"c-brand-gray-darker"},o.name),a&&w.a.createElement("div",null,w.a.createElement(Q,{fullWidth:!0,defaultValue:o.id||"",onChange:this.handleSelectChange},r.map(function(e){var t=e.id,n=e.name;return w.a.createElement("option",{key:t||"default",value:t||"","data-name":n},n)})),w.a.createElement("div",{className:"d-f jc-e ai-c mt-8"},w.a.createElement("button",{type:"button",className:"u-linkBtn u-linkBtn--dark td-u",onClick:s,disabled:e},t("common.cancel")),w.a.createElement(nR.a,{loading:e,onClick:this.handleSubmit}))))}}]),n}(E.Component),oP={updatePath:AT.i,toggleEditing:AT.h.bind(null,"workspace")},sP=Object(le.b)(function(e){var t=e.pathBuilder,n=e.meta;return{id:t.id,editing:IT.n(t,"workspace"),isArchived:IT.l(t),workspace:t.workspace,workspaces:n.workspaces}},oP)(iP),cP=Object(le.b)(function(e){var t=e.pathBuilder,n=G()(e,["pathBuilder"]),r=function(e){return Object(Or.j)(n,e)};return{hasCreatedPath:!!t.id,isPublished:!!Object(me.get)("publishedAt.date")(t),hasMultipleWorkspaces:n.meta.workspaces.length>1,features:{addedRoles:r("added_roles"),learningLibrary:r("learning_library"),relatedUrls:r("related_urls"),webWidget:r("web_widget"),overviewImageUpload:r("combined_learner_experience"),workspaces:r("workspaces")},userCanManageContent:t.permissions.editPath}})(function(e){var t=e.hasCreatedPath,n=e.features,r=e.isPublished,a=e.userCanManageContent,i=e.hasMultipleWorkspaces;return w.a.createElement(an,{className:"PathBuilderSidebar"},w.a.createElement(nn.a,{maxHeight:null,hidden:!0},w.a.createElement(HR,null),w.a.createElement(tR.a,null),w.a.createElement(eR,null),t&&a&&w.a.createElement(BR,null),w.a.createElement(iR,null),n.workspaces&&i&&a&&w.a.createElement(sP,null),t&&a&&w.a.createElement(hR,null),t&&n.addedRoles&&a&&w.a.createElement(NR,null),r&&n.learningLibrary&&a&&w.a.createElement(IR,null),r&&n.relatedUrls&&a&&w.a.createElement(JR,null),r&&n.webWidget&&a&&w.a.createElement(eP,null),t&&n.overviewImageUpload&&a&&w.a.createElement(aP,null)))});var lP=function(e){var t=e.children;return w.a.createElement("div",{className:"PathReportingHeader"},t)},uP=function(e){var t=e.children;return w.a.createElement("div",{className:"ReportingBlockGroup"},t)};var dP,pP=function(e){function n(e){var t;return l()(this,n),t=f()(this,m()(n).call(this,e)),i()(v()(t),"nodeRoot",w.a.createRef()),t.state={value:t.props.groupId||"",loading:!0,groups:[]},t.handleChange=t.handleChange.bind(v()(t)),t}return y()(n,e),d()(n,[{key:"componentDidMount",value:function(){this.fetchGroups()}},{key:"fetchGroups",value:function(){var e=this;C.a.get(N.k.GROUPS).then(function(t){var n=t.groups;e.nodeRoot.current&&e.setState({groups:n},function(){e.setState({loading:!1})})})}},{key:"handleChange",value:function(e){var t=function(e){var t;try{t=JSON.parse(e)}catch(e){}return t}(e.target.value);this.setState({value:t}),this.props.onChange(t||null)}},{key:"renderGroups",value:function(){var e=this.state,n=e.loading,r=e.groups;return n?w.a.createElement("option",null,"Loading"):[w.a.createElement("option",{key:"none",value:""},t("groups.select"))].concat(Z()(r.map(function(e){var t=e.id,n=e.name;return w.a.createElement("option",{key:t,value:t},n)})))}},{key:"render",value:function(){var e=this.state,n=e.loading,r=e.groups;return!(!n&&Object(me.isEmpty)(r))&&w.a.createElement("div",{className:"d-f ai-c",ref:this.nodeRoot},w.a.createElement("div",{className:"f-sh-0 mr-8 c-gray-darker"},t("common.filter_by")),w.a.createElement(Q,{value:this.state.value,onChange:this.handleChange,disabled:this.state.loading,className:"w-240",children:this.renderGroups()}))}}]),n}(E.PureComponent),fP=function(e){var t=e.children,n=e.className,r=void 0===n?"":n;return w.a.createElement("div",{className:"ReportingBlock ".concat(r)},t)},hP=function(e){var t=e.children,n=e.title;return w.a.createElement("div",{className:"ReportingBlock-header"},w.a.createElement("div",{className:"ReportingBlock-title"},n),t)},mP=function(e){var t=e.value,n=void 0===t?"–":t,r=e.label,a=e.href,i=a?"a":"span",o=V()("ReportingStat-label",{"ReportingStat-label--linked":!!a});return w.a.createElement("div",{className:"ReportingStat"},w.a.createElement("div",{className:"ReportingStat-value"},n),w.a.createElement(i,{href:a,className:o},r))},gP=function(e){var t=e.children;return w.a.createElement("div",{className:"ReportingStatGroup"},t)},vP=function(e){function t(e){var n;return l()(this,t),(n=f()(this,m()(t).call(this,e))).state={loading:!0,data:null},n.fetchData=n.fetchData.bind(v()(n)),n}return y()(t,e),d()(t,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"componentDidUpdate",value:function(e){e.url===this.props.url&&Object(S.isEqual)(e.params,this.props.params)||this.fetchData()}},{key:"fetchData",value:function(){var e=this;this.setState({loading:!0}),C.a.get(this.props.url,this.props.params).then(function(t){return e.setState({data:t,loading:!1})})}},{key:"render",value:function(){return this.props.children({data:this.state.data,loading:this.state.loading})}}]),t}(w.a.PureComponent),bP=function(e){function t(){return l()(this,t),f()(this,m()(t).apply(this,arguments))}return y()(t,e),d()(t,[{key:"render",value:function(){return w.a.createElement("div",{className:"d-f ai-c jc-c mt-32 fz-bigger"},w.a.createElement("span",{className:"mr-12"},"Assignment Completion Percentage"),w.a.createElement("div",{className:"LearnerReviews-ratioBar m-0 w-150"},w.a.createElement("div",{className:"LearnerReviews-ratio LearnerReviews-ratio--positive",style:{width:this.props.completionPercentage}})),w.a.createElement("span",{className:"ml-8"},this.props.completionPercentage))}}]),t}(w.a.Component),yP=function(e){var t=e.count,n=e.href;return w.a.createElement("div",{className:"d-f ai-c"},w.a.createElement("div",{className:"Pill Pill--smaller Pill--danger f-smooth mr-4"},t),w.a.createElement("a",{className:"c-brand-blue fz-bigger",href:n},"Overdue"))},EP=Object(le.b)(function(e){var t=e.pathBuilder;return{canViewGradingStation:Object(IT.i)(t,"viewGradingStation"),pathId:t.id,groupId:t.reporting.groupId}})(function(e){var t=e.canViewGradingStation,n=e.pathId,r=e.groupId;return w.a.createElement(vP,{url:N.k.PATH_REPORTING.ASSIGNMENTS(n),params:{groupId:r}},function(e){var n=e.data,r=e.loading;return w.a.createElement(fP,null,w.a.createElement(hP,{title:"Assignments"},Object(S.has)(n,"overdue.count")&&0!==n.overdue.count&&w.a.createElement(yP,{count:n.overdue.count,href:n.overdue.url})),r&&w.a.createElement(k.k,null),!r&&w.a.createElement("div",null,w.a.createElement(gP,null,w.a.createElement(mP,{label:"Complete",value:n.completed.count,href:n.completed.url}),w.a.createElement(mP,{label:"Incomplete",value:n.incomplete.count,href:n.incomplete.url}),w.a.createElement(mP,{label:"Steps Awaiting Grade",value:n.awaitingGrade.count,href:t?n.awaitingGrade.url:null})),w.a.createElement(bP,{completionPercentage:n.completionPercentage})))})}),_P=Object(le.b)(function(e){var t=e.pathBuilder;return{pathId:t.id,groupId:t.reporting.groupId}})(function(e){var n=e.pathId,r=e.groupId,a=e.showLearnLanguage;return w.a.createElement(vP,{url:N.k.PATH_REPORTING.LIBRARY(n),params:{groupId:r}},function(e){var n=e.data,r=e.loading;return w.a.createElement(fP,null,w.a.createElement(hP,{title:a?t("learn.self_directed_learning"):t("learning_library.title")},n&&w.a.createElement("a",{className:"fz-bigger c-brand-blue ta-r",href:n.detailsUrl},a?t("learn.self_directed_learning_detail"):t("learning_library.statistics_detail"))),r&&w.a.createElement(k.k,null),!r&&w.a.createElement(gP,null,w.a.createElement(mP,{value:n.totalViews,label:"Total Views"}),w.a.createElement(mP,{value:n.uniqueUserViews,label:"Unique User Views"}),w.a.createElement(mP,{value:n.completions,label:"Completions"})))})}),wP=function(e){e.className;var t=G()(e,["className"]);return w.a.createElement("span",H()({className:"ContentPerformanceFigure"},t))},SP=function(e){e.children,e.features;return w.a.createElement("div",{className:"ContentPerformanceFigures ContentPerformanceFigures--header"},w.a.createElement(wP,null,"Total Complete"),w.a.createElement(wP,null,"Average Score"))},kP=function(){return w.a.createElement("div",{className:"d-f jc-sb pb-16 bb-gray-lighter"},w.a.createElement("div",{className:"fz-lg"},"Lessons"),w.a.createElement(SP,null))},CP=function(){return w.a.createElement("span",{className:"c-brand-gray-light"},"–")},NP=function(e){var t=e.value,n=(e.name,e.render),r=void 0===n?me.identity:n;return w.a.createElement("div",{className:"ContentPerformanceFigure"},Object(me.isNumber)(t)?r(t):w.a.createElement(CP,null))},OP=Object(le.b)(function(e,t){var n=e.pathBuilder;return{value:Object(me.get)("performance.pathContents[".concat(t.for,"].").concat(t.name),n.reporting)}})(NP),xP=function(e){return e.value?w.a.createElement(NP,e):w.a.createElement(OP,e)},TP=function(e){return w.a.createElement("div",{className:"ContentPerformanceFigures"},w.a.createElement(xP,{name:"finished",for:e.for,value:e.finished}),w.a.createElement(xP,{name:"score",for:e.for,value:e.score,render:function(e){return"".concat(e,"%")}}))},RP=function(e){var t=e.step;return w.a.createElement("div",{className:"PerformanceContent-stepNumber"},t)},PP=function(e){return e&&e.id},IP=function(e){return w.a.createElement("a",H()({className:"c-brand-blue"},e))},AP=function(e){var t=e.title,n=e.parent,r=e.url;return w.a.createElement("div",null,PP(n)&&w.a.createElement(IP,{href:n.urls.overview},n.title),PP(n)&&w.a.createElement(z.a,{name:"chevron_right",customClass:"fz-sm c-brand-gray-light ml-8 mr-8"}),w.a.createElement(IP,{href:r},t))},MP=function(e){var t=e.title,n=e.type,r=e.urls,a=void 0===r?{}:r,i=e.pathId,o=e.parent;return w.a.createElement("div",{className:"PerformanceContent-title"},n===N.i.PATH&&w.a.createElement(z.a,{name:"path",customClass:"PerformanceContent-icon"}),n===N.i.PATH&&w.a.createElement(AP,{title:t,url:a.overview,parent:o}),n===N.i.LESSON&&w.a.createElement(AP,{title:t,url:Object(gs.b)(a.overview,{path_id:i},{merge:!0}),parent:o}))},DP=function(e){var t=e.title,n=e.urls,r=e.stepNumber,a=e.pathContentId,i=e.type,o=e.pathId;return w.a.createElement("div",{className:"PerformanceContent d-f jc-sb"},w.a.createElement(RP,{step:r}),w.a.createElement(MP,{title:t,urls:n,type:i,pathId:o}),w.a.createElement(TP,{for:a}))},jP=Object(le.b)(function(){var e=IT.f();return function(t,n){return{stepNumber:e(t.pathBuilder,n)}}})(DP),LP=r(174),FP=function(){return{}},BP=["id","title","urls"],UP=function(){function e(t){if(l()(this,e),this.pathData=t.pathData,this.pathComponent=t.pathComponent,this.groupComponent=t.groupComponent,this.stepPosition=t.startingPosition||1,this.getEmptyPathProps=t.getEmptyPathProps||FP,this.renderedFirstLevelPath=!1,this.descriptionVisibilityCache=[],this.renderPathContents=this.renderPathContents.bind(this),this.renderHeaders=Object(LP.a)(t.renderHeaders,!0),this.autoRender=Object(LP.a)(this.autoRender,!0),this.autoRender)return this.render()}return d()(e,[{key:"getDescriptionVisibility",value:function(e){return!this.descriptionVisibilityCache.includes(e)&&(this.descriptionVisibilityCache.push(e),!0)}},{key:"getIncrementalStepPosition",value:function(){return this.stepPosition++}},{key:"isRenderingFirstLevelPath",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.pathData.id===e;return t&&n&&(this.renderedFirstLevelPath=!0),n}},{key:"shouldRenderAsSubPath",value:function(e){return!(!this.renderedFirstLevelPath&&this.isRenderingFirstLevelPath(e))}},{key:"processSteps",value:function(e){var t=this;return Array.isArray(e)?e.reduce(function(e,n){return r=n.type,[N.i.WAITSTEP,N.i.PLACEHOLDER].includes(r)?e:(n.stepNumber=t.getIncrementalStepPosition(),e.concat(n));var r},[]):e}},{key:"renderPath",value:function(e,t){var n=e.id,r=G()(e,["id"]),a=this.shouldRenderAsSubPath(n);return Object(E.createElement)(this.pathComponent,R()({id:n},r,{key:t?Object(me.uniqueId)("".concat(n,".of.").concat(t.id,"$")):Object(me.uniqueId)(n+"$"),parent:Object(me.pick)(BP,t),subPath:a,options:a?null:r.options,contents:this.processSteps(r.contents),description:this.getDescriptionVisibility(n)?r.description:null}))}},{key:"renderPathContents",value:function(){var e,t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.pathData,r=n.contents.reduce(function(e,t,n){return t.type===N.i.PATH&&e.push(n),e},[]);return n.contents.reduce(function(a,i,o){if(r[0]===o){r.shift(),t.renderHeaders&&0===o&&a.push(t.renderPath(R()({},n,{contents:[],asHeader:!0}))),Object(me.some)({type:N.i.PATH})(i.contents)?a.push(t.renderPathContents(i)):(Object(me.isEmpty)(i.contents)&&(i=Object(me.assign)(i,t.getEmptyPathProps(i))),a.push(t.renderPath(i,n)))}else{e=Object(LP.a)(e,o);var s=o+1;if(Object(me.isEmpty)(r)||s===r[0]){if(Object(me.isEmpty)(r)&&n.contents[s])return a;var c,l=n.contents.slice(e,s);e=void 0,t.isRenderingFirstLevelPath(n.id,!1)||(c=t.pathData),a.push(t.renderPath(R()({},n,{contents:l}),c))}}return a},[])}},{key:"renderPathWithoutContents",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.pathData;return e=Object(me.assign)(e,this.getEmptyPathProps(e)),this.renderPath(e)}},{key:"render",value:function(){var e;return e=Object(me.isEmpty)(this.pathData.contents)?this.renderPathWithoutContents():this.renderPathContents(),Object(E.createElement)(this.groupComponent,{key:this.pathData.id,grouped:e.length>1,children:e})}}]),e}(),HP=function(e){var t=e.title,n=e.urls,r=e.type,a=e.parent,i=e.contents,o=e.pathContentId;return w.a.createElement("div",{className:"PerformanceContent"},w.a.createElement("div",{className:"d-f jc-sb"},w.a.createElement(MP,{title:t,parent:a,urls:n,type:r}),w.a.createElement(TP,{for:o})),w.a.createElement("div",{className:"PerformanceContent-contents"},i.map(function(e){return w.a.createElement(DP,H()({key:e.id},e))})))},qP=Object(le.b)(function(){var e=IT.f();return function(t,n){return{stepNumber:e(t.pathBuilder,n)}}})(function(e){return new UP({groupComponent:function(e){var t=e.children;return w.a.createElement("div",null,t)},pathComponent:HP,startingPosition:e.stepNumber,renderHeaders:!1,pathData:e})}),GP=(dP={},i()(dP,N.i.LESSON,jP),i()(dP,N.i.PATH,qP),dP),WP=function(e){var t=GP[e.type];return Object(Xe.a)("function"==typeof t,'Expected content type to be one of "'.concat(Object.keys(GP),'"')+' but instead received "'.concat(e.type,'"')),w.a.createElement(t,H()({key:e.id},e))},VP=Object(le.b)(function(e){var t=e.pathBuilder;return{totalLessons:Object(IT.s)(t),totalScore:Object(S.get)(t.reporting,"performance.score"),totalComplete:Object(S.get)(t.reporting,"performance.totalCompleted"),contents:t.contents}})(function(e){var t=e.totalLessons,n=e.totalScore,r=e.totalComplete,a=e.contents;return w.a.createElement("div",null,w.a.createElement(kP,null),w.a.createElement("div",{className:"d-f jc-sb mt-16"},w.a.createElement("div",{className:"fz-bigger"},t>1&&"All"," ",Object(Ne.e)(t,"Lesson")),w.a.createElement(TP,{score:n,finished:r})),a.filter(function(e){return e.type!==N.i.WAITSTEP}).map(WP))}),zP=Object(le.b)(function(e){e.pathBuilder;return{}})(function(e){var t=e.loading;return w.a.createElement(fP,null,w.a.createElement(hP,{title:"Path Performance"}),t?w.a.createElement(k.k,null):w.a.createElement(VP,null))}),YP=Object(le.b)(function(e){return{gradebookUrl:e.pathBuilder.urls.gradebook}})(function(e){var t=e.gradebookUrl;return w.a.createElement("a",{className:"NewButton NewButton--white NewButton--center undecorated c-brand-gray-darker",href:t},w.a.createElement(z.a,{name:"table",customClass:"mr-8 c-brand-gray-dark"}),"View Gradebook")}),QP=function(e){function t(){var e;return l()(this,t),(e=f()(this,m()(t).call(this))).handleButtonClick=e.handleButtonClick.bind(v()(e)),e.handleAssignmentCreated=e.handleAssignmentCreated.bind(v()(e)),e}return y()(t,e),d()(t,[{key:"componentDidMount",value:function(){pubsub.subscribe(N.d.ASSIGNMENT_CREATED,this.handleAssignmentCreated)}},{key:"componentWillUnmount",value:function(){pubsub.unsubscribe(N.d.ASSIGNMENT_CREATED,this.handleAssignmentCreated)}},{key:"handleAssignmentCreated",value:function(e){var t={id:this.props.pathId,type:N.i.PATH};!!Object(me.find)(t)(e.content)&&this.props.onAssign()}},{key:"handleButtonClick",value:function(){pubsub.publish(N.d.ASSIGN_MODAL_TOGGLE)}},{key:"render",value:function(){return w.a.createElement("div",{className:"ReportingAssignView"},w.a.createElement("span",{className:"ReportingAssignView-title"},"Ready to assign this Path?"),w.a.createElement("p",{className:"ReportingAssignView-description"},"When you’re comfortable with your Path’s content, you can assign it to teammates."),w.a.createElement("button",{type:"button",children:"Assign",className:"NewButton NewButton--tallAndWide NewButton--yellow",onClick:this.handleButtonClick}))}}]),t}(E.Component),KP=Object(le.b)(function(e){return{pathId:e.pathBuilder.id}})(QP),XP=Object(le.b)(function(e){return{pathId:e.pathBuilder.id}})(function(e){var t=e.pathId;return w.a.createElement(vP,{url:N.k.PATH_REPORTING.ANCESTORS(t)},function(e){var t=e.data,n=e.loading;return w.a.createElement(fP,{className:"mh-a"},w.a.createElement(hP,{title:"Included in Paths"}),n&&w.a.createElement(k.k,null),!n&&t.ancestorPaths.map(function(e){return w.a.createElement("div",{className:"mt-16",key:e.id},w.a.createElement(z.a,{name:"path",customClass:"PerformanceContent-icon"}),w.a.createElement("a",{className:"c-brand-blue fz-bigger",href:N.k.PATH(e.id)},e.title))}))})}),$P=function(e){function t(){var e;return l()(this,t),(e=f()(this,m()(t).call(this))).handleGroupChange=e.handleGroupChange.bind(v()(e)),e}return y()(t,e),d()(t,[{key:"componentDidMount",value:function(){var e=this.props.groupId;e&&this.props.setGroup(e),this.props.fetchData(e)}},{key:"handleGroupChange",value:function(e){this.props.setGroup(e),this.props.fetchData(e)}},{key:"render",value:function(){var e=this.props,t=e.groupId,n=e.loading,r=e.canViewGradebook,a=e.viewAssign,i=e.viewGroupFilter,o=e.viewLibraryStats,s=e.viewActivity,c=e.canViewAncestors;return w.a.createElement("div",{className:"PathReporting mt-48"},a&&w.a.createElement(KP,{onAssign:function(){return window.location.reload()}}),w.a.createElement(lP,null,i&&w.a.createElement(pP,{groupId:t,onChange:this.handleGroupChange}),r&&w.a.createElement(YP,null)),w.a.createElement(uP,null,s&&w.a.createElement(EP,null),o&&w.a.createElement(_P,{showLearnLanguage:this.props.showLearnLanguage}),w.a.createElement(zP,{loading:n}),c&&w.a.createElement(XP,null)))}}]),t}(E.PureComponent),ZP={setGroup:function(e){var t=e?{groupId:e}:{};return Object(gs.c)(t),{type:he.j.REPORTING.SET_GROUP,id:e}},fetchData:function(e){return function(t,n){var r=n().pathBuilder.id;t(Object(OR.requestReportingData)()),C.a.get(function(e,t){var n=t?{groupId:t}:{};return Object(gs.b)(N.k.PATH_REPORTING.INDEX(e),n)}(r,e)).then(function(e){t(Object(OR.requestReportingDataSuccess)(e))})}}},JP=Object(le.b)(function(e){var t=e.pathBuilder,n=G()(e,["pathBuilder"]);return{groupId:t.reporting.groupId,loading:Object(me.getOr)(!0,"loading")(t.reporting),canViewGradebook:Object(IT.i)(t,"viewGradebook"),viewAssign:Object(IT.i)(t,"viewAssign"),viewGroupFilter:Object(IT.i)(t,"viewGroupFilter"),viewLibraryStats:Object(IT.i)(t,"viewLibraryStats"),viewActivity:Object(IT.i)(t,"viewActivity"),canViewAncestors:Object(IT.i)(t,"viewAncestors"),showLearnLanguage:Object(Or.j)(n,"combined_learner_experience")}},ZP)($P),eI=function(e){var t=e.description,n=e.icon,r=e.onClick,a=e.title,i=e.value;return w.a.createElement("button",{type:"button",className:"EmptyStateAction u-resetBtn",onClick:r,value:i},w.a.createElement(z.a,{name:n,customClass:"EmptyStateAction-icon"}),w.a.createElement("h4",{className:"EmptyStateAction-title"},a),w.a.createElement("p",{className:"EmptyStateAction-description"},t))},tI=r(54),nI={lesson:{label:"Lesson",icon:"lesson",value:N.i.LESSON},path:{label:"Path",icon:"path",value:N.i.PATH},placeholder:{label:"Placeholder",icon:"placeholder",value:N.i.PLACEHOLDER},waitStep:{label:"Wait Step",icon:"waitstep",value:N.i.WAITSTEP}},rI={lesson:{icon:"lesson",value:N.i.LESSON,title:"Add a Lesson",description:"Combine related Lessons and optional Wait Steps to build a Path for Learners to completed over time."},path:{icon:"path",value:N.i.PATH,title:"Add a Path",description:"Embed existing Paths within this Path to easily create long-term learning programs."},placeholder:{icon:"placeholder",value:N.i.PLACEHOLDER,title:"Add a Placeholder",description:"Save a spot for content that hasn’t been created yet with Placeholder Steps."}},aI=Object(le.b)(function(e){var t=e.pathBuilder,n=G()(e,["pathBuilder"]);return{isPublished:!!Object(me.get)("publishedAt.date")(t),features:{advancedPaths:Object(Or.j)(n,"advanced_paths")}}},function(e){return{addNewContent:function(t){e(tI.a(t,1))}}})(function(e){var t,n,r,a,i,o,s=e.addNewContent,c=G()(e,["addNewContent"]);return w.a.createElement("div",{className:"PathBlankView"},(t=c,n=t.features,r=t.isPublished,a=rI.path,i=rI.placeholder,o=[rI.lesson],n.advancedPaths&&o.push(a),r||o.push(i),o).map(function(e){return w.a.createElement(eI,H()({},e,{onClick:function(){return s(e.value)},key:e.value}))}))}),iI=function(e){var t=e.onClick,n=e.value,r=e.icon,a=e.label;return w.a.createElement(jf,{onClick:function(e){e.stopPropagation(),t(n)}},w.a.createElement(z.a,{name:r}),a)},oI=function(e){var t=e.visible,n=e.onItemClick,r=e.style,a=e.options,i=e.setRef;return t&&w.a.createElement(Af,H()({},{dark:!0,dynamic:!0,animation:"slideIn"},{style:r,ref:function(e){return i(e,"menu")}}),a.map(function(e,t){return Object(S.isNull)(e)?w.a.createElement("hr",{key:"menu.divider."+t}):w.a.createElement(iI,H()({},e,{key:e.value,onClick:n}))}))},sI=function(e){function t(e){var n;return l()(this,t),(n=f()(this,m()(t).call(this,e))).state={active:!1,menuStyle:{}},n.showMenu=n.showMenu.bind(v()(n)),n.closeMenu=n.closeMenu.bind(v()(n)),n.handleItemClick=n.handleItemClick.bind(v()(n)),n.setRef=n.setRef.bind(v()(n)),n}return y()(t,e),d()(t,[{key:"handleItemClick",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this.setState({active:!1},function(){var t;(t=e.props).onActionClick.apply(t,n),e.closeMenu(null,!0)})}},{key:"showMenu",value:function(e){var t=this;e.persist(),this.state.active?e.target!==this.menu.refs.menu&&this.updateMenuPosition(e):this.setState({active:!0},function(){t.updateMenuPosition(e),window.addEventListener("click",t.closeMenu)})}},{key:"closeMenu",value:function(e,t){var n=this;!t&&this.container.contains(e.target)||this.setState({active:!1},function(){n.resetPosition(),window.removeEventListener("click",n.closeMenu)})}},{key:"updateMenuPosition",value:function(e){var t=e.clientX,n=e.clientY,r=this.menu.refs.menu,a=this.container.getBoundingClientRect(),i={};i.top=n-a.top+10,i.right=Math.max(0,a.right-t-r.offsetWidth+30),window.innerWidth<1335&&0===i.right&&(i.right+=110,i.top=10),window.innerHeight-n<r.offsetHeight&&n>r.offsetHeight&&(i.bottom=a.bottom-n-10,delete i.top),this.setMenuPosition(i)}},{key:"setMenuPosition",value:function(e){var t=e.top,n=e.right,r=e.bottom;this.setState({menuStyle:{top:t&&"".concat(t,"px"),right:n&&"".concat(n,"px"),bottom:r&&"".concat(r,"px")}})}},{key:"resetPosition",value:function(){this.setState({menuStyle:null})}},{key:"setRef",value:function(e,t){this[t]=e}},{key:"render",value:function(){var e=this,t=V()("AdjacentAction",{"is-active":this.props.active||this.state.active});return w.a.createElement("div",{className:t,onClick:this.showMenu,ref:function(t){return t&&e.setRef(t,"container")}},w.a.createElement("div",{className:"AdjacentAction-rule"}),w.a.createElement("div",{className:"AdjacentAction-label"},w.a.createElement("div",{className:"AdjacentAction-labelText"},this.props.label),w.a.createElement("div",{className:"AdjacentAction-icon"},w.a.createElement(z.a,{name:this.props.icon,stabilize:!1}))),w.a.createElement(oI,{onItemClick:this.handleItemClick,options:this.props.options,setRef:this.setRef,style:this.state.menuStyle,visible:this.state.active}))}}]),t}(E.Component),cI={drop:function(e,t,n){var r=e.position;return{newPosition:r<t.getItem().position?r:r-1}},canDrop:function(e,t,n){var r=e.position,a=t.getItem().position,i=Object(me.negate)(Object(me.isEqual)(r));return[a,a+1].every(i)}},lI=Object(Zu.DropTarget)([ih.a.PATH_STEP],cI,function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver(),canDrop:t.canDrop()}}),uI=function(e){var t=nI.path,n=nI.placeholder,r=nI.waitStep,a=[nI.lesson];return e.features.advancedPaths&&a.push(t),e.isPublished||a.push(n),e.features.advancedPaths&&a.push(null,r),a},dI=Object(ue.d)(Object(le.b)(function(){return function(e){var t=e.pathBuilder,n=G()(e,["pathBuilder"]);return{isPublished:!!Object(me.get)("publishedAt.date")(t),editingMode:IT.q.isEdit(t),features:{advancedPaths:Object(Or.j)(n,"advanced_paths")}}}},function(e,t){var n=t.position;return{add:function(t){return e(tI.a(t,n))}}}),lI)(function(e){var t=e.add,n=e.connectDropTarget,r=e.editingMode,a=e.canDrop,i=e.isOver,o=a&&i;return w.a.createElement("div",{className:"PathAdjacentAction"},r&&w.a.createElement(sI,{icon:"add",label:o?"Move Step Here":"Add Step",options:uI(e),onActionClick:t,active:o,ref:function(e){var t=Object(Ca.findDOMNode)(e);n(t)}}))}),pI=r(331),fI=r(333),hI=function(e){var t=e.children,n=e.grouped,r=V()("PathContentGroup",{"PathContentGroup--grouped":n});return w.a.createElement("div",{className:r},t)},mI=r(209),gI={days:"Day",weeks:"Week",months:"Month"},vI=function(e){var t=e.amount,n=e.unit;return w.a.createElement("div",{className:"ml-8 p-4-8 fz-sm c-gray-darker bdrs-base bg-gray-light f-smooth fw-b f-sh-0"},"Due in ",Object(Ne.e)(t,gI[n]))},bI=function(e){var t=e.title,n=e.parent,r=void 0===n?{}:n;return w.a.createElement("div",{className:"PathContent-title"},r.title&&w.a.createElement("span",null,r.title),r.title&&w.a.createElement(z.a,{name:"chevron_right",customClass:"fz-sm c-brand-gray-light ml-8 mr-8"}),w.a.createElement("span",null,t))},yI=function(e){var t=e.title,n=e.type,r=e.parent;return w.a.createElement("div",{className:"f-smooth d-f"},n===N.i.PATH&&w.a.createElement(z.a,{name:"path",customClass:"PathContent-icon"}),w.a.createElement(bI,{title:t,parent:r}))},EI=Object(le.b)(function(e){var t=e.pathBuilder,n=G()(e,["pathBuilder"]);return{editingMode:IT.q.isEdit(t),features:{dueDatesOnPathSteps:Object(Or.j)(n,"due_dates_on_path_steps")}}})(function(e){var t=e.type,n=e.title,r=e.options,a=e.editingMode,i=e.features,o=e.isEditing,s=e.onSave,c=e.onCancel,l=e.dueIn,u=e.savingDisabled,d=e.toggleEditingDueDate,p=e.parent,f=e.subPath,h=t===N.i.LESSON||t===N.i.PATH&&!f&&i.dueDatesOnPathSteps;return w.a.createElement("div",{className:"PathContent-header ai-fs"},w.a.createElement(yI,{parent:p,title:n,type:t}),w.a.createElement("div",{className:"ml-16 d-f ai-c mt-4"},!o&&l&&w.a.createElement(vI,l),o&&function(e){var t=e.onCancel,n=e.onSave,r=e.savingDisabled;return[w.a.createElement("button",{type:"button",className:"u-linkBtn u-linkBtn--dark td-u",children:"Cancel",key:"cancel",onClick:t}),w.a.createElement("button",{type:"button",className:"NewButton NewButton--blue NewButton--wide ml-16",disabled:r,onClick:n,key:"done",children:"Done"})]}({onSave:s,onCancel:c,savingDisabled:u}),a&&!l&&!o&&h&&Object(we.b)({text:"Add Due Date",className:"fz-base"})(w.a.createElement(z.a,{name:"calendar_add",customClass:"fz-20 c-brand-gray h-c-gray-darker c-p",onClick:d})),a&&!o&&r&&w.a.createElement(mI.a,{options:r})))}),_I=function(e){var t=e.description;return w.a.createElement("p",{className:"PathContent-description"},t)},wI=function(e){var t=e.description,n=G()(e,["description"]);return w.a.createElement("div",{className:"PathContent"},w.a.createElement(EI,n),t&&w.a.createElement("div",{className:"PathContent-body"},w.a.createElement(_I,{description:t})))},SI={inOrder:"Steps must be taken in order",anyOrder:"Steps can be taken in any order"},kI=function(e){var t=e.enforcedOrder,n=void 0!==t&&t;return w.a.createElement("div",{className:"PathContent-stepOrder fz-bigger c-gray-darker mb-8"},SI[n?"inOrder":"anyOrder"])},CI=function(e){var t=e.contents,n=e.children;return w.a.createElement("div",{className:"PathContentSteps"},t.map(n))},NI=function(e){var t=e.children,n=e.message,r=(e.icon,e.marginTop),a=V()("bg-yellow-light p-4-8 fz-sm bdrs-base d-ib c-brand-gray-darkest",{"mt-16":r});return w.a.createElement("span",{className:a},w.a.createElement(z.a,{name:"warning_sign",customClass:"mr-4"}),w.a.createElement("span",null,n||t))};NI.defaultProps={icon:"warning_sign",marginTop:!1};var OI,xI=NI,TI=function(e){return w.a.createElement("div",{className:"PathContentSubStep"},w.a.createElement("div",{className:"PathContentSubStep-title d-f"},w.a.createElement(z.a,{name:"lesson",customClass:"PathContentSubStep-icon f-sh-0"}),w.a.createElement("span",{className:"PathContentSubStep-title f-smooth"},e.title)),e.dueIn&&w.a.createElement(vI,e.dueIn),e.stepNumber&&w.a.createElement("div",{className:"PathContentStep PathContentStep--innerStep"},e.stepNumber))},RI=function(e){var t=e.on,n=e.children;return!!t&&(n.length>1?w.a.createElement("div",null,n):n)},PI=function(e){return V()("PathContent",{"PathContent--subContent":e.subPath,"PathContent--disabled":e.warning})},II=function(e){return w.a.createElement("div",{className:PI(e)},w.a.createElement(EI,e),w.a.createElement("div",{className:"PathContent-body"},w.a.createElement(RI,{on:e.description},w.a.createElement(_I,{description:e.description})),w.a.createElement(RI,{on:!e.loading},w.a.createElement(RI,{on:!e.warning},w.a.createElement(kI,{enforcedOrder:e.enforcedOrder})),w.a.createElement(RI,{on:e.warning},w.a.createElement(xI,{message:e.warning})),w.a.createElement(RI,{on:!Object(S.isEmpty)(e.contents)},w.a.createElement(CI,{contents:e.contents},function(e){return w.a.createElement(TI,H()({key:e.id},e))}))),w.a.createElement(RI,{on:e.loading},w.a.createElement(k.k,null),w.a.createElement("span",{className:"ml-8 c-brand-gray-darker"},"Loading..."))))},AI=(OI={},i()(OI,N.i.LESSON,wI),i()(OI,N.i.PATH,function(e){return new UP({pathComponent:II,groupComponent:hI,startingPosition:e.stepNumber,pathData:e,getEmptyPathProps:function(e){return!e.loading&&{warning:"This embedded Path contains no Lessons and will not be visible to Learners."}}})}),OI),MI=function(e){function t(){return l()(this,t),f()(this,m()(t).apply(this,arguments))}return y()(t,e),d()(t,[{key:"componentDidMount",value:function(){this.props.type!==N.i.PATH||this.hasContents()||this.props.fetchContents()}},{key:"hasContents",value:function(){return!Object(me.isEmpty)(this.props.contents)}},{key:"render",value:function(){return Object(E.createElement)(AI[this.props.type],this.props)}}]),t}(E.Component),DI=function(e){function t(e){var n;return l()(this,t),(n=f()(this,m()(t).call(this,e))).state={unit:e.defaultUnit,amount:e.defaultAmount},n.updateField=n.updateField.bind(v()(n)),n.saveChanges=n.saveChanges.bind(v()(n)),n.cancelChanges=n.cancelChanges.bind(v()(n)),n.removeDueDate=n.removeDueDate.bind(v()(n)),n}return y()(t,e),d()(t,[{key:"updateField",value:function(e){var t=e.target,n=t.value,r=t.type,a=t.name;this.setState(i()({},a,"number"===r?parseInt(n,10):n))}},{key:"saveChanges",value:function(){this.props.updateContent({dueIn:this.state}),this.props.toggleEditingDueDate()}},{key:"cancelChanges",value:function(){this.props.toggleEditingDueDate()}},{key:"removeDueDate",value:function(){this.props.updateContent({dueIn:null}),this.props.toggleEditingDueDate()}},{key:"render",value:function(){var e=this.state,n=e.unit,r=e.amount,a=t.humanValues,i=w.a.createElement("input",{className:"NewInput NewInput--white w-60 mt-8 pr-0",ref:function(e){e&&e.focus()},min:"1",name:"amount",onChange:this.updateField,type:"number",value:r||""}),o=w.a.createElement(Q,{className:"mr-4",name:"unit",value:n,onChange:this.updateField},w.a.createElement("option",{value:"days"},a.unit.days),w.a.createElement("option",{value:"weeks"},a.unit.weeks),w.a.createElement("option",{value:"months"},a.unit.months));return w.a.createElement("div",{className:"PathContent"},w.a.createElement(EI,H()({},this.props,{onSave:this.saveChanges,onCancel:this.cancelChanges,savingDisabled:!this.state.amount,isEditing:!0})),w.a.createElement("div",{className:"PathContent-body"},w.a.createElement("div",{className:"fz-base c-brand-gray-darker"},"Due Date (optional)"),w.a.createElement("div",{className:"c-brand-gray-darker"},i," ",o," after the step becomes available"),this.props.defaultAmount&&w.a.createElement("button",{type:"button",className:"u-linkBtn mt-16",onClick:this.removeDueDate},"No Due Date")))}}]),t}(E.Component);i()(DI,"humanValues",{unit:{days:"days",weeks:"weeks",months:"months"}}),i()(DI,"defaultProps",{defaultUnit:"days"});var jI=DI,LI=r(211),FI=function(e){function t(){var e;return l()(this,t),(e=f()(this,m()(t).call(this))).onContentPickerChange=e.onContentPickerChange.bind(v()(e)),e.getOptions=e.getOptions.bind(v()(e)),e}return y()(t,e),d()(t,[{key:"getOptions",value:function(){var e=[{label:"Delete",icon:"delete",onClick:this.props.remove},{label:"Edit Selection",icon:"edit",onClick:this.props.toggleEditing}];return this.props.dueIn&&e.push({label:"Edit Due Date",icon:"calendar_empty",onClick:this.props.toggleEditingDueDate}),e}},{key:"onContentPickerChange",value:function(e){this.props.update(Object(me.omit)(["meta"],e)),this.props.toggleEditing(),this.props.justAdded&&this.props.persist(e.id,e.type)}},{key:"render",value:function(){var e=this.props,t=e.id,n=e.type,r=e.position,a=e.viewState,i=e.stepNumber,o=G()(e,["id","type","position","viewState","stepNumber"]),s={id:t,type:n,position:r,stepNumber:i};return w.a.createElement(LI.a,H()({},s,{showStep:n!==N.i.PATH}),"editing"===a&&w.a.createElement(fI.a,{type:n,pathId:o.pathId,title:"Select a ".concat(Object(pI.a)(n)),onChange:this.onContentPickerChange,onCancel:this.props.cancelEditing}),"normal"===a&&w.a.createElement(MI,H()({},this.props,{options:this.getOptions()})),"dueDate"===a&&w.a.createElement(jI,H()({},this.props,{defaultAmount:Object(me.get)("amount",o.dueIn),defaultUnit:Object(me.get)("unit",o.dueIn),updateContent:o.update,toggleEditingDueDate:o.toggleEditingDueDate})))}}]),t}(E.PureComponent),BI=Object(le.b)(function(){var e=IT.o(),t=IT.f(),n=IT.d(),r=IT.p();return function(a,i){return{viewState:n(a.pathBuilder,i),justAdded:e(a.pathBuilder,i),stepNumber:t(a.pathBuilder,i),pathId:a.pathBuilder.id,loading:r(a.pathBuilder,i)}}},function(e,t){var n=t.id,r=t.type,a=(t.position,t.justAdded);return{update:function(t){return e(tI.j(n,r,t))},persist:function(t,n){return e(tI.d(t,n))},remove:function(){return e(tI.e(n,r))},toggleEditing:function(){return e(tI.i(n,r))},toggleEditingDueDate:function(){return e(tI.i(n,r,"dueDate"))},cancelEditing:function(){return e(tI.b(n,r,a))},fetchContents:function(){return e(tI.c(n,r))}}})(FI),UI=function(e){function t(e){var n;return l()(this,t),(n=f()(this,m()(t).call(this,e))).state={effect:e.effect,unit:e.unit,amount:e.amount,condition:e.condition},n.getOptions=n.getOptions.bind(v()(n)),n.updateField=n.updateField.bind(v()(n)),n.saveChanges=n.saveChanges.bind(v()(n)),n}return y()(t,e),d()(t,[{key:"UNSAFE_componentWillReceiveProps",value:function(e){this.setState({effect:e.effect,unit:e.unit,amount:e.amount,condition:e.condition})}},{key:"updateField",value:function(e){var t=e.target,n=t.value,r=t.type,a=t.name;this.setState(i()({},a,"number"===r?parseInt(n,10):n))}},{key:"saveChanges",value:function(){this.props.update(this.state),this.props.toggleEditing(),this.props.justAdded&&this.props.persist()}},{key:"getOptions",value:function(){return[{label:"Delete",icon:"delete",onClick:this.props.remove},{label:"Edit",icon:"edit",onClick:this.props.toggleEditing}]}},{key:"getTextualSummary",value:function(){var e=this.state,n=t.humanValues;return{condition:n.condition[e.condition],effect:n.effect[e.effect],amountAndUnit:"".concat(e.amount," ").concat(Object(Ne.d)(e.amount,e.unit.slice(0,-1)))}}},{key:"setAmountInputRef",value:function(e){e&&e.focus()}},{key:"render",value:function(){var e,n=this.props,r=n.id,a=n.type,i=n.position,o=n.viewState,s=n.editingMode,c=n.validation,l=this.state,u=l.effect,d=l.unit,p=l.amount,f=l.condition,h=t.humanValues;"normal"===o&&(e=this.getTextualSummary());var m=w.a.createElement(Q,{className:"ml-4 mr-4",name:"effect",value:u,onChange:this.updateField},w.a.createElement("option",{value:"locked"},h.effect.locked),w.a.createElement("option",{value:"hidden"},h.effect.hidden)),g=w.a.createElement("input",{className:"NewInput NewInput--white w-60 mt-8 pr-0",ref:this.setAmountInputRef,min:"1",name:"amount",onChange:this.updateField,type:"number",value:p||""}),v=w.a.createElement(Q,{className:"mr-4",name:"unit",value:d,onChange:this.updateField},w.a.createElement("option",{value:"days"},h.unit.days),w.a.createElement("option",{value:"weeks"},h.unit.weeks),w.a.createElement("option",{value:"months"},h.unit.months)),b=w.a.createElement(Q,{className:"ml-4",name:"condition",value:f,onChange:this.updateField},w.a.createElement("option",{value:"prevStepFinished"},h.condition.prevStepFinished),w.a.createElement("option",{value:"pathAssigned"},h.condition.pathAssigned)),y=function(e){var t=e.children;return w.a.createElement("b",{className:"c-brand-gray-darkest"},t)};return w.a.createElement(LI.a,H()({id:r,type:a,position:i},{showStep:!1}),w.a.createElement("div",{className:"PathContent WaitStep"},w.a.createElement("div",{className:"PathContent-header"},w.a.createElement("div",{className:"PathContent-title"},w.a.createElement(z.a,{name:"waitstep",customClass:"PathContent-icon"}),w.a.createElement("span",{className:"normal"===o&&c.invalid?"op-50":""},"Waitstep")),"normal"===o&&s&&w.a.createElement(mI.a,{options:this.getOptions()}),"editing"===o&&w.a.createElement("div",{className:"PathContentOptions"},w.a.createElement("button",{type:"button",className:"u-linkBtn u-linkBtn--dark td-u",children:"Cancel",onClick:this.props.cancelEditing}),w.a.createElement("button",{type:"button",className:"NewButton NewButton--blue NewButton--wide ml-16",disabled:!p,onClick:this.saveChanges,children:"Done"}))),"normal"===o&&w.a.createElement("div",{className:"PathContent-body c-brand-gray-darker"},w.a.createElement("div",{className:c.invalid?"op-50":""},"The following step will be ",w.a.createElement(y,null,e.effect)," ","until 12:00am EST, ",w.a.createElement(y,null,e.amountAndUnit)," after"," ",w.a.createElement(y,null,e.condition)),c.invalid&&w.a.createElement(xI,{message:c.message,marginTop:!0})),"editing"===o&&w.a.createElement("div",{className:"PathContent-body c-brand-gray-darker"},"The following steps will be ",m," until 12:00am EST,"," ",w.a.createElement("br",null),g," ",v," after ",b)))}}]),t}(E.PureComponent);i()(UI,"humanValues",{effect:{locked:"locked",hidden:"hidden"},unit:{days:"days",weeks:"weeks",months:"months"},condition:{prevStepFinished:"all previous steps are completed",pathAssigned:"the path is assigned"}}),i()(UI,"defaultProps",{effect:"locked",unit:"days",condition:"prevStepFinished"});var HI,qI=Object(le.b)(function(){var e=IT.m(),t=IT.o(),n=IT.t();return function(r,a){return{validation:n(r.pathBuilder,a),editingMode:IT.q.isEdit(r.pathBuilder),viewState:e(r.pathBuilder,a)?"editing":"normal",justAdded:t(r.pathBuilder,a)}}},function(e,t){var n=t.id,r=t.type,a=(t.position,t.justAdded);return{update:function(t){return e(tI.j(n,r,t))},persist:function(){return e(tI.d(n,r))},remove:function(){return e(tI.e(n,r))},toggleEditing:function(){return e(tI.i(n,r))},cancelEditing:function(){return e(tI.b(n,r,a))}}})(UI),GI=r(704),WI=r(332),VI=(HI={},i()(HI,N.i.LESSON,BI),i()(HI,N.i.PATH,BI),i()(HI,N.i.WAITSTEP,qI),i()(HI,N.i.PLACEHOLDER,GI.a),HI),zI=function(e){return w.a.createElement(dI,{key:"adder_".concat(e+1),position:e+1})},YI=function(e,t){return Object(E.createElement)(VI[e.type],R()({key:"".concat(e.type,".").concat(e.id)},e,{index:t}))},QI=Object(le.b)(function(e){return{contents:e.pathBuilder.contents,canEditPath:e.pathBuilder.permissions.editPath,pathId:e.pathBuilder.id,editingMode:IT.q.isEdit(e.pathBuilder),isArchived:IT.l(e.pathBuilder)}})(function(e){var t=e.contents,n=e.canEditPath,r=e.pathId,a=e.editingMode,i=e.isArchived,o=!Object(me.isEmpty)(t),s=V()("PathContentsList",{"PathContentsList--editing":a,"PathContentsList--view":!a,"PathContentsList--empty":!o});return w.a.createElement("div",{className:s},o&&function(e){return e.reduce(function(e,t,n){return[].concat(Z()(e),[YI(t,n),zI(n+1)])},[zI(0)])}(t),(!r||n)&&!o&&!i&&w.a.createElement(aI,null),w.a.createElement(WI.a,null))}),KI={onDismiss:OR.dismissUpdateRequestFailure},XI=Object(le.b)(null,KI)(function(e){var t=e.onDismiss;return w.a.createElement(un.c,{onDismiss:t},w.a.createElement(un.a,null,"Uh oh!"),w.a.createElement(un.b,null,"There was a problem saving your latest update.",w.a.createElement("br",null),"please try again. If the problem continues try refreshing the page."),w.a.createElement("div",{className:"d-f jc-e ai-c mt-24"},w.a.createElement("button",{type:"button",className:"ml-16 ".concat(Object(Cu.a)("NewButton",["yellow","tallAndWide"])),onClick:t,children:"Ok"})))}),$I=[N.h.REPORTING,N.h.VIEW],ZI={setMode:AT.d},JI=Object(ue.d)(Object(le.b)(function(e){var t=e.pathBuilder;G()(e,["pathBuilder"]);return{isDraggingContent:t.isDraggingContent,currentMode:t.mode,showTabs:IT.r(t),hasUpdateError:t.updateError}},ZI),Object(Zu.DragDropContext)($u.a))(function(e){var t=e.isDraggingContent,n=e.currentMode,r=e.showTabs,a=e.setMode,i=e.hasUpdateError;return w.a.createElement("div",{className:"PathBuilder"},w.a.createElement($g,{willReceiveDraggable:t}),i&&w.a.createElement(XI,null),w.a.createElement("div",{className:"PathBuilder-main"},w.a.createElement("div",{className:"PathViewer"},w.a.createElement($T,null),r&&w.a.createElement(co,{selectedIndex:$I.indexOf(n),onSelect:function(e){return a($I[e])}},w.a.createElement(uo,null,w.a.createElement(fo,null,"Reporting"),w.a.createElement(fo,null,"Steps")),w.a.createElement(mo,null,w.a.createElement(JP,null)),w.a.createElement(mo,null,w.a.createElement(QI,null))),!r&&w.a.createElement(QI,null))),w.a.createElement("div",{className:"PathBuilder-side"},w.a.createElement(cP,null)))}),eA=r(705);var tA=function(e){return w.a.createElement(le.a,{store:(t=e,n=fe(t,{pathBuilder:eA.a,meta:function(){return t.meta}}),t.pathBuilder.id&&n.dispatch({type:he.j.PATH.SAVE_REVISION}),n)},w.a.createElement(JI,null));var t,n},nA=function(e){var n;if(e.completedDate)n=t("paths.dashboard.status.completed_on",{date:e.completedDate});else if(e.dueDate)n=t("paths.dashboard.status.due_on",{date:e.dueDate});else{if(!e.assignDate)return!1;n=t("paths.dashboard.status.assigned_on",{date:e.assignDate})}return w.a.createElement("div",{className:"PathViewerHeader-dateContainer d-f ai-c"},w.a.createElement("div",{className:"PathViewerHeader-date"},n),e.isOverdue&&w.a.createElement("div",{className:"Pill Pill--danger"},t("paths.dashboard.status.overdue")))},rA=Object(le.b)(function(e){var t=e.pathViewer;return{title:t.title,description:t.description,assignment:t.assignment,loading:t.loading}})(function(e){var t=e.title,n=e.description,r=e.assignment,a=e.loading;return w.a.createElement("div",{className:"PathViewerHeader"},w.a.createElement("div",{className:"PathViewerHeader-info jc-sb d-f"},w.a.createElement("h1",{className:"PathViewerHeader-title"},t),!a&&w.a.createElement(nA,r)),n&&w.a.createElement("p",{className:"PathViewerHeader-description"},n))}),aA=Object(le.b)(function(e){return{completedPercentage:Tp(e)}})(function(e){return w.a.createElement("div",{className:"PathProgress"},w.a.createElement("div",{className:"PathProgress-bar",style:{width:"".concat(e.completedPercentage,"%")}}))}),iA=function(e){var t=e.children;return w.a.createElement("article",{className:"PathContentWrapper"},t)},oA=function(e,t){return"".concat(e,"--").concat(t)};function sA(e,t){var n,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return V()((n={},i()(n,e,r),i()(n,oA(e,t),!0),n))}function cA(e,n){return{inProgress:function(){return t("paths.dashboard.continue_working")},available:function(){return function(e){return"lesson"===e.toLowerCase()?t("paths.dashboard.start_lesson"):t("paths.dashboard.start_other")}(n)},completed:function(){return t("paths.dashboard.view")},awaitingGrade:function(){return t("paths.dashboard.view")}}[e].call()||""}var lA=function(e){var t,n=e.status,r=e.type,a=e.urls,o=e.small,s=e.className,c=V()("PathContentButton",(t={},i()(t,s,!!s),i()(t,"PathContentButton--small",o),i()(t,"CustomColor--backgroundColor","available"===n),t));return w.a.createElement("a",{href:a.view,className:c},cA(n,r))},uA=3,dA=["dust1","dust2"],pA=[[[0,2],[0,0],[0,-1],[2,-1],[2,-2],[3,-1]],[[7,-2],[8,-1],[10,-1],[12,1]],[[12,8],[11,10],[10,11],[8,12]],[[4,12],[3,11],[2,12],[2,11],[0,11],[0,9]]],fA=[];var hA=function(){var e=function(){for(fA.length===uA&&(fA=[]);fA.length<pA.length;){var e=Object(S.random)(0,pA.length-1);if(!fA.includes(e)){fA.push(e);break}}return Object(S.sample)(pA[Object(S.last)(fA)])}().map(function(e){return"".concat(10*e,"%")}),t=Ye()(e,2);return{top:t[0],left:t[1]}},mA=function(e){return w.a.createElement(z.a,{customClass:"c-green pos-a",style:R()({fontSize:"".concat(Object(S.random)(8,12),"px"),opacity:Object(S.random)(.5,1,!0),transform:"translate(-50%, -50%)"},hA()),name:Object(S.sample)(dA),key:"dust_".concat(e),stabilize:!1})};var gA,vA=function(){return Object(S.range)(uA).map(mA)},bA=function(e){e.id;var t=e.progress,n=e.stepNumber,r=e.inner,a=t.completedDate;return w.a.createElement("div",{className:V()("PathContentStep",{"PathContentStep--innerStep":r})},a&&[w.a.createElement(z.a,{customClass:"PathContentStep-icon",name:"correct",key:"1"})].concat(Z()(vA())),!a&&w.a.createElement("span",{className:"PathContentStep-position"},n))},yA=function(){return w.a.createElement("span",{className:"PathContentStatus-divider"},"|")},EA=function(){return w.a.createElement("div",{className:"Pill Pill--danger ml-8"},t("paths.dashboard.status.overdue"))},_A=function(e){var n=e.dueDate;return w.a.createElement("span",{className:"PathContentStatus-dueDate"},t("paths.dashboard.status.due_on",{date:n}))},wA=function(e){var t=e.href,n=e.children;return w.a.createElement(_r,{if:t,href:t,children:n,linkProps:{className:"td-u"}})},SA=function(e){return Object(me.has)("score",e)&&!Object(me.isNull)(e.score)},kA=Object(le.b)(function(e){return{previewing:e.pathViewer.previewing}})(function(e){var n=e.progress,r=e.status,a=e.formattedStatus,i=e.dueDate,o=e.isOverdue,s=e.required,c=e.dateAdded,l=e.urls,u=void 0===l?{}:l,d=e.previewing,p=function(e){return w.a.createElement("div",{className:sA("PathContentStatus",r)},e.children,o&&w.a.createElement(EA,null))},f=function(){return w.a.createElement(p,null,a)},h=function(e){return w.a.createElement(wA,H()({href:u.reportCard},e))},m={completed:function(){return w.a.createElement(p,null,w.a.createElement(h,null,t("paths.dashboard.status.completed_on",{date:n.completedDate})),SA(n)&&w.a.createElement(yA,null),SA(n)&&w.a.createElement(h,null,n.score,"%"))},inProgress:function(){return w.a.createElement(p,null,t("paths.dashboard.status.started_on",{date:n.startedDate}),i&&w.a.createElement(yA,null),i&&w.a.createElement(_A,{dueDate:i}),!s&&!d&&w.a.createElement(yA,null),!s&&!d&&t("paths.dashboard.status.optional"))},available:function(){return w.a.createElement(p,null,t("paths.dashboard.status.added_on",{date:c}),!s&&!d&&w.a.createElement(yA,null),!s&&!d&&t("paths.dashboard.status.optional"),i&&w.a.createElement(yA,null),i&&w.a.createElement(_A,{dueDate:i}))},locked:function(){return w.a.createElement(f,null)},awaitingGrade:function(){return w.a.createElement(f,null)}};return!!m[r]&&m[r].call()}),CA=Object(le.b)(function(){var e=IT.f();return function(t,n){return{stepNumber:e(t.pathViewer,n),hasLessonCardEnhancements:t.pathViewer.meta.features.hasLessonCardEnhancements}}})(function(e){var t=e.status,n=e.formattedStatus,r=e.progress,a=e.urls,i=e.stepNumber,o=e.type,s=e.required,c=e.dateAdded,l=e.dueDate,u=e.isOverdue,d=G()(e,["status","formattedStatus","progress","urls","stepNumber","type","required","dateAdded","dueDate","isOverdue"]);return w.a.createElement(iA,null,w.a.createElement("div",{className:"".concat(sA("PathContent",t)," ").concat(d.image&&"d-f")},d.hasLessonCardEnhancements&&d.image&&w.a.createElement(Rv,{image:d.image,className:"PathContent-image"}),w.a.createElement("div",{className:"w-fill"},w.a.createElement("div",{className:"PathContent-header"},w.a.createElement("h1",{className:"PathContent-title"},d.title),w.a.createElement(kA,H()({progress:r,status:t,formattedStatus:n,urls:a,required:s,dateAdded:c,dueDate:l,isOverdue:u},d))),!!d.description&&w.a.createElement("div",{className:"PathContent-body"},w.a.createElement("p",{className:"PathContent-description f-smooth"},d.description)),d.hasLessonCardEnhancements&&d.estimatedMinutesToComplete&&w.a.createElement("div",{className:"ml-24 mb-12"},w.a.createElement(v_,{estimatedMinutesToComplete:d.estimatedMinutesToComplete})),!t.match(/upcoming|locked/i)&&w.a.createElement(lA,{status:t,type:o,urls:a}),w.a.createElement(bA,{stepNumber:i,status:t,progress:r}))))}),NA=function(e){var t=e.type,n=e.title,r=e.parent,a=e.status,i=e.progress,o=e.formattedStatus,s=e.required,c=e.dateAdded,l=e.dueDate,u=e.isOverdue;return w.a.createElement("div",{className:"PathContent-header ai-fs"},w.a.createElement(yI,{parent:r,title:n,type:t}),w.a.createElement(kA,{status:a,formattedStatus:o,progress:i,required:s,dateAdded:c,dueDate:l,isOverdue:u}))},OA=Object(le.b)(function(e){return{hasLessonCardEnhancements:e.pathViewer.meta.features.hasLessonCardEnhancements}})(function(e){var t=e.progress,n=e.status,r=e.formattedStatus,a=e.title,i=e.stepNumber,o=e.description,s=e.dueDate,c=e.isOverdue,l=e.required,u=e.dateAdded,d=e.type,p=e.urls,f=e.image,h=e.estimatedMinutesToComplete,m=e.hasLessonCardEnhancements;return w.a.createElement("div",{className:sA("PathContentSubStep",n)},m&&f&&w.a.createElement(Rv,{image:f,className:"PathContentSubStep-image"}),w.a.createElement("div",{className:"d-f w-fill"},w.a.createElement("div",{className:"PathContentSubStep-container"},w.a.createElement("div",{className:"PathContentSubStep-header jc-sb"},w.a.createElement("div",{className:"PathContentSubStep-title ai-c"},w.a.createElement(z.a,{name:"lesson",customClass:"PathContentSubStep-icon f-sh-0"}),w.a.createElement("span",{className:"PathContentSubStep-title f-smooth mr-8"},a),m&&h&&w.a.createElement(v_,{estimatedMinutesToComplete:h})),w.a.createElement(kA,{progress:t,status:n,formattedStatus:r,dueDate:s,isOverdue:c,urls:p,required:l,dateAdded:u})),!!o&&w.a.createElement("div",{className:"PathContentSubStep-description f-smooth"},o),!n.match(/upcoming|locked/i)&&w.a.createElement(lA,H()({status:n,type:d,urls:p},{className:"PathContentSubStep-button",small:!0})))),i&&w.a.createElement(bA,H()({progress:t,stepNumber:i},{inner:!0})))}),xA=function(e){var n=e.pathTitle;return w.a.createElement("div",{className:"HiddenStepsPlaceholder"},w.a.createElement("h3",{className:"HiddenStepsPlaceholder-title d-b"},n?t("paths.hidden_placeholder.title_with_path",{path:n}):t("paths.hidden_placeholder.title")),w.a.createElement("p",{className:"HiddenStepsPlaceholder-description"},w.a.createElement("span",null,t("paths.hidden_placeholder.description"))))},TA=function(e){var t=e.on,n=e.children;return!!t&&(n.length>1?w.a.createElement("div",null,n):n)},RA=function(e){var t="completed"===e.status;return V()(i()({PathContent:t,"PathContent--subContent":!0},sA("PathContent",e.status),!t))},PA=Object(le.b)(function(){var e=IT.f();return function(t,n){return{stepNumber:e(t.pathViewer,n)}}})(function(e){return w.a.createElement(iA,null,w.a.createElement("div",{className:RA(e)},w.a.createElement(NA,e),w.a.createElement("div",{className:"PathContent-body"},w.a.createElement(TA,{on:e.description},w.a.createElement(_I,{description:e.description})),w.a.createElement(TA,{on:!Object(me.isEmpty)(e.contents)},w.a.createElement(CI,{contents:e.contents},function(e){return w.a.createElement(OA,H()({key:e.id},e))})),w.a.createElement(TA,{on:!e.asHeader&&e.hiddenContents},w.a.createElement(xA,{pathTitle:e.title})))))}),IA=Object(le.b)(function(){var e=IT.f();return function(t,n){return{stepNumber:e(t.pathViewer,n)}}})(function(e){return new UP({pathComponent:PA,groupComponent:iA,startingPosition:e.stepNumber,pathData:e})}),AA=(gA={},i()(gA,N.i.PATH,IA),i()(gA,N.i.LESSON,CA),i()(gA,N.i.RESOURCE,CA),gA),MA=function(e){return w.a.createElement(AA[e.type],R()({key:"".concat(e.type,".").concat(e.id)},e))},DA=Object(le.b)(function(e){return{title:e.pathViewer.title,contents:e.pathViewer.contents,hiddenContents:e.pathViewer.hiddenContents}})(function(e){return w.a.createElement("div",{className:"PathContentsList"},e.contents.map(MA),e.hiddenContents&&w.a.createElement("div",{className:"PathContentWrapper"},w.a.createElement(xA,{pathTitle:e.title})),w.a.createElement(WI.a,null))}),jA=function(){return w.a.createElement("div",{className:"PathContentWrapper"},w.a.createElement("div",{className:"PathContent PathContent--loader"},w.a.createElement("div",{className:"PathContent-header"},w.a.createElement(Yp,{large:!0})),w.a.createElement("div",{className:"PathContent-body"},Object(S.range)(Object(S.random)(1,3)).map(function(e){return w.a.createElement(Yp,{key:e})})),w.a.createElement("div",{className:"PathContent-footer"}),w.a.createElement("div",{className:"PathContentStep"})))},LA=function(){return w.a.createElement("div",{className:"PathViewerLoader"},w.a.createElement("div",{className:"PathProgress"}),w.a.createElement("div",{className:"PathContentsList"},Object(S.range)(3).map(function(e){return w.a.createElement(jA,{key:e})})))},FA=function(e){function n(){return l()(this,n),f()(this,m()(n).apply(this,arguments))}return y()(n,e),d()(n,[{key:"componentDidMount",value:function(){this.props.requestPathContents()}},{key:"render",value:function(){var e=this.props,n=e.loading,r=e.contents;return w.a.createElement("div",{className:"PathViewer"},w.a.createElement(rA,null),n&&w.a.createElement(LA,null),w.a.createElement(ft.a,{loading:n,opacity:.5,speed:500},!n&&!Object(me.isEmpty)(r)&&[w.a.createElement(aA,{key:"progress"}),w.a.createElement(DA,{key:"contents"})],!n&&Object(me.isEmpty)(r)&&w.a.createElement("div",{className:"ta-c"},t("paths.no_steps_yet"))))}}]),n}(E.Component);i()(FA,"defaultProps",{contents:[]});var BA={requestPathContents:function(){return kp}},UA=Object(le.b)(function(e){var t=e.pathViewer;return{loading:t.loading,contents:t.contents}},BA)(FA),HA=function(e){return w.a.createElement(le.a,{store:tf(e)},w.a.createElement(UA,null))},qA=function(e){function n(e){var t;return l()(this,n),(t=f()(this,m()(n).call(this,e))).renderTip=t.renderTip.bind(v()(t)),t}return y()(n,e),d()(n,[{key:"renderTip",value:function(e,t){return w.a.createElement("div",{className:"PeerFeedbackTips-tip"},w.a.createElement("span",{className:"fw-b"},e),t)}},{key:"render",value:function(){return w.a.createElement("div",{className:"PeerFeedbackTips d-f fd-c"},w.a.createElement("div",{className:"d-f"},w.a.createElement(z.a,{name:"pencil",customClass:"PeerFeedbackTips-pencil"}),w.a.createElement("span",{className:"fz-20 ml-12"},t("practice.peer_feedback.tips.heading"))),w.a.createElement("div",{className:"d-f fd-c mt-16"},w.a.createElement("div",{className:"PeerFeedbackTips-tipsGroup d-f"},this.renderTip(t("practice.peer_feedback.tips.specific.title"),t("practice.peer_feedback.tips.specific.description")),this.renderTip(t("practice.peer_feedback.tips.positive.title"),t("practice.peer_feedback.tips.positive.description"))),w.a.createElement("div",{className:"PeerFeedbackTips-tipsGroup d-f"},this.renderTip(t("practice.peer_feedback.tips.actionable.title"),t("practice.peer_feedback.tips.actionable.description")),this.renderTip(t("practice.peer_feedback.tips.open.title"),t("practice.peer_feedback.tips.open.description")))))}}]),n}(w.a.Component),GA=function(e){function n(){var e,t;l()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return t=f()(this,(e=m()(n)).call.apply(e,[this].concat(a))),i()(v()(t),"state",{criteriaVisible:!1}),i()(v()(t),"toggleCriteria",function(){t.setState(function(e){return{criteriaVisible:!e.criteriaVisible}})}),i()(v()(t),"renderCriteria",function(){var e=Object(yu.b)(t.props.criteria,"name");return e.map(function(t){return w.a.createElement(Eu,{position:e.indexOf(t)+1,criterion:t,key:t.id})})}),t}return y()(n,e),d()(n,[{key:"render",value:function(){var e=V()("QuestionPrompt-rotatingIcon",{"QuestionPrompt-rotatingIcon--rotated":this.state.criteriaVisible});return w.a.createElement("div",{className:"PeerFeedback-criterionList"},w.a.createElement("div",{className:"d-f jc-sb mb-8 pb-8 bb-gray-lighter",onClick:this.toggleCriteria},w.a.createElement("span",{className:"fw-b"},t("feedback_criteria.peer_feedback_focus")),w.a.createElement("span",{className:e},w.a.createElement(z.a,{name:"triangle_down"}))),this.state.criteriaVisible&&w.a.createElement("div",null,w.a.createElement("div",{className:"QuestionPrompt-criteriaExplanation"},t("feedback_criteria.peer_feedback_explanation")),this.renderCriteria()))}}]),n}(w.a.Component),WA=function(e){var n=e.answer,r=e.feedback,a=e.questionSubject,i=e.sendFeedback,o=e.updateFeedback,s=e.feedbackCriteria;return w.a.createElement("div",null,w.a.createElement("div",{className:"PeerFeedbackForm-line"}),w.a.createElement("div",{className:"PeerFeedbackForm-container PeerFeedbackForm--writtenResponse"},w.a.createElement("div",{className:"ml-16"},w.a.createElement("div",{className:"fw-b"},t("practice.peer_feedback.learner_form.question_header")),w.a.createElement("p",{className:"mt-4"},a)),w.a.createElement("div",{className:"ml-48 mt-24"},w.a.createElement("div",{className:"fw-b"},t("practice.peer_feedback.learner_form.peer_response")),w.a.createElement("p",{className:"fs-i mt-4"},'"'.concat(n,'"'))),s.length>0&&w.a.createElement("div",{className:"mt-24"},w.a.createElement(GA,{criteria:s})),w.a.createElement("textarea",{onChange:o,className:"c-brand-night mt-24 w-fill bg-white bdrs-2",placeholder:t("practice.peer_feedback.learner_form.placeholder")}),w.a.createElement("div",{className:"fz-sm fs-i mt-4 c-brand-gray-dark"},t("practice.peer_feedback.learner_form.email_note")),w.a.createElement("div",{className:"d-f jc-e"},w.a.createElement(No.a,{className:"mt-10 p-12-18",tall:!0,primary:!0,onClick:i,disabled:0===r.trim().length},t("practice.peer_feedback.learner_form.give_feedback_button")))))},VA=r(207),zA=r(206),YA=function(e){function n(e){var t;return l()(this,n),(t=f()(this,m()(n).call(this,e))).state={feedbackSent:!1},t.handleSubmit=t.handleSubmit.bind(v()(t)),t}return y()(n,e),d()(n,[{key:"handleSubmit",value:function(){this.setState({feedbackSent:!0},this.props.sendFeedback)}},{key:"render",value:function(){var e=this.props,n=e.questionSubject,r=e.feedback,a=e.updateFeedback,i=e.mediaAnswer,o=e.feedbackCriteria,s=0===r.trim().length||this.state.feedbackSent;return w.a.createElement("div",{className:"PeerFeedbackForm-mediaFeedback"},i&&w.a.createElement("div",null,w.a.createElement("div",{className:"fw-b"},t("practice.peer_feedback.learner_form.question_header")),w.a.createElement("p",{className:"mt-4"},n)),o.length>0&&w.a.createElement("div",{className:"mb-16"},w.a.createElement(GA,{criteria:o})),w.a.createElement("textarea",{onChange:a,className:"c-brand-night w-fill bg-white bdrs-2",placeholder:t("practice.peer_feedback.learner_form.placeholder")}),w.a.createElement("div",{className:"fz-sm fs-i mt-4 c-brand-gray-dark"},t("practice.peer_feedback.learner_form.email_note")),w.a.createElement("div",{className:"d-f jc-e"},w.a.createElement(No.a,{className:"mt-10 mb-24 p-12-18",tall:!0,primary:!0,onClick:this.handleSubmit,disabled:s},t("practice.peer_feedback.learner_form.give_feedback_button"))))}}]),n}(w.a.Component),QA=function(e){return w.a.createElement(ts.a,null,w.a.createElement(Bs.a,{className:"ModalTakeover-background Modal-background",onEscape:e.closeModal},w.a.createElement("div",{className:"ModalTakeover-container"},w.a.createElement("div",{className:"ModalTakeover-closeButton",onClick:e.closeModal},w.a.createElement(z.a,{name:"minimize"})),w.a.createElement("div",{className:"fd-c"},"hippo_video"===e.givenAnswerProvider&&w.a.createElement("div",{className:"PeerFeedback-iframe"},w.a.createElement("iframe",{title:"Recording Embed",allowFullScreen:!0,width:"100%",height:"100%",allowTransparency:"true",scrolling:"no",style:{backgroundColor:"transparent"},frameBorder:"0",src:e.mediaEmbedUrl})),"ziggeo"===e.givenAnswerProvider&&w.a.createElement(VA.a,{apiKey:e.ziggeoApiKey,givenAnswer:e.answer,questionId:e.questionId}),"ilos"===e.givenAnswerProvider&&w.a.createElement(zA.a,{modalVisible:!0,randtag:e.answer,lessonTaking:!0,finished:!0}),!e.givenAnswerProvider&&w.a.createElement("div",{className:"d-f fd-c"},w.a.createElement("div",{className:"p-32 fz-bigger lh-24 bb-gray-lighter"},e.questionSubject),w.a.createElement("div",{className:"PeerFeedback-answerContainer"},w.a.createElement("div",{className:"bg-white fw-b fz-lg p-32"},'"',e.answer,'"'))),w.a.createElement(YA,{questionSubject:e.questionSubject,feedback:e.feedback,updateFeedback:e.updateFeedback,sendFeedback:e.sendFeedback,mediaAnswer:!!e.givenAnswerProvider,feedbackCriteria:e.feedbackCriteria})))))},KA=function(e){var n=e.openModal,r=e.modalVisible,a=G()(e,["openModal","modalVisible"]);return w.a.createElement("div",null,w.a.createElement("div",{className:"PeerFeedbackForm-line CustomColor--backgroundColor"}),w.a.createElement("div",{className:"PeerFeedbackForm-container"},w.a.createElement("div",{className:"PeerFeedbackForm-mediaResponse"},w.a.createElement("div",{onClick:n},w.a.createElement(xs.a,{givenAnswerProvider:a.givenAnswerProvider,mediaThumbnailSrc:a.mediaThumbnailSrc})),w.a.createElement("div",{className:"ml-32 PeerFeedbackForm-questionText"},w.a.createElement("div",{className:"fw-b"},t("practice.peer_feedback.learner_form.question_header")),w.a.createElement("p",{className:"mt-4"},a.questionSubject)),r&&w.a.createElement(QA,a))))},XA=function(e){var n=e.children;return w.a.createElement(w.a.Fragment,null,w.a.createElement("div",{className:"PeerFeedbackForm-success fz-h2"},w.a.createElement(z.a,{name:"check_mark"}),w.a.createElement("span",{className:"ml-8"},t("practice.peer_feedback.learner_form.success.thanks"))),w.a.createElement("p",{className:"lh-24 c-brand-gray-dark mt-8"},t("practice.peer_feedback.learner_form.success.message")),n)},$A=function(e){function n(e){var t;return l()(this,n),(t=f()(this,m()(n).call(this,e))).state={feedback:"",isSent:!1,modalVisible:!1},t.closeModal=t.closeModal.bind(v()(t)),t.openModal=t.openModal.bind(v()(t)),t.sendFeedback=t.sendFeedback.bind(v()(t)),t.updateFeedback=t.updateFeedback.bind(v()(t)),t}return y()(n,e),d()(n,[{key:"sendFeedback",value:function(){var e=this;C.a.post(N.k.PRACTICE.PEER_FEEDBACKS,{comment:this.state.feedback,answer_id:this.props.answerId}).then(function(t){return e.setState({isSent:!0})}).then(this.closeModal)}},{key:"updateFeedback",value:function(e){this.setState({feedback:e.target.value})}},{key:"openModal",value:function(){this.setState({modalVisible:!0})}},{key:"closeModal",value:function(){this.setState({modalVisible:!1})}},{key:"render",value:function(){var e="written_response"===this.props.questionType;return w.a.createElement("div",{className:"PeerFeedbackForm c-brand-night d-f fd-c fz-bigger ff-ss"},!this.state.isSent&&w.a.createElement("div",null,w.a.createElement("h2",null,t("practice.peer_feedback.learner_form.header")),w.a.createElement("div",{className:"c-brand-gray-dark mb-32 lh-24"},t("practice.peer_feedback.learner_form.instructions")),e&&w.a.createElement(WA,{answer:this.props.answer,feedback:this.state.feedback,questionSubject:this.props.questionSubject,sendFeedback:this.sendFeedback,updateFeedback:this.updateFeedback,feedbackCriteria:this.props.feedbackCriteria}),!e&&w.a.createElement(KA,H()({openModal:this.openModal,closeModal:this.closeModal,feedback:this.state.feedback,updateFeedback:this.updateFeedback,sendFeedback:this.sendFeedback,modalVisible:this.state.modalVisible},this.props)),w.a.createElement(qA,null)),this.state.isSent&&w.a.createElement(XA,null))}}]),n}(w.a.Component),ZA=function(e){function n(e){var t;return l()(this,n),(t=f()(this,m()(n).call(this,e))).clearActiveGroup=t.clearActiveGroup.bind(v()(t)),t}return y()(n,e),d()(n,[{key:"clearActiveGroup",value:function(){this.props.updateMyOrganization(!1),this.props.updateActiveGroup(null),this.props.groupsListVisible&&this.props.toggleGroupsList()}},{key:"render",value:function(){var e=this.props,n=e.activeGroup,r=e.myOrganization,a=V()("NestedList-header NestedList--hoverStyles","CustomColor--borderColorLeft",{"NestedList-header--active":null===n&&!r,"fw-b":!0,"c-p":!0,"mb-0":!0});return w.a.createElement("div",{className:"fz-bigger mb-12 d-f jc-sb"},w.a.createElement("div",{className:a,onClick:this.clearActiveGroup},t("groups.everyone.name")))}}]),n}(w.a.Component),JA=function(e){function t(e){var n;return l()(this,t),(n=f()(this,m()(t).call(this,e))).state={expanded:!1},n.toggleExpand=n.toggleExpand.bind(v()(n)),n}return y()(t,e),d()(t,[{key:"toggleExpand",value:function(){this.setState(function(e){return{expanded:!e.expanded}}),this.props.updateActiveGroup(this.props.group.id),this.props.updateMyOrganization(!1),this.props.groupsListVisible&&this.props.toggleGroupsList()}},{key:"render",value:function(){var e=this,n=null,r=this.props,a=r.group,i=r.activeGroup,o=r.updateActiveGroup,s=V()({"NestedList-icon":!0,"NestedList-icon--rotated":this.state.expanded}),c=V()("NestedList-item","CustomColor--borderColorLeft","NestedList--hoverStyles",{"mb-12":!0,"NestedList-item--active":i===a.id,"fw-b":i===a.id});return a.children&&(n=a.children.map(function(n){return w.a.createElement(t,{group:n,key:n.id,activeGroup:i,updateActiveGroup:o,updateMyOrganization:e.props.updateMyOrganization})})),w.a.createElement("ul",{className:"NestedList"},w.a.createElement("li",{className:c,onClick:this.toggleExpand},a.children.length>0&&w.a.createElement("span",{className:s}," ",w.a.createElement(z.a,{name:"triangle_down",customClass:"Icon--small c-brand-gray"}))," ",w.a.createElement("span",null,a.name)),n&&this.state.expanded&&w.a.createElement("li",null,n))}}]),t}(w.a.Component),eM=function(e){function n(e){var t;return l()(this,n),(t=f()(this,m()(n).call(this,e))).state={expanded:!0},t.toggleExpand=t.toggleExpand.bind(v()(t)),t}return y()(n,e),d()(n,[{key:"toggleExpand",value:function(){this.setState(function(e){return{expanded:!e.expanded}})}},{key:"getNestedGroups",value:function(){var e=this.props.groups,t=[],n={};return e.forEach(function(e){n[e.id]=e,e.children=[]}),e.forEach(function(e){null!==e.parentId?n[e.parentId].children.push(e):t.push(e)}),t}},{key:"render",value:function(){var e=this.props,n=e.groups,r=e.activeGroup,a=e.updateActiveGroup,i=e.updateMyOrganization,o=e.canAddPeople,s=e.toggleGroupsList,c=e.groupsListVisible,l=n.length>0,u=0===n.length,d=u&&!this.state.expanded,p=l||d,f=V()({"NestedList-icon":!0,"mr-4":!0,"NestedList-icon--rotated":this.state.expanded});return w.a.createElement("div",{className:"CustomGroups mt-16"},w.a.createElement("div",{className:"NestedList-header"},w.a.createElement("div",{className:"fw-b"},w.a.createElement("span",{className:f,onClick:this.toggleExpand},w.a.createElement(z.a,{name:"triangle_down",customClass:"Icon--small c-brand-gray c-p"})),w.a.createElement("span",{className:"mr-4 c-p",onClick:this.toggleExpand},t("groups.custom.name")),o&&p&&w.a.createElement("span",{className:"h-ci","data-toggle":"tooltip",title:t("groups.custom.description"),"data-placement":"top"},w.a.createElement(z.a,{name:"info",customClass:"NestedList-headerIcon c-brand-gray"}))),o&&p&&w.a.createElement("div",null,w.a.createElement("a",{href:N.k.NEW_GROUP,className:"ButtonWithTooltip fz-base","data-tooltip":t("groups.custom.new")},w.a.createElement(z.a,{name:"add",customClass:"NestedList-headerIcon c-brand-gray fz-bigger"})))),this.state.expanded&&w.a.createElement("div",null,u&&w.a.createElement("div",{className:"NestedList-item"},w.a.createElement("div",{className:"mb-8 c-brand-gray-dark"},t("groups.custom.description")),w.a.createElement("a",{className:"NewButton NewButton--white mb-8 h-td-n h-c-gray-darkest",href:N.k.NEW_GROUP},w.a.createElement(z.a,{name:"add",customClass:"c-brand-gray-dark mr-4"}),t("groups.custom.new"))),Object(S.sortBy)(this.getNestedGroups(),"name").map(function(e){return w.a.createElement(JA,{group:e,key:e.id,activeGroup:r,updateActiveGroup:a,updateMyOrganization:i,toggleGroupsList:s,groupsListVisible:c})})))}}]),n}(w.a.Component),tM=function(e){function n(e){var t;return l()(this,n),(t=f()(this,m()(n).call(this,e))).setMyOrganization=t.setMyOrganization.bind(v()(t)),t}return y()(n,e),d()(n,[{key:"setMyOrganization",value:function(){this.props.updateActiveGroup(null),this.props.updateMyOrganization(!0)}},{key:"render",value:function(){var e=this.props,n=e.activeGroup,r=e.myOrganization,a=V()("NestedList-header NestedList--hoverStyles","CustomColor--borderColorLeft","mr-4",{"NestedList-header--active":null===n&&r,"fw-b":!0,"c-p":!0,"mb-0":!0});return w.a.createElement("div",{className:"fz-bigger mb-12 d-f jc-sb"},w.a.createElement("div",{className:a,onClick:this.setMyOrganization},w.a.createElement("span",{className:"mr-4 c-p"},t("groups.system_generated.title")),w.a.createElement("span",{className:"h-ci","data-toggle":"tooltip",title:t("groups.system_generated.description"),"data-placement":"top"},w.a.createElement(z.a,{name:"info",customClass:"NestedList-headerIcon c-brand-gray"}))))}}]),n}(w.a.Component),nM=function(e){function n(e){var t;return l()(this,n),(t=f()(this,m()(n).call(this,e))).setActiveGroup=t.setActiveGroup.bind(v()(t)),t}return y()(n,e),d()(n,[{key:"setActiveGroup",value:function(){this.props.updateActiveGroup(this.props.group.id),this.props.updateMyOrganization(!1),this.props.groupsListVisible&&this.props.toggleGroupsList()}},{key:"render",value:function(){var e=this.props,n=e.group,r=e.activeGroup,a="invalid"===n.recalculationState,i=V()("NestedList-item","CustomColor--borderColorLeft","NestedList--hoverStyles",{"mb-12":!0,"NestedList-item--active fw-b":Number(r)===Number(n.id)});return w.a.createElement("li",{className:i,onClick:this.setActiveGroup},a&&w.a.createElement(z.a,{name:"warning_sign",customClass:"c-brand-red mr-4"}),n.name,n.calculating&&w.a.createElement("span",{className:"NestedList-subtitle"},t("smart_groups.calculating_sidebar")))}}]),n}(w.a.Component),rM=function(e){function n(e){var t;return l()(this,n),(t=f()(this,m()(n).call(this,e))).state={expanded:!0},t.toggleExpand=t.toggleExpand.bind(v()(t)),t}return y()(n,e),d()(n,[{key:"toggleExpand",value:function(){this.setState(function(e){return{expanded:!e.expanded}})}},{key:"render",value:function(){var e=this.props,n=e.groups,r=e.activeGroup,a=e.updateActiveGroup,i=e.updateMyOrganization,o=e.createNewRuleBasedGroup,s=e.canEditSmartGroups,c=e.toggleGroupsList,l=e.groupsListVisible,u=n.length>0,d=0===n.length,p=d&&!this.state.expanded,f=u||p,h=V()({"NestedList-icon":!0,"mr-4":!0,"NestedList-icon--rotated":this.state.expanded});return w.a.createElement("div",{className:"SmartGroups mt-16"},w.a.createElement("div",{className:"NestedList-header"},w.a.createElement("div",{className:"fw-b"},w.a.createElement("span",{className:h,onClick:this.toggleExpand},w.a.createElement(z.a,{name:"triangle_down",customClass:"Icon--small c-brand-gray c-p"})),w.a.createElement("span",{className:"mr-4 c-p",onClick:this.toggleExpand},t("smart_groups.name")),f&&w.a.createElement("span",{className:"h-ci","data-toggle":"tooltip",title:t("smart_groups.description"),"data-placement":"top"},w.a.createElement(z.a,{name:"info",customClass:"NestedList-headerIcon c-brand-gray"}))),f&&s&&w.a.createElement("a",{className:"ButtonWithTooltip fz-base c-p","data-tooltip":t("smart_groups.new")},w.a.createElement("div",null,w.a.createElement(z.a,{name:"add",customClass:"NestedList-headerIcon c-brand-gray fz-bigger",onClick:o})))),this.state.expanded&&w.a.createElement("div",null,d&&w.a.createElement("div",{className:"NestedList-item"},w.a.createElement("div",{className:"mb-8 c-brand-gray-dark"},t("smart_groups.description")),s&&w.a.createElement("button",{type:"button",className:"NewButton NewButton--white mb-8",onClick:o},w.a.createElement(z.a,{name:"add",customClass:"c-brand-gray-dark mr-4"}),t("smart_groups.new"))),w.a.createElement("ul",null,Object(S.sortBy)(n,"name").map(function(e){return w.a.createElement(nM,{group:e,key:e.id,activeGroup:r,updateActiveGroup:a,updateMyOrganization:i,toggleGroupsList:c,groupsListVisible:l})}))))}}]),n}(w.a.Component),aM=function(e){function t(e){var n;return l()(this,t),(n=f()(this,m()(t).call(this,e))).state={value:"",suggestions:[]},n.getSuggestionValue=n.getSuggestionValue.bind(v()(n)),n.renderSuggestion=n.renderSuggestion.bind(v()(n)),n.onSuggestionSelected=n.onSuggestionSelected.bind(v()(n)),n.onSuggestionsFetchRequested=n.onSuggestionsFetchRequested.bind(v()(n)),n.onSuggestionsClearRequested=n.onSuggestionsClearRequested.bind(v()(n)),n.onChange=n.onChange.bind(v()(n)),n}return y()(t,e),d()(t,[{key:"filterSuggestions",value:function(e){var t=this,n=e.trim().toLowerCase();return 0===n.length?[]:this.props.searchables.filter(function(e){return(e[t.props.searchableProperty]||t.props.defaultSearchableProperty).toLowerCase().includes(n.toLowerCase())})}},{key:"onChange",value:function(e,t){var n=t.newValue;this.setState({value:n})}},{key:"onSuggestionsFetchRequested",value:function(e){var t=e.value;this.setState({suggestions:this.filterSuggestions(t)})}},{key:"getSuggestionValue",value:function(e){return e[this.props.searchableProperty]}},{key:"onSuggestionsClearRequested",value:function(){this.setState({suggestions:[],value:""})}},{key:"onSuggestionSelected",value:function(e,t){var n=t.suggestion;this.props.selectionCallback(n),this.setState({value:""})}},{key:"renderSuggestion",value:function(e){var t=this.props.iconProperty&&this.props.iconMappings[e[this.props.iconProperty]];return w.a.createElement("div",null,t&&w.a.createElement("span",null,w.a.createElement(z.a,{name:t,customClass:"mr-4"})),e[this.props.searchableProperty])}},{key:"onKeyDown",value:function(e){13===e.keyCode&&(e.preventDefault(),e.stopPropagation())}},{key:"render",value:function(){var e={value:this.state.value,onChange:this.onChange,placeholder:this.props.placeholder,onKeyDown:this.onKeyDown};return w.a.createElement(On.a,{suggestions:this.state.suggestions,onSuggestionsFetchRequested:this.onSuggestionsFetchRequested,onSuggestionSelected:this.onSuggestionSelected,onSuggestionsClearRequested:this.onSuggestionsClearRequested,getSuggestionValue:this.getSuggestionValue,renderSuggestion:this.renderSuggestion,inputProps:e,focusFirstSuggestion:!0})}}]),t}(w.a.Component),iM=function(e){function n(e){var t;return l()(this,n),(t=f()(this,m()(n).call(this,e))).selectionCallback=t.selectionCallback.bind(v()(t)),t}return y()(n,e),d()(n,[{key:"selectionCallback",value:function(e){this.props.updateActiveGroup(e.id),this.props.groupsListVisible&&this.props.toggleGroupsList()}},{key:"render",value:function(){var e=this.props.groups;return w.a.createElement(aM,{placeholder:t("groups.search"),searchables:Object(S.sortBy)(e,"name"),searchableProperty:"name",defaultSearchableProperty:!0,selectionCallback:this.selectionCallback})}}]),n}(w.a.Component),oM=function(e){function t(){return l()(this,t),f()(this,m()(t).apply(this,arguments))}return y()(t,e),d()(t,[{key:"componentDidUpdate",value:function(){this.props.groupsListVisible&&t.setGroupListHeight()}},{key:"render",value:function(){var e=this.props,t=e.groups,n=e.activeGroup,r=e.updateActiveGroup,a=e.sortedGroups,i=e.createNewRuleBasedGroup,o=e.canEditSmartGroups,s=e.canManageGroups,c=e.hasSmartGroups,l=e.hasSystemGeneratedGroups,u=e.canAddPeople,d=e.toggleGroupsList,p=e.groupsListVisible,f=e.updateMyOrganization,h=e.myOrganization,m=Object(S.get)(a,"Group",[]),g=Object(S.get)(a,"Group::Smart",[]),v=Object(S.get)(a,"Group::SystemGenerated",[]),b=c&&(o||s&&!!g.length),y=u||!!m.length,E=l&&!!v.length,_=V()("LeftSidebar",{"LeftSidebar--modal":p});return w.a.createElement(an,{className:_,disable:p},w.a.createElement("div",{className:"LeftSidebar-search"},w.a.createElement(iM,{groups:t,activeGroup:n,updateActiveGroup:r,toggleGroupsList:d,groupsListVisible:p})),w.a.createElement("div",{className:"LeftSidebar-groupsList"},w.a.createElement(ZA,{groups:t,activeGroup:n,updateActiveGroup:r,toggleGroupsList:d,groupsListVisible:p,myOrganization:h,updateMyOrganization:f}),E&&w.a.createElement(tM,{activeGroup:n,updateActiveGroup:r,myOrganization:h,updateMyOrganization:f,groups:v}),b&&w.a.createElement(rM,{groups:g,customGroups:m,activeGroup:n,updateActiveGroup:r,createNewRuleBasedGroup:i,canEditSmartGroups:o,toggleGroupsList:d,groupsListVisible:p,updateMyOrganization:f}),y&&w.a.createElement(eM,{groups:m,activeGroup:n,updateActiveGroup:r,canAddPeople:u,toggleGroupsList:d,groupsListVisible:p,updateMyOrganization:f})))}}],[{key:"setGroupListHeight",value:function(){var e=document.querySelector(".LeftSidebar-groupsList");if(e){var t=window.innerHeight-e.getBoundingClientRect().top-10;e.style.height=t+"px"}}}]),t}(w.a.Component),sM=Object(le.b)(function(e){return{activeGroup:e.filter.activeGroup,myOrganization:e.filter.myOrganization,canAddPeople:Object(Or.a)(e),hasSmartGroups:Object(Or.i)(e,"smartGroups"),canManageGroups:Object(Or.k)(e,"manageGroups"),canEditSmartGroups:Object(Or.g)(e),hasSystemGeneratedGroups:Object(Or.i)(e,"systemGeneratedGroups")}})(oM),cM=function(){var e;e=N.a.EXPORT_ALL_PEOPLE,C.a.post(N.k.ASYNC_REPORTS_REQUEST,{request_data:{type:e}}).done(function(e){C.a.getScript(N.k.NOTIFICATIONS_LATEST)})},lM=function(e){var t=e.prefix,n=e.label,r=e.href,a=e.iconName,i=e.handleClick,o=e.disabled,s=e.customIconStyles,c=e.customButtonStyles,l=V()("NewButton","NewButton--white","undecorated",{"NewButton--disabled":o}),u=s?"".concat(s," mr-4"):"mr-4",d=c?"".concat(c):l;return r?w.a.createElement("a",{className:d,href:o?null:r},a&&w.a.createElement(z.a,{name:a,customClass:u}),w.a.createElement("span",{className:"u-hideBelowSM"},t)," ",n):w.a.createElement("span",{className:d,onClick:o?null:i},a&&w.a.createElement(z.a,{name:a,customClass:u}),w.a.createElement("span",{className:"u-hideBelowSM"},t)," ",n)},uM=function(e){function n(e){var t;return l()(this,n),(t=f()(this,m()(n).call(this,e))).state={recalculatedAt:t.props.groups[t.props.groupId].recalculatedAt,calculating:t.props.groups[t.props.groupId].calculating,isActive:!1},t.formattedDate=t.formattedDate.bind(v()(t)),t.initRecalculate=t.initRecalculate.bind(v()(t)),t.pollGroupCalculating=t.pollGroupCalculating.bind(v()(t)),t.toggleMenu=t.toggleMenu.bind(v()(t)),t}return y()(n,e),d()(n,[{key:"componentDidMount",value:function(){var e=this.props.groups[this.props.groupId];e.recalculationState||e.calculating||this.initRecalculate(e.id),"in_progress"!==e.recalculationState||e.calculating||this.pollGroupCalculating(e.id)}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this.props.groups[e.groupId];t.id!==this.props.groupId&&this.setState({recalculatedAt:this.props.groups[t.id].recalculatedAt,calculating:this.props.groups[t.id].calculating}),e.recalculationState||e.calculating||this.initRecalculate(e.groupId),"in_progress"!==e.recalculationState||e.calculating||this.pollGroupCalculating(e.groupId)}},{key:"formattedDate",value:function(){return moment(this.state.recalculatedAt).calendar()}},{key:"initRecalculate",value:function(e){var t=this,n=N.k.SMART_GROUPS+"/"+e+"/recalculate";this.setState({calculating:!0,isActive:!1}),this.props.setGroupInMeta({id:e,calculating:!0,recalculationState:"in_progress"}),C.a.post(n).then(function(n){t.pollGroupCalculating(e)}).fail(function(n){t.setState({calculating:!1,isActive:!0}),t.props.setGroupInMeta({id:e,calculating:!1})})}},{key:"pollGroupCalculating",value:function(e){var t=this,n=N.k.SMART_GROUPS+"/"+e+"/recalculated_at";this.setState({calculating:!0}),this.props.setGroupInMeta({id:e,calculating:!0}),C.a.get(n).then(function(e){e.recalculatedAt&&"in_progress"!==e.recalculationState?(t.props.setGroupInMeta({id:e.id,calculating:!1,recalculatedAt:e.recalculatedAt,recalculationState:e.recalculationState}),Number(t.props.groupId)===e.id&&(t.setState({recalculatedAt:e.recalculatedAt,calculating:!1}),t.props.refreshData())):setTimeout(function(){return t.pollGroupCalculating(e.id)},2e3)}).fail(function(n){t.setState({calculating:!1}),t.props.setGroupInMeta({id:e,calculating:!1})})}},{key:"toggleMenu",value:function(){this.state.calculating||this.setState(function(e){return{isActive:!e.isActive}})}},{key:"render",value:function(){var e=this,n=V()("CalculateInformation-icon",{"c-brand-gray-darkest":this.state.isActive});return w.a.createElement("div",{className:"CalculateInformation",onClick:this.toggleMenu},this.state.calculating?w.a.createElement("span",{className:"c-d"},t("smart_groups.calculating")):w.a.createElement("div",null,w.a.createElement("div",{className:"CalculateInformation-buttonText"},t("smart_groups.calculated")," ",this.formattedDate(),w.a.createElement(z.a,{customClass:n,name:"ellipsis-v"})),this.state.isActive&&w.a.createElement(Ut,{styleName:"CalculateInformation-popover",dismissCallback:this.toggleMenu},w.a.createElement("div",{className:"mb-16"},t("smart_groups.recalculate_description")),w.a.createElement(lM,{iconName:"refresh",label:t("smart_groups.recalculate"),handleClick:function(){return e.initRecalculate(e.props.groupId)}}))))}}]),n}(w.a.Component),dM=Object(le.b)(function(e){return{groups:e.data.meta.groups}})(uM),pM=function(e){function t(e){var n;return l()(this,t),(n=f()(this,m()(t).call(this,e))).state={isActive:!1},n.toggleMenu=n.toggleMenu.bind(v()(n)),n.editRulesButton=n.editRulesButton.bind(v()(n)),n.groupDetailsButton=n.groupDetailsButton.bind(v()(n)),n.editGroupMembersButton=n.editGroupMembersButton.bind(v()(n)),n.addNewButtons=n.addNewButtons.bind(v()(n)),n}return y()(t,e),d()(t,[{key:"toggleMenu",value:function(){this.setState(function(e){return{isActive:!e.isActive}})}},{key:"editRulesButton",value:function(){var e=this;return this.props.activeGroupType&&"Group::Smart"===this.props.activeGroupType&&this.props.canEditSmartGroups&&w.a.createElement(lM,{label:"Edit Rules",disabled:this.props.activeGroupCalculating,handleClick:function(){return e.props.editRuleBasedGroup(e.props.activeGroupId)},iconName:"edit"})}},{key:"groupDetailsButton",value:function(){var e;return e=this.props.activeGroupId?this.props.activeGroupId:this.props.everyoneGroupId,(this.props.canExportPeople||this.props.activeGroupId)&&w.a.createElement(lM,{label:"Group Details",disabled:this.props.activeGroupCalculating,href:N.k.GROUPS+"/"+e,iconName:"import"})}},{key:"editGroupMembersButton",value:function(){return"Group"===this.props.activeGroupType&&this.props.canAddPeople&&w.a.createElement(lM,{label:"Edit Group Members",href:N.k.GROUPS+"/"+this.props.activeGroupId+"/edit",iconName:"edit"})}},{key:"addNewButtons",value:function(){var e=this,t="Group::SystemGenerated"===this.props.activeGroupType;return w.a.createElement("div",null,this.props.canAddPeople&&!t&&w.a.createElement(lM,{label:"New Person",href:N.k.NEW_USER,iconName:"add"}),!this.props.activeGroupId&&this.props.canAddPeople&&w.a.createElement(lM,{label:"New Group",href:N.k.NEW_GROUP,iconName:"add"}),!this.props.activeGroupId&&this.props.canEditSmartGroups&&w.a.createElement(lM,{label:"New Smart Group",handleClick:function(t){return e.props.createNewRuleBasedGroup()},iconName:"add"}))}},{key:"render",value:function(){var e=this.props,t=e.activeGroupCalculating,n=e.activeGroupRecalculationState,r=e.activeGroupId,a=e.activeGroupType,i=e.canExportPeople,o=e.refreshData,s=e.setGroupInMeta,c=a&&"Group::Smart"===a,l=V()("d-f ai-c",{ButtonWithTooltip:t});return w.a.createElement("div",{className:"PeopleHeader-buttonContainer"},i&&w.a.createElement("div",{className:"d-f ai-c"},w.a.createElement(lM,{label:"Export All People",handleClick:function(e){return cM()},iconName:"download",customButtonStyles:"u-linkBtn c-p"})),w.a.createElement("div",{className:"Index-newButtonsContainer d-f jc-sb mt-16 u-hideBelowSM"},c&&w.a.createElement("div",{className:l,"data-tooltip":"Editing is disabled while group calculates."},this.editRulesButton(),this.groupDetailsButton(),r&&w.a.createElement(dM,{groupId:r,calculating:t,recalculationState:n,refreshData:o,setGroupInMeta:s})),!c&&w.a.createElement("div",null,this.editGroupMembersButton(),this.groupDetailsButton()),this.addNewButtons()),w.a.createElement("div",{className:"PeopleHeader-buttonContainer--mobile u-showBelowSM"},c&&r&&w.a.createElement(dM,{groupId:r,calculating:t,recalculationState:n,refreshData:o,setGroupInMeta:s}),w.a.createElement("div",{className:"d-f jc-sb"},this.groupDetailsButton(),w.a.createElement("div",{className:"PeopleHeader-actionButton"},w.a.createElement("div",{className:"NewButton NewButton--white NewButton--center undecorated",onClick:this.toggleMenu},"Actions",w.a.createElement(z.a,{name:"ellipsis-v",customClass:"PeopleHeader-actionButtonIcon ml-4 c-brand-gray-dark"})),this.state.isActive&&w.a.createElement(Ut,{dismissCallback:this.toggleMenu},this.editRulesButton(),this.editGroupMembersButton(),this.addNewButtons())))))}}]),t}(w.a.Component),fM=Object(le.b)(function(e){return{canAddPeople:Object(Or.k)(e,"editGroups"),canExportPeople:Object(Or.k)(e,"editAllGroups"),everyoneGroupId:e.data.meta.everyoneGroupId}},function(e){return{refreshData:function(){e(Gr())},setGroupInMeta:function(t){e(Wr(t))}}})(pM),hM=function(e){function n(e){var r;return l()(this,n),r=f()(this,m()(n).call(this,e)),i()(v()(r),"handleClick",function(){r.props.updateActiveGroup(r.id),null===r.id&&r.props.updateMyOrganization(!0)}),r.id=Object(S.get)(r.props.group,"id",null),r.name=Object(S.get)(r.props.group,"name",t("groups.system_generated.title")),r}return y()(n,e),d()(n,[{key:"render",value:function(){return w.a.createElement("a",{className:"c-brand-blue c-p",onClick:this.handleClick},this.name)}}]),n}(E.Component),mM=function(e){function t(){var e,n;l()(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return n=f()(this,(e=m()(t)).call.apply(e,[this].concat(a))),i()(v()(n),"renderGroupNames",function(e){return e.map(function(e,t,r){return r.length-1!==t?w.a.createElement(E.Fragment,{key:e.id},w.a.createElement(hM,{group:e,updateActiveGroup:n.props.updateActiveGroup,updateMyOrganization:n.props.updateMyOrganization}),w.a.createElement(z.a,{name:"chevron_right",customClass:"Icon--small ml-8 mr-8 "})):w.a.createElement(hM,{key:e.id,group:e,updateActiveGroup:n.props.updateActiveGroup,updateMyOrganization:n.props.updateMyOrganization})})}),n}return y()(t,e),d()(t,[{key:"buildPath",value:function(e,t){var n=this.traverseTree(e,t);return n?[e].concat(Z()(n)):[]}},{key:"traverseTree",value:function(e,t){if(e.id&&e.id===t)return[];if(e.children)for(var n=0;n<e.children.length;n+=1){var r=this.traverseTree(e.children[n],t);if(null!==r)return r.unshift(e.children[n]),r}return null}},{key:"render",value:function(){var e=this,t=this.props,n=t.updateActiveGroup,r=t.updateMyOrganization,a=Number(this.props.activeGroup),i=this.props.organization.map(function(t){return e.buildPath(t,a)}).filter(function(e){return e.length})[0];return w.a.createElement("div",{className:"mb-16"},w.a.createElement(hM,{group:null,updateActiveGroup:n,updateMyOrganization:r}),w.a.createElement(z.a,{name:"chevron_right",customClass:"Icon--small ml-8 mr-8 "}),this.renderGroupNames(i))}}]),t}(E.Component),gM=Object(le.b)(function(e){return{organization:e.data.meta.organization,activeGroup:e.filter.activeGroup}},function(e){return{updateActiveGroup:function(t){e(Zr(t))},updateMyOrganization:function(t){e(Jr(t))}}})(mM),vM=768,bM=function(e){function n(){var e,t;l()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return t=f()(this,(e=m()(n)).call.apply(e,[this].concat(a))),i()(v()(t),"handleResize",function(){t.props.groupsListVisible&&window.innerWidth>=vM&&t.toggleGroupsList()}),i()(v()(t),"toggleGroupsList",function(){t.props.groupsListVisible?document.body.style.overflow="visible":(document.body.style.overflow="hidden",document.body.style.height="100vh"),t.props.toggleGroupsList()}),t}return y()(n,e),d()(n,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize)}},{key:"render",value:function(){var e=this.props,n=e.activeGroupCalculating,r=e.activeGroupRecalculationState,a=e.activeGroupName,i=e.activeGroupId,o=e.activeGroupType,s=e.activeGroupCount,c=e.canEditSmartGroups,l=e.canEditAllGroups,u=e.createNewRuleBasedGroup,d=e.editRuleBasedGroup,p=e.isFetching,f=e.groupsListVisible,h=V()("PeopleHeader",{"d-f jc-sb ai-c":!l&&!i&&!f}),m=V()("Index-title",{"Index-title--active d-f ai-c":f}),g="Group::SystemGenerated"===o,v=w.a.createElement("span",{className:"PeopleHeader-titleText"},a||t("groups.everyone.name")," ",!n&&!p&&"(".concat(s,")"));return w.a.createElement("div",{className:h},"invalid"===r&&!f&&w.a.createElement("div",{className:"ErrorContainer ErrorContainer--brandRed d-ib mt-4 mh-34"},w.a.createElement(z.a,{name:"warning_sign",customClass:"mr-4"}),c?t("smart_groups.blank_slates.invalid.description")+" "+t("smart_groups.blank_slates.invalid.description_2"):t("smart_groups.blank_slates.invalid.description"),c&&w.a.createElement("span",{className:"td-u ml-4",onClick:function(e){return d(i)}},"Edit Rules")),g&&w.a.createElement(gM,null),w.a.createElement("h1",{className:V()(m,"u-hideBelowSM")},v),w.a.createElement("h1",{className:V()(m,"u-showBelowSM"),onClick:this.toggleGroupsList},v,w.a.createElement("span",{className:"PeopleHeader-titleTextArrow "},w.a.createElement(z.a,{name:"triangle_down"}))),w.a.createElement(fM,{activeGroupCalculating:n,activeGroupRecalculationState:r,activeGroupId:i,activeGroupType:o,canEditSmartGroups:c,createNewRuleBasedGroup:u,editRuleBasedGroup:d}))}}]),n}(w.a.Component),yM=Object(le.b)(function(e){return{canEditSmartGroups:Object(Or.g)(e),canEditAllGroups:Object(Or.k)(e,"editAllGroups"),activeGroupId:e.filter.activeGroup,activeGroupCount:e.data.totalResults,activeGroupName:e.filter.activeGroup?e.data.meta.groups[e.filter.activeGroup].name:null,activeGroupType:e.filter.activeGroup?e.data.meta.groups[e.filter.activeGroup].type:null,activeGroupCalculating:e.filter.activeGroup?e.data.meta.groups[e.filter.activeGroup].calculating:null,activeGroupRecalculationState:e.filter.activeGroup?e.data.meta.groups[e.filter.activeGroup].recalculationState:null,isFetching:e.data.isFetching,currentUserRole:e.data.meta.currentUser.role}})(bM),EM=Object(le.b)(function(e){return{selectedType:e.filter.type,selectedQuery:e.filter.query,selectedGroups:e.filter.groups.map(function(e){return window.parseInt(e)}),selectedDate:e.filter.date,selectedRole:e.filter.role,selectedManager:e.filter.manager,rolesMetaData:e.data.meta.roles,groupsMetaData:e.data.meta.groups,managersMetadata:e.data.meta.managers,type:e.data.contentType,canEditAllGroups:Object(Or.k)(e,"editAllGroups"),noActiveGroup:!e.filter.activeGroup}},function(e){return{updateType:function(t){var n;e((n=t,Vr(Hr({type:he.f.UPDATE.TYPE,contentType:n}))))},updateGroups:function(t){e($r(t))},updateQuery:function(t){e(Kr(t))},updateDate:function(t){e(Xr(t))},updateRole:function(t){var n;e((n=t,Hr({type:he.f.UPDATE.ROLE,roleId:n})))},updateManager:function(t){e(function(e){return Hr({type:he.f.UPDATE.MANAGER,manager:e})}(t))}}})(function(e){return w.a.createElement(ai.Toolbar,null,"user"===e.type&&e.noActiveGroup&&w.a.createElement(ai.MultiSelect,{data:e.groupsMetaData,label:{plural:"Groups",singular:"Group"},sort:{key:"name",descending:!1},selected:e.selectedGroups,applyCallback:function(t){return e.updateGroups(t)}}),w.a.createElement(ai.DatePicker,{applyCallback:function(t){return e.updateDate(t)},longLabel:"Date Created",startDate:e.selectedDate?e.selectedDate.start:null,endDate:e.selectedDate?e.selectedDate.end:null}),"user"===e.type&&w.a.createElement(ai.Select,{name:"roleFilter",label:"Role",selectedValue:e.selectedRole,selectCallback:function(t){return e.updateRole(t)}},Object(S.sortBy)(e.rolesMetaData,"name").map(function(e){var t=e.id,n=e.name;return w.a.createElement("option",{key:t,value:t},n)})),e.canEditAllGroups&&w.a.createElement(ai.Select,{name:"managedByFilter",label:"Managed By",selectedValue:e.selectedManager,selectCallback:function(t){return e.updateManager(t)}},e.managersMetadata.map(function(e){var t=e.id,n=e.name;return w.a.createElement("option",{key:t,value:t},n)})),w.a.createElement(ai.Search,{value:e.selectedQuery,submitCallback:function(t){return e.updateQuery(t)}}))}),_M=Object(le.b)(function(e,t){return{bulkActionDone:e.bulk.done,visible:Or.v(e),hasError:Or.h(e),success:e.bulk.success,filterIsActive:e.filter.isActive,selectedCount:e.bulk.selected.length,totalResults:e.data.totalResults,loading:Or.n(e),bulkDone:!e.bulk.inProgress&&e.bulk.done,bulkInProgress:e.bulk.inProgress,bulkCount:e.bulk.count,bulkName:e.bulk.name,disabled:Or.t(e),selectedSelf:Or.f(e),currentUser:e.data.meta.currentUser,type:e.data.contentType,hasNonArchivables:!_.isEmpty(Or.q(e)),nonArchivables:Or.q(e),hasExpertUsers:!_.isEmpty(Or.c(e)),expertUsers:Or.c(e)}},function(e){return{clearFilter:function(){return e(zr())},actions:{archive:function(){return e(mc())}}}})(function(e){var t="Are you sure you want to archive ".concat(e.selectedCount," ").concat(Object(Ne.d)(e.selectedCount,"item"),"?"),n=_.extend({label:"Archive",name:"Archive",iconName:"archive",onClickKey:"archive",modalTitle:"Archive Content",modalMessage:t,modalConfirmButton:"Yes, archive"},"user"===e.type&&e.selectedSelf?{modalMessage:"Sorry, ".concat(e.currentUser.name,", we are unable to processs this action because you cannot archive yourself."),modalConfirmButton:!1}:{},"group"===e.type&&e.hasNonArchivables?{modalMessage:[w.a.createElement("p",{key:"1"},"We are unable to processs this action because the following ".concat(Object(Ne.d)(e.nonArchivables.length,"group")," cannot be archived:")),w.a.createElement("ul",{key:"2"},e.nonArchivables.map(function(e){return w.a.createElement("li",{key:e.id},e.name)}))],modalConfirmButton:!1}:{},"user"===e.type&&e.hasExpertUsers&&!e.selectedSelf?{modalMessage:[w.a.createElement("p",{key:"1"},t),w.a.createElement("ul",{key:"2"},e.expertUsers.map(function(e){return w.a.createElement("li",{key:e.id},"".concat(e.name," is an expert of ").concat(e.expertCount," ").concat(Object(Ne.d)(e.expertCount,"lesson")))}))]}:{});return w.a.createElement(za,H()({},e,{buttons:[n]}))}),wM=r(711),SM=r.n(wM),kM=r(457),CM=r.n(kM),NM=r(712),OM=r.n(NM),xM=r(713),TM=r.n(xM),RM=function(e){var n=e.activeGroupType&&"Group::Smart"===e.activeGroupType,r=e.activeGroupType&&"Group"===e.activeGroupType;return n&&!e.hasActiveFilters?{image:CM.a,title:t("smart_groups.blank_slates.empty_group.title"),description:t("smart_groups.blank_slates.empty_group.description"),additionalDescription:w.a.createElement(dM,{groupId:e.activeGroupId,calculating:e.activeGroupCalculating,refreshData:e.refreshData,setGroupInMeta:e.setGroupInMeta})}:r&&!e.hasActiveFilters?{image:CM.a,title:t("groups.blank_slates.is_empty.title"),description:t("groups.blank_slates.is_empty.description"),additionalDescription:e.canAddPeople&&w.a.createElement(lM,{prefix:"Add Learners",label:"to This Group",href:N.k.GROUPS+"/"+e.activeGroupId+"/edit",customButtonStyles:"NewBlankSlate-button"})}:{title:"Bueller? Bueller?",image:SM.a,additionalDescription:w.a.createElement("span",null,"Perhaps you’re looking for someone in the"," ",w.a.createElement("a",{className:"target",href:N.k.ARCHIVES},"archive"),"?")}},PM=function(e){var n=t("smart_groups.blank_slates.invalid.description"),r=n+" "+t("smart_groups.blank_slates.invalid.description_2");return{title:t("smart_groups.blank_slates.invalid.title"),image:gi.a,description:e.canEditSmartGroups?r:n,additionalDescription:e.canEditSmartGroups&&w.a.createElement(lM,{prefix:"Edit",label:"Rules",handleClick:function(t){return e.editRuleBasedGroup(e.activeGroupId)},iconName:"edit",customIconStyles:"c-brand-gray-dark",customButtonStyles:"NewBlankSlate-button"})}},IM=function(e){return{image:TM.a,title:t("groups.blank_slates.do_not_manage_people"),description:e.canAddPeople&&w.a.createElement("div",null,w.a.createElement(lM,{label:"Add New Person",href:N.k.NEW_USER,customButtonStyles:"NewBlankSlate-button mr-8",customIconStyles:"c-brand-gray-dark"}),w.a.createElement(lM,{label:"Add New Group",href:N.k.NEW_GROUP,customButtonStyles:"NewBlankSlate-button mr-8",customIconStyles:"c-brand-gray-dark"}))}},AM=Object(le.b)(function(e){return{activeGroupCalculating:e.filter.activeGroup?e.data.meta.groups[e.filter.activeGroup].calculating:null,activeGroupId:e.filter.activeGroup,activeGroupType:e.filter.activeGroup?e.data.meta.groups[e.filter.activeGroup].type:null,invalidSmartGroup:e.filter.activeGroup?"invalid"===e.data.meta.groups[e.filter.activeGroup].recalculationState:null,canAddPeople:Object(Or.a)(e),canEditSmartGroups:Object(Or.g)(e),hasActiveFilters:e.filter.isActive}},function(e){return{refreshData:function(){e(Gr())},setGroupInMeta:function(t){e(Wr(t))}}})(function(e){var n={hasFailed:{icon:"".concat(N.k.ASSETS_BLANK_SLATES,"/users_danger.svg")},noResults:RM(e),noContent:IM(e),isCalculating:{title:t("smart_groups.blank_slates.calculating.title"),image:OM.a,description:t("smart_groups.blank_slates.calculating.description")},invalidSmartGroup:PM(e)};return w.a.createElement(Ni,H()({},e,{blankSlates:n,tableHeaders:cp}))}),MM=function(e){e.role;var t=e.name;return w.a.createElement("span",{className:"RoleTag"},t)},DM=function(e){return R()({},e,{url:"?groups[]=".concat(e.id)})},jM=Object(le.b)(function(){var e=Object(Or.x)(),t=Object(Or.y)();return function(n,r){var a=r.role,i=r.groups,o=r.type;return{role:"user"===o&&t(n,a),userGroups:"user"===o&&e(n,i),canEditPeople:Object(Or.a)(n)}}},function(e){return{filterByGroup:function(t){e(Vr($r([t])))}}})(function(e){var t=e.name,n=e.urls,r=e.type,a=(e.usersCount,e.users),i=(e.description,e.groups,e.userGroups),o=e.role,s=e.filterByGroup,c=e.canEditPeople;return w.a.createElement(ci,{size:"xl",name:"name",split:!0},w.a.createElement("div",null,w.a.createElement("a",{className:"Index-tablePrimaryField",href:n.overview},t),w.a.createElement("div",{className:"Index-tableSecondaryField"},"group"===r&&w.a.createElement("span",null,"".concat(a," ").concat(Object(Ne.d)(a,"User","Users"))),"user"===r&&w.a.createElement("div",null,w.a.createElement(MM,o)),!_.isEmpty(i)&&w.a.createElement(Gd,{data:i.map(DM),valueKey:"name",label:{plural:"Groups",singular:"Group"},icon:"group",onItemClick:s}))),w.a.createElement("div",{className:"IndexAction-container"},c&&n.edit&&w.a.createElement("a",{className:"IndexAction-button IndexAction-button--square",target:"blank",href:n.edit},w.a.createElement(z.a,{name:"edit"}))))}),LM=function(e){var t=e.averageScore;return w.a.createElement(ci,{size:"s",name:"average-score",hideBelowMD:!0,center:!0},t?"".concat(parseInt(t,10),"%"):"-")},FM=function(e){var t=e.recentActivity;return w.a.createElement(ci,{size:"s",name:"recent-activity",hideBelowMD:!0,center:!0},t?moment(t).format(L.MONTH_DAY_YEAR_SHORT):"N/A")},BM=function(e){var t=e.lastCompleted,n=t?moment(t):null;return w.a.createElement(ci,{size:"s",name:"last-completed",title:n?n.format(L.MONTH_DAY_YEAR_SHORT):null,hideBelowMD:!0,center:!0},n?n.fromNow():"-")},UM=function(e){return w.a.createElement(si,{index:e.index},w.a.createElement(jM,e),w.a.createElement(Qd,{lastModified:e.lastModified}),w.a.createElement(LM,{averageScore:e.stats.averageScore}),w.a.createElement(FM,e.stats),w.a.createElement(BM,e.stats))},HM=Object(le.b)(function(e){return{data:e.data.content,type:e.data.contentType}})(function(e){var t=e.data,n=e.type;return w.a.createElement("div",{className:"Content-tableBody Table-body"},t.map(function(e,t){return w.a.createElement(UM,H()({key:t,index:t,type:n},e))}))}),qM=function(e){function n(e){var t;return l()(this,n),(t=f()(this,m()(n).call(this,e))).handleSelection=t.handleSelection.bind(v()(t)),t}return y()(n,e),d()(n,[{key:"handleSelection",value:function(e){var t=e.target.value.split("|"),n=t[0],r=t[1]?Number(t[1]):null;this.props.setOperator(n,r)}},{key:"render",value:function(){var e=this.props,r=e.name,a=e.groupedFields;return w.a.createElement("select",{className:"Rule-select",value:r||"",onChange:this.handleSelection},w.a.createElement("option",{disabled:!0,value:""},t("smart_groups.create_modal.choose_rule_type")),Object.keys(a).map(function(e){return w.a.createElement("optgroup",{label:e,key:e},a[e].map(function(e){return w.a.createElement("option",{key:n.optionValue(e),value:n.optionValue(e)},e.humanName)}))}))}}],[{key:"optionValue",value:function(e){return e.relatedObjectId?e.name+"|"+e.relatedObjectId:e.name}}]),n}(w.a.Component),GM=function(e){function n(e){var t;return l()(this,n),(t=f()(this,m()(n).call(this,e))).handleSelection=t.handleSelection.bind(v()(t)),t}return y()(n,e),d()(n,[{key:"handleSelection",value:function(e){this.props.setInputType(e.target.value)}},{key:"render",value:function(){var e=this.props,n=e.operator,r=e.data;return w.a.createElement("select",{className:"Rule-select",value:null!==n?n:"",onChange:this.handleSelection},w.a.createElement("option",{disabled:!0,value:""},t("smart_groups.create_modal.select_operator")),Object.keys(r).map(function(e){return w.a.createElement("option",{key:e,value:e},r[e])}))}}]),n}(w.a.Component),WM=function(e){function n(e){var t;return l()(this,n),(t=f()(this,m()(n).call(this,e))).handleSelection=t.handleSelection.bind(v()(t)),t}return y()(n,e),d()(n,[{key:"handleSelection",value:function(e){this.props.onChange({value:e.target.value,recalculationErrors:null})}},{key:"render",value:function(){var e=this.props,n=e.groups,r=e.value;return w.a.createElement("select",{className:"Rule-select",value:r||"",onChange:this.handleSelection},w.a.createElement("option",{disabled:!0,value:""},t("groups.select")),Object(S.sortBy)(n,"name").map(function(e){return w.a.createElement("option",{key:e.id,value:e.id},e.name)}))}}]),n}(w.a.Component),VM=function(e){function n(e){var t;return l()(this,n),(t=f()(this,m()(n).call(this,e))).handleSelection=t.handleSelection.bind(v()(t)),t}return y()(n,e),d()(n,[{key:"handleSelection",value:function(e){this.props.onChange({value:e.target.value})}},{key:"render",value:function(){var e=this.props,n=e.field,r=e.valueOptions,a=e.value;return w.a.createElement("select",{className:"Rule-select",onChange:this.handleSelection,value:a||""},w.a.createElement("option",{disabled:!0,value:""},t("smart_groups.create_modal.select_a")," ",n.humanName),r.map(function(e){return w.a.createElement("option",{key:e.value,value:e.value},e.name)}))}}]),n}(w.a.Component),zM=function(e){function n(){return l()(this,n),f()(this,m()(n).apply(this,arguments))}return y()(n,e),d()(n,[{key:"render",value:function(){var e=this.props,n=e.last,r=e.addNewRuleSet,a=V()("tt-u",{"mr-4 ml-4":n});return w.a.createElement("button",{type:"button",disabled:!n,className:"RuleDivider-button"},n&&w.a.createElement(z.a,{name:"add"}),w.a.createElement("span",{className:"ml-4 RuleDivider-hoverText"},t("common.add")),w.a.createElement("span",{className:a},r?t("common.and"):t("common.or")),w.a.createElement("span",{className:"RuleDivider-hoverText"},t("smart_groups.create_modal.rule")))}}]),n}(w.a.Component),YM=function(e){function t(e){var n;return l()(this,t),(n=f()(this,m()(t).call(this,e))).handleClick=n.handleClick.bind(v()(n)),n}return y()(t,e),d()(t,[{key:"handleClick",value:function(){this.props.last&&this.props.addNewRule?this.props.addNewRule(this.props.ruleSetIndex):this.props.last&&this.props.addNewRuleSet&&this.props.addNewRuleSet()}},{key:"render",value:function(){var e=this.props,t=e.last,n=e.addNewRuleSet,r=e.addNewRule,a=V()("RuleDivider",{"ml-16":t&&r,"mr-16":t&&r,"mt-16":n,"mb-16":n,"RuleDivider--hoverStyles":t}),i=V()("RuleDivider-line",{"RuleDivider-lineHover":t,"RuleDivider-line--large":r,"RuleDivider-line--extraLarge":n});return w.a.createElement("div",{className:a,onClick:this.handleClick},!t&&w.a.createElement("div",{className:"RuleDivider-line RuleDivider-line--small"}),w.a.createElement(zM,{last:t,addNewRuleSet:n}),w.a.createElement("div",{className:i}))}}]),t}(w.a.Component),QM=function(e){function n(e){var t;return l()(this,n),(t=f()(this,m()(n).call(this,e))).dateSelected=t.dateSelected.bind(v()(t)),t}return y()(n,e),d()(n,[{key:"dateSelected",value:function(e){this.props.onChange(i()({},this.props.stateKey,moment.utc(e.format("YYYY MM DD"),"YYYY MM DD")))}},{key:"render",value:function(){return w.a.createElement("span",{className:"Rule-input Rule-datePicker"},w.a.createElement(M.a,{className:"NewInput NewInput--white",dateFormat:"MM/DD/YYYY",onChange:this.dateSelected,placeholderText:t("common.date_format"),selected:this.props.selected}))}}]),n}(w.a.Component),KM=function(e){function n(e){var t;return l()(this,n),(t=f()(this,m()(n).call(this,e))).handleUnitNumberInput=t.handleUnitNumberInput.bind(v()(t)),t.handleUnitSelection=t.handleUnitSelection.bind(v()(t)),t}return y()(n,e),d()(n,[{key:"handleUnitNumberInput",value:function(e){this.props.onChange({unitNumber:e.target.value})}},{key:"handleUnitSelection",value:function(e){this.props.onChange({unit:e.target.value})}},{key:"render",value:function(){var e=this.props,n=e.unitNumber,r=e.units;return w.a.createElement("span",null,w.a.createElement("input",{className:"Rule-input Rule-dateInput NewInput NewInput--white",onChange:this.handleUnitNumberInput,min:"0",max:"999",value:n||"",type:"number",style:{width:this.determineWidth}}),w.a.createElement("select",{className:"Rule-select",onChange:this.handleUnitSelection,value:this.props.unit||""},w.a.createElement("option",{disabled:!0,value:""},t("smart_groups.create_modal.timeframe_placeholder")),Object.keys(r).map(function(e){return w.a.createElement("option",{key:e,value:r[e]},r[e],"(s)")})))}}]),n}(w.a.Component),XM=function(e){function t(e){var n;return l()(this,t),(n=f()(this,m()(t).call(this,e))).state={field:null,operatorData:null,showInput:!1},n.useData=n.useData.bind(v()(n)),n.setOperator=n.setOperator.bind(v()(n)),n.setInputType=n.setInputType.bind(v()(n)),n.deleteRule=n.deleteRule.bind(v()(n)),n.validateRule=n.validateRule.bind(v()(n)),n.updateRuleState=n.updateRuleState.bind(v()(n)),n}return y()(t,e),d()(t,[{key:"useData",value:function(){var e=this,t=this.props,n=t.rule,r=t.builderRules,a=Object(S.find)(r.fields,{name:n.name}),i=r.operators[a.dataType],o=(null!==n.value||n.operator.match(/not|within|between/))&&"user_role"!==n.name&&"user_locale"!==n.name;this.setState({field:a,operatorData:i,showInput:o},function(){return e.updateRuleState(e.props.rule)})}},{key:"deleteRule",value:function(){this.props.removeRule(this.props.ruleIndex,this.props.ruleSetIndex)}},{key:"setOperator",value:function(e,t){var n=this.props.builderRules,r=Object(S.find)(n.fields,{name:e,relatedObjectId:t}),a=n.operators[r.dataType],i={name:e,relatedObjectId:t,operator:r.valueOptions?"equalTo":null,value:null,startsAt:null,endsAt:null,unitNumber:null,unit:null,recalculationErrors:null};this.setState({field:r,operatorData:a,showInput:!1}),t&&(i.relatedObjectId=t),this.updateRuleState(i)}},{key:"setInputType",value:function(e){var t="isEmpty"!==e&&"isNotEmpty"!==e&&!this.state.field.valueOptions,n={operator:e,startsAt:null,endsAt:null},r=["withinNext","withinLast","notWithinLast"].includes(e);t&&!r&&"between"!==e||(n.value=null),r||(n.unitNumber=null,n.unit=null),this.setState({showInput:t}),this.updateRuleState(n)}},{key:"validateRule",value:function(e){var t=Object(S.merge)(this.props.rule,e);return!t.recalculationErrors&&(["withinNext","withinLast","notWithinLast"].includes(t.operator)?!!t.unit&&!!t.unitNumber:!!["isEmpty","isNotEmpty"].includes(t.operator)||("between"===t.operator?!!t.startsAt&&!!t.endsAt:["group_manager","group_membership"].includes(t.name)?!!Object(S.find)(this.props.customGroups,["id",t.value]):null!==t.value&&(["date","time"].includes(this.state.field.dataType)?moment.utc(t.value).isValid():"custom_field"===t.name?!!t.relatedObjectId:t.value.trim().length>0)))}},{key:"updateRuleState",value:function(e){var t=this.props,n=t.ruleIndex,r=t.ruleSetIndex,a=t.updateRule;e.valid=this.validateRule(e),a(n,r,e)}},{key:"componentDidMount",value:function(){this.props.rule.name&&this.useData()}},{key:"render",value:function(){var e=this,t=this.props,n=t.rule,r=t.last,a=t.addNewRule,i=t.ruleSetIndex,o=t.ruleIndex,s=t.lastRuleSet,c=t.builderRules,l=t.customGroups,u=Object(S.groupBy)(c.fields,"category"),d=0===o&&0===i&&r&&s,p=["withinNext","withinLast","notWithinLast"].includes(n.operator);return w.a.createElement("div",null,w.a.createElement("div",{className:"Rule d-f ai-c jc-sb"},w.a.createElement("div",null,w.a.createElement(qM,{name:qM.optionValue(n),groupedFields:u,setOperator:this.setOperator}),this.state.operatorData&&w.a.createElement("span",null,!this.state.field.valueOptions&&w.a.createElement(GM,{data:this.state.operatorData,field:this.state.field,operator:n.operator,setInputType:this.setInputType}),this.state.field.valueOptions&&w.a.createElement(VM,{field:this.state.field,valueOptions:this.state.field.valueOptions,onChange:this.updateRuleState,value:n.value})),this.state.showInput&&w.a.createElement("span",null,"string"===this.state.field.dataType&&w.a.createElement("input",{value:n.value||"",className:"Rule-input NewInput NewInput--white",onChange:function(t){return e.updateRuleState({value:t.target.value})}}),["group_manager","group_membership"].includes(this.state.field.name)&&w.a.createElement(WM,{groups:l,onChange:this.updateRuleState,value:n.value}),["date","time"].includes(this.state.field.dataType)&&!p&&w.a.createElement("span",null,"between"!==n.operator&&w.a.createElement(QM,{stateKey:"value",selected:moment.utc(n.value).isValid()?moment.utc(n.value):"",onChange:this.updateRuleState}),"between"===n.operator&&w.a.createElement("span",null,w.a.createElement(QM,{stateKey:"startsAt",selected:moment.utc(n.startsAt).isValid()?moment.utc(n.startsAt):"",onChange:this.updateRuleState}),w.a.createElement("span",{className:"mr-8 ml-8 fz-bigger"},"and"),w.a.createElement(QM,{stateKey:"endsAt",selected:moment.utc(n.endsAt).isValid()?moment.utc(n.endsAt):"",onChange:this.updateRuleState}))),p&&w.a.createElement(KM,{units:c.units,unit:n.unit,unitNumber:n.unitNumber,onChange:this.updateRuleState}))),!d&&w.a.createElement(z.a,{name:"error",customClass:"Rule-deleteBtn",onClick:this.deleteRule})),n.recalculationErrors&&n.recalculationErrors.map(function(e,t){return w.a.createElement("span",{className:"ErrorContainer ErrorContainer--brandRed Animated--fadeOut d-ib ml-16",key:n.id},w.a.createElement(z.a,{name:"warning_sign",customClass:"mr-8"}),e)}),w.a.createElement(YM,{last:r,addNewRule:a,ruleSetIndex:i}))}}]),t}(w.a.Component),$M=function(e){function t(){return l()(this,t),f()(this,m()(t).apply(this,arguments))}return y()(t,e),d()(t,[{key:"render",value:function(){var e=this.props,t=e.addNewRule,n=e.addNewRuleSet,r=e.customGroups,a=e.last,i=e.ruleSetIndex,o=e.ruleSet,s=e.removeRule,c=e.updateRule,l=e.builderRules;return w.a.createElement("div",null,w.a.createElement("div",{className:"RuleSet"},o.rules.map(function(e,n){return w.a.createElement(XM,{customGroups:r,addNewRule:t,key:e.id?e.id:e.key,last:n===o.rules.length-1,ruleIndex:n,ruleSetIndex:i,removeRule:s,lastRuleSet:a,updateRule:c,rule:e,builderRules:l})})),w.a.createElement(YM,{addNewRuleSet:n,last:a}))}}]),t}(w.a.Component),ZM=function(e){return w.a.createElement("div",{className:"Placeholder-text",style:{width:"".concat(e.width,"%")}})},JM=function(e){return w.a.createElement("div",{className:"Placeholder-input mr-8",style:{width:"".concat(e.width,"%")}},w.a.createElement(ZM,{width:e.textWidth}))},eD=function(e){return w.a.createElement("div",{className:"Rule d-f"},w.a.createElement(JM,{width:"30",textWidth:e.textWidth1}),w.a.createElement(JM,{width:e.inputWidth,textWidth:e.textWidth2}),w.a.createElement(JM,{width:"30",textWidth:e.textWidth3}))},tD=w.a.createElement("div",{className:"RuleDivider-line mt-16 mb-16"}),nD=function(e){return w.a.createElement("div",null,w.a.createElement("div",{className:"RuleSet"},w.a.createElement(eD,{textWidth1:"75",textWidth2:"50",textWidth3:"60",inputWidth:"15"}),tD,w.a.createElement(eD,{textWidth1:"25",textWidth2:"65",textWidth3:"40",inputWidth:"35"}),tD,w.a.createElement(eD,{textWidth1:"45",textWidth2:"35",textWidth3:"80",inputWidth:"25"}),tD),tD)},rD=function(e){function n(){return l()(this,n),f()(this,m()(n).apply(this,arguments))}return y()(n,e),d()(n,[{key:"render",value:function(){var e=this.props.editing;return w.a.createElement("div",null,w.a.createElement("div",{className:"ModalTakeover-header"},w.a.createElement("div",{className:"ModalTakeover-title"},e?t("smart_groups.create_modal.edit_title"):t("smart_groups.create_modal.new_title")),w.a.createElement("div",{className:"mb-8"},t("groups.group_name")),w.a.createElement(JM,{width:"100",textWidth:"35"})),w.a.createElement("div",{className:"ModalTakeover-main"},w.a.createElement("div",{className:"fz-bigger mb-32 c-brand-gray-darker"},t("smart_groups.create_modal.instructions")),w.a.createElement(nD,null),w.a.createElement("div",{className:"ModalTakeover-buttonContainer d-f ai-fe jc-sb"},w.a.createElement("div",{className:"ModalTakeover-buttons ml-a"},w.a.createElement("button",{type:"button",className:Object(Cu.a)("NewButton",["tallAndWide","flat"]),disabled:!0},t("common.cancel")),w.a.createElement("button",{type:"button",className:Object(Cu.a)("NewButton",["tallAndWide","blue"]),disabled:!0},e?t("groups.save_group"):t("groups.create_group"))))))}}]),n}(w.a.Component),aD=function(e){function n(e){var t;return l()(this,n),(t=f()(this,m()(n).call(this,e))).state={name:null,submitEnabled:!1,ruleSets:[t.ruleSetObject()],loading:!0,nameError:null,networkError:null,errorTooltip:null,hasActiveTriggers:!1},t.fetchData=t.fetchData.bind(v()(t)),t.validateGroup=t.validateGroup.bind(v()(t)),t.onTitleChange=t.onTitleChange.bind(v()(t)),t.addNewRule=t.addNewRule.bind(v()(t)),t.updateRule=t.updateRule.bind(v()(t)),t.ruleSetObject=t.ruleSetObject.bind(v()(t)),t.addNewRuleSet=t.addNewRuleSet.bind(v()(t)),t.saveRuleBasedGroup=t.saveRuleBasedGroup.bind(v()(t)),t.removeRule=t.removeRule.bind(v()(t)),t}return y()(n,e),d()(n,[{key:"fetchData",value:function(){var e=this,t=N.k.SMART_GROUPS+"/"+(this.props.activeGroup||"");C.a.get(t).then(function(t){e.props.editing?e.setState({name:t.data.name,id:t.data.id,ruleSets:t.data.ruleSets,loading:!1,builderRules:t.meta,hasActiveTriggers:t.data.hasActiveTriggers},e.validateGroup):e.setState({loading:!1,builderRules:t.meta},e.validateGroup)})}},{key:"validateGroup",value:function(){var e,n=this.props.editing,r=!!this.state.name&&this.state.name.trim().length>0,a=Object(me.flattenDeep)(this.state.ruleSets.map(function(e){return e.rules.map(function(e){return e})})),i=a.filter(function(e){return!0===e.valid}),o=i.length!==a.length;r&&(r||n)?r&&!n&&0===i.length?e=t("smart_groups.create_modal.no_rules_tooltip"):o&&(e=t("smart_groups.create_modal.invalid_rules_tooltip")):e=t("smart_groups.create_modal.add_name_tooltip"),this.setState({errorTooltip:e,submitEnabled:r&&!o})}},{key:"onTitleChange",value:function(e){this.setState({name:e.target.value,nameError:null},this.validateGroup)}},{key:"addNewRule",value:function(e){var t=this;this.setState(function(n){return{ruleSets:Cc()(n.ruleSets,i()({},e,{rules:{$push:[t.constructor.ruleObject()]}}))}},this.validateGroup)}},{key:"updateRule",value:function(e,t,n){this.setState(function(r){return{ruleSets:Cc()(r.ruleSets,i()({},t,{rules:i()({},e,{$merge:n})}))}},this.validateGroup)}},{key:"removeRule",value:function(e,t){var n=this.state.ruleSets,r=this.state.ruleSets[t];r.rules.length>1?this.setState({ruleSets:Cc()(n,i()({},t,{rules:{$set:[].concat(Z()(r.rules.slice(0,e)),Z()(r.rules.slice(e+1)))}}))},this.validateGroup):n.length>1&&this.setState({ruleSets:[].concat(Z()(n.slice(0,t)),Z()(n.slice(t+1)))},this.validateGroup)}},{key:"ruleSetObject",value:function(){return{key:Object(me.uniqueId)("ruleSet"),rules:[this.constructor.ruleObject()]}}},{key:"addNewRuleSet",value:function(){var e=this;this.setState(function(t){return{ruleSets:[].concat(Z()(t.ruleSets),[e.ruleSetObject()])}},this.validateGroup)}},{key:"saveRuleBasedGroup",value:function(){var e=this,n={name:this.state.name,ruleSets:this.state.ruleSets};this.setState({submitEnabled:!1}),this.props.editing?C.a.putJSON(N.k.SMART_GROUPS+"/"+this.props.activeGroup,n).then(function(t){t.success?(e.props.setGroupInMeta({name:e.state.name,id:e.state.id,recalculationState:null}),e.props.updateActiveGroup(e.state.id),e.props.closeModal()):t.errors.group.startsWith("Name")?e.setState({nameError:t.errors.group}):alert(t.errors.group)}).fail(function(n){e.setState({networkError:t("smart_groups.create_modal.save_error")})}):C.a.postJSON(N.k.SMART_GROUPS,n).then(function(t){t.success?(e.props.setGroupInMeta({name:e.state.name,type:"Group::Smart",id:t.id}),e.props.updateActiveGroup(t.id),e.props.closeModal()):t.errors.group.startsWith("Name")?e.setState({nameError:t.errors.group}):alert(t.errors.group)}).fail(function(n){e.setState({networkError:t("smart_groups.create_modal.create_error")})})}},{key:"componentDidMount",value:function(){this.fetchData()}},{key:"render",value:function(){var e=this,n=this.props,r=n.closeModal,a=n.editing,i=n.customGroups,o=this.state,s=o.name,c=o.networkError,l=o.nameError,u=o.loading,d=o.ruleSets,p=o.submitEnabled,f=o.errorTooltip,h=o.hasActiveTriggers;return w.a.createElement(Bs.a,{className:"ModalTakeover-background Modal-background",onEscape:r},w.a.createElement("div",{className:"ModalTakeover-container"},w.a.createElement("div",{className:"ModalTakeover-closeButton",onClick:r},w.a.createElement(z.a,{name:"error"})),u&&w.a.createElement(rD,{editing:a}),!u&&w.a.createElement("div",null,w.a.createElement("div",{className:"ModalTakeover-header"},w.a.createElement("div",{className:"ModalTakeover-title"},a?t("smart_groups.create_modal.edit_title"):t("smart_groups.create_modal.new_title")),w.a.createElement("div",{className:"mb-8"},t("groups.group_name")),w.a.createElement("input",{className:"NewInput NewInput--white NewInput--fw ModalTakeover-nameInput",onChange:this.onTitleChange,placeholder:t("smart_groups.create_modal.name_placeholder"),type:"text",value:s||""}),l&&w.a.createElement("span",{className:"ErrorContainer ErrorContainer--brandRed Animated--fadeIn d-ib mt-8 mb-0"},w.a.createElement(z.a,{name:"warning_sign",customClass:"mr-8"}),l)),w.a.createElement("div",{className:"ModalTakeover-main"},w.a.createElement("div",{className:"fz-bigger mb-32 c-brand-gray-darker"},t("smart_groups.create_modal.instructions")),d.map(function(t,n){return w.a.createElement($M,{addNewRule:e.addNewRule,addNewRuleSet:e.addNewRuleSet,customGroups:i,editing:a,ruleSetIndex:n,key:a?n:t.key,last:n===d.length-1,ruleSet:t,removeRule:e.removeRule,updateRule:e.updateRule,builderRules:e.state.builderRules})}),h&&w.a.createElement("div",{className:"d-f jc-sb mb-12 mt-12 c-red"},w.a.createElement(z.a,{name:"warning_sign",customClass:"mr-16 fz-h2"}),w.a.createElement("div",null,t("smart_groups.create_modal.trigger_warning"))),w.a.createElement("div",{className:"ModalTakeover-buttonContainer d-f ai-fe jc-sb"},c&&w.a.createElement("span",{className:"ErrorContainer ErrorContainer--brandRed Animated--fadeIn d-ib mt-8 mb-0"},w.a.createElement(z.a,{name:"warning_sign",customClass:"mr-8"}),c),w.a.createElement("div",{className:"ModalTakeover-buttons ml-a"},w.a.createElement("button",{type:"button",onClick:r,className:Object(Cu.a)("NewButton",["tallAndWide","flat"])},t("common.cancel")),Object(we.b)({text:f,inline:!0})(w.a.createElement("button",{type:"button",onClick:this.saveRuleBasedGroup,className:Object(Cu.a)("NewButton",["tallAndWide","blue"]),disabled:!p||l},a?t("groups.save_group"):t("groups.create_group")))))))))}}],[{key:"ruleObject",value:function(){return{name:null,key:Object(me.uniqueId)("rule")}}}]),n}(w.a.Component),iD=function(e){function t(){return l()(this,t),f()(this,m()(t).apply(this,arguments))}return y()(t,e),d()(t,[{key:"render",value:function(){return w.a.createElement(ts.a,null,w.a.createElement(aD,{toggleModal:this.props.toggleModal,customGroups:this.props.customGroups,activeGroup:this.props.activeGroup,editing:!!this.props.activeGroup,closeModal:this.props.closeModal,updateActiveGroup:this.props.updateActiveGroup,setGroupInMeta:this.props.setGroupInMeta}))}}]),t}(w.a.Component),oD=function(e){function t(e){var n;return l()(this,t),n=f()(this,m()(t).call(this,e)),i()(v()(n),"toggleExpand",function(){n.setState(function(e){return{expanded:!e.expanded}})}),i()(v()(n),"handleClick",function(){n.props.updateActiveGroup(n.props.data.id),n.props.updateMyOrganization(!1)}),n.state={expanded:!0},n}return y()(t,e),d()(t,[{key:"render",value:function(){var e=this,n=this.props.data,r=n.name,a=n.children,i=n.member_count,o=n.id,s=a.length>0,c=V()({"NestedList-icon":!0,"ml-4":!0,"NestedList-icon--rotated":this.state.expanded}),l=V()({"Tree-node--hidden":!this.state.expanded}),u=V()({"Tree-nodeList":!0,"Tree-root":o===this.props.root}),d=[];return s&&(d=a.map(function(n){return w.a.createElement("li",{key:n.id},w.a.createElement(t,{data:n,updateMyOrganization:e.props.updateMyOrganization,updateActiveGroup:e.props.updateActiveGroup,root:e.props.root}))})),w.a.createElement("div",{className:u},s&&w.a.createElement("span",{className:c,onClick:this.toggleExpand},w.a.createElement(z.a,{name:"triangle_down",customClass:"Icon--small c-brand-gray c-p"})),!s&&w.a.createElement("div",{className:"Tree-filler"}),w.a.createElement("a",{onClick:this.handleClick},r," (",i,")"),s&&w.a.createElement("ul",{className:l},d))}}]),t}(E.Component),sD=function(e){function n(){var e,r;l()(this,n);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return r=f()(this,(e=m()(n)).call.apply(e,[this].concat(o))),i()(v()(r),"renderHeader",function(){return w.a.createElement("div",{className:"PeopleHeader"},w.a.createElement("h1",{className:"Index-title"},w.a.createElement("span",{className:"PeopleHeader-titleText"},t("groups.system_generated.title"))),w.a.createElement("p",{className:"PeopleHeader-description"},t("groups.system_generated.description")),w.a.createElement("p",{className:"PeopleHeader-description"},t("groups.system_generated.directions")))}),i()(v()(r),"renderTrees",function(e){return e.map(function(e){return w.a.createElement(oD,{updateActiveGroup:r.props.updateActiveGroup,updateMyOrganization:r.props.updateMyOrganization,data:e,root:e.id,key:e.id})})}),r}return y()(n,e),d()(n,[{key:"render",value:function(){return w.a.createElement(w.a.Fragment,null,this.renderHeader(),this.renderTrees(this.props.organization))}}]),n}(E.Component),cD=Object(le.b)(function(e){return{organization:e.data.meta.organization}})(sD),lD=function(e){function t(e){var n;return l()(this,t),(n=f()(this,m()(t).call(this,e))).state={modalVisible:e.editing,activeGroup:e.editing?e.activeGroup:null,groupsListVisible:!1},n.createNewRuleBasedGroup=n.createNewRuleBasedGroup.bind(v()(n)),n.editRuleBasedGroup=n.editRuleBasedGroup.bind(v()(n)),n.closeModal=n.closeModal.bind(v()(n)),n.toggleGroupsList=n.toggleGroupsList.bind(v()(n)),n}return y()(t,e),d()(t,[{key:"componentDidMount",value:function(){this.props.updateAll()}},{key:"createNewRuleBasedGroup",value:function(){this.setState({activeGroup:null,modalVisible:!0})}},{key:"editRuleBasedGroup",value:function(e){this.setState({activeGroup:e,modalVisible:!0}),this.props.updateEditing("true")}},{key:"closeModal",value:function(){this.setState({activeGroup:null,modalVisible:!1}),this.props.updateEditing("false")}},{key:"sortGroups",value:function(){return this.props.groups.reduce(function(e,t){return e[t.type]||(e[t.type]=[]),e[t.type].push(t),e},{})}},{key:"toggleGroupsList",value:function(){this.setState(function(e){return{groupsListVisible:!e.groupsListVisible}})}},{key:"render",value:function(){var e=this.props,t=e.loaded,n=e.groups,r=e.updateActiveGroup,a=e.updateMyOrganization,i=this.sortGroups();return t?w.a.createElement("div",{className:"Index PageWithSidebar People"},w.a.createElement(ha,{omitParam:"per_page"}),w.a.createElement("div",{className:"People-side"},w.a.createElement(sM,{groups:n,sortedGroups:i,updateActiveGroup:r,createNewRuleBasedGroup:this.createNewRuleBasedGroup,groupsListVisible:this.state.groupsListVisible,toggleGroupsList:this.toggleGroupsList,updateMyOrganization:a})),w.a.createElement("div",{className:"People-table container clearfix"},this.props.myOrganization&&w.a.createElement(cD,{updateActiveGroup:r,updateMyOrganization:a}),!this.props.myOrganization&&w.a.createElement(w.a.Fragment,null,w.a.createElement(yM,{editRuleBasedGroup:this.editRuleBasedGroup,createNewRuleBasedGroup:this.createNewRuleBasedGroup,toggleGroupsList:this.toggleGroupsList,groupsListVisible:this.state.groupsListVisible}),w.a.createElement(EM,null),w.a.createElement(_M,null),w.a.createElement(AM,{editRuleBasedGroup:this.editRuleBasedGroup},w.a.createElement(ua,{tableHeaders:cp},w.a.createElement(HM,null))),w.a.createElement(ma,null))),this.state.modalVisible&&w.a.createElement(iD,{customGroups:Object(S.get)(i,"Group",[]),closeModal:this.closeModal,activeGroup:this.state.activeGroup,updateActiveGroup:this.props.updateActiveGroup,setGroupInMeta:this.props.setGroupInMeta})):w.a.createElement("div",null)}}]),t}(w.a.Component);var uD=Object(le.b)(function(e){return{loaded:e.data.content,groups:(t=e.data.meta.groups,n=[],Object(S.forEach)(t,function(e,t){e.id=t,n.push(e)}),n),activeGroup:e.filter.activeGroup,editing:e.filter.editing&&!!e.filter.activeGroup,myOrganization:e.filter.myOrganization};var t,n},function(e){return{updateAll:function(){e(Yr())},updateActiveGroup:function(t){e(Zr(t))},updateEditing:function(t){e(function(e){return qr({type:he.f.UPDATE.EDITING,editing:e})}(t))},setGroupInMeta:function(t){e(Wr(t))},updateMyOrganization:function(t){e(Jr(t))}}})(lD),dD={type:"user",page:1,groups:[],role:null,query:"",date:null,manager:null,sort:{column:"name",direction:"asc"},perPage:10,activeGroup:null,editing:!1,myOrganization:!1},pD=function(e,t){var n=_.assign({},e,t),r=n.query,a=n.groups,i=n.date,o=n.role,s=n.manager;return n.isActive=[_.isEmpty(r),_.isEmpty(a),_.isNull(o),_.isNull(s),_.isEmpty(i)].some(function(e){return!e}),n.page=!!t&&t.page||1,n.url=Ve(N.k.PEOPLE,function(e){var t=e.page,n=e.type,r=e.query,a=e.groups,i=e.date,o=e.role,s=e.manager,c=e.sort,l=e.perPage,u=e.activeGroup,d=e.editing,p=e.myOrganization,f=xr({page:t,query:r,date:i,sort:c,perPage:l,initialState:dD,editing:d});return _.isEmpty(a)||(f.groups=a),_.isNull(o)||(f.role=o),p&&_.isNull(u)&&(f.myOrganization=!0),_.isNull(s)||(f.manager=s),"user"!==n&&(f.type=n),_.isNull(u)||(f.activeGroup=u),f}(n)),n},fD=function(e,t){switch(t.type){case he.f.UPDATE.PAGE:return pD(e,{page:t.page});case he.f.UPDATE.TYPE:return pD(e,{type:t.contentType});case he.f.UPDATE.DATE:return pD(e,{date:t.date});case he.f.UPDATE.QUERY:return pD(e,{query:t.query});case he.f.UPDATE.GROUPS:return pD(e,{groups:t.groups});case he.f.UPDATE.ACTIVE_GROUP:return pD(e,{activeGroup:t.group});case he.f.UPDATE.EDITING:return pD(e,{editing:t.editing});case he.f.UPDATE.ROLE:return pD(e,{role:t.roleId});case he.f.UPDATE.MANAGER:return pD(e,{manager:t.manager});case he.f.UPDATE.MY_ORGANIZATION:return pD(e,{myOrganization:t.myOrganization});case he.f.UPDATE.PER_PAGE:return pD(e,{perPage:t.perPage});case he.f.UPDATE.ALL:return pD(e,t.filter);case he.f.CLEAR:return pD(e,_.merge({},dD,{type:"group"===e.type?"group":dD.type,sort:e.sort,perPage:e.perPage,activeGroup:e.activeGroup}));case he.f.SORT:return pD(e,{sort:{column:t.sortOn,direction:Object(Or.e)({filter:e},t.sortOn)}});default:return pD(dD,e)}},hD=function(e){return fe(e,{filter:fD,data:Fi,bulk:ji})},mD=function(e){function t(e){var n;return l()(this,t),(n=f()(this,m()(t).call(this,e))).store=hD(e.initialState),n}return y()(t,e),d()(t,[{key:"render",value:function(){return w.a.createElement(le.a,{store:this.store},w.a.createElement(uD,null))}}]),t}(w.a.Component),gD=function(e){var n=e.onAction;return w.a.createElement(w.a.Fragment,null,w.a.createElement(un.c,null,w.a.createElement("button",{type:"button",className:"u-resetBtn ModalTakeover-closeButton",onClick:n},w.a.createElement(z.a,{name:"error"})),w.a.createElement(XA,null,w.a.createElement("div",{className:"d-f jc-e mt-24"},w.a.createElement("button",{type:"button",className:"u-linkBtn u-linkBtn--dark",onClick:n},t("practice.peer_feedback.learner_form.success.close"))))))},vD=function(e){function n(e){var t;return l()(this,n),(t=f()(this,m()(n).call(this,e))).state={feedback:"",isSent:!1,modalVisible:!1},t.closeModal=t.closeModal.bind(v()(t)),t.openModal=t.openModal.bind(v()(t)),t.sendFeedback=t.sendFeedback.bind(v()(t)),t.updateFeedback=t.updateFeedback.bind(v()(t)),t.closeSuccessModal=t.closeSuccessModal.bind(v()(t)),t}return y()(n,e),d()(n,[{key:"sendFeedback",value:function(){var e=this;C.a.post(N.k.PRACTICE.PEER_FEEDBACKS,{comment:this.state.feedback,answer_id:this.props.answer.answerId,practice_tab:!0}).then(function(t){return e.setState({isSent:!0})}).then(this.closeModal)}},{key:"updateFeedback",value:function(e){this.setState({feedback:e.target.value})}},{key:"openModal",value:function(){this.setState({modalVisible:!0})}},{key:"closeModal",value:function(){this.setState({modalVisible:!1})}},{key:"closeSuccessModal",value:function(){this.props.onSubmit(),this.setState({isSent:!1})}},{key:"getQuestionTypeText",value:function(e){return{screen_recording:t("practice.practice_tab.question_type.media_response"),webcam_recording:t("practice.practice_tab.question_type.media_response"),written_response:t("practice.practice_tab.question_type.written_response")}[e]}},{key:"render",value:function(){var e=this.props,t=e.answer,n=e.ziggeoApiKey,r=V()("bdrs-small ls-u p-3-10 fz-12 tt-n",{"bg-navy c-white":"screen_recording"===t.questionType||"webcam_recording"===t.questionType,"bg-teal-new c-black":"written_response"===t.questionType});return w.a.createElement(k.f,{className:"PeerFeedbackCard c-p",onClick:this.openModal},w.a.createElement(k.f.Content,{padding:"medium",className:"PeerFeedbackCard-content m-16"},w.a.createElement("div",{className:"c-brand-gray-dark mb-16 lh-16"},t.lessonTitle),w.a.createElement("div",{className:"fw-b lh-20 wb-bw"},t.questionSubject),w.a.createElement("div",{className:"PeerFeedbackCard-footer"},w.a.createElement(mb,{className:r},this.getQuestionTypeText(t.questionType))),w.a.createElement("div",{className:"d-f ai-c c-brand-gray-dark mt-8"},w.a.createElement(z.a,{name:"learner"}),w.a.createElement("span",{className:"ml-8"},t.userName)),this.state.modalVisible&&w.a.createElement(QA,{questionId:t.questionId,questionSubject:t.questionSubject,questionType:t.questionType,openModal:this.openModal,closeModal:this.closeModal,feedback:this.state.feedback,updateFeedback:this.updateFeedback,sendFeedback:this.sendFeedback,modalVisible:this.state.modalVisible,givenAnswerProvider:t.givenAnswerMediaProvider,mediaEmbedUrl:t.mediaEmbedUrl,answer:t.givenAnswer,ziggeoApiKey:n,feedbackCriteria:t.feedbackCriteria}),this.state.isSent&&w.a.createElement(gD,{onAction:this.closeSuccessModal})))}}]),n}(w.a.Component),bD=function(e){function n(){var e,t;l()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return t=f()(this,(e=m()(n)).call.apply(e,[this].concat(a))),i()(v()(t),"state",{pagination:t.props.pagination,peerFeedbackAnswers:t.props.peerFeedbackAnswers}),i()(v()(t),"loadPeerFeedbackAnswers",function(){var e=t.state.pagination.selected,n=Object(gs.b)(N.k.PRACTICE.PEER_FEEDBACK,{page:e});C.a.get(n).then(function(e){var n=e.pagination,r=e.peerFeedbackAnswers;return t.setState({pagination:n,peerFeedbackAnswers:r})}).then(function(){window.history.pushState(null,null,"".concat(N.k.PRACTICE.PEER_FEEDBACK,"?page=").concat(t.state.pagination.selected))})}),t}return y()(n,e),d()(n,[{key:"renderTitleWithBadge",value:function(){return w.a.createElement("span",{className:"PracticeHeader"},w.a.createElement("span",{className:"ml-16"},t("practice.practice_tab.feedback.header")),w.a.createElement(vb,{className:"fz-base ml-16",dark:!0,title:t("practice.practice_tab.feedback.labs_badge_title")},w.a.createElement("p",null,t("practice.practice_tab.feedback.labs_badge_description")),w.a.createElement("p",null,t("common.labs.feedback_description_alternate")," ",w.a.createElement("a",{className:"td-u",href:"mailto:".concat(t("common.feedback_email"))},t("common.feedback_email")))))}},{key:"render",value:function(){var e=this,n=this.props.ziggeoApiKey,r=this.state,a=r.pagination,i=r.peerFeedbackAnswers;return w.a.createElement("div",{className:"PracticeDashboard"},w.a.createElement(k.g,{className:"PracticeContentGroup",title:this.renderTitleWithBadge(),items:i},i&&w.a.createElement(k.g.Items,{render:function(t){return w.a.createElement(vD,{key:t.answerId,answer:t,ziggeoApiKey:n,onSubmit:e.loadPeerFeedbackAnswers})}})),a.pages>1&&w.a.createElement(Rt,{pages:a.pages,selected:a.selected,links:a.links,customClass:"mt-24 ta-c"}),0===i.length&&w.a.createElement(Tl.a,{borderStyle:"dashed",className:"PracticeContentGroup--empty",extraLarge:!0},w.a.createElement("span",null,t("practice.practice_tab.feedback.no_responses"))))}}]),n}(w.a.Component),yD=function(e){function t(){return l()(this,t),f()(this,m()(t).apply(this,arguments))}return y()(t,e),d()(t,[{key:"render",value:function(){var e=this.props,t=e.data,n=e.questionType,r=e.i18n,a=n.split(" ")[0];return w.a.createElement("div",{className:"mt-10"},w.a.createElement("span",{className:"fw-b"},r.question.incoming," ",Object(Ne.a)(a)),Object.entries(t).map(function(e){return w.a.createElement("div",{className:"mt-10",key:e[1]},w.a.createElement("div",{className:"c-brand-gray-dark fz-base"},Object(Ne.a)(e[0])),w.a.createElement("div",{dangerouslySetInnerHTML:{__html:Object(Ne.b)(e[1])}}))}))}}]),t}(w.a.Component),ED=function(e){function n(e){var t;return l()(this,n),(t=f()(this,m()(n).call(this,e))).state={messageVisible:!1},t.toggleMessageVisibility=t.toggleMessageVisibility.bind(v()(t)),t}return y()(n,e),d()(n,[{key:"toggleMessageVisibility",value:function(){this.setState(function(e){return{messageVisible:!e.messageVisible}})}},{key:"render",value:function(){var e=this.props.data,n=e.questionType,r=e.questionPrompt,a=e.i18n,i=e.ratingOptions,o=e.criteriaData,s=e.questionMetadata,c=this.state.messageVisible,l=V()("PracticeQuestionInsights-rotatingIcon",{"PracticeQuestionInsights-rotatingIcon--rotated":c}),u=V()("PracticeQuestionInsights-message",{"PracticeQuestionInsights-message--visible":c});return w.a.createElement("div",{className:"Module Module--bordered PracticeQuestionInsights"},w.a.createElement("div",{className:"PracticeQuestionInsights-description"},w.a.createElement("div",{className:"c-brand-gray-dark fz-base"},n),w.a.createElement("div",null,r),s&&w.a.createElement("div",{className:u},w.a.createElement(yD,{data:s,questionType:n,i18n:a.insights})),s&&w.a.createElement("div",{className:"PracticeQuestionInsights-messageToggle c-brand-blue fz-base",onClick:this.toggleMessageVisibility},w.a.createElement("span",{className:l},w.a.createElement(z.a,{name:"caret_down"})),c?a.toggle.hide:a.toggle.show," ",a.insights.question.incoming," ",n.split(" ")[0])),w.a.createElement("table",null,w.a.createElement("tbody",null,w.a.createElement("tr",{className:"PracticeQuestionInsights-headerRow fw-b"},w.a.createElement("th",{className:"PracticeQuestionInsights-headerRow--criteria pl-20"},t("insights.criterion.headers.criteria")),w.a.createElement("th",null,t("insights.criterion.headers.average_rating")),w.a.createElement("th",null,t("insights.criterion.headers.total_ratings")),w.a.createElement("th",{className:"PracticeQuestionInsights-headerRow--ratingScale"},i.map(function(e){return w.a.createElement("span",{key:e.score},e.score,w.a.createElement(z.a,{name:"star_filled"}))}))),o.map(function(e){return w.a.createElement(fy,{criterion:e,key:e.name,ratingOptions:i,i18n:a.insights})}))))}}]),n}(w.a.Component),_D=function(e){function t(e){var n;return l()(this,t),(n=f()(this,m()(t).call(this,e))).state={lessonSections:null,error:!1},n.add=n.add.bind(v()(n)),n.delete=n.delete.bind(v()(n)),n.updateSelectionTitle=n.updateSelectionTitle.bind(v()(n)),n.fetchLessonSections=n.fetchLessonSections.bind(v()(n)),n}return y()(t,e),d()(t,[{key:"delete",value:function(){this.props.deleteMapping(this.props.mapping)}},{key:"add",value:function(){this.props.addNewMapping(this.props.mapping)}},{key:"updateSelectionTitle",value:function(e){this.props.updateMapping(R()({},this.props.mapping,{selectedSection:{id:e.target.value}}))}},{key:"fetchLessonSections",value:function(){var e=this;C.a.get("/lessons/"+this.props.mapping.learningContentId+"/sections").then(function(t){e.setState({lessonSections:t,error:!1})}).fail(function(t){e.setState({error:!0})})}},{key:"UNSAFE_componentWillUpdate",value:function(e,t){var n=e.editing,r=e.mapping;!n||r.learningContentType!==N.i.LESSON||t.lessonSections||this.state.error||this.fetchLessonSections()}},{key:"componentDidMount",value:function(){this.props.editing&&this.props.mapping.learningContentType===N.i.LESSON&&!this.state.lessonSections&&this.fetchLessonSections()}},{key:"render",value:function(){var e=this.props,t=e.mapping,n=e.editing,r=e.i18n,a=t.learningContentOverviewUrl,i=t.groups||[],o=i.map(function(e){return e.name}).join(", "),s=V()("FlexboxTable-row",{"FlexboxTable-row--withBottomBorder":n});return w.a.createElement("div",{className:s},w.a.createElement("div",{className:"FlexboxTable-cell d-f jc-sb ai-c"},w.a.createElement("div",null,t.learningContentType===N.i.EXTERNAL_LINK&&w.a.createElement("div",null,w.a.createElement("div",{className:"mb-8"},w.a.createElement("div",{className:"HelpText HelpText--muted"},r.external_link.name),w.a.createElement("a",{href:a},t.learningContentTitle)),w.a.createElement("div",{className:"mb-8"},w.a.createElement("div",{className:"HelpText HelpText--muted"},r.external_link.description),w.a.createElement("div",{className:"ws-pr"},t.learningContentDescription))),t.learningContentType!==N.i.EXTERNAL_LINK&&w.a.createElement("div",null,t.learningContentType===N.i.COURSE&&w.a.createElement(z.a,{name:"course",customClass:"mr-4"}),t.learningContentType===N.i.PATH&&w.a.createElement(z.a,{name:"path",customClass:"mr-4"}),a&&w.a.createElement("a",{href:a},t.learningContentTitle),!a&&w.a.createElement("span",null,t.learningContentTitle)),"number"==typeof t.lessonsCount&&w.a.createElement("div",{className:"HelpText HelpText--muted HelpText--noTopMargin"},t.lessonsCount," ",r.lessons),w.a.createElement("div",null,!n&&t.selectedSection&&w.a.createElement("div",{className:"HelpText HelpText--muted HelpText--noTopMargin"},"§ ",t.selectedSection.title||r.untitled_section),n&&t.learningContentType===N.i.LESSON&&w.a.createElement("div",{className:"mt-4"},w.a.createElement("span",{className:"HelpText HelpText--muted mr-4"},r.link_to),w.a.createElement("select",{defaultValue:t.selectedSection&&t.selectedSection.id,onChange:this.updateSelectionTitle,disabled:!this.state.lessonSections},w.a.createElement("option",{value:null},r.lesson_start),this.state.lessonSections&&w.a.createElement("optgroup",{label:"Link to a section:"},this.state.lessonSections.map(function(e){return w.a.createElement("option",{value:e.id,key:e.id},e.title||r.untitled_section)}))),this.state.error&&w.a.createElement("span",{className:"ml-8 c-brand-red"},"Something went wrong.",w.a.createElement("button",{onClick:this.fetchLessonSections,type:"button",className:"NewButton NewButton--gray c-brand-gray-darkest ml-4"},"Try again"))))),n&&w.a.createElement("div",{className:"IndexAction-container"},w.a.createElement("a",{className:"ButtonWithTooltip IndexAction-button IndexAction-button--square",onClick:this.delete,"data-tooltip":"Delete Mapping"},w.a.createElement(z.a,{name:"delete"})))),w.a.createElement("div",{className:"FlexboxTable-cell d-f ai-c"},i.length>0&&w.a.createElement(z.a,{name:"group",customClass:"mr-8"}),o.length>0&&w.a.createElement("span",null,o),!!t.groups&&0===o.length&&w.a.createElement("em",null,r.no_groups_placeholder),!t.groups&&w.a.createElement("em",null,r.groups_placeholder)))}}]),t}(w.a.Component),wD=function(e){function t(e){var n;return l()(this,t),(n=f()(this,m()(t).call(this,e))).state={externalLink:e.updating?e.externalLink:{url:"",title:"",description:""},errorMessage:{}},n.handleInput=n.handleInput.bind(v()(n)),n.handleSave=n.handleSave.bind(v()(n)),n.delete=n.delete.bind(v()(n)),n.hasValidFields=n.hasValidFields.bind(v()(n)),n}return y()(t,e),d()(t,[{key:"handleInput",value:function(e,t){var n=e.target.value;this.setState(function(e){return{externalLink:R()({},e.externalLink,i()({},t,n))}},this.validate(n,t))}},{key:"validate",value:function(e,t){var n="";0===e.trim().length?n="Required":"url"!==t||Object(Ne.c)(e)||(n="Invalid URL"),this.setState(function(e){return{errorMessage:R()({},e.errorMessage,i()({},t,n))}})}},{key:"handleSave",value:function(e){this.hasValidFields()&&(this.props.updating?this.props.updateMapping(this.state.externalLink,e):this.props.addNewExternalLinkMapping(this.state.externalLink))}},{key:"hasValidFields",value:function(){var e=!0,t=this.state.externalLink;for(var n in t)if(!t[n]){e=!1;break}return Object(Ne.c)(t.url)||(e=!1),e}},{key:"delete",value:function(){this.props.updating?this.props.deleteMapping(this.state.externalLink):this.props.setRelatedContentType()}},{key:"render",value:function(){var e=this,t=this.props,n=t.i18n,r=t.updating,a=t.externalLink,i="url",o="title",s="description",c=function(e){return w.a.createElement("div",{className:"mt-4 c-brand-red"},e)};return w.a.createElement("div",{className:"FlexboxTable-row"},w.a.createElement("div",{className:"FlexboxTable-cell"},w.a.createElement("div",{className:"d-f jc-sb ai-c"},w.a.createElement("div",{className:"ExternalLink f-1 mr-24"},w.a.createElement("div",{className:"mb-12"},w.a.createElement("div",{className:"mb-8"},w.a.createElement("span",{className:"HelpText HelpText--muted"},n.external_link.hyperlink)),w.a.createElement("input",{className:V()("NewInput NewInput--white NewInput--fw",{"ExternalLink--error":this.state.errorMessage.url}),placeholder:n.external_link.hyperlink_placeholder,defaultValue:r?a[i]:"",onChange:function(t){return e.handleInput(t,i)},onBlur:function(){return e.handleSave(i)},type:"text"}),this.state.errorMessage.url&&c(this.state.errorMessage.url)),w.a.createElement("div",{className:"mb-12"},w.a.createElement("div",{className:"mb-8"},w.a.createElement("span",{className:"HelpText HelpText--muted"},n.external_link.title)),w.a.createElement("input",{className:V()("NewInput NewInput--white NewInput--fw",{"ExternalLink--error":this.state.errorMessage.title}),placeholder:n.external_link.title_placeholder,defaultValue:r?a[o]:"",onChange:function(t){return e.handleInput(t,o)},onBlur:function(){return e.handleSave(o)},type:"text"}),this.state.errorMessage.title&&c(this.state.errorMessage.title)),w.a.createElement("div",{className:"mb-12"},w.a.createElement("div",{className:"mb-8"},w.a.createElement("span",{className:"HelpText HelpText--muted"},n.external_link.description)),w.a.createElement("textarea",{className:V()("NewInput NewInput--white NewInput--fw",{"ExternalLink--error":this.state.errorMessage.description}),placeholder:n.external_link.description_placeholder,defaultValue:r?a[s]:"",onChange:function(t){return e.handleInput(t,s)},onBlur:function(){return e.handleSave(s)}}),this.state.errorMessage.description&&c(this.state.errorMessage.description))),w.a.createElement("div",{className:"IndexAction-container"},w.a.createElement("a",{className:"ButtonWithTooltip IndexAction-button IndexAction-button--square",onClick:this.delete,"data-tooltip":"Delete Mapping"},w.a.createElement(z.a,{name:"delete"})))),w.a.createElement("div",{className:"HelpText HelpText--muted"},w.a.createElement(z.a,{name:"group"}),w.a.createElement("span",null,n.everyone_group))))}}]),t}(w.a.Component),SD=function(e){function t(e){var n;return l()(this,t),(n=f()(this,m()(t).call(this,e))).handleInput=n.handleInput.bind(v()(n)),n}return y()(t,e),d()(t,[{key:"handleInput",value:function(e){this.props.handleWebsiteURLInput(e.target.name,e.target.value)}},{key:"pageSelectorMetadata",value:function(e,t){return w.a.createElement("div",null,w.a.createElement("div",{className:"HelpText HelpText--muted HelpText--noTopMargin"},w.a.createElement("span",null,t,": ",e)))}},{key:"render",value:function(){var e=this.props,t=e.editing,n=e.relatedUrl,r=e.param,a=e.i18n,i=e.errorMessage,o=e.types,s=e.deleteURL,c=e.editRelatedUrl,l=e.canUseOnPageContext;return t?w.a.createElement("div",{className:"FlexboxTable-cell RelatedUrlsTable-leftCell"},w.a.createElement("div",null,w.a.createElement("input",{name:r,className:"NewInput NewInput--white NewInput--fw",onChange:this.handleInput,value:n[r]||"",placeholder:a.new_url,type:"text"}),o.length>1&&w.a.createElement("div",{className:"mt-12 mb-8 HelpText HelpText--muted"},a.show_on),w.a.createElement("select",{name:"matchType",value:n.matchType,onChange:this.handleInput,id:"matchTypeSelect",hidden:1===o.length},o.map(function(e){return w.a.createElement("option",{value:e.type,key:e.type},e.title)})),l&&w.a.createElement("div",{className:"mt-32"},w.a.createElement("div",{className:"mt-8 mb-8 HelpText HelpText--muted"},a.page_content_selector.css_selector.input_label,w.a.createElement(Cn,{tooltip:a.page_content_selector.css_selector.input_tooltip,className:"ml-4 wb-n"})),w.a.createElement("input",{name:"pageContentSelector",className:"NewInput NewInput--white NewInput--fw",onChange:this.handleInput,value:n.pageContentSelector||"",type:"text"}),w.a.createElement("div",{className:"mt-12 mb-8 HelpText HelpText--muted"},a.page_content_selector.css_selector_text.input_label,w.a.createElement(Cn,{tooltip:a.page_content_selector.css_selector_text.input_tooltip,className:"ml-4 wb-n"})),w.a.createElement("input",{name:"pageContentText",className:"NewInput NewInput--white NewInput--fw",onChange:this.handleInput,value:n.pageContentText||"",type:"text"}),!n.pageContentSelector&&n.pageContentText&&w.a.createElement("div",{className:"mt-4 c-brand-red"},a.page_content_selector.css_selector_text.missing_selector_warning)),i&&w.a.createElement("div",{className:"mt-4 c-brand-red ws-pr"},i))):w.a.createElement("div",{className:"FlexboxTable-cell RelatedUrlsTable-leftCell"},w.a.createElement("div",{className:"d-f jc-sb"},w.a.createElement("div",{className:"ha mr-12"},n[r],"url"===r&&w.a.createElement("div",null,"exact"===n.matchType&&w.a.createElement("div",{className:"HelpText HelpText--muted HelpText--noTopMargin"},w.a.createElement(z.a,{name:"link-mirrored"})," ",a.existing_mapping_URLonly),"prefix"===n.matchType&&w.a.createElement("div",{className:"HelpText HelpText--muted HelpText--noTopMargin"},w.a.createElement(z.a,{name:"tree"})," ",a.existing_mapping_subpages)),n.pageContentSelector&&this.pageSelectorMetadata(n.pageContentSelector,a.page_content_selector.css_selector.name),n.pageContentText&&this.pageSelectorMetadata(n.pageContentText,a.page_content_selector.css_selector_text.name)),w.a.createElement("div",{className:"ha IndexAction-container"},w.a.createElement("a",{className:"ButtonWithTooltip IndexAction-button IndexAction-button--square","data-tooltip":a.edit_tooltip,onClick:c},w.a.createElement(z.a,{name:"edit"})),w.a.createElement("a",{className:"ButtonWithTooltip IndexAction-button IndexAction-button--square","data-tooltip":a.delete_tooltip,onClick:s},w.a.createElement(z.a,{name:"delete"})))))}}]),t}(w.a.Component),kD=function(e){function t(e){var n;return l()(this,t),(n=f()(this,m()(t).call(this,e))).state={value:"",suggestions:[]},n.onSuggestionsFetchRequested=n.onSuggestionsFetchRequested.bind(v()(n)),n.onSuggestionSelected=n.onSuggestionSelected.bind(v()(n)),n.onSuggestionsClearRequested=n.onSuggestionsClearRequested.bind(v()(n)),n.onChange=n.onChange.bind(v()(n)),n}return y()(t,e),d()(t,[{key:"filterSuggestions",value:function(e){var t=e.trim().toLowerCase();return 0===t.length?[]:this.props.learningContent.filter(function(e){return(e.title||"Untitled Lesson").toLowerCase().includes(t.toLowerCase())})}},{key:"onChange",value:function(e,t){var n=t.newValue;this.setState({value:n})}},{key:"onSuggestionsFetchRequested",value:function(e){var t=e.value;this.setState({suggestions:this.filterSuggestions(t)})}},{key:"getSuggestionValue",value:function(e){return e.title}},{key:"onSuggestionSelected",value:function(e,t){var n=t.suggestion;this.props.addNewMappingFromSuggestion(n),this.setState({value:""})}},{key:"onSuggestionsClearRequested",value:function(){this.setState({suggestions:[],value:""})}},{key:"renderSuggestion",value:function(e){return w.a.createElement("div",null,"Course"===e.type&&w.a.createElement("span",null,w.a.createElement(z.a,{name:"course",customClass:"mr-4"})),"LearningPaths::Path"===e.type&&w.a.createElement("span",null,w.a.createElement(z.a,{name:"path",customClass:"mr-4"})),e.title)}},{key:"onKeyDown",value:function(e){13===e.keyCode&&(e.preventDefault(),e.stopPropagation())}},{key:"render",value:function(){var e={value:this.state.value,onChange:this.onChange,placeholder:this.props.i18n.new_mapping_placeholder,onKeyDown:this.onKeyDown};return w.a.createElement(On.a,{className:"NewInput NewInput--white NewInput--fw mb-16",suggestions:this.state.suggestions,onSuggestionsFetchRequested:this.onSuggestionsFetchRequested,onSuggestionSelected:this.onSuggestionSelected,onSuggestionsClearRequested:this.onSuggestionsClearRequested,getSuggestionValue:this.getSuggestionValue,renderSuggestion:this.renderSuggestion,inputProps:e,focusFirstSuggestion:!0})}}]),t}(w.a.Component),CD=function(e){function t(){return l()(this,t),f()(this,m()(t).apply(this,arguments))}return y()(t,e),d()(t,[{key:"render",value:function(){var e=this.props,t=e.i18n,n=e.relatedContentType,r=e.features,a=e.relatedUrl,i=e.param,o=e.addNewExternalLinkMapping,s=e.unselectedLearningContent,c=e.addNewMappingFromSuggestion,l=e.setRelatedContentType,u=e.cancelEditRelatedUrl,d=e.learningContent,p=V()("FlexboxTable-cell d-f",{"jc-sb":r.chrome_extension_link_to_external_urls,"jc-e":!r.chrome_extension_link_to_external_urls});return w.a.createElement("div",null,n===N.i.EXTERNAL_LINK&&w.a.createElement(wD,{i18n:t,updating:!1,addNewExternalLinkMapping:o,setRelatedContentType:l}),n===d&&w.a.createElement("div",{className:"FlexboxTable-row"},w.a.createElement("div",{className:"FlexboxTable-cell d-f fd-c"},w.a.createElement(kD,{learningContent:s,addNewMappingFromSuggestion:c,i18n:t}))),w.a.createElement("div",{className:"FlexboxTable-row"},w.a.createElement("div",{className:p},r.chrome_extension_link_to_external_urls&&w.a.createElement("div",null,w.a.createElement("button",{className:"NewButton NewButton--white NewButton--wide mr-12",onClick:function(){return l(d)},type:"button"},w.a.createElement(z.a,{name:"add",customClass:"mr-4 c-brand-gray"}),t.new_learning_content),w.a.createElement("button",{className:"NewButton NewButton--white NewButton--wide",onClick:function(){return l(N.i.EXTERNAL_LINK)},type:"button"},w.a.createElement(z.a,{name:"add",customClass:"mr-4 c-brand-gray"}),t.external_link.new)),w.a.createElement("div",null,w.a.createElement("button",{className:"NewButton NewButton--flat mr-12",onClick:u,type:"button"},t.cancel),w.a.createElement("button",{className:"NewButton NewButton--blue NewButton--wide",disabled:!a[i],type:"submit"},t.save_mapping)))))}}]),t}(w.a.Component),ND=function(e){function t(){var e,n;l()(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return n=f()(this,(e=m()(t)).call.apply(e,[this].concat(a))),i()(v()(n),"state",{editing:n.props.editing,data:n.props.relatedUrl,errorMessage:null,relatedContentType:null}),i()(v()(n),"learningContent","LearningContent"),i()(v()(n),"editRelatedUrl",function(){n.originalData=n.state.data,n.setState({editing:!0})}),i()(v()(n),"cancelEditRelatedUrl",function(){n.props.hideNewMappingForm&&n.props.hideNewMappingForm(),n.setState({editing:!1,data:n.originalData,errorMessage:null,relatedContentType:null})}),i()(v()(n),"saveRelatedUrl",function(e){e.preventDefault(),n.state.data.id?n.props.updateRelatedUrl(n.state.data).then(function(e){n.setState({editing:!1,data:e,relatedContentType:null}),e.url?lly.relatedUrls.addOrUpdate(e):e.name&&lly.relatedKeywords.addOrUpdate(e)}).catch(function(e){n.setState({errorMessage:e.error})}):C.a.post(n.props.path,n.state.data).then(function(e){n.props.saveNewRow(e),n.props.hideNewMappingForm&&n.props.hideNewMappingForm(),e.url?lly.relatedUrls.addOrUpdate(e):e.name&&lly.relatedKeywords.addOrUpdate(e)}).fail(function(e){n.setState({errorMessage:e.responseJSON.error})})}),i()(v()(n),"delete",function(){var e=n.state.data;n.props.deleteRelatedUrl(e)}),i()(v()(n),"addNewMappingFromSuggestion",function(e){var t={learningContentTitle:e.title,learningContentType:e.type,learningContentId:e.id,lessonsCount:e.meta.lessonsCount,selectedSection:null};n.addNewMapping(t)}),i()(v()(n),"addNewExternalLinkMapping",function(e){var t=R()({},e,{learningContentType:N.i.EXTERNAL_LINK});n.addNewMapping(t)}),i()(v()(n),"addNewMapping",function(e){n.setState(function(t){return{data:R()({},t.data,{mappings:[].concat(Z()(t.data.mappings),[e])})}},n.setRelatedContentType)}),i()(v()(n),"setRelatedContentType",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;n.props.features.chrome_extension_link_to_external_urls||(e=n.learningContent),n.setState({relatedContentType:e})}),i()(v()(n),"updateMapping",function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=n.state.data.mappings,a=n.findMappingIndex(e,t),i=[].concat(Z()(r.slice(0,a)),[e],Z()(r.slice(a+1)));n.setState(function(e){return{data:R()({},e.data,{mappings:i})}})}),i()(v()(n),"deleteMapping",function(e){var t=n.state.data.mappings,r=n.findMappingIndex(e),a=[].concat(Z()(t.slice(0,r)),Z()(t.slice(r+1)));n.setState(function(e){return{data:R()({},e.data,{mappings:a})}})}),i()(v()(n),"unselectedLearningContent",function(){var e=Object(S.map)(n.state.data.mappings,n.mappingToLearningContent);return Object(S.differenceBy)(n.props.learningContent,e,function(e){return"".concat(e.type).concat(e.id)})}),i()(v()(n),"handleWebsiteURLInput",function(e,t){n.setState(function(n){return{data:R()({},n.data,i()({},e,t))}})}),n}return y()(t,e),d()(t,[{key:"componentDidMount",value:function(){this.setRelatedContentType()}},{key:"findMappingIndex",value:function(e,t){var n;if(e.learningContentType!==N.i.EXTERNAL_LINK||e.learningContentId)n={learningContentId:e.learningContentId,learningContentType:e.learningContentType};else{n={learningContentType:N.i.EXTERNAL_LINK};["url","title","description"].filter(function(e){return e!==t}).forEach(function(t){n[t]=e[t]})}return Object(S.findIndex)(this.state.data.mappings,n)}},{key:"mappingToLearningContent",value:function(e){return{id:e.learningContentId,type:e.learningContentType}}},{key:"render",value:function(){var e=this,t=this.state.data,n=this.props,r=n.i18n,a=n.types,i=n.param,o=n.features,s="url"===i&&o.chrome_extension_on_page_context_mapping,c=w.a.createElement(CD,{i18n:r,relatedContentType:this.state.relatedContentType,features:o,relatedUrl:t,param:i,addNewExternalLinkMapping:this.addNewExternalLinkMapping,setRelatedContentType:this.setRelatedContentType,unselectedLearningContent:this.unselectedLearningContent(),addNewMappingFromSuggestion:this.addNewMappingFromSuggestion,cancelEditRelatedUrl:this.cancelEditRelatedUrl,learningContent:this.learningContent});return w.a.createElement("form",{className:"FlexboxTable-row",onSubmit:this.saveRelatedUrl},w.a.createElement(SD,{editing:this.state.editing,relatedUrl:t,param:i,i18n:r,errorMessage:this.state.errorMessage,types:a,handleWebsiteURLInput:this.handleWebsiteURLInput,deleteURL:this.delete,editRelatedUrl:this.editRelatedUrl,setRef:this.setRef,canUseOnPageContext:s}),w.a.createElement("div",{className:"FlexboxTable-cell FlexboxTable-cell--containsRows d-f fd-c jc-sb"},w.a.createElement("div",null,t.mappings&&t.mappings.map(function(t,n){return function(t,n){return t.learningContentType!==N.i.EXTERNAL_LINK||t.learningContentId?w.a.createElement(_D,{i18n:r,editing:e.state.editing,mapping:t,key:n,deleteMapping:e.deleteMapping,updateMapping:e.updateMapping,learningContent:e.props.learningContent,canUseOnPageContext:s}):w.a.createElement(wD,{i18n:r,key:n,updating:!0,externalLink:t,updateMapping:e.updateMapping,deleteMapping:e.deleteMapping,setRelatedContentType:e.setRelatedContentType})}(t,n)})),this.state.editing&&c))}}]),t}(w.a.Component),OD=function(e){return w.a.createElement("div",{className:"Placeholder-text",style:{width:"".concat(e.width,"%")}})},xD=function(e){return w.a.createElement("form",{className:"FlexboxTable-row"},w.a.createElement("div",{className:"FlexboxTable-cell RelatedUrlsTable-leftCell"},w.a.createElement(OD,{width:e.leftWidth})),w.a.createElement("div",{className:"FlexboxTable-cell FlexboxTable-cell--containsRows d-f fd-c"},w.a.createElement("div",{className:"FlexboxTable-row"},w.a.createElement("div",{className:"FlexboxTable-cell d-f jc-sb ai-c"},w.a.createElement(OD,{width:e.rightWidth})))))},TD=function(){return w.a.createElement("div",{className:"RelatedUrlsTableBody FlexboxTable-body"},w.a.createElement(xD,{leftWidth:"52",rightWidth:"75"}),w.a.createElement(xD,{leftWidth:"75",rightWidth:"25"}),w.a.createElement(xD,{leftWidth:"35",rightWidth:"55"}))},RD=r(714),PD=r.n(RD),ID=function(e){function t(){return l()(this,t),f()(this,m()(t).apply(this,arguments))}return y()(t,e),d()(t,[{key:"render",value:function(){return w.a.createElement("div",{className:"RelatedUrlsTableBody FlexboxTable-body"},w.a.createElement("div",{className:"FlexboxTable-row jc-c p-50"},w.a.createElement("div",{className:"Wrapper--thin ta-c fz-bigger c-brand-gray-darker"},w.a.createElement("img",{role:"presentation",className:"mh-300",src:PD.a,alt:this.props.i18n.b_s_title}),w.a.createElement("h2",{className:"ff-ss mt-24"},this.props.i18n.b_s_title),w.a.createElement("div",{className:"mt-8"},this.props.i18n.b_s_desc),w.a.createElement("div",{className:"mt-24"},this.props.i18n.b_s_call_to_action," ",w.a.createElement("span",{className:"c-brand-blue td-u c-p",onClick:this.props.showNewMappingForm},this.props.i18n.b_s_call_to_action_link)))))}}]),t}(w.a.Component),AD=function(e){function t(e){var n;return l()(this,t),(n=f()(this,m()(t).call(this,e))).state={loading:!0,relatedUrls:null,learningContent:null},n.fetchData=n.fetchData.bind(v()(n)),n.fetchAssignables=n.fetchAssignables.bind(v()(n)),n.saveNewRow=n.saveNewRow.bind(v()(n)),n.deleteRelatedUrl=n.deleteRelatedUrl.bind(v()(n)),n.updateRelatedUrl=n.updateRelatedUrl.bind(v()(n)),n}return y()(t,e),d()(t,[{key:"fetchData",value:function(){var e=this;C.a.get(this.props.path).then(function(t){e.setState({loading:!1,relatedUrls:t.relatedUrls})})}},{key:"fetchAssignables",value:function(){var e=this;C.a.get(N.k.ASSIGNABLES.CONTENT,{per_page:9999}).then(function(t){e.setState({learningContent:t.data})})}},{key:"saveNewRow",value:function(e){this.setState(function(t){return{relatedUrls:[e].concat(Z()(t.relatedUrls))}})}},{key:"deleteRelatedUrl",value:function(e){var t=this;window.confirm(this.props.i18n.delete_url)&&C.a.delete(this.props.path+"/"+e.id).then(function(n){e.url?lly.relatedUrls.remove(e):e.name&&lly.relatedKeywords.remove(e),t.setState(function(t){return{relatedUrls:Object(S.without)(t.relatedUrls,e)}})})}},{key:"updateRelatedUrl",value:function(e){var t=this;return new Promise(function(n,r){C.a.put(t.props.path+"/"+e.id,Object(S.omitBy)(e,S.isNil)).then(function(r){var a=t.state.relatedUrls,i=Object(S.findIndex)(a,["id",e.id]),o=[].concat(Z()(a.slice(0,i)),[r],Z()(a.slice(i+1)));t.setState({relatedUrls:o}),n(r)}).fail(function(e){r(e.responseJSON)})})}},{key:"componentDidMount",value:function(){this.fetchData(),this.fetchAssignables()}},{key:"render",value:function(){var e,t=this,n=(e={id:null},i()(e,this.props.param,null),i()(e,"matchType","exact"),i()(e,"mappings",[]),e);return w.a.createElement("div",null,this.state.loading&&w.a.createElement(TD,null),!this.state.loading&&0===this.state.relatedUrls.length&&!this.props.newMappingFormVisible&&w.a.createElement(ID,{i18n:this.props.i18n,showNewMappingForm:this.props.showNewMappingForm}),!this.state.loading&&w.a.createElement("div",{className:"RelatedUrlsTableBody FlexboxTable-body"},this.props.newMappingFormVisible&&w.a.createElement(ND,{hideNewMappingForm:this.props.hideNewMappingForm,relatedUrl:n,i18n:this.props.i18n,types:this.props.types,path:this.props.path,param:this.props.param,features:this.props.features,editing:!0,saveNewRow:this.saveNewRow,learningContent:this.state.learningContent}),this.state.relatedUrls.map(function(e){return w.a.createElement(ND,{updateUrlErrorMessage:t.state.errorMessage,relatedUrl:e,i18n:t.props.i18n,types:t.props.types,path:t.props.path,param:t.props.param,features:t.props.features,key:e.id,deleteRelatedUrl:t.deleteRelatedUrl,saveNewRow:t.saveNewRow,updateRelatedUrl:t.updateRelatedUrl,learningContent:t.state.learningContent})})))}}]),t}(w.a.Component),MD=function(e){function t(e){var n;return l()(this,t),(n=f()(this,m()(t).call(this,e))).state={newMappingFormVisible:!1},n.showNewMappingForm=n.showNewMappingForm.bind(v()(n)),n.hideNewMappingForm=n.hideNewMappingForm.bind(v()(n)),n.renderHeader=n.renderHeader.bind(v()(n)),n}return y()(t,e),d()(t,[{key:"showNewMappingForm",value:function(){this.setState({newMappingFormVisible:!0})}},{key:"hideNewMappingForm",value:function(){this.setState({newMappingFormVisible:!1})}},{key:"renderHeader",value:function(){var e=w.a.createElement("div",{className:"FlexboxTable-cell RelatedUrlsTable-leftCell"},this.props.i18n.first_column_header),t=w.a.createElement("div",{className:"FlexboxTable-cell"},this.props.i18n.related_content_header,w.a.createElement("a",{className:"ml-4 h-ci","data-toggle":"tooltip",title:this.props.i18n.header_tooltip,"data-placement":"top"},w.a.createElement(z.a,{name:"info"})));return w.a.createElement("div",{className:"FlexboxTable-header"},e,t,w.a.createElement("div",{className:"FlexboxTable-cell"},this.props.i18n.groups_header,w.a.createElement("a",{className:"ml-4 h-ci","data-toggle":"tooltip",title:this.props.i18n.header_groups_tooltip,"data-placement":"top"},w.a.createElement(z.a,{name:"info"}))))}},{key:"render",value:function(){var e=this.props,t=e.i18n,n=e.types,r=e.path,a=e.param,i=e.features,o=this.state.newMappingFormVisible;return w.a.createElement("div",{className:"RelatedUrlsPage  ml-24 mr-24"},w.a.createElement("header",{className:"RelatedUrlsPage-header"},w.a.createElement("div",null,w.a.createElement("div",{className:"Index-header"},w.a.createElement("h1",{className:"Index-title"},t.page_header)),w.a.createElement("div",{className:"Wrapper--thick"},w.a.createElement("p",{className:"HelpText HelpText--mediumGray HelpText--noBottomMargin"},t.page_instructions))),w.a.createElement("button",{type:"button",className:"NewURLButton NewButton NewButton--white",onClick:this.showNewMappingForm},w.a.createElement(z.a,{name:"add",customClass:"mr-4 c-brand-gray-dark"}),t.add_button)),w.a.createElement("div",{className:"RelatedUrlsTable FlexboxTable"},this.renderHeader(),w.a.createElement(AD,{i18n:t,types:n,path:r,param:a,features:i,newMappingFormVisible:o,showNewMappingForm:this.showNewMappingForm,hideNewMappingForm:this.hideNewMappingForm})))}}]),t}(w.a.Component),DD=function(e){function n(){var e,t;l()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return t=f()(this,(e=m()(n)).call.apply(e,[this].concat(a))),i()(v()(t),"state",{notifyViaSms:!1,notifyViaEmail:!1,customSmsMessage:"",customEmailMessage:"",loading:!1}),i()(v()(t),"checkboxChange",function(e){var n=e.target;t.setState(i()({},n.name,n.checked))}),i()(v()(t),"inputChange",function(e){var n=e.target;t.setState(i()({},n.name,n.value))}),i()(v()(t),"sendReminder",function(){var e=t.props,n=e.assignmentIds,r=e.onDismiss,a=t.state,i={selected_ids:n,notify_via_sms:a.notifyViaSms,notify_via_email:a.notifyViaEmail,custom_sms_message:a.customSmsMessage,custom_email_message:a.customEmailMessage};t.setState({loading:!0}),C.a.post(N.k.ASSIGNMENT_BULK_REMIND,i,{dataType:"script"}).done(r)}),t}return y()(n,e),d()(n,[{key:"render",value:function(){var e=this.props,n=e.onDismiss,r=e.cannotReceiveSmsCount,a=e.remindAllUsers,i=this.state,o=i.notifyViaEmail,s=i.notifyViaSms,c=i.customSmsMessage,l=i.loading,u=this.disableSmsOption,d=Object(Cu.a)("NewInput",["white","fw","multiLine"]);return w.a.createElement(un.c,{styleName:"ReminderModal",onDismiss:n},w.a.createElement("div",{className:"ReminderModal-body"},w.a.createElement(un.a,{children:t("reminder_modal.title")}),w.a.createElement(un.b,{children:t("reminder_modal.choose_a_method")}),w.a.createElement("div",{className:"FormGroup mt-24"},w.a.createElement(ia,{onChange:this.checkboxChange,defaultValue:o,name:"notifyViaEmail",label:w.a.createElement("span",{className:"ml-8",children:t("reminder_modal.notify_via_email.title")})}),w.a.createElement(Cn,{tooltip:t("reminder_modal.notify_via_email.description"),className:"ml-4"}),w.a.createElement("blockquote",{className:"mt-10"},w.a.createElement("textarea",{name:"customEmailMessage",className:d,placeholder:this.defaultMessage,rows:"4",disabled:!o,onChange:this.inputChange})),o&&a&&w.a.createElement("p",{className:"small foot-note"},w.a.createElement("strong",null,t("common.note"),":")," ",w.a.createElement("span",null,t("reminder_modal.notify_via_email.remind_all"))),w.a.createElement(ia,{onChange:this.checkboxChange,defaultValue:s,disabled:u,name:"notifyViaSms",label:w.a.createElement("span",{className:"ml-8",children:t("reminder_modal.notify_via_text.title")})}),!u&&w.a.createElement(w.a.Fragment,null,w.a.createElement(Cn,{tooltip:t("reminder_modal.notify_via_text.description"),className:"ml-4"}),w.a.createElement("blockquote",{className:"mt-10 mb-4"},w.a.createElement("textarea",{name:"customSmsMessage",className:d,placeholder:this.defaultMessage,rows:"4",maxLength:"1000",disabled:!s,onChange:this.inputChange})),w.a.createElement("p",{className:"small fs-i ta-r mb-4"},c.length,"/1000"),s&&r>0&&w.a.createElement("p",{className:"small foot-note"},w.a.createElement("strong",null,t("common.note"),":")," ",w.a.createElement("span",null,this.cannotReceiveSmsNotice))),u&&w.a.createElement("p",{className:"small foot-note fs-i mt-8"},this.cannotReceiveSmsNotice)),w.a.createElement("div",{className:"d-f jc-e ai-c mt-24"},w.a.createElement("button",{type:"button",className:"u-linkBtn u-linkBtn--dark td-u",onClick:n,children:t("common.cancel")}),w.a.createElement("button",{type:"button",className:"ml-16 CustomColor--backgroundColor CustomColor--buttonBoxShadow NewButton NewButton--tallAndWide",disabled:this.disableSubmitButton||l,onClick:this.sendReminder},l&&w.a.createElement(k.k,null),t("reminder_modal.send_reminder")))))}},{key:"defaultMessage",get:function(){var e=this.props.companyName;return t("mailers.assignment.assignment_reminder.shared.passive_voice",{company:e})}},{key:"disableSubmitButton",get:function(){var e=this.state,t=e.notifyViaEmail,n=e.notifyViaSms;return!(t||n)}},{key:"cannotReceiveSmsNotice",get:function(){var e=this.props.cannotReceiveSmsCount,n=this.disableSmsOption?"all":"some";return t("reminder_modal.notify_via_text.cannot_receive_sms.".concat(n),{count:e})}},{key:"disableSmsOption",get:function(){var e=this.props,t=e.cannotReceiveSmsCount;return e.assigneeCount===t}}]),n}(E.Component),jD=function(e){function t(){var e,n;l()(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return n=f()(this,(e=m()(t)).call.apply(e,[this].concat(a))),i()(v()(n),"state",{isVisible:!0}),i()(v()(n),"closeModal",function(){n.setState({isVisible:!1})}),n}return y()(t,e),d()(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.isVisible;t&&this.setState({isVisible:t})}},{key:"render",value:function(){var e=this.state.isVisible;return w.a.createElement("div",{className:"ReminderModal"},e&&w.a.createElement(DD,H()({},this.props,{onDismiss:this.closeModal})))}}]),t}(E.Component),LD=function(e){function n(){var e,t;l()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return t=f()(this,(e=m()(n)).call.apply(e,[this].concat(a))),i()(v()(t),"state",{password:null,password_confirmation:null,errors:{},done:!1}),i()(v()(t),"handleInputChange",function(e){var n=e.target;t.setState(i()({},n.name,n.value))}),i()(v()(t),"handleSubmit",function(e){e.preventDefault();var r=t.props.user;C.a.putJSON("/users/".concat(r.id,"/reset_password"),{user:{password:t.state.password,password_confirmation:t.state.password_confirmation}}).then(function(){t.setState(R()({},n.defaultState,{done:!0}))}).fail(function(e){var n=e.responseJSON.errors;t.setState({errors:n})})}),t}return y()(n,e),d()(n,[{key:"render",value:function(){var e=this.state,n=e.errors,r=e.done,a=this.props.useWeakPasswordValidation?t("users.reset_password.old_password_requirements"):t("common.password_requirements_html");if(r)return w.a.createElement("div",null,w.a.createElement("p",{className:"c-green"},w.a.createElement(z.a,{name:"saved"})," ",t("common.success"),"!"),w.a.createElement("p",null,t("users.notifications.reset_password.success")));var i=V()("NewButton NewButton--fw NewButton--center NewButton--tall CustomColor--backgroundColor CustomColor--buttonBoxShadow NewButton--lessonlyBrandColor",{"NewButton--disabled":this.disableSubmitButton});return w.a.createElement("form",{onSubmit:this.handleSubmit},w.a.createElement("label",{htmlFor:"password",className:"c-gray-darker"},t("common.new_password")),w.a.createElement("input",{id:"password",type:"password",name:"password",onChange:this.handleInputChange,className:"NewInput NewInput--white NewInput--fw mb-8",required:!0}),w.a.createElement("p",{className:"HelpText HelpText--muted HelpText--noBottomMargin",dangerouslySetInnerHTML:{__html:a}}),(n.password||[]).map(function(e,t){return w.a.createElement("p",{className:"HelpText HelpText--noBottomMargin error",key:"password-".concat(t)},e)}),w.a.createElement("label",{htmlFor:"password_confirmation",className:"c-gray-darker mt-16"},t("common.password_confirmation")),w.a.createElement("input",{type:"password",id:"password_confirmation",name:"password_confirmation",onChange:this.handleInputChange,className:"NewInput NewInput--white NewInput--fw mb-8",required:!0}),this.notEmpty&&!this.passwordMatch&&w.a.createElement("p",{className:"HelpText HelpText--noBottomMargin error"},t("users.reset_password.password_mismatch")),(n.password_confirmation||[]).map(function(e,t){return w.a.createElement("p",{className:"HelpText HelpText--noBottomMargin error",key:"password_confirmation-".concat(t)},e)}),w.a.createElement("div",{className:"d-f jc-sb mt-16"},w.a.createElement("button",{type:"submit",className:i,disabled:this.disableSubmitButton},t("common.password_submit"))))}},{key:"notEmpty",get:function(){return Object(S.every)([!Object(S.isEmpty)(this.state.password),!Object(S.isEmpty)(this.state.password_confirmation)])}},{key:"passwordMatch",get:function(){return this.state.password===this.state.password_confirmation}},{key:"disableSubmitButton",get:function(){return!(this.notEmpty&&this.passwordMatch)}}]),n}(E.Component),FD=function(e){function n(e){var t;return l()(this,n),t=f()(this,m()(n).call(this,e)),i()(v()(t),"sendEmailInstructions",function(){var e=t.props.user;C.a.postJSON("/users/".concat(e.id,"/resend_password_email")).then(function(){t.setState({done:!0})})}),t.state={done:!1},t}return y()(n,e),d()(n,[{key:"render",value:function(){return this.state.done?w.a.createElement("div",null,w.a.createElement("p",{className:"c-green"},w.a.createElement(z.a,{name:"saved"})," ",t("common.success"),"!"),w.a.createElement("p",null,this.props.user.passwordless?t("users.reset_password.welcome_email.sent"):t("users.reset_password.reset_email.sent"))):w.a.createElement("div",null,w.a.createElement("p",{className:"fz-16 mb-16"},this.props.canResetPassword?t("users.reset_password.description_and_create"):t("users.reset_password.description")),w.a.createElement("button",{type:"button",onClick:this.sendEmailInstructions,className:"NewButton NewButton--fw NewButton--center NewButton--tall CustomColor--backgroundColor CustomColor--buttonBoxShadow NewButton--lessonlyBrandColor"},this.props.user.passwordless?t("users.notifications.welcome.button"):t("users.reset_password.email_instructions")))}}]),n}(E.Component),BD=function(e){function n(){var e,t;l()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return t=f()(this,(e=m()(n)).call.apply(e,[this].concat(a))),i()(v()(t),"state",{active:!1,showForm:!1}),i()(v()(t),"toggleDropdown",function(){t.setState(function(e){return{active:!e.active}}),t.setState(function(e){return{showForm:e.active&&e.showForm}})}),i()(v()(t),"toggleForm",function(){t.setState(function(e){return{showForm:!e.showForm}})}),t}return y()(n,e),d()(n,[{key:"render",value:function(){var e=this.state,n=e.active,r=e.showForm,a=this.props,i=a.user,o=a.canResetPassword,s=a.useWeakPasswordValidation,c=V()("PanelToolbar-link",{"PanelToolbar-link--active":n});return w.a.createElement("div",{className:"pos-r"},w.a.createElement("span",{className:c,onClick:this.toggleDropdown},w.a.createElement(z.a,{name:"security"}),w.a.createElement("span",null,t("users.notifications.password.button"))),n&&w.a.createElement(Ut,{styleName:"mw-300",dismissable:!0,dismissCallback:this.toggleDropdown},w.a.createElement("div",{className:"PanelToolbar-dropdown-header"},w.a.createElement("h2",{className:"Container--sans mb-8 c-gray-darker"},t("users.reset_password.title"))),r&&w.a.createElement(LD,{user:i,useWeakPasswordValidation:s}),!r&&i.hasEmail&&w.a.createElement(FD,{user:i,canResetPassword:o}),!r&&!i.hasEmail&&w.a.createElement("p",{className:"fz-16 mb-16"},o?t("users.reset_password.no_email.description_and_create"):t("users.reset_password.no_email.description")),o&&w.a.createElement("p",{className:"ta-r mt-8"},w.a.createElement("button",{type:"button",className:V()({"u-linkBtn":r||i.hasEmail,"NewButton NewButton--fw NewButton--center NewButton--tall CustomColor--backgroundColor CustomColor--buttonBoxShadow NewButton--lessonlyBrandColor":!r&&!i.hasEmail}),onClick:this.toggleForm},!r&&t("users.reset_password.create_password"),r&&!i.hasEmail&&t("users.reset_password.reset_instructions"),r&&i.hasEmail&&(i.passwordless?t("users.notifications.welcome.button"):t("users.reset_password.email_instructions"))))))}}]),n}(E.Component),UD=function(e){var t=e.children;return w.a.createElement("div",null,w.a.createElement("h3",{className:"SettingsContent-heading"},t),w.a.createElement("hr",null))},HD=function(e){var t=e.name,n=e.onChange,r=e.disabled,a=e.children,i=e.className;return w.a.createElement("fieldset",{className:V()("CheckboxGroup",i),disabled:r},E.Children.map(a,function(e){return Object(E.cloneElement)(e,{name:t,onChange:n})}))},qD=function(e){var t=e.children,n=G()(e,["children"]);return w.a.createElement("div",{className:"CheckboxField"},w.a.createElement(hn,H()({type:"checkbox"},n),t))},GD=function(e){function n(e){var t;return l()(this,n),t=f()(this,m()(n).call(this,e)),i()(v()(t),"handleConfirmation",function(e){var n=t.props.roleName;return t.setState({confirmed:e===n}),e===n}),t.state={confirmed:!1},t}return y()(n,e),d()(n,[{key:"render",value:function(){var e=this,n=this.props,r=n.onDismiss,a=n.permissionsToGrant,i=n.onSubmit,o=n.roleName,s=n.deletePeopleManagerships,c=n.deleteContentOwnerships;return w.a.createElement(un.c,{onDismiss:r},w.a.createElement(un.a,null,t("settings.tab.roles.confirmation_modal.header")),w.a.createElement(un.b,null,w.a.createElement("p",null,t("settings.tab.roles.confirmation_modal.description")),w.a.createElement("ul",{className:"ml-20"},s&&w.a.createElement("li",null,w.a.createElement("p",null,t("settings.tab.roles.delete_managerships.from_text")," ",w.a.createElement("strong",null,t("settings.tab.roles.edit.people_management_labels.group_by_group_access"))," ",t("conjunctions.to")," ",w.a.createElement("strong",null,a.has("edit_all")?t("settings.tab.roles.edit.people_management_labels.full_access"):t("settings.tab.roles.edit.people_management_labels.no_access"))," ",t("settings.tab.roles.confirmation_modal.which_will")," ",w.a.createElement("em",null,t("settings.tab.roles.delete_managerships.description"))," ",t("settings.tab.roles.delete_managerships.description_2"))),c&&w.a.createElement("li",null,w.a.createElement("p",null,t("settings.tab.roles.delete_content_ownerships.from_text")," ",w.a.createElement("strong",null,t("settings.tab.roles.edit.content_ownership_labels.item_by_item_access"))," ",t("conjunctions.to")," ",w.a.createElement("strong",null,a.has("own_all")?t("settings.tab.roles.edit.content_ownership_labels.full_access"):t("settings.tab.roles.edit.content_ownership_labels.no_access"))," ",t("settings.tab.roles.confirmation_modal.which_will")," ",w.a.createElement("em",null,t("settings.tab.roles.delete_content_ownerships.description"))," ",t("settings.tab.roles.delete_content_ownerships.description_2")))),w.a.createElement("p",null,s&&c?t("settings.tab.roles.confirmation_modal.call_to_action.plural"):t("settings.tab.roles.confirmation_modal.call_to_action.singular")," ",w.a.createElement("strong",null,o)," ",t("settings.tab.roles.confirmation_modal.in_the_box"))),w.a.createElement(k.n,{confirmationText:o,onConfirmationChange:function(t){return e.setState({confirmed:t})},white:!0}),w.a.createElement(k.d,{alignEnd:!0},w.a.createElement(Ce,{type:"primary",className:"cancel mr-24 ml-24",onClick:r},t("common.cancel")),w.a.createElement(k.c,{onClick:i,primary:!0,disabled:!this.state.confirmed},t("settings.tab.roles.confirmation_modal.confirm_button_text"))))}}]),n}(E.Component),WD=function(){return w.a.createElement(vb,{dark:!0,title:t("settings.tab.roles.title_alt")},w.a.createElement("p",null,t("settings.tab.roles.feedback_description")),w.a.createElement(vb.FeedbackMessage,null))},VD=function(e){var n=e.primary;return w.a.createElement("div",{className:"EditRole-secondaryOptions"},w.a.createElement("ul",{className:"EditRole-secondaryOptions--disabled"},w.a.createElement("li",null,n?t("settings.tab.roles.edit.event_management_labels.can_manage_as_instructor"):t("settings.tab.roles.edit.event_management_labels.can_be_made_instructor"))))},zD=function(e){var n=e.disabled,r=e.selectedValue,a=e.onChange;return w.a.createElement("div",{className:"EditRole-section"},w.a.createElement("h3",null,t("settings.tab.roles.edit.event_management.title")),w.a.createElement("div",{className:"EditRole-sectionDescription"},t("settings.tab.roles.edit.event_management.desc")),w.a.createElement(fn,{name:"eventManagement",disabled:n,selectedValue:r,onChange:function(e){a(e)}},w.a.createElement(mn,{value:"no_access"},t("settings.tab.roles.edit.event_management_labels.no_access")),w.a.createElement(mn,{value:"instruct_events"},t("settings.tab.roles.edit.event_management_labels.instruct_events")),w.a.createElement(VD,{primary:!0}),w.a.createElement(mn,{value:"create_events"},t("settings.tab.roles.edit.event_management_labels.create_events")),w.a.createElement(VD,null),w.a.createElement(mn,{value:"edit_all_events"},t("settings.tab.roles.edit.event_management_labels.edit_all_events")),w.a.createElement(VD,null)))},YD="manager",QD="creator",KD=25,XD=5,$D={chromeExtensionMappings:!1,edit_groups:!1,editCompanySettings:!1,webWidgetMappings:!1},ZD={chromeExtensionMappings:!1,editCompanySettings:!1,webWidgetMappings:!1},JD={chromeExtensionMappings:!1,editCompanySettings:!1,webWidgetMappings:!1},ej=function(e){var n=e.errors,r=e.onCancel;return w.a.createElement(un.c,{onDismiss:r},w.a.createElement(un.a,null,t("common.error")),n.map(function(e){return w.a.createElement(un.b,{key:e},e)}))},tj=function(e){var n=e.onDismiss,r=e.onSubmit;return w.a.createElement(un.c,{onDismiss:n},w.a.createElement(un.a,null,t("settings.tab.roles.delete.delete_role")),w.a.createElement(un.b,null,t("settings.tab.roles.delete.confirmation_message")),w.a.createElement(k.d,{alignEnd:!0},w.a.createElement(Ce,{type:"primary",className:"cancel mr-24 ml-24",onClick:n},t("common.cancel")),w.a.createElement(k.c,{onClick:r,primary:!0},t("settings.tab.roles.delete.confirm_button_text"))))},nj=function(e){function n(e){var t,r;switch(l()(this,n),t=f()(this,m()(n).call(this,e)),i()(v()(t),"roleNameCharactersLeft",function(){return KD-t.state.roleName.length}),i()(v()(t),"showCharactersRemaining",function(){return t.roleNameCharactersLeft()<=XD}),i()(v()(t),"handleManagedRoleChange",function(e){var n=Number(e.target.value),r=t.state.roles,a=Object(S.findIndex)(t.state.roles,{id:n});r[a].canManage=!r[a].canManage,t.setState({roles:r})}),i()(v()(t),"updateManagedRoles",function(){var e=Object(S.differenceWith)(t.state.roles,t.state.startingRoles,function(e,t){return e.canManage===t.canManage&&e.id===t.id}),n=function(e){return Object(me.flow)(Object(me.filter)({canManage:e}),Object(me.pluck)("id"))},r=n(!0)(e),a=n(!1)(e);Object(S.isEmpty)(r)||C.a.post(N.k.MANAGED_ROLES.CREATE(t.state.currentRoleId),{role_ids:r}),Object(S.isEmpty)(a)||C.a.delete(N.k.MANAGED_ROLES.DELETE(t.state.currentRoleId),{role_ids:a})}),e.role.default_role_mapping){case YD:r=ZD;break;case QD:r=JD;break;default:r=$D}return t.state=R()({},r,{permissionsToGrant:new Set,permissionsToRevoke:new Set,showDeleteModal:!1,roleName:e.role.name||"",startingRoles:[],roles:[],currentRoleId:e.role.id,errors:[],loading:!!e.role.id,starting:{},deletePeopleManagerships:!1,deleteContentOwnerships:!1}),t.handleSubmit=t.handleSubmit.bind(v()(t)),t.handleChange=t.handleChange.bind(v()(t)),t.updateRoleName=t.updateRoleName.bind(v()(t)),t}return y()(n,e),d()(n,[{key:"componentDidMount",value:function(){var e=this;this.state.currentRoleId&&C.a.get(N.k.ROLE_PERMISSIONS(this.state.currentRoleId)).then(function(t){var n=t.permissions.reduce(function(e,t){return e[t]=!0,e},{});e.setState(R()({},n,{loading:!1,starting:R()({},n)}))}),this.state.currentRoleId?C.a.get(N.k.MANAGED_ROLES.INDEX(this.state.currentRoleId)).then(function(t){e.setState({roles:t,startingRoles:Object(S.cloneDeep)(t)})}):C.a.get(N.k.ROLES).then(function(t){var n=t.map(function(e){return{id:e.id,name:e.name,canManage:!1}});e.setState({roles:n,startingRoles:Object(S.cloneDeep)(n)})}),window.scrollTo(0,0)}},{key:"pageHeading",value:function(){return this.state.currentRoleId?t("settings.tab.roles.edit.title"):t("settings.tab.roles.new.title")}},{key:"deletable",value:function(){return this.state.currentRoleId&&"custom"===this.props.role.default_role_mapping}},{key:"nameEditable",value:function(){return"custom"===this.props.role.default_role_mapping}},{key:"nameBlank",value:function(){return!this.state.roleName||this.state.roleName.match(/^\s*$/)}},{key:"nameChanged",value:function(){return this.props.role.name!==this.state.roleName}},{key:"updateRoleName",value:function(e){this.setState({roleName:e.target.value.slice(0,KD)})}},{key:"handleChange",value:function(e){e.stopPropagation();var t=e.target,n=t.name;t.checked?this.permissionGranted(n):this.permissionRevoked(n)}},{key:"handlePeopleManagementRadioChange",value:function(e){var t=e.target.value;"manage_groups"===t&&(this.permissionGranted(t),this.permissionRevoked("edit_all")),"edit_all"===t&&(this.permissionGranted(t),this.permissionRevoked("manage_groups"),this.permissionRevoked("edit_groups")),"no_access"===t&&(this.permissionRevoked("edit_all"),this.permissionRevoked("manage_groups"),this.permissionRevoked("edit_groups"))}},{key:"handlePeopleManagement",value:function(){return this.state.edit_all?"edit_all":this.state.manage_groups?"manage_groups":"no_access"}},{key:"handleContentOwnershipRadioChange",value:function(e){var t=e.target.value;"own_content"===t&&(this.permissionGranted(t),this.permissionRevoked("own_all"),this.permissionRevoked("create_content")),"own_all"===t&&(this.permissionGranted(t),this.permissionGranted("create_content"),this.permissionRevoked("own_content")),"no_access"===t&&(this.permissionRevoked("own_all"),this.permissionRevoked("own_content"),this.permissionRevoked("create_content"))}},{key:"handleContentOwnership",value:function(){return this.state.own_all?"own_all":this.state.own_content?"own_content":"no_access"}},{key:"setPermissionsForConfirmationModal",value:function(){this.setState(function(e){return{deletePeopleManagerships:!Object(S.isUndefined)(e.starting.manage_groups)&&e.starting.manage_groups!==e.manage_groups,deleteContentOwnerships:!Object(S.isUndefined)(e.starting.own_content)&&e.starting.own_content!==e.own_content}})}},{key:"showConfirmationModal",value:function(){return this.state.deletePeopleManagerships||this.state.deleteContentOwnerships}},{key:"eventManagementState",value:function(){return this.state.edit_all_events?"edit_all_events":this.state.create_events?"create_events":this.state.instruct_events?"instruct_events":"no_access"}},{key:"handleEventManagementRadioChange",value:function(e){var t=e.target.value;"edit_all_events"===t&&(this.permissionRevoked("create_events"),this.permissionGranted("instruct_events"),this.permissionGranted(t)),"create_events"===t&&(this.permissionRevoked("edit_all_events"),this.permissionGranted("instruct_events"),this.permissionGranted(t)),"instruct_events"===t&&(this.permissionRevoked("edit_all_events"),this.permissionRevoked("create_events"),this.permissionGranted(t)),"no_access"===t&&(this.permissionRevoked("edit_all_events"),this.permissionRevoked("create_events"),this.permissionRevoked("instruct_events"))}},{key:"permissionGranted",value:function(e){var t=this,n=this.state,r=n.permissionsToGrant,a=n.permissionsToRevoke,o=n.starting;a.has(e)&&a.delete(e),o[e]||r.add(e),this.setState(i()({permissionsToGrant:r,permissionsToRevoke:a},e,!0),function(){t.setPermissionsForConfirmationModal()})}},{key:"permissionRevoked",value:function(e){var t=this,n=this.state,r=n.permissionsToGrant,a=n.permissionsToRevoke,o=n.starting;r.has(e)&&r.delete(e),o[e]&&a.add(e),this.setState(i()({permissionsToGrant:r,permissionsToRevoke:a},e,!1),function(){t.setPermissionsForConfirmationModal()})}},{key:"handleSubmit",value:function(){!this.state.edit_groups&&!this.state.edit_all||Object(S.some)(this.state.roles,{canManage:!0})?this.state.currentRoleId?this.showConfirmationModal()?this.setState({showConfirmationModal:!0}):this.updateRole():this.createRole():this.setState({errors:[t("settings.tab.roles.edit.people_management_managed_roles.no_selection_message")]})}},{key:"createRole",value:function(){var e=this;C.a.post(N.k.ROLES,{role:{name:this.state.roleName}}).then(function(t){e.setState({currentRoleId:t.id},e.updatePermissions)}).fail(function(t){e.setState({errors:t.responseJSON.errors})})}},{key:"updateRole",value:function(){var e=this;this.nameChanged()?C.a.put(N.k.ROLE(this.state.currentRoleId),{role:{name:this.state.roleName}}).then(function(t){e.updatePermissions()}).fail(function(t){e.setState({errors:t.responseJSON.errors})}):this.updatePermissions()}},{key:"deleteRole",value:function(e){var t=this;C.a.delete(N.k.ROLE(e.id)).then(function(){t.setState({showDeleteModal:!1}),t.props.onCancel()}).fail(function(e){t.setState({showDeleteModal:!1}),t.setState({errors:e.responseJSON.errors})})}},{key:"updatePermissions",value:function(){var e=this,t=[];this.state.permissionsToRevoke.has("own_content")&&(this.state.permissionsToGrant.has("own_all")?t.push(C.a.delete(N.k.ROLE_OWNERSHIPS(this.state.currentRoleId)+"?exclude_experts=t")):t.push(C.a.delete(N.k.ROLE_OWNERSHIPS(this.state.currentRoleId)))),this.state.permissionsToRevoke.has("own_all")&&!this.state.permissionsToGrant.has("own_content")&&t.push(C.a.delete(N.k.ROLE_OWNERSHIPS(this.state.currentRoleId))),this.state.permissionsToGrant.forEach(function(n){return t.push(C.a.post(N.k.PERMISSION(e.state.currentRoleId,n)))}),this.state.permissionsToRevoke.forEach(function(n){return t.push(C.a.delete(N.k.PERMISSION(e.state.currentRoleId,n)))}),Promise.all(t).then(function(){return e.props.onCancel()}).catch(function(){return e.props.onCancel()}),this.updateManagedRoles()}},{key:"deleteButtonDisabled",value:function(){return this.props.role.has_users||this.props.role.has_smart_group_rule}},{key:"deleteButtonTooltipText",value:function(){if(this.deleteButtonDisabled()){var e=t("settings.tab.roles.delete.disabled_explanation.intro"),n=[];return this.props.role.has_users&&n.push(t("settings.tab.roles.delete.disabled_explanation.has_users")),this.props.role.has_smart_group_rule&&n.push(t("settings.tab.roles.delete.disabled_explanation.has_smart_group_rule")),"".concat(e," ").concat(Object(S.join)(n," and "))}return null}},{key:"render",value:function(){var e=this,n=this.props.features,r=n.hasChromeExtension,a=n.hasWebWidget,i=n.hasTrainingEvents,o=n.hasPractice,s=n.hasOnDemandPractice,c=function(t){return w.a.createElement(qD,H()({className:"EditRole-checkbox",onChange:function(t){e.handleChange(t)}},t))},l=o&&s;return w.a.createElement(ft.a,{loading:this.state.loading},w.a.createElement("div",{className:"EditRole"},this.state.errors&&this.state.errors.length>0&&w.a.createElement(ej,{errors:this.state.errors,onCancel:function(){e.setState({errors:[]})}}),this.state.showDeleteModal&&w.a.createElement(tj,{onDismiss:function(){return e.setState({showDeleteModal:!1})},onSubmit:function(){return e.deleteRole(e.props.role)}}),this.state.showConfirmationModal&&w.a.createElement(GD,{onDismiss:function(){return e.setState({showConfirmationModal:!1})},onSubmit:function(){return e.updateRole()},roleName:this.state.roleName,permissionsToGrant:this.state.permissionsToGrant,deleteContentOwnerships:this.state.deleteContentOwnerships,deletePeopleManagerships:this.state.deletePeopleManagerships}),w.a.createElement(WD,null),w.a.createElement(UD,null,this.pageHeading()),w.a.createElement("div",{className:"EditRole-roleNameSection"},w.a.createElement("label",{className:"EditRole-roleNameLabel",htmlFor:"role_name"},t("settings.tab.roles.edit.role_name_label")),w.a.createElement("input",{name:"roleName",type:"text",disabled:!this.nameEditable()||this.state.loading,defaultValue:this.props.role.name,onChange:this.updateRoleName,maxLength:KD}),this.state.currentRoleId&&w.a.createElement("span",{className:"ml-16 c-gray-dark"},t("settings.tab.roles.edit.role_id_label"),":"," ",this.state.currentRoleId),this.showCharactersRemaining()&&w.a.createElement("div",{className:"fz-12 c-gray-dark mt-4"},t("settings.tab.roles.edit.role_name_characters_left",{count:this.roleNameCharactersLeft()}))),w.a.createElement("div",{className:"EditRole-section"},w.a.createElement("h3",null,t("settings.tab.roles.edit.learning.title")),w.a.createElement("ul",{className:"ml-16"},!l&&w.a.createElement("li",null,t("settings.tab.roles.edit.learning_permission_label")),l&&w.a.createElement(w.a.Fragment,null,w.a.createElement("li",null,t("settings.tab.roles.edit.learning_permission_label_assignments")),w.a.createElement("li",null,t("settings.tab.roles.edit.learning_permission_label_completion_include_practice_scenarios"))))),w.a.createElement("div",{className:"EditRole-segment"},t("settings.tab.roles.edit.customizable_permissions_label")),w.a.createElement("div",{className:"EditRole-section"},w.a.createElement("h3",null,t("settings.tab.roles.edit.people_management.title")),w.a.createElement("div",{className:"EditRole-sectionDescription"},t("settings.tab.roles.edit.people_management.desc")),w.a.createElement(fn,{name:"peopleManagement",disabled:this.state.loading,selectedValue:this.handlePeopleManagement(),onChange:function(t){e.handlePeopleManagementRadioChange(t)}},w.a.createElement(mn,{value:"no_access"},t("settings.tab.roles.edit.people_management_labels.no_access")),w.a.createElement(mn,{value:"manage_groups"},t("settings.tab.roles.edit.people_management_labels.group_by_group_access")),w.a.createElement("div",{className:"EditRole-secondaryOptions"},w.a.createElement("ul",null,w.a.createElement("li",null,t("settings.tab.roles.edit.people_management_view_activity_label")),w.a.createElement("li",null,t("settings.tab.roles.edit.people_management_deploy_content_label")),w.a.createElement("li",null,t("settings.tab.roles.edit.people_management_grade_label"))),w.a.createElement(c,{checked:this.state.edit_groups,disabled:!this.state.manage_groups,name:"edit_groups"},t("settings.tab.roles.edit.people_management_create_managed_label"))),w.a.createElement(mn,{value:"edit_all"},t("settings.tab.roles.edit.people_management_labels.full_access")),w.a.createElement("div",{className:"EditRole-secondaryOptions"},w.a.createElement("ul",{className:"EditRole-secondaryOptions--disabled"},w.a.createElement("li",null,t("settings.tab.roles.edit.global_view_activity_label")),w.a.createElement("li",null,t("settings.tab.roles.edit.global_deploy_content_label")),w.a.createElement("li",null,t("settings.tab.roles.edit.global_grading_label")),w.a.createElement("li",null,t("settings.tab.roles.edit.global_create_people_and_group_label")),w.a.createElement("li",null,t("settings.tab.roles.edit.global_use_bulk_user_importer")),w.a.createElement("li",null,t("settings.tab.roles.edit.export_reports_label"))))),w.a.createElement(Fa,{classNames:"CSSTransition fade",timeout:{enter:500,exit:300},in:this.state.edit_groups||this.state.edit_all,unmountOnExit:!0},w.a.createElement("div",{className:"EditRole-section"},w.a.createElement("div",{className:"EditRole-sectionDescription"},w.a.createElement("div",null,w.a.createElement("strong",null,t("settings.tab.roles.edit.people_management_managed_roles.title"))),w.a.createElement("div",null,w.a.createElement("small",null,t("settings.tab.roles.edit.people_management_managed_roles.sub_title")))),!this.state.loading&&w.a.createElement(HD,{name:"managedRoles",onChange:function(t){return e.handleManagedRoleChange(t)}},Object(S.sortBy)(this.state.roles,"name").map(function(e){return w.a.createElement(qD,{key:e.id,value:e.id,className:"EditRole-checkbox",checked:e.canManage},e.name)}),w.a.createElement("span",{className:"c-brand-red"},t("settings.tab.roles.edit.people_management_managed_roles.validation")))))),w.a.createElement("div",{className:"EditRole-section"},w.a.createElement("h3",null,t("settings.tab.roles.edit.content_ownership.title")),w.a.createElement("div",{className:"EditRole-sectionDescription"},l?t("settings.tab.roles.edit.content_ownership.desc_include_practice_scenarios"):t("settings.tab.roles.edit.content_ownership.desc")),w.a.createElement(fn,{name:"contentOwnership",disabled:this.state.loading,selectedValue:this.handleContentOwnership(),onChange:function(t){e.handleContentOwnershipRadioChange(t)}},w.a.createElement(mn,{value:"no_access"},t("settings.tab.roles.edit.content_ownership_labels.no_access")),w.a.createElement(mn,{value:"own_content"},t("settings.tab.roles.edit.content_ownership_labels.item_by_item_access")),w.a.createElement("div",{className:"EditRole-secondaryOptions"},w.a.createElement(c,{checked:!this.state.own_all&&this.state.create_content,disabled:!this.state.own_content,name:"create_content"},l?t("settings.tab.roles.edit.create_content_label_include_practice_scenarios"):t("settings.tab.roles.edit.create_content_label"))),w.a.createElement(mn,{value:"own_all"},l?t("settings.tab.roles.edit.content_ownership_labels.full_access_include_practice_scenarios"):t("settings.tab.roles.edit.content_ownership_labels.full_access")),w.a.createElement("div",{className:"EditRole-secondaryOptions"},w.a.createElement(c,{checked:!this.state.own_content&&this.state.create_content,disabled:!this.state.own_all,name:"create_content"},l?t("settings.tab.roles.edit.create_content_label_include_practice_scenarios"):t("settings.tab.roles.edit.create_content_label"))))),i&&w.a.createElement(zD,{disabled:this.state.loading,selectedValue:this.eventManagementState(),onChange:function(t){e.handleEventManagementRadioChange(t)}}),w.a.createElement("div",{className:"EditRole-section"},w.a.createElement("h3",null,t("settings.tab.roles.edit.program_management.title")),w.a.createElement(c,{checked:this.state.create_edit_tags,name:"create_edit_tags"},t("settings.tab.roles.edit.create_edit_tags_label")),w.a.createElement(c,{checked:this.state.create_edit_triggers,name:"create_edit_triggers"},t("settings.tab.roles.edit.create_edit_triggers_label")),w.a.createElement(c,{checked:this.state.manage_image_library,name:"manage_image_library"},t("settings.tab.roles.edit.image_library_label"))),w.a.createElement(k.a,{title:t("settings.tab.roles.edit.in_progress_permissions_label"),boldTitle:!0},w.a.createElement("div",{className:"EditRole-section"},w.a.createElement("h3",null,t("settings.tab.roles.edit.program_management.title")),w.a.createElement(c,{checked:this.state.editCompanySettings,disabled:!0,name:"edit_company_settings"},t("settings.tab.roles.edit.edit_company_settings_label")),r&&w.a.createElement(c,{checked:this.state.chromeExtensionMappings,disabled:!0,name:"chrome_extension_mappings"},t("settings.tab.roles.edit.chrome_extension_mappings_label")),a&&w.a.createElement(c,{checked:this.state.webWidgetMappings,disabled:!0,name:"web_widget_mappings"},t("settings.tab.roles.edit.web_widget_mappings_label")),w.a.createElement(c,{checked:this.state.create_edit_roles,disabled:!0,name:"create_edit_roles"},t("settings.tab.roles.edit.create_edit_roles_label")))),w.a.createElement("div",{className:"ButtonGroup jc-sb mt-32"},w.a.createElement("div",null,this.deletable()&&w.a.createElement(k.c,{className:"delete","data-toggle":this.deleteButtonDisabled()?"tooltip":null,"data-original-title":this.deleteButtonTooltipText(),onClick:function(){return e.setState({showDeleteModal:!0})},disabled:this.deleteButtonDisabled()},t("settings.tab.roles.delete.delete_role"))),w.a.createElement("div",null,w.a.createElement(Ce,{type:"primary",className:"cancel mr-24 ml-24",onClick:this.props.onCancel},t("common.cancel")),w.a.createElement(k.c,{onClick:this.handleSubmit,disabled:this.nameBlank()||this.state.loading,primary:!0},this.props.role.id?t("settings.tab.roles.edit.save_role"):t("settings.tab.roles.new.create"))))))}}]),n}(w.a.Component),rj="admin",aj="learner",ij={chromeExtensionMappings:!0,editCompanySettings:!0,eventManagement:"edit_all_events",webWidgetMappings:!0},oj={chromeExtensionMappings:!1,editCompanySettings:!1,eventManagement:"no_access",webWidgetMappings:!1},sj=function(e){function n(e){var t,r;switch(l()(this,n),t=f()(this,m()(n).call(this,e)),e.role.default_role_mapping){case rj:r=ij;break;case aj:default:r=oj}return t.state=R()({},r,{loading:!0,roles:[]}),t.handleSubmit=t.handleSubmit.bind(v()(t)),t}return y()(n,e),d()(n,[{key:"componentDidMount",value:function(){var e=this;this.props.role.id&&C.a.get(N.k.ROLE_PERMISSIONS(this.props.role.id)).then(function(t){var n=t.permissions.reduce(function(e,t){return e[t]=!0,e},{});e.setState(R()({},n,{loading:!1}))}),C.a.get(N.k.MANAGED_ROLES.INDEX(this.props.role.id)).then(function(t){e.setState({roles:t})}),window.scrollTo(0,0)}},{key:"pageHeading",value:function(){return this.props.role.id?t("settings.tab.roles.view.title"):t("settings.tab.roles.new.title")}},{key:"handlePeopleManagement",value:function(){return this.state.edit_all?"edit_all":this.state.manage_groups?"manage_groups":"no_access"}},{key:"handleContentOwnership",value:function(){return this.state.own_all?"own_all":this.state.own_content?"own_content":"no_access"}},{key:"handleSubmit",value:function(){this.props.role.id?this.updateRole():this.createRole()}},{key:"render",value:function(){var e=this.props.features,n=e.hasChromeExtension,r=e.hasWebWidget,a=e.hasTrainingEvents,i=e.hasPractice,o=e.hasOnDemandPractice,s=function(e){return w.a.createElement(qD,H()({className:"EditRole-checkbox",disabled:!0},e))},c=i&&o;return w.a.createElement(ft.a,{loading:this.state.loading},w.a.createElement("div",{className:"EditRole"},w.a.createElement(WD,null),w.a.createElement(UD,null,this.pageHeading()),w.a.createElement("div",{className:"EditRole-roleNameSection"},w.a.createElement("label",{className:"EditRole-roleNameLabel",htmlFor:"role_name"},t("settings.tab.roles.edit.role_name_label")),w.a.createElement("input",{name:"roleName",type:"text",disabled:!0,defaultValue:this.props.role.name}),w.a.createElement("span",{className:"ml-16 c-gray-dark"},t("settings.tab.roles.edit.role_id_label"),": ",this.props.role.id)),w.a.createElement("div",{className:"EditRole-section"},w.a.createElement("h3",null,t("settings.tab.roles.edit.learning.title")),w.a.createElement("ul",{className:"ml-16"},!c&&w.a.createElement("li",null,t("settings.tab.roles.edit.learning_permission_label")),c&&w.a.createElement(w.a.Fragment,null,w.a.createElement("li",null,t("settings.tab.roles.edit.learning_permission_label_assignments")),w.a.createElement("li",null,t("settings.tab.roles.edit.learning_permission_label_completion_include_practice_scenarios"))))),w.a.createElement("div",{className:"EditRole-segment"},t("settings.tab.roles.edit.read_only_permissions_label")),w.a.createElement("div",{className:"EditRole-section"},w.a.createElement("h3",null,t("settings.tab.roles.edit.people_management.title")),w.a.createElement("div",{className:"EditRole-sectionDescription"},t("settings.tab.roles.edit.people_management.desc")),w.a.createElement(fn,{name:"peopleManagement",selectedValue:this.handlePeopleManagement(),disabled:!0,readOnly:!0},w.a.createElement(mn,{value:"no_access"},t("settings.tab.roles.edit.people_management_labels.no_access")),w.a.createElement(mn,{value:"manage_groups"},t("settings.tab.roles.edit.people_management_labels.group_by_group_access")),w.a.createElement("div",{className:"EditRole-secondaryOptions"},w.a.createElement("ul",null,w.a.createElement("li",null,t("settings.tab.roles.edit.people_management_view_activity_label")),w.a.createElement("li",null,t("settings.tab.roles.edit.people_management_deploy_content_label")),w.a.createElement("li",null,t("settings.tab.roles.edit.people_management_grade_label"))),w.a.createElement(s,{disabled:!0,name:"edit_groups"},t("settings.tab.roles.edit.people_management_create_managed_label"))),w.a.createElement(mn,{value:"edit_all"},t("settings.tab.roles.edit.people_management_labels.full_access")),w.a.createElement("div",{className:"EditRole-secondaryOptions"},w.a.createElement("ul",null,w.a.createElement("li",null,t("settings.tab.roles.edit.global_view_activity_label")),w.a.createElement("li",null,t("settings.tab.roles.edit.global_deploy_content_label")),w.a.createElement("li",null,t("settings.tab.roles.edit.global_grading_label")),w.a.createElement("li",null,t("settings.tab.roles.edit.global_create_people_and_group_label")),w.a.createElement("li",null,t("settings.tab.roles.edit.global_use_bulk_user_importer")),w.a.createElement("li",null,t("settings.tab.roles.edit.export_reports_label"))))),(this.state.edit_groups||this.state.edit_all)&&w.a.createElement("div",{className:"EditRole-section"},w.a.createElement("div",{className:"EditRole-sectionDescription"},w.a.createElement("div",null,w.a.createElement("strong",null,t("settings.tab.roles.edit.people_management_managed_roles.title"))),w.a.createElement("div",null,w.a.createElement("small",null,t("settings.tab.roles.edit.people_management_managed_roles.sub_title")))),!this.state.loading&&w.a.createElement(HD,{name:"managedRoles",readOnly:!0,disabled:!0},Object(S.sortBy)(this.state.roles,"name").map(function(e){return w.a.createElement(qD,{key:e.id,value:e.id,className:"EditRole-checkbox",checked:e.canManage,readOnly:!0},e.name)})))),w.a.createElement("div",{className:"EditRole-section"},w.a.createElement("h3",null,t("settings.tab.roles.edit.content_ownership.title")),w.a.createElement("div",{className:"EditRole-sectionDescription"},c?t("settings.tab.roles.edit.content_ownership.desc_include_practice_scenarios"):t("settings.tab.roles.edit.content_ownership.desc")),w.a.createElement(fn,{name:"contentOwnership",disabled:!0,readOnly:!0,selectedValue:this.handleContentOwnership()},w.a.createElement(mn,{value:"no_access"},t("settings.tab.roles.edit.content_ownership_labels.no_access")),w.a.createElement(mn,{value:"own_content"},t("settings.tab.roles.edit.content_ownership_labels.item_by_item_access")),w.a.createElement("div",{className:"EditRole-secondaryOptions"},w.a.createElement(s,{disabled:!0,readOnly:!0,checked:!this.state.own_all&&this.state.create_content,name:"create_content"},c?t("settings.tab.roles.edit.create_content_label_include_practice_scenarios"):t("settings.tab.roles.edit.create_content_label"))),w.a.createElement(mn,{value:"own_all"},c?t("settings.tab.roles.edit.content_ownership_labels.full_access_include_practice_scenarios"):t("settings.tab.roles.edit.content_ownership_labels.full_access")),w.a.createElement("div",{className:"EditRole-secondaryOptions"},w.a.createElement(s,{disabled:!0,readOnly:!0,checked:this.state.own_all&&this.state.create_content,name:"create_content"},c?t("settings.tab.roles.edit.create_content_label_include_practice_scenarios"):t("settings.tab.roles.edit.create_content_label"))))),a&&w.a.createElement(zD,{disabled:!0,readOnly:!0,selectedValue:this.state.eventManagement}),w.a.createElement("div",{className:"EditRole-section"},w.a.createElement("h3",null,t("settings.tab.roles.edit.program_management.title")),w.a.createElement(s,{checked:this.state.editCompanySettings,disabled:!0,readOnly:!0,name:"edit_company_settings"},t("settings.tab.roles.edit.edit_company_settings_label")),w.a.createElement(s,{checked:this.state.create_edit_tags,disabled:!0,readOnly:!0,name:"create_edit_tags"},t("settings.tab.roles.edit.create_edit_tags_label")),w.a.createElement(s,{checked:this.state.create_edit_triggers,disabled:!0,readOnly:!0,name:"create_edit_triggers"},t("settings.tab.roles.edit.create_edit_triggers_label")),n&&w.a.createElement(s,{checked:this.state.chromeExtensionMappings,disabled:!0,readOnly:!0,name:"chrome_extension_mappings"},t("settings.tab.roles.edit.chrome_extension_mappings_label")),r&&w.a.createElement(s,{checked:this.state.webWidgetMappings,disabled:!0,readOnly:!0,name:"web_widget_mappings"},t("settings.tab.roles.edit.web_widget_mappings_label")),w.a.createElement(s,{checked:this.state.manage_image_library,disabled:!0,readOnly:!0,name:"manage_image_library"},t("settings.tab.roles.edit.image_library_label")),w.a.createElement(s,{checked:this.state.create_edit_roles,disabled:!0,readOnly:!0,name:"create_edit_roles"},t("settings.tab.roles.edit.create_edit_roles_label"))),w.a.createElement(k.d,{className:"mt-32",alignEnd:!0},w.a.createElement(k.c,{onClick:this.props.onCancel,primary:!0},t("common.done")))))}}]),n}(w.a.Component),cj=function(e){return e.role.editable?w.a.createElement(nj,e):w.a.createElement(sj,e)},lj=["Admin","Manager","Creator","Learner"],uj={id:null,name:null,editable:!0,has_users:!1,default_role_mapping:"custom"},dj=function(e){var t=e.roleCount,n=e.maxRoleCount,r=G()(e,["roleCount","maxRoleCount"]);return w.a.createElement("span",r,"(",t,"/",n,")")},pj=function(e){var n=e.roles,r=e.onRoleClick;return w.a.createElement(Lt,{alternate:!0},w.a.createElement(Lt.Body,null,n.map(function(e){return w.a.createElement(Lt.Row,{key:e.id},w.a.createElement(Lt.Body.Cell,{className:"RoleIndex-roleName",size:"s"},e.name),w.a.createElement(Lt.Body.Cell,{size:"s"},w.a.createElement(Ce,{className:"Role-editLink",onClick:function(){return r(e)}},e.editable?t("settings.tab.roles.detail_page_link.editable"):t("settings.tab.roles.detail_page_link.non_editable"))))})))},fj=function(){return w.a.createElement(Lt,{alternate:!0},w.a.createElement(Lt.Body,null,lj.map(function(e){return w.a.createElement(Lt.Row,{key:e},w.a.createElement(Lt.Body.Cell,{className:"RoleIndex-roleName",size:"s"},e),w.a.createElement(Lt.Body.Cell,{size:"s"}))})))},hj=function(e){var n=e.standardRoles,r=e.customRoles,a=e.canAddNewRole,i=e.onRoleClick,o=e.features,s=e.loading;return w.a.createElement(w.a.Fragment,null,w.a.createElement(WD,null),w.a.createElement(UD,null,t("settings.tab.roles.title")),w.a.createElement("p",null,t("settings.tab.roles.description")),w.a.createElement("h2",{className:"ff-ss fw-b fz-16"},t("settings.tab.roles.standard_roles")),s&&!n.length?w.a.createElement(fj,null):w.a.createElement(pj,{roles:n,onRoleClick:i}),!!r.length&&w.a.createElement("div",{className:"mt-10"},w.a.createElement("h2",{className:"ff-ss fw-b fz-16"},t("settings.tab.roles.custom_roles"),w.a.createElement(dj,{className:"ml-4",roleCount:r.length||0,maxRoleCount:10-n.length})),w.a.createElement(pj,{roles:r,onRoleClick:i})),o.hasCustomRoles&&w.a.createElement(k.d,{alignEnd:!0},w.a.createElement(k.c,{className:"mt-8",onClick:function(){return i(uj)},disabled:s||!a,primary:!0,"data-toggle":a?"noop":"tooltip","data-title":t("settings.tab.roles.new.disabled_tooltip"),"data-placement":"top"},t("settings.tab.roles.new.title"))))},mj=function(e){function t(e){var n;return l()(this,t),(n=f()(this,m()(t).call(this,e))).state={standardRoles:[],customRoles:[],currentlyEditing:null,loading:!0},n.handleRoleTabClick=n.handleRoleTabClick.bind(v()(n)),n}return y()(t,e),d()(t,[{key:"componentDidMount",value:function(){this.navBarLink=document.querySelector("a[href='#roles']"),this.navBarLink.addEventListener("click",this.handleRoleTabClick),this.getRoles()}},{key:"componentWillUnmount",value:function(){this.navBarLink.removeEventListener("click",this.handleRoleTabClick)}},{key:"handleRoleTabClick",value:function(e){this.setState({currentlyEditing:null})}},{key:"getRoles",value:function(){var e=this;C.a.get(N.k.ROLES).then(function(t){var n=[],r=[];t.forEach(function(e){lj.includes(e.name)?n.push(e):r.push(e)});var a=r.sort(Object(yu.a)("name"));e.setState({standardRoles:n,customRoles:a,loading:!1})})}},{key:"canAddNewRole",value:function(){return this.state.standardRoles.length+this.state.customRoles.length<10}},{key:"editRole",value:function(e){this.setState({currentlyEditing:e})}},{key:"cancelEdit",value:function(){this.editRole(null),this.setState({loading:!0}),this.getRoles()}},{key:"render",value:function(){var e=this,t=this.state.currentlyEditing;return w.a.createElement("div",null,t&&w.a.createElement(cj,{role:t,features:this.props.meta.features,onCancel:function(){return e.cancelEdit()}}),!t&&w.a.createElement(ft.a,{loading:this.state.loading},w.a.createElement(hj,{standardRoles:this.state.standardRoles,customRoles:this.state.customRoles,onRoleClick:function(t){return e.editRole(t)},features:this.props.meta.features,loading:this.state.loading,canAddNewRole:this.canAddNewRole()})))}}]),t}(w.a.Component),gj=function(e){function t(){return l()(this,t),f()(this,m()(t).apply(this,arguments))}return y()(t,e),d()(t,[{key:"render",value:function(){return w.a.createElement(Uu,H()({},this.props,{recordingConfig:{screenRecord:!0,audio:!0,webCam:!1,resolution:"1080",tabRecording:!1,separateLayer:!1,fromPopup:!0,initiator:"generic_embed"}}))}}]),t}(w.a.Component),vj=r(153),bj=function(e){return w.a.createElement("button",H()({type:"button",className:"u-linkBtn ws-nw"},e))},yj=function(e){function t(e){var n;return l()(this,t),(n=f()(this,m()(t).call(this,e))).state={image:e.tag.image},n.handleUploadImage=n.handleUploadImage.bind(v()(n)),n.handleRemoveImage=n.handleRemoveImage.bind(v()(n)),n.toggleImageLibrary=n.toggleImageLibrary.bind(v()(n)),n.handleImageLibrarySelect=n.handleImageLibrarySelect.bind(v()(n)),n}return y()(t,e),d()(t,[{key:"handleImageLibrarySelect",value:function(e){var t=this;C.a.post(N.k.ASSOCIATED_IMAGES,{content_id:this.props.tag.id,content_type:this.props.content_type,image_type:this.props.image_type,image_id:e.id}).then(function(e){t.setState({image:e,viewImageLibrary:!1})})}},{key:"handleUploadImage",value:function(){var e=this,t={content_id:this.props.tag.id,content_type:this.props.content_type,image_type:this.props.image_type};Object(Fv.a)(t).then(function(t){e.setState({image:t})}).catch(function(){})}},{key:"handleRemoveImage",value:function(){var e=this,t={image:{content_id:this.props.tag.id,content_type:this.props.content_type,image_type:this.props.image_type}};C.a.delete(N.k.IMAGE(this.state.image.id),t).then(function(){e.setState({image:null})})}},{key:"toggleImageLibrary",value:function(){this.setState(function(e){return{viewImageLibrary:!e.viewImageLibrary}})}},{key:"render",value:function(){return w.a.createElement("div",{className:"TagImage"},this.state.image&&w.a.createElement("div",null,w.a.createElement(Lv,{image:this.state.image,className:"mr-8"}),w.a.createElement(bj,{children:"Remove",onClick:this.handleRemoveImage})),!this.state.image&&w.a.createElement(bj,{children:"Upload",onClick:this.handleUploadImage}),!this.state.image&&this.props.uploadTooltip&&w.a.createElement(Cn,{className:"ml-4",tooltip:this.props.uploadTooltip}),!this.state.image&&this.props.allowImageLibrary&&w.a.createElement(bj,{children:I18n.t("image_library.select_from_library"),onClick:this.toggleImageLibrary}),this.state.viewImageLibrary&&w.a.createElement(qv.a,{onSelect:this.handleImageLibrarySelect,onDismiss:this.toggleImageLibrary}),w.a.createElement("input",{name:"tag[image_id]",value:this.imageId,readOnly:!0,hidden:!0}))}},{key:"imageId",get:function(){return Object(S.get)(this.state.image,"id","")}}]),t}(E.Component),Ej=function(e){function t(e){var n;return l()(this,t),(n=f()(this,m()(t).call(this,e))).state={userInput:e.userInput},n.handleTitleChange=n.handleTitleChange.bind(v()(n)),n.saveQuestionFieldAnswer=n.saveQuestionFieldAnswer.bind(v()(n)),n}return y()(t,e),d()(t,[{key:"saveQuestionFieldAnswer",value:function(e){var t={};t[String(this.props.title)]=e,this.props.updateQuestionFieldData(t)}},{key:"handleTitleChange",value:function(e){this.setState({userInput:e.target.value}),this.saveQuestionFieldAnswer(e.target.value)}},{key:"render",value:function(){var e=this.props,t=e.title,n=e.isDisabled,r=e.previewing;return w.a.createElement("div",{className:"QuestionField"},w.a.createElement("div",{className:"QuestionField-title fz-base mb-8 mt-30"},t),w.a.createElement("input",{className:"NewInput NewInput--white lh-24 bdrs-2",value:r?"":this.state.userInput,onChange:this.handleTitleChange,disabled:n}))}}]),t}(w.a.Component),_j=function(e){function t(e){var n;return l()(this,t),(n=f()(this,m()(t).call(this,e))).state={message:e.data.givenAnswer?e.data.givenAnswer.message:"",questionFieldData:e.data.questionFields},n.updateMessage=n.updateMessage.bind(v()(n)),n.updateQuestionFieldData=n.updateQuestionFieldData.bind(v()(n)),n.formatData=n.formatData.bind(v()(n)),n.saveAnswer=n.saveAnswer.bind(v()(n)),n}return y()(t,e),d()(t,[{key:"updateQuestionFieldData",value:function(e){var t=this,n=this.state.questionFieldData,r=Object(S.keys)(e)[0];n.map(function(a,i){if(Object(S.keys)(a)[0]===r){var o=[].concat(Z()(n.slice(0,i)),[e],Z()(n.slice(i+1)));t.setState({questionFieldData:o},t.saveAnswer)}return n})}},{key:"updateMessage",value:function(e){this.setState({message:e},this.saveAnswer)}},{key:"formatData",value:function(){var e={message:this.state.message},t=S.assign.apply(void 0,[{}].concat(Z()(this.state.questionFieldData)));return JSON.stringify(R()({},t,e))}},{key:"saveAnswer",value:function(){var e={answer:this.formatData(),question_id:this.props.data.questionId};C.a.post(this.props.meta.saveUrl,e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.data,r=t.meta,a=t.i18n,i=r.finished||r.previewing;return w.a.createElement("div",{className:"PracticeQuestion"},w.a.createElement(Su,{required:this.props.data.required,subject:this.props.data.subject,elementHeaderClass:this.props.meta.elementHeaderClass,questionSubjectClass:this.props.meta.questionSubjectClass,labelErrorClass:this.props.meta.labelErrorClass}),r.features.practice&&n.criteria.length>0&&w.a.createElement(wu,{criteria:n.criteria}),w.a.createElement("div",{className:"PracticeQuestion-response"},w.a.createElement("div",{className:"fw-b mb-16"},a.ticket_handling.instructions),w.a.createElement(Yu,{previewing:r.previewing,message:this.state.message,questionType:n.questionType,questionTicketHandlingData:n.questionTicketHandlingData,isDisabled:i,i18n:a.ticket_handling,headerText:a.ticket_handling.header_text,placeholder:a.ticket_handling.reply_to,updateMessage:Object(me.debounce)(300,this.updateMessage)}),n.questionFields&&w.a.createElement("div",{className:"PracticeQuestion-fields d-f fw-w"},n.questionFields.map(function(t){return w.a.createElement(Ej,{key:Object(S.keys)(t)[0],title:Object(S.keys)(t)[0],userInput:Object(S.values)(t)[0],updateQuestionFieldData:Object(me.debounce)(300,e.updateQuestionFieldData),isDisabled:i,previewing:r.previewing})})),r.features.peerFeedbackRequest&&w.a.createElement(ku,{questionId:n.questionId,progressId:n.progressId,disabled:i})))}}]),t}(w.a.Component),wj=function(e){function t(e){var n;return l()(this,t),n=f()(this,m()(t).call(this,e)),i()(v()(n),"renderSuggestion",function(e){var t=N.j[e.type];return w.a.createElement("div",{className:"p-4-0"},t&&w.a.createElement("i",{className:"mr-4",children:w.a.createElement(z.a,{name:t})}),n.getSuggestionValue(e))}),i()(v()(n),"getSuggestionValue",function(e){return e[n.props.suggestionNameKey]}),i()(v()(n),"onInputChange",function(e,t){var r=t.newValue;n.setState({query:r})}),i()(v()(n),"onSuggestionFetchRequested",function(e){var t=e.value,r=n.props,a=r.url,o=r.queryParam;C.a.get(a,i()({},o,t)).then(function(e){return n.setState({suggestions:e.data})})}),i()(v()(n),"onSuggestionsClearRequested",function(){n.setState({suggestions:[]})}),i()(v()(n),"onSuggestionSelected",function(e,t){var r=t.suggestion;n.props.onSuggestionSelected(e,r),n.setState({query:n.getSuggestionValue(r)})}),n.state={suggestions:[],query:n.props.defaultValue||""},n.onDebouncedFetchRequested=Object(me.debounce)(e.wait)(n.onSuggestionFetchRequested),n}return y()(t,e),d()(t,[{key:"render",value:function(){return w.a.createElement(On.a,{suggestions:this.state.suggestions,renderSuggestion:this.renderSuggestion,getSuggestionValue:this.getSuggestionValue,onSuggestionsClearRequested:this.onSuggestionsClearRequested,onSuggestionSelected:this.onSuggestionSelected,onSuggestionsFetchRequested:this.onDebouncedFetchRequested,inputProps:{name:this.props.name,placeholder:this.props.placeholder,onChange:this.onInputChange,value:this.state.query,className:"NewInput NewInput--light m-0"}})}}]),t}(E.PureComponent);i()(wj,"defaultProps",{wait:250,queryParam:"query",suggestionNameKey:"name",mapResponseToSuggestions:me.identity,onSuggestionSelected:me.identity});var Sj=wj,kj=function(e){var t=e.name,n=e.label,r=e.onSelect,a=G()(e,["name","label","onSelect"]);return w.a.createElement(w.a.Fragment,null,w.a.createElement("section",null,w.a.createElement("label",{htmlFor:t},n)),w.a.createElement("section",{className:"Trigger-field"},w.a.createElement(Sj,H()({},a,{name:t,onSuggestionSelected:function(e,n){var a,o=(a={},i()(a,"".concat(t,"Id"),n.id),i()(a,"".concat(t,"Type"),n.type),a);r(e,o)}}))))},Cj=function(e){var n=e.onDismiss,r=e.unassignedUserCount,a=e.onConfirm,i=e.loading,o=Object(E.useState)(!1),s=Ye()(o,2),c=s[0],l=s[1];return w.a.createElement(un.c,{onDismiss:n},w.a.createElement(un.a,{children:t("triggers.confirm_modal.heading")}),w.a.createElement(un.b,{children:t("triggers.confirm_modal.subheading",{count:r})}),w.a.createElement("div",{className:"FormGroup mt-24"},w.a.createElement("label",{htmlFor:"assignNewUsers-false",className:"mb-8"},w.a.createElement("input",{type:"radio",id:"assignNewUsers-false",name:"assignNewUsers",checked:!c,onChange:function(){return l(!1)}}),w.a.createElement("span",{className:"ml-8",children:t("triggers.confirm_modal.assign.no")})),w.a.createElement("label",{htmlFor:"assignNewUsers-true"},w.a.createElement("input",{type:"radio",id:"assignNewUsers-true",name:"assignNewUsers",checked:c,onChange:function(){return l(!0)}}),w.a.createElement("span",{className:"ml-8",children:t("triggers.confirm_modal.assign.yes")}))),w.a.createElement("div",{className:"d-f jc-e ai-c mt-24"},w.a.createElement("button",{type:"button",className:"u-linkBtn u-linkBtn--dark td-u",onClick:n,children:t("common.cancel")}),w.a.createElement("button",{type:"button",className:"ml-16\n            ".concat(Object(Cu.a)("CustomColor",["backgroundColor","buttonBoxShadow"]),"\n            ").concat(Object(Cu.a)("NewButton",["yellow","tallAndWide"]),"\n          "),onClick:function(){return a({assignNewUsers:c})}},i&&w.a.createElement(k.k,{color:"darker",className:"mr-8"}),t("triggers.labels.update"))))},Nj=function(e){var n=e.unassignedUserCount,r=e.loading,a=e.confirmGroupTriggerUpdate,i=e.onClick,o=Object(E.useState)(!1),s=Ye()(o,2),c=s[0],l=s[1],u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r||(a&&!c?l(!0):i(e))};return w.a.createElement(w.a.Fragment,null,w.a.createElement("button",{type:"submit",onClick:function(){return u()},className:"h-td-n fz-base\n          ".concat(Object(Cu.a)("CustomColor",["backgroundColor","buttonBoxShadow"]),"\n          ").concat(Object(Cu.a)("NewButton",["yellow","tallAndWide"]),"\n        ")},r&&w.a.createElement(k.k,{color:"darker",className:"mr-8"}),t("triggers.labels.update")),c&&w.a.createElement(Cj,{unassignedUserCount:n,loading:r,onConfirm:u,onDismiss:function(){return l(!1)}}))},Oj=function(e){function n(e){var t;l()(this,n),t=f()(this,m()(n).call(this,e)),i()(v()(t),"handleSubmit",function(e){t.setState({loading:!0});var n=t.props.trigger;e=R()({},e,{trigger:t.state.triggerParams}),C.a.putJSON(N.k.TRIGGER(n.id),e).then(function(){window.location.assign(N.k.TRIGGERS.INDEX)}).fail(function(e){t.setState({errors:e.errors})})}),i()(v()(t),"handleChange",function(e){var n=e.target,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;r=r||i()({},n.name,n.value),"enabled"===n.name&&(r.enabled=JSON.parse(n.value)),t.setState(function(e){return{triggerParams:R()({},e.triggerParams,r)}})});var r=t.props.trigger,a=r.assignee_id,o=r.assignee_type,s=r.triggerable_id,c=r.triggerable_type,u=r.assignable_id,d=r.assignable_type,p=r.due_in_days,h=r.enabled;return t.state={loading:!1,triggerParams:{assigneeId:a,assigneeType:o,triggerableId:s,triggerableType:c,assignableId:u,assignableType:d,dueInDays:p,enabled:h}},t}return y()(n,e),d()(n,[{key:"render",value:function(){var e=this.props,n=e.trigger,r=e.groupTriggerUnassignedUserCount,a=this.state,i=a.loading,o=a.triggerParams;return w.a.createElement("div",null,w.a.createElement("div",{className:"Trigger"},w.a.createElement(kj,{name:"assignee",defaultValue:n.assignee_name,label:t("triggers.labels.assignee"),placeholder:t("triggers.anyone"),url:N.k.ASSIGNABLES.ASSIGNEES,onSelect:this.handleChange}),this.isGroupTriggerable&&w.a.createElement(kj,{name:"triggerable",defaultValue:n.triggerable_title,label:t("triggers.labels.group_add"),placeholder:t("groups.group_name"),url:N.k.ASSIGNABLES.GROUP_ASSIGNEES,onSelect:this.handleChange}),!this.isGroupTriggerable&&w.a.createElement(kj,{name:"triggerable",defaultValue:n.triggerable_title,label:t("triggers.labels.completable"),placeholder:t("common.assignable"),suggestionNameKey:"title",url:N.k.ASSIGNABLES.CONTENT,onSelect:this.handleChange}),w.a.createElement(kj,{name:"assignable",defaultValue:n.assignable_title,label:t("triggers.labels.assignable"),placeholder:t("common.assignable"),suggestionNameKey:"title",url:N.k.ASSIGNABLES.CONTENT,onSelect:this.handleChange}),w.a.createElement("section",null,w.a.createElement("label",{htmlFor:"dueInDays"},t("triggers.due.in"),w.a.createElement("input",{type:"number",name:"dueInDays",step:"1",min:"0",defaultValue:o.dueInDays,className:"NewInput NewInput--light w-60 m-0-2",onChange:this.handleChange}),t("triggers.due.days"),".")),w.a.createElement("section",null,w.a.createElement("div",{className:"Select ml-8 d-f ai-c"},w.a.createElement("select",{name:"enabled",className:"NewButton",defaultValue:o.enabled,onChange:this.handleChange},w.a.createElement("option",{value:"true"},t("triggers.enabled.true")),w.a.createElement("option",{value:"false"},t("triggers.enabled.false"))),w.a.createElement(z.a,{name:"select_arrows",className:"pos-r"})))),w.a.createElement("div",{className:"mt-16"},w.a.createElement(Nj,{unassignedUserCount:r,confirmGroupTriggerUpdate:this.confirmGroupTriggerUpdate,loading:i,onClick:this.handleSubmit}),w.a.createElement("a",{className:"u-linkBtn u-linkBtn--dark ml-16",href:"/triggers"},t("common.cancel"))))}},{key:"confirmGroupTriggerUpdate",get:function(){var e=this.props,t=e.trigger,n=e.groupTriggerUnassignedUserCount,r=e.shouldConfirmGroupTriggerUpdate,a=this.state.triggerParams;return Object(S.every)([r,this.isGroupTriggerable,n>0,!t.enabled,a.enabled])}},{key:"isGroupTriggerable",get:function(){return this.props.trigger.triggerable_type===N.i.GROUP}}]),n}(E.Component),xj=function(e){var t=e.label,n=e.id,r=e.title,a=e.type,i=N.j[a];return w.a.createElement(w.a.Fragment,null,t&&w.a.createElement("section",null,t),w.a.createElement("section",{className:"Trigger-field"},w.a.createElement("a",{className:"Trigger-variable",href:N.k.TRIGGERS.EDIT(n),title:r},i&&w.a.createElement(w.a.Fragment,null,w.a.createElement(z.a,{name:i})," "),r)))},Tj=function(e){var n,r=e.trigger,a=e.confirmDelete,i=r.triggerable_type===N.i.GROUP?"triggers.labels.group_add":"triggers.labels.completable",o=r.enabled?"triggers.enabled.true":"triggers.enabled.false",s=V()("IndexAction-button TriggerStatus",{"TriggerStatus--active":r.enabled,"TriggerStatus--inactive":!r.enabled});return w.a.createElement("div",{id:"trigger_".concat(r.id),className:"Trigger"},w.a.createElement(xj,{id:r.id,label:t("triggers.labels.assignee"),title:r.assignee_name||t("triggers.anyone"),type:r.assignee_type}),w.a.createElement(xj,{id:r.id,label:t(i),title:r.triggerable_title,type:r.triggerable_type}),w.a.createElement(xj,{id:r.id,label:t("triggers.labels.assignable"),title:r.assignable_title,type:r.assignable_type}),w.a.createElement(xj,{id:r.id,title:(n=r.due_in_days,"number"==typeof n?n<1?t("triggers.due.immediately"):t("triggers.due.later",{count:n}):t("triggers.due.never"))}),w.a.createElement("section",null,w.a.createElement("div",{className:"IndexAction-container IndexAction-container--small ml-12"},w.a.createElement("a",{href:N.k.TRIGGERS.EDIT(r.id),className:s,title:r.triggerable_title},t(o)),w.a.createElement("button",{type:"button",onClick:function(){return a(r.id)},className:"u-resetBtn IndexAction-button IndexAction-button--square"},w.a.createElement(z.a,{name:"delete"})))))},Rj=function(e){var n=e.triggers,r=e.confirmDelete;return w.a.createElement("div",{className:"Triggers-table Animated Animated--fadeIn"},n.length<1&&w.a.createElement("div",{className:"mb-24"},t("triggers.blank_slate")),n.map(function(e){return w.a.createElement(Tj,{key:e.id,trigger:e,confirmDelete:r})}))},Pj=function(e){function n(){var e,r;l()(this,n);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return r=f()(this,(e=m()(n)).call.apply(e,[this].concat(o))),i()(v()(r),"state",{triggers:[],triggerToDeleteId:null,loading:!0}),i()(v()(r),"deleteTrigger",function(){var e=r.state,n=e.triggers,a=e.triggerToDeleteId;C.a.delete(N.k.TRIGGER(a)).then(function(){r.setState({triggers:n.filter(function(e){return e.id!==a}),triggerToDeleteId:null})}).fail(function(){r.setState({triggerToDeleteId:null}),alert(t("common.server_error"))})}),i()(v()(r),"confirmDelete",function(e){r.setState({triggerToDeleteId:e})}),i()(v()(r),"cancelDelete",function(){r.setState({triggerToDeleteId:null})}),r}return y()(n,e),d()(n,[{key:"componentDidMount",value:function(){var e=this;C.a.get(N.k.TRIGGERS.INDEX).then(function(t){e.setState({triggers:t,loading:!1})})}},{key:"render",value:function(){var e=this.state,n=e.triggers,r=e.loading,a=e.triggerToDeleteId;return r?w.a.createElement(k.k,{className:"mb-24"}):w.a.createElement(w.a.Fragment,null,w.a.createElement(Rj,{triggers:n,confirmDelete:this.confirmDelete}),a&&w.a.createElement(un.c,{onDismiss:this.cancelDelete},w.a.createElement(un.b,{children:t("triggers.confirm_destroy")}),w.a.createElement("div",{className:"d-f jc-e ai-c mt-24"},w.a.createElement("button",{type:"button",className:"u-linkBtn u-linkBtn--dark td-u mr-16",onClick:this.cancelDelete,children:t("common.cancel")}),w.a.createElement(k.c,{primary:!0,onClick:this.deleteTrigger,children:t("common.delete")}))))}}]),n}(w.a.Component),Ij=r(715),Aj=function(e){function t(e){var n;return l()(this,t),(n=f()(this,m()(t).call(this,e))).state={feedbackFormIsVisible:!n.props.prompt,feedbackSubmitted:!1,feedback:"",error:!1},n.handleFeedbackChange=n.handleFeedbackChange.bind(v()(n)),n.submitFeedback=n.submitFeedback.bind(v()(n)),n.renderFeedbackForm=n.renderFeedbackForm.bind(v()(n)),n.renderFormSuccessNotification=n.renderFormSuccessNotification.bind(v()(n)),n.toggleFeedbackForm=n.toggleFeedbackForm.bind(v()(n)),n}return y()(t,e),d()(t,[{key:"handleFeedbackChange",value:function(e){this.setState({feedback:e.target.value})}},{key:"submitFeedback",value:function(){var e=this;C.a.post(N.k.VIDEO_RESPONSE_TECHNICAL_ISSUES(this.props.questionId),{message:this.state.feedback,assignor_id:this.props.assignorId}).then(function(t){t.success?e.setState({feedbackSubmitted:!0,error:!1}):e.setState({error:!0})}).fail(this.setState({error:!0}))}},{key:"toggleFeedbackForm",value:function(){this.setState(function(e){return{feedbackFormIsVisible:!e.feedbackFormIsVisible,feedback:"",feedbackSubmitted:!1,error:!1}})}},{key:"renderFeedbackForm",value:function(){var e=this,t=this.props,n=t.title,r=t.placeholder,a=t.buttonText,i=t.error,o=t.fullWidth,s=t.cancel,c=V()("".concat(Object(Cu.a)("CustomColor",["backgroundColor","buttonBoxShadow"])," ").concat(Object(Cu.a)("NewButton",["tallAndWide","lessonlyBrandColor","center"])),{"NewButton--fw":!prompt||!o}),l=V()({"d-f ai-c":prompt&&o,"jc-e":!this.state.error,"jc-sb":this.state.error});return w.a.createElement("div",{className:"Animated Animated--popDown"},w.a.createElement("div",{className:"FeedbackForm-title fz-bigger"},n),w.a.createElement("div",{className:"FeedbackForm-form"},w.a.createElement("textarea",{className:"FeedbackForm-feedback w-fill",onChange:this.handleFeedbackChange,placeholder:r,value:this.state.feedback}),w.a.createElement("div",{className:l},this.state.error&&w.a.createElement("div",{className:"c-brand-red"},i),w.a.createElement("div",null,prompt&&o&&w.a.createElement("span",{className:"FeedbackForm-cancel c-p mr-16",onClick:function(){return e.toggleFeedbackForm()}},s),w.a.createElement("button",{type:"button",className:c,onClick:function(){return e.submitFeedback()},disabled:0===this.state.feedback.trim().length},a)))))}},{key:"renderFormSuccessNotification",value:function(){var e=this;return w.a.createElement("div",{className:"d-f fd-c"},w.a.createElement("img",{className:"FeedbackForm-successHeader",src:$o.a,alt:this.props.successText.thanks}),w.a.createElement("div",{className:"FeedbackForm-successBody lh-24"},w.a.createElement("div",{className:"fw-b"},this.props.successText.thanks),w.a.createElement("div",null,this.props.successText.followUp),w.a.createElement("button",{type:"button",onClick:function(){return e.toggleFeedbackForm()},className:"NewButton NewButton--white mt-24"},this.props.dismiss)))}},{key:"render",value:function(){var e=this,t=this.props,n=t.fullWidth,r=t.prompt,a=this.state,i=a.feedbackFormIsVisible,o=a.feedbackSubmitted,s=V()("FeedbackForm",{"FeedbackForm--submitted":this.state.feedbackSubmitted&&!this.state.error,"FeedbackForm--fullWidth":n,"pos-a":!n}),c=V()("pos-r",{"mb-8":i}),l=V()("ml-4",{"c-p VideoResponseQuestion-reportTechnicalDifficulties":!i});return w.a.createElement("div",{className:"fz-bigger pos-r"},r&&w.a.createElement("div",{className:c},w.a.createElement("span",null,r.question),w.a.createElement("span",{className:l,onClick:i?null:function(){return e.toggleFeedbackForm()}},r.callToAction)),i&&w.a.createElement("div",{className:s},o&&!this.state.error&&this.renderFormSuccessNotification(),!o&&this.renderFeedbackForm()))}}]),t}(w.a.Component),Mj=function(e){var t=e.token;return w.a.createElement("iframe",{title:"Video uploader",src:"https://app.ilosvideos.com/embed/api/uploader/".concat(t,"?uploaderType=basic"),allowTransparency:"true",scrolling:"no",style:{width:"120px",height:"31px",overflow:"hidden",backgroundColor:"transparent",marginLeft:"auto",marginRight:"auto"},frameBorder:"0"})},Dj=function(e){function t(e){var n;return l()(this,t),(n=f()(this,m()(t).call(this,e))).state={loading:!1},n.launchScreenRecorder=n.launchScreenRecorder.bind(v()(n)),n}return y()(t,e),d()(t,[{key:"launchScreenRecorder",value:function(){var e=this;this.setState({loading:!0}),setTimeout(function(){return e.setState({loading:!1})},5e3)}},{key:"render",value:function(){var e=this.props,t=e.token,n=e.buttonStyles,r=e.skipRecording,a=e.disabled,i=e.errorMessage,o=e.showUploadButton,s=e.canGatherDataOnTechnicalIssues,c=e.renderFeedbackContainer,l=e.previewing,u=e.i18n,d=e.finished,p=e.givenAnswer,f=w.a.createElement("div",null,w.a.createElement(k.k,null),w.a.createElement("span",{className:"ml-8"},u.screen_recording.launching)),h="VideoResponseQuestion-loadingButton h-td-n NewButton--disabled",m=this.state.loading||!t||a,g=V()("VideoResponseQuestion--screenRecording",{"VideoResponseQuestion--disabled":l||d&&!p});return w.a.createElement("div",{className:g},o&&t&&!a&&w.a.createElement(Mj,{token:t}),!o&&w.a.createElement("div",null,w.a.createElement("div",{className:"VideoResponseQuestion-instructions"},w.a.createElement("div",null,w.a.createElement("span",{className:"fw-b"},u.screen_recording.instructions.download.condition),u.screen_recording.instructions.download.content),w.a.createElement("a",{className:"mt-16 ".concat(m&&h," ").concat(Object(Cu.a)("NewButton",["tallAndWide","white"])),href:"https://app.ilosvideos.com/recorder/download/".concat(t)},u.screen_recording.capitalized_download)),w.a.createElement("div",{className:"VideoResponseQuestion-instructions mt-16 mb-16"},w.a.createElement("div",null,w.a.createElement("span",{className:"fw-b"},u.screen_recording.instructions.launch.condition),u.screen_recording.instructions.launch.content),w.a.createElement("a",{className:"mt-16 ".concat(n," ").concat(m&&h),href:"ilosrecord:record?token=".concat(t),onClick:this.launchScreenRecorder,disabled:!t},this.state.loading?f:u.screen_recording.launch_ilos))),i&&w.a.createElement("div",{className:"ErrorContainer ErrorContainer--brandRed d-f ai-c mb-16"},w.a.createElement(z.a,{name:"warning_sign",customClass:"mr-8"}),w.a.createElement("div",null,u.video_response.error," ",i,"."," ",u.video_response.error_follow_up,".")),!s&&w.a.createElement("div",{className:"Response-skipped"},w.a.createElement("span",{className:"mr-4"},o?u.video_response.cannot_record:u.screen_recording.not_working),w.a.createElement("button",{type:"button",className:"pl-0 VideoResponseQuestion-transparentButton  ".concat(Object(Cu.a)("NewButton",["flat"])),onClick:r,disabled:a},u.video_response.skip_action)),!l&&s&&c())}}]),t}(w.a.Component),jj=function(e){var t=e.loadIlosRecording,n=e.disabled,r=e.skipRecording,a=e.buttonStyles,i=e.showUploadButton,o=e.token;return w.a.createElement("div",{className:"VideoResponseQuestion--webcamRecording"},i&&o&&!n&&w.a.createElement(Mj,{token:o}),!i&&w.a.createElement("button",{type:"button",onClick:t,className:a,disabled:n},e.i18n.webcam_recording.turn_on),w.a.createElement("div",{className:i?null:"VideoResponseQuestion--topMargin"},w.a.createElement("span",{className:"mr-4"},i?e.i18n.video_response.cannot_record:e.i18n.webcam_recording.no_webcam),w.a.createElement("button",{type:"button",className:"VideoResponseQuestion-transparentButton pl-0 ".concat(Object(Cu.a)("NewButton",["flat"])),onClick:r,disabled:n},e.i18n.video_response.skip_action)))},Lj=function(e){var t=e.skipped,n=e.isWebcamRecording,r=e.isScreenRecording,a="".concat(Object(Cu.a)("CustomColor",["backgroundColor","buttonBoxShadow"])," ").concat(Object(Cu.a)("NewButton",["tallAndWide","lessonlyBrandColor"]));return t?w.a.createElement(Tu,e):r?w.a.createElement(Dj,H()({},e,{buttonStyles:a})):n?w.a.createElement(jj,H()({},e,{buttonStyles:a})):void 0},Fj=function(e){var t=e.token,n=e.errorMessage,r=e.unloadWebcam,a=e.recording,i=e.i18n;return w.a.createElement("div",{className:"IlosVideoEmbed-webcamRecording"},!t&&w.a.createElement("div",{className:"IlosVideoEmbed--loading ta-c"},w.a.createElement(k.k,{color:"darker"}),w.a.createElement("span",{className:"ml-16"},i.common.loading)),t&&w.a.createElement("iframe",{title:"Media Recording",src:"https://app.ilosvideos.com/webRTC/embed/".concat(t),allowTransparency:"true",allow:"microphone camera encrypted-media",frameBorder:"0"}),n&&w.a.createElement("div",{className:"ErrorContainer ErrorContainer--brandRed d-f ai-c mb-0 pos-r"},w.a.createElement(z.a,{name:"warning_sign",customClass:"mr-8"}),w.a.createElement("div",null,i.video_response.error," ",n,"."," ",i.video_response.error_follow_up," ",i.common.or," ",w.a.createElement("div",{className:"d-ib td-u c-p",onClick:r},i.video_response.try_again),".")),a&&!n&&w.a.createElement("div",{className:"pos-r d-f fz-bigger c-brand-gray-dark mt-8"},w.a.createElement("button",{type:"button",className:"NewButton NewButton--flat VideoResponseQuestion-transparentButton VideoResponseQuestion-cancelButton ml-a d-f ai-c",onClick:r},w.a.createElement(z.a,{customClass:"mr-4",name:"camera_off"}),i.webcam_recording.turn_off)))},Bj=function(e){function t(e){var n;return l()(this,t),(n=f()(this,m()(t).call(this,e))).determineEmbed=n.determineEmbed.bind(v()(n)),n}return y()(t,e),d()(t,[{key:"determineEmbed",value:function(){return this.props.recording?w.a.createElement(Fj,this.props):w.a.createElement(zA.a,{i18n:this.props.i18n,randtag:this.props.givenAnswer,lessonTaking:!0,loadIlosRecording:this.props.loadIlosRecording,finished:this.props.finished})}},{key:"render",value:function(){return w.a.createElement("div",{className:"IlosVideoEmbed"},this.determineEmbed())}}]),t}(w.a.Component),Uj=function(e){var t=e.givenAnswer,n=e.skipped,r=e.recording,a=e.finished,i=e.i18n,o=e.hasIlosFeature,s=e.token,c=e.errorMessage,l=e.unloadWebcam,u=e.loadRecording,d=e.saveVideo,p=e.isWebcamRecording,f=e.isScreenRecording,h=e.apiKey,m=e.skipRecording,g=e.givenAnswerIsIlos,v=e.previewing,b=e.questionId,y=e.canGatherDataOnTechnicalIssues,E=e.renderFeedbackContainer,_=e.webcamPlaybackEnabled,S=e.recordWebcamEvent,k=e.removeAbilityToSkip,C=a&&g,N=t&&!g,O=f||o&&p;return n&&a?w.a.createElement(Tu,{i18n:i,isCurrentUser:!0,finished:a}):N||!O&&!n&&!C?w.a.createElement(VA.a,{questionId:b,token:s,givenAnswer:t,errorMessage:c,unloadWebcam:l,i18n:i,finished:a,loadRecording:u,saveVideo:d,apiKey:h,skipRecording:m,previewing:v,canGatherDataOnTechnicalIssues:y,renderFeedbackContainer:E,webcamPlaybackEnabled:_,recordWebcamEvent:S,removeAbilityToSkip:k,lessonTaking:!0}):r||t&&!n?w.a.createElement(Bj,e):w.a.createElement(Lj,e)},Hj=function(e){return e.isWebcamRecording?e.i18n.webcam_recording.your_webcam:e.showUploadButton?e.i18n.screen_recording.a_screen_recorder:e.i18n.screen_recording.ilos_screen_recorder},qj=function(e){return w.a.createElement("div",{className:"Response"},w.a.createElement("div",{className:"fw-b"},e.i18n.video_response.record_response," ",w.a.createElement(Hj,e),"."),w.a.createElement("div",{className:"Response-instructions"},e.i18n.video_response.record_response_subtitle,w.a.createElement("div",{className:"mt-8"},w.a.createElement("strong",null,e.i18n.video_response.note),e.i18n.video_response.warning)),e.canRequestPeerFeedback&&w.a.createElement(ku,{questionId:e.questionId,progressId:e.progressId,disabled:e.previewing||e.finished}),w.a.createElement(Uj,e))},Gj=function(e){function t(e){var n;return l()(this,t),(n=f()(this,m()(t).call(this,e))).state={disabled:n.props.meta.finished||n.props.meta.previewing,givenAnswer:n.props.meta.previewing?null:n.props.data.givenAnswer,givenAnswerIsIlos:n.props.data.givenAnswerIsIlos,skipped:n.props.meta.previewing?null:n.props.meta.skipped,isPolling:!1,recording:!1,errorMessage:null,token:null,showUploadButton:n.props.meta.showUploadButton},n.pollStatus=n.pollStatus.bind(v()(n)),n.loadIlosRecording=n.loadIlosRecording.bind(v()(n)),n.unloadWebcam=n.unloadWebcam.bind(v()(n)),n.skipRecording=n.skipRecording.bind(v()(n)),n.loadRecording=n.loadRecording.bind(v()(n)),n.saveVideo=n.saveVideo.bind(v()(n)),n.requestToken=n.requestToken.bind(v()(n)),n.renderFeedbackContainer=n.renderFeedbackContainer.bind(v()(n)),n.isScreenRecording="screen_recording"===n.props.data.questionType,n.isWebcamRecording="webcam_recording"===n.props.data.questionType,n.recordWebcamEvent=n.recordWebcamEvent.bind(v()(n)),n}return y()(t,e),d()(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.data,n=e.meta,r=(this.isScreenRecording||this.isWebcamRecording&&n.features.ilos)&&this.state.showUploadButton;!this.isWebcamRecording||n.features.ilos||t.givenAnswer||this.loadRecording(),!this.isScreenRecording&&!r||t.givenAnswer||this.loadIlosRecording()}},{key:"pollStatus",value:function(){var e=this;this.state.givenAnswer||!1===this.state.isPolling||this.props.meta.statusUrl&&C.a.get(this.props.meta.statusUrl).then(function(t){(e.state.recording||e.isScreenRecording||e.state.showUploadButton)&&(t.success&&!t.given_answer?setTimeout(function(){return e.pollStatus()},1e3):t.success?e.setState({givenAnswer:t.given_answer,givenAnswerIsIlos:t.answer_is_ilos,isPolling:!1,recording:!1,token:null}):e.setState({token:null,errorMessage:t.error,isPolling:!1,recording:!1}))}).fail(function(t){e.setState({errorMessage:"Network error"})})}},{key:"loadIlosRecording",value:function(){var e=this,t=this.isWebcamRecording&&!this.state.showUploadButton||this.isScreenRecording||this.state.showUploadButton;this.setState(function(t){return{skipped:!1,recording:e.isWebcamRecording&&!t.showUploadButton,isPolling:!0,givenAnswer:null}}),this.props.meta.tokenUrl&&C.a.get(this.props.meta.tokenUrl).then(function(n){t&&(n.success?e.setState({token:n.token},e.pollStatus):e.setState({errorMessage:n.errorMessage}))}).fail(function(t){e.setState({errorMessage:"Network error"})})}},{key:"requestToken",value:function(){var e=this;this.props.meta.tokenUrl&&C.a.get(this.props.meta.tokenUrl).then(function(t){t.success?e.setState({token:t.token}):e.setState({errorMessage:t.errorMessage})}).fail(function(t){e.setState({errorMessage:"Network error"})})}},{key:"loadRecording",value:function(){this.setState({skipped:!1,recording:!0,givenAnswer:null,token:null},this.requestToken())}},{key:"saveVideo",value:function(){var e=this;this.props.meta.readyUrl&&C.a.postJSON(this.props.meta.readyUrl,{token:this.state.token}).then(function(t){e.setState(function(e){return{givenAnswer:e.token}})})}},{key:"unloadWebcam",value:function(){this.setState({token:null,givenAnswer:null,errorMessage:null,recording:!1,isPolling:!1})}},{key:"skipRecording",value:function(){this.props.meta.skippedUrl&&C.a.post(this.props.meta.skippedUrl,{question_id:this.props.data.questionId,skipped:!0}),this.setState({skipped:!0,errorMessage:null}),this.isWebcamRecording&&!this.props.meta.features.ilos&&this.setState({recording:!1,token:null})}},{key:"renderFeedbackContainer",value:function(){var e=this.props,t=e.i18n,n=e.data,r={question:t.video_response.technical_difficulties.question,callToAction:t.video_response.technical_difficulties.prompt},a={thanks:t.video_response.technical_difficulties.thanks,followUp:t.video_response.technical_difficulties.follow_up};return w.a.createElement(Aj,{title:t.video_response.technical_difficulties.title,placeholder:t.video_response.technical_difficulties.placeholder,buttonText:t.video_response.technical_difficulties.sendFeedback,errorMessage:t.video_response.technical_difficulties.error,cancel:t.common.cancel,dismiss:t.common.dismiss,prompt:r,successText:a,questionId:n.questionId,assignorId:n.assignorId,fullWidth:!0})}},{key:"recordWebcamEvent",value:function(e){var t=this.props.data,n=t.progressId,r={browser_information:!0,event_type:e,event_data:{question_id:t.questionId,progress_id:n,token:this.state.token}};C.a.post(N.k.EVENTS,r)}},{key:"render",value:function(){var e=this.props.i18n,t=this.props.data,n=t.criteria,r=t.questionId,a=t.progressId,i=this.props.meta,o=i.finished,s=i.ilosLogo,c=i.features,l=i.apiKey,u=i.previewing,d=this.state,p=d.givenAnswer,f=d.skipped,h=d.recording,m=d.errorMessage,g=d.token,v=d.disabled,b=d.showUploadButton,y=d.givenAnswerIsIlos,E=!f&&p,_=this.isScreenRecording||c.ilos&&this.isWebcamRecording,S=V()("PracticeQuestion VideoResponseQuestion",{"QuestionElement--practice":this.isScreenRecording});return w.a.createElement("div",null,w.a.createElement("div",{className:S},c.practice&&n.length>0&&w.a.createElement(wu,{i18n:e,criteria:n}),w.a.createElement(qj,{questionId:r,i18n:e,givenAnswer:p,givenAnswerIsIlos:y,skipped:f,recording:h,errorMessage:m,token:g,disabled:v,finished:o,showUploadButton:b,loadIlosRecording:this.loadIlosRecording,skipRecording:this.skipRecording,unloadWebcam:this.unloadWebcam,isWebcamRecording:this.isWebcamRecording,isScreenRecording:this.isScreenRecording,unskippedAnswer:E,hasIlosFeature:c.ilos,canGatherDataOnTechnicalIssues:c.gatherDataOnTechnicalIssues,setRecording:this.setRecording,loadRecording:this.loadRecording,saveVideo:this.saveVideo,renderFeedbackContainer:this.renderFeedbackContainer,apiKey:l,previewing:u,webcamPlaybackEnabled:c.webcamPlayback,recordWebcamEvent:this.recordWebcamEvent,canRequestPeerFeedback:c.peerFeedbackRequest,progressId:a,removeAbilityToSkip:c.removeAbilityToSkipRecordingQuestions})),!o&&_&&w.a.createElement("div",{className:"mt-4 VideoResponseQuestion-footer"},w.a.createElement("div",{className:"d-f ai-c jc-e fw-w"},this.isWebcamRecording?e.video_response.webcam_footer:e.video_response.screen_recording_footer,w.a.createElement("img",{alt:"video recording provider logo",className:"VideoResponseQuestion-footer--ilosLogo",src:s}))))}}]),t}(w.a.Component),Wj=function(e){function n(){var e,t;l()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return t=f()(this,(e=m()(n)).call.apply(e,[this].concat(a))),i()(v()(t),"state",{workspace:t.props.workspace}),i()(v()(t),"handleInputChange",function(e){var n=e.target,r=n.name,a=n.value;t.setState(function(e){var t=e.workspace;return{workspace:R()({},t,i()({},r,a))}})}),i()(v()(t),"handleSubmit",function(e){e.preventDefault();var n=t.state.workspace;t.props.onSubmit(R()({},n,{name:n.name.trim()}))}),t}return y()(n,e),d()(n,[{key:"componentDidMount",value:function(){this.nameInputRef.select(),this.nameInputRef.focus()}},{key:"renderButtons",value:function(){var e=this,t=this.props,r=t.children,a=t.loading,i=this.state.workspace;return w.a.Children.map(r,function(t){return t.type===n.Submit?Object(E.cloneElement)(t,{disabled:!i.name.trim(),loading:a}):t.type===n.Cancel?(e.cancelButtonInstance=t,Object(E.cloneElement)(t,{disabled:a})):null})}},{key:"render",value:function(){var e=this,n=this.props.error,r=this.state.workspace.name;return w.a.createElement("form",{className:"w-fill",onSubmit:this.handleSubmit},n&&w.a.createElement("div",{className:"ErrorContainer Animated Animated--fadeIn"},n.error_message),w.a.createElement("fieldset",{className:"mb-8"},w.a.createElement("label",{htmlFor:"workspace-name"},t("workspaces.workspace_name")),w.a.createElement("input",{ref:function(t){e.nameInputRef=t},autoComplete:"off",className:"NewInput NewInput--light NewInput--fw",id:"workspace-name",name:"name",onChange:this.handleInputChange,value:r})),w.a.createElement(k.d,{alignEnd:!0},this.renderButtons()))}}]),n}(E.Component);i()(Wj,"Submit",function(e){return w.a.createElement(k.c,H()({primary:!0,submit:!0},e))}),i()(Wj,"Cancel",function(e){return w.a.createElement("button",H()({type:"button",className:"u-linkBtn mr-16"},e),t("common.cancel"))}),i()(Wj,"defaultProps",{workspace:{name:""}});var Vj=Wj,zj=function(e){function n(){var e,r;l()(this,n);for(var a=arguments.length,o=new Array(a),s=0;s<a;s++)o[s]=arguments[s];return r=f()(this,(e=m()(n)).call.apply(e,[this].concat(o))),i()(v()(r),"state",{editing:!1}),i()(v()(r),"toggleEditing",function(){r.setState(function(e){return{editing:!e.editing}})}),i()(v()(r),"handleDelete",function(){var e=r.props.workspace;confirm(t("workspaces.confirm_delete",{name:e.name}))&&r.setState({loading:!0},function(){C.a.delete(N.k.WORKSPACES.WORKSPACE(e.id)).then(function(){return r.props.onDelete(e)}).fail(function(){return r.setState({loading:!1})})})}),i()(v()(r),"handleUpdate",function(e){r.setState({loading:!0,error:null},function(){C.a.put(N.k.WORKSPACES.WORKSPACE(e.id),{workspace:e}).then(function(e){r.setState({loading:!1},function(){r.toggleEditing(),r.props.onUpdate(e.workspace)})}).fail(function(e){var t=e.responseJSON;return r.setState({error:t,loading:!1})})})}),r}return y()(n,e),d()(n,[{key:"renderEditForm",value:function(){var e=this.state,n={loading:e.loading,error:e.error,workspace:this.props.workspace};return w.a.createElement(Lt.Row,null,w.a.createElement(Lt.Body.Cell,null,w.a.createElement(Vj,H()({},n,{onSubmit:this.handleUpdate}),w.a.createElement(Vj.Cancel,{onClick:this.toggleEditing}),w.a.createElement(Vj.Submit,null,t("common.save_changes")))))}},{key:"render",value:function(){var e=this.state,n=e.loading,r=e.editing,a=this.props,i=a.workspace,o=i.number_of_items,s=i.name,c=i.id,l=a.disabled;if(r)return this.renderEditForm();var u=o>0&&{"data-toggle":"tooltip","data-original-title":c?t("workspaces.cannot_delete_tooltip"):t("workspaces.cannot_delete_default_tooltip"),title:c?t("workspaces.cannot_delete_tooltip"):t("workspaces.cannot_delete_default_tooltip"),tabIndex:0};return w.a.createElement(Lt.Row,null,w.a.createElement(Lt.Body.Cell,{size:"xl"},w.a.createElement("span",{className:"fw-b"},s)),w.a.createElement(Lt.Body.Cell,{center:!0},t("common.items",{count:o})),w.a.createElement(Lt.Body.Cell,{center:!0,contentClassName:"w-110 pos-i fd-r ai-c"},w.a.createElement(Ce,{onClick:this.toggleEditing,disabled:n||l},t("common.edit")),w.a.createElement("span",{className:"c-brand-gray-light"},"|"),w.a.createElement("span",u,w.a.createElement(Ce,{onClick:this.handleDelete,disabled:o>0||n||l,className:o>0?"pe-n":""},t("common.delete")))))}}]),n}(E.Component),Yj=function(e){function n(){var e,t;l()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return t=f()(this,(e=m()(n)).call.apply(e,[this].concat(a))),i()(v()(t),"state",{loading:!1}),i()(v()(t),"handleSubmit",function(e){t.setState({loading:!0,error:null},function(){C.a.post(N.k.WORKSPACES.INDEX,{workspace:e}).then(function(e){t.setState({loading:!1},function(){t.props.onCreate(e.workspace),t.props.onDismiss()})}).fail(function(e){var n=e.responseJSON;t.setState({loading:!1,error:n})})})}),t}return y()(n,e),d()(n,[{key:"render",value:function(){var e=this.state,n=e.loading,r=e.error;return w.a.createElement(Vj,{loading:n,error:r,onSubmit:this.handleSubmit},w.a.createElement(Vj.Cancel,{onClick:this.props.onDismiss}),w.a.createElement(Vj.Submit,null,t("workspaces.create_workspace")))}}]),n}(E.Component),Qj=function(e){function n(){var e,t;l()(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return t=f()(this,(e=m()(n)).call.apply(e,[this].concat(a))),i()(v()(t),"state",{workspaces:[],createFormVisible:!1}),i()(v()(t),"toggleCreateForm",function(){t.setState(function(e){return{createFormVisible:!e.createFormVisible}})}),i()(v()(t),"onWorkspaceCreate",function(e){t.setState(function(t){return{workspaces:t.workspaces.concat(e)}})}),i()(v()(t),"onWorkspaceDelete",function(e){t.setState(function(t){return{workspaces:Object(me.reject)(e,t.workspaces)}})}),i()(v()(t),"onWorkspaceUpdate",function(e){t.setState(function(t){var n=t.workspaces;return{workspaces:Object(ge.j)(n,{id:e.id},e)}})}),t}return y()(n,e),d()(n,[{key:"componentDidMount",value:function(){var e=this;C.a.get(N.k.WORKSPACES.INDEX).then(function(t){e.setState({workspaces:t.workspaces})})}},{key:"render",value:function(){var e=this,n=this.state,r=n.workspaces,a=n.createFormVisible;return w.a.createElement("div",null,w.a.createElement(vb,{dark:!0,className:"mb-4"},w.a.createElement("p",null,t("workspaces.feature_description")),w.a.createElement(vb.FeedbackMessage,null)),w.a.createElement(UD,null,t("workspaces.content_workspaces")),w.a.createElement(Lt,null,w.a.createElement(Lt.Body,null,r.map(function(t){return w.a.createElement(zj,{key:t.id,workspace:t,onDelete:e.onWorkspaceDelete,onUpdate:e.onWorkspaceUpdate,disabled:a||!t.id})})),a&&w.a.createElement(Lt.Footer,null,w.a.createElement(Yj,{onDismiss:this.toggleCreateForm,onCreate:this.onWorkspaceCreate}))),!a&&w.a.createElement(k.c,{onClick:this.toggleCreateForm,primary:!0,className:"mt-16"},t("workspaces.new_workspace")))}}]),n}(E.Component),Kj=r(716),Xj=r.n(Kj),$j=r(717),Zj=r.n($j),Jj=r(718),eL=r.n(Jj),tL=r(719),nL=r.n(tL),rL=function(e){function t(e){var n;return l()(this,t),(n=f()(this,m()(t).call(this,e))).state={message:""},n.handleReplyChange=n.handleReplyChange.bind(v()(n)),n.saveAnswer=Object(me.debounce)(300,n.saveAnswer.bind(v()(n))),n}return y()(t,e),d()(t,[{key:"componentDidMount",value:function(){this.setMessage()}},{key:"setMessage",value:function(){this.props.data.givenAnswer&&this.setState({message:this.props.data.givenAnswer.message})}},{key:"handleReplyChange",value:function(e){this.setState({message:e.target.value});var t=JSON.stringify({message:e.target.value});this.saveAnswer(t)}},{key:"saveAnswer",value:function(e){var t={answer:e,question_id:this.props.data.questionId};C.a.post(this.props.meta.saveUrl,t)}},{key:"render",value:function(){var e=this.props,t=e.data,n=e.meta,r=e.i18n,a=n.previewing||n.finished,i=I()(t.zendeskTicket.created_at).format("MMM DD HH:mm"),o=t.zendeskTicket.requester_name||r.ticket_handling.zendesk.default_metadata.from,s=t.zendeskTicket.description||r.ticket_handling.default_metadata.body;return w.a.createElement("div",null,w.a.createElement(Su,{required:this.props.data.required,subject:this.props.data.subject,elementHeaderClass:this.props.meta.elementHeaderClass,questionSubjectClass:this.props.meta.questionSubjectClass,labelErrorClass:this.props.meta.labelErrorClass}),w.a.createElement("div",{className:"ZendeskPracticeQuestion d-f fd-c ai-c"},w.a.createElement("div",{className:"ZendeskPracticeQuestion-window"},w.a.createElement("div",{className:"ZendeskPracticeQuestion-windowHeader d-f jc-c pos-r"},w.a.createElement("div",{className:"ZendeskPracticeQuestion-headerButtonContainer d-f pos-a"},w.a.createElement("div",{className:"ZendeskPracticeQuestion-headerFakeButton"}),w.a.createElement("div",{className:"ZendeskPracticeQuestion-headerFakeButton"}),w.a.createElement("div",{className:"ZendeskPracticeQuestion-headerFakeButton"})),w.a.createElement("span",{className:"ZendeskPracticeQuestion-headerText ff-ss fz-base"},r.ticket_handling.zendesk.zendesk_support_practice)),w.a.createElement("div",{className:"ZendeskPracticeQuestion-windowMain"},w.a.createElement("div",{className:"ZendeskPracticeQuestion-sidebar"},w.a.createElement("div",{className:"ZendeskPracticeQuestion-logoContainer d-f jc-c ai-c"},w.a.createElement("img",{src:Xj.a,alt:"Zendesk Support Logo"}))),w.a.createElement("div",{className:"ZendeskPracticeQuestion-ticket"},w.a.createElement("div",{className:"ZendeskPracticeQuestion-ticketDataSection"},w.a.createElement("div",{className:"ZendeskPracticeQuestion-sentTicketIcon"},w.a.createElement("img",{src:Zj.a,alt:"envelope icon"})),w.a.createElement("div",{className:"ZendeskPracticeQuestion-ticketData"},w.a.createElement("div",{className:"fz-lg fw-b"},t.zendeskTicket.subject||r.ticket_handling.default_metadata.subject),w.a.createElement("span",{className:"ZendeskPracticeQuestion-ticketDataSubtitle fz-base"},"Invalid date"!==i&&"".concat(i," • "),o))),w.a.createElement("div",{className:"ZendeskPracticeQuestion-ticketReplySection"},w.a.createElement("div",{className:"ZendeskPracticeQuestion-companyLogoIcon",style:{backgroundImage:"url(".concat(t.companyLogo,")")}},w.a.createElement("div",{className:"ZendeskPracticeQuestion-userReplyIcon"},w.a.createElement("img",{src:eL.a,alt:"user icon"}))),w.a.createElement("div",{className:"ZendeskPracticeQuestion-ticketReply"},w.a.createElement("span",{className:"ZendeskPracticeQuestion-ticketReplyHeading fz-base fw-b"},r.ticket_handling.zendesk.public_reply),w.a.createElement("textarea",{className:"ZendeskPracticeQuestion-ticketReplyInput",disabled:a,onChange:this.handleReplyChange,value:n.previewing?"":this.state.message}))),w.a.createElement("div",{className:"ZendeskPracticeQuestion-ticketMessageSection"},w.a.createElement("div",{className:"ZendeskPracticeQuestion-userSentIcon"},w.a.createElement("img",{src:nL.a,alt:"user icon"})),w.a.createElement("div",{className:"ZendeskPracticeQuestion-ticketMessage"},w.a.createElement("div",{className:"ZendeskPracticeQuestion d-f ai-c mb-4"},w.a.createElement("div",{className:"ZendeskPracticeQuestion-senderName fw-b fz-base mr-4"},o),"Invalid date"!==i&&w.a.createElement("div",{className:"ZendeskPracticeQuestion-sentTime fz-sm"},i)),w.a.createElement("div",{className:"ZendeskPracticeQuestion-ticketMessageText fz-base",dangerouslySetInnerHTML:{__html:Object(Ne.b)(s)}})))))),t.criteria.length>0&&w.a.createElement("div",{className:"QuestionPrompt PracticeQuestion pt-24 fz-bigger lh-24"},n.features.peerFeedbackRequest&&w.a.createElement(ku,{questionId:t.questionId,progressId:t.progressId,disabled:a}),w.a.createElement("span",{className:"fw-b"},r.focus),w.a.createElement(_u,{criteria:t.criteria,i18n:r}))))}}]),t}(w.a.Component),aL=function(e){var n=e.currentExpert,r=Object(E.useState)(n),a=Ye()(r,2),i=a[0],o=a[1],s=Object(E.useState)(!1),c=Ye()(s,2),l=c[0],u=c[1];function d(){return(d=$n()(Kn.a.mark(function e(t){return Kn.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,u(!0),e.next=4,C.a.post(N.k.SETTINGS.UPDATE_COMPANY,{company:{settings:{learning_library_expert_id:t.id}}},{dataType:"script"});case 4:o(t);case 5:return e.prev=5,u(!1),e.finish(5);case 8:case"end":return e.stop()}},e,null,[[0,,5,8]])}))).apply(this,arguments)}var p=Object(E.useCallback)(function(){return o(null)},[]);return Object(E.useEffect)(function(){return pubsub.subscribe("company-settings-expert-removed",p)},[p]),w.a.createElement(w.a.Fragment,null,w.a.createElement("div",{className:"mb-8"},w.a.createElement(z.a,{name:"expert",customClass:"ExpertIcon ExpertIcon-contact"}),w.a.createElement("label",{className:"ExpertForm-settingsLabel ml-4 mr-4",htmlFor:"company_settings_learning_library_expert_id"},t("settings.tab.global_lesson.learn_contact.title")),w.a.createElement(z.a,{name:"info",customClass:"ExpertIcon-tooltip","data-toggle":"tooltip","data-original-title":t("settings.tab.global_lesson.learn_contact.tooltip")})),!i&&w.a.createElement("div",{className:"w-240"},w.a.createElement(Tn,{className:"NewInput NewInput--light NewInput--fw learning_library_expert_input",placeholder:t("settings.tab.global_lesson.learn_contact.placeholder"),getSuggestionValue:function(e){return e.name},mapResponseToSuggestions:function(e){return e.owners},onSuggestionSelected:function(e){return d.apply(this,arguments)},renderSuggestion:function(e){return e.name},url:Object(gs.b)(N.k.OWNERSHIPS_PEOPLE,{limit:10}),disabled:l})))},iL={AllAttempts:rc,AnalyzerRightsContents:cc,ArchivesRoot:wc,AssignModal:bu,AudioQuestion:Hu,BlankSlate:vi.a,ChatPracticeQuestion:Qu,ContentIndexRoot:Ep,CourseViewer:nf,CriteriaList:rf.a,Dashboard:Qf,DisplayPermissions:eh,EditorRoot:gv,EmailPracticeQuestion:bv,GradePendingNotice:yv.a,GradingStationCard:wv,LessonOverviewFeaturedContent:ps,LessonOverviewWorkspace:ds,LessonOverviewDraftPublishSuccess:function(e){return w.a.createElement(ms,e)},LessonOverviewLessonExpert:function(e){return w.a.createElement(vs,e)},LessonOverviewLessonOwnership:function(e){return w.a.createElement(Os,e)},ImageLibrary:Hv,ImagePreview:Lv,ImageUpload:Wv,InPersonTrainingEventOverviewV2:rr,InPersonTrainingEventsIndex:Ui,InPersonTrainingEventsDashboard:ko,InPersonTrainingNewEvent:ce,InPersonTrainingSession:yr,InPersonTrainingInviteUsers:Yo,InPersonTrainingEventRegistrationOverview:Lo,InsightsRoot:function(e){var t=Object.assign({},e);return w.a.createElement(Fy,t)},KnowledgeCheckNew:am,KnowledgeCheckShow:Hy,Learn:ZO,LearnerOverview:nx,LessonAskTheExpertMobile:function(e){return w.a.createElement(ls,e)},LessonAskTheExpertDesktop:function(e){return w.a.createElement(cs,e)},LessonMicroFeedback:is,LessonEngagement:ax,LibraryTopic:lx,MediaRecording:ux,NotificationSubscriptions:vx,OnDemandPracticeRoot:Xx,OnDemandPracticeScenario:function(e){return w.a.createElement(xT,e)},OnDemandPracticeFeedbackOverview:function(e){return w.a.createElement(TT,e)},OnDemandPracticeOverview:function(e){return w.a.createElement(Gx,e)},OnDemandPracticeAttempts:function(e){return w.a.createElement(yx,e)},OnDemandPracticeEditor:function(e){return w.a.createElement(Tx,e)},OnDemandPracticeRequestFeedback:PT,OnDemandPracticeFeedbackGiving:function(e){return w.a.createElement(Ax,e)},Pagination:Rt,PathBuilder:tA,PathViewer:HA,PeerFeedback:$A,PeerFeedbackRequest:ku,PeopleAdvancedRoot:mD,Practice:bD,PracticeQuestionInsights:ED,QuestionPrompt:wu,QuestionElementPrompt:Su,RadialProgress:yf,RelatedUrlsPage:MD,ReminderModal:jD,Roles:mj,ResetPassword:BD,SettingsAccountExpert:function(e){return w.a.createElement(aL,e)},ScreenRecordingQuestion:gj,SharableRecordingLinkContainer:vj.a,TagImage:yj,TicketHandlingPracticeQuestion:_j,TriggerBuilder:Oj,TriggerTable:Pj,VideoResponse:Ij.a,VideoResponseQuestion:Gj,VideoThumbnail:xs.a,WorkspacesIndex:Qj,ZendeskPracticeQuestion:rL};Object.keys(iL).forEach(function(e){s.a.register(i()({},e,iL[e]))})}]);